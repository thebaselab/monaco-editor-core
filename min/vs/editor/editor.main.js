/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.0.0(547834f29b6b2adecfdd5468ec33f7cd018a8a3e)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var se=["exports","require","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/editor/browser/editorExtensions","vs/base/common/errors","vs/platform/theme/common/themeService","vs/platform/contextkey/common/contextkey","vs/base/common/arrays","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/types","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/core/selection","vs/editor/common/editorContextKeys","vs/platform/theme/common/colorRegistry","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/common/languages","vs/editor/browser/services/codeEditorService","vs/platform/configuration/common/configuration","vs/base/common/color","vs/editor/common/languages/languageConfigurationRegistry","vs/base/browser/fastDomNode","vs/platform/registry/common/platform","vs/base/common/objects","vs/platform/actions/common/actions","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/editor/common/languages/language","vs/platform/notification/common/notification","vs/base/browser/browser","vs/base/common/actions","vs/base/common/resources","vs/platform/keybinding/common/keybinding","vs/platform/opener/common/opener","vs/editor/common/model","vs/editor/browser/view/viewPart","vs/base/browser/keyboardEvent","vs/base/browser/ui/aria/aria","vs/editor/common/services/model","vs/base/common/map","vs/base/common/network","vs/platform/instantiation/common/extensions","vs/editor/common/core/editorColorRegistry","vs/base/common/iterator","vs/platform/theme/common/theme","vs/base/common/stopwatch","vs/editor/common/services/resolverService","vs/base/common/keyCodes","vs/base/common/filters","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/mouseEvent","vs/base/browser/touch","vs/base/common/htmlContent","vs/editor/browser/config/domFontInfo","vs/editor/common/core/cursorColumns","vs/base/browser/ui/widget","vs/platform/log/common/log","vs/editor/common/services/languageFeatureDebounce","vs/platform/progress/common/progress","vs/editor/common/languages/modesRegistry","vs/base/common/linkedList","vs/editor/common/viewModel","vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/platform/contextview/browser/contextView","vs/platform/storage/common/storage","vs/platform/theme/common/iconRegistry","vs/base/common/severity","vs/editor/common/tokens/lineTokens","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/platform/telemetry/common/telemetry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/contrib/snippet/browser/snippetParser","vs/base/common/path","vs/base/browser/event","vs/editor/common/core/stringBuilder","vs/platform/clipboard/common/clipboardService","vs/platform/configuration/common/configurationRegistry","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/contrib/editorState/browser/editorState","vs/base/common/assert","vs/base/common/functional","vs/base/common/mime","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/common/services/editorWorker","vs/editor/contrib/suggest/browser/suggest","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/hash","vs/base/common/iconLabels","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/browser/view/dynamicViewOverlay","vs/base/browser/ui/list/listWidget","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/peekView/browser/peekView","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/browser/dnd","vs/base/common/numbers","vs/base/browser/ui/codicons/codiconStyles","vs/editor/browser/view/renderingContext","vs/editor/common/core/eolCounter","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/browser/types","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/actionbar/actionViewItems","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/editor/browser/services/bulkEditService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/editor/contrib/message/browser/messageController","vs/base/common/idGenerator","vs/base/common/lazy","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/browser/stableEditorScroll","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/standalone/standaloneEnums","vs/editor/contrib/folding/browser/foldingRanges","vs/base/common/scrollable","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/tree/abstractTree","vs/editor/common/config/editorZoom","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/editor/contrib/codeAction/browser/codeAction","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/platform/workspace/common/workspace","vs/base/common/dataTransfer","vs/editor/common/core/indentation","vs/editor/common/diff/algorithms/diffAlgorithm","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/contrib/inlineCompletions/browser/consts","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/common/keybindingLabels","vs/base/common/extpath","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/marshalling","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/findinput/findInput","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/cache","vs/base/common/uuid","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/smartLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/glob","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/colorPicker/browser/color","vs/editor/standalone/common/monarch/monarchLexer","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/browser/dnd","vs/editor/browser/services/editorWorkerService","vs/editor/common/cursor/cursor","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/standalone/browser/standaloneThemeService","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/collections","vs/base/common/diff/diffChange","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codeAction/browser/media/action","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/algorithms/myersDiffAlgorithm","vs/editor/common/diff/algorithms/utils","vs/editor/common/diff/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/standardLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/common/process","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/comparers","vs/base/browser/dompurify/dompurify","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/button/button","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/menu/menu","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/markdownRenderer","vs/base/browser/defaultWorkerFactory","vs/base/parts/quickinput/browser/quickInputBox","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/common/tokenizationRegistry","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/codeActionWidgetContribution","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/browser/widget/workerBasedDocumentDiffProvider","vs/editor/common/services/languageFeaturesService","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/dnd/browser/dnd","vs/editor/browser/services/webWorker","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/codeAction/browser/codeActionWidgetContribution","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/codeAction/browser/codeActionUi","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/copyPaste/browser/copyPasteController","vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/browser/ghostTextModel","vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/editor/contrib/inlineCompletions/browser/ghostText.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/editor.main"],re=function(G){for(var e=[],w=0,v=G.length;w<v;w++)e[w]=se[G[w]];return e};define(se[799],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function w(_,b,u,g){if(g=g||{},(g["vs/css"]||{}).disabled){u({});return}const i=b.toUrl(_+".css");v(_,i,()=>{u({})},t=>{typeof u.error=="function"&&u.error("Could not find "+i+".")})}e.load=w;function v(_,b,u,g){if(k(_,b)){u();return}I(_,b,u,g)}function k(_,b){const u=document.getElementsByTagName("link");for(let g=0,n=u.length;g<n;g++){const i=u[g].getAttribute("data-name"),t=u[g].getAttribute("href");if(i===_||t===b)return!0}return!1}function I(_,b,u,g){const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("data-name",_),L(_,n,u,g),n.setAttribute("href",b),(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}function L(_,b,u,g){const n=()=>{b.removeEventListener("load",i),b.removeEventListener("error",t)},i=o=>{n(),u()},t=o=>{n(),g(o)};b.addEventListener("load",i),b.addEventListener("error",t)}});var Se=this&&this.__awaiter||function(G,e,w,v){function k(I){return I instanceof w?I:new w(function(L){L(I)})}return new(w||(w=Promise))(function(I,L){function _(g){try{u(v.next(g))}catch(n){L(n)}}function b(g){try{u(v.throw(g))}catch(n){L(n)}}function u(g){g.done?I(g.value):k(g.value).then(_,b)}u((v=v.apply(G,e||[])).next())})};define(se[4],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let w=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const v="i-default";function k(o,r){let c;return r.length===0?c=o:c=o.replace(/\{(\d+)\}/g,(d,a)=>{const s=a[0],l=r[s];let h=d;return typeof l=="string"?h=l:(typeof l=="number"||typeof l=="boolean"||l===void 0||l===null)&&(h=String(l)),h}),w&&(c="\uFF3B"+c.replace(/[aouei]/g,"$&$&")+"\uFF3D"),c}function I(o,r){let c=o[r];return c||(c=o["*"],c)?c:null}function L(o){return o.charAt(o.length-1)==="/"?o:o+"/"}function _(o,r,c){return Se(this,void 0,void 0,function*(){const d=L(o)+L(r)+"vscode/"+L(c),a=yield fetch(d);if(a.ok)return yield a.json();throw new Error(`${a.status} - ${a.statusText}`)})}function b(o){return function(r,c){const d=Array.prototype.slice.call(arguments,2);return k(o[r],d)}}function u(o,r,...c){return k(r,c)}e.localize=u;function g(o){}e.getConfiguredDefaultLocale=g;function n(o){w=o}e.setPseudoTranslation=n;function i(o,r){var c;return{localize:b(r[o]),getConfiguredDefaultLocale:(c=r.getConfiguredDefaultLocale)!==null&&c!==void 0?c:d=>{}}}e.create=i;function t(o,r,c,d){var a;const s=(a=d["vs/nls"])!==null&&a!==void 0?a:{};if(!o||o.length===0)return c({localize:u,getConfiguredDefaultLocale:()=>{var f;return(f=s.availableLanguages)===null||f===void 0?void 0:f["*"]}});const l=s.availableLanguages?I(s.availableLanguages,o):null,h=l===null||l===v;let p=".nls";h||(p=p+"."+l);const S=f=>{Array.isArray(f)?f.localize=b(f):f.localize=b(f[o]),f.getConfiguredDefaultLocale=()=>{var m;return(m=s.availableLanguages)===null||m===void 0?void 0:m["*"]},c(f)};typeof s.loadBundle=="function"?s.loadBundle(o,l,(f,m)=>{f?r([o+".nls"],S):S(m)}):s.translationServiceUrl&&!h?(()=>Se(this,void 0,void 0,function*(){var f;try{const m=yield _(s.translationServiceUrl,l,o);return S(m)}catch(m){if(!l.includes("-"))return console.error(m),r([o+".nls"],S);try{const C=l.split("-")[0],y=yield _(s.translationServiceUrl,C,o);return(f=s.availableLanguages)!==null&&f!==void 0||(s.availableLanguages={}),s.availableLanguages["*"]=C,S(y)}catch(C){return console.error(C),r([o+".nls"],S)}}}))():r([o+p],S,f=>{if(p===".nls"){console.error("Failed trying to load default language strings",f);return}console.error(`Failed to load message bundle for language ${l}. Falling back to the default language:`,f),r([o+".nls"],S)})}e.load=t});/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function sn(G){if(Array.isArray(G)){for(var e=0,w=Array(G.length);e<G.length;e++)w[e]=G[e];return w}else return Array.from(G)}var rn=Object.hasOwnProperty,vi=Object.setPrototypeOf,an=Object.isFrozen,ln=Object.getPrototypeOf,dn=Object.getOwnPropertyDescriptor,ht=Object.freeze,Ct=Object.seal,cn=Object.create,Ci=typeof Reflect!="undefined"&&Reflect,Wt=Ci.apply,Qt=Ci.construct;Wt||(Wt=function(e,w,v){return e.apply(w,v)}),ht||(ht=function(e){return e}),Ct||(Ct=function(e){return e}),Qt||(Qt=function(e,w){return new(Function.prototype.bind.apply(e,[null].concat(sn(w))))});var un=mt(Array.prototype.forEach),bi=mt(Array.prototype.pop),Mt=mt(Array.prototype.push),yt=mt(String.prototype.toLowerCase),_i=mt(String.prototype.match),Lt=mt(String.prototype.replace),hn=mt(String.prototype.indexOf),gn=mt(String.prototype.trim),bt=mt(RegExp.prototype.test),Si=fn(TypeError);function mt(G){return function(e){for(var w=arguments.length,v=Array(w>1?w-1:0),k=1;k<w;k++)v[k-1]=arguments[k];return Wt(G,e,v)}}function fn(G){return function(){for(var e=arguments.length,w=Array(e),v=0;v<e;v++)w[v]=arguments[v];return Qt(G,w)}}function Qe(G,e){vi&&vi(G,null);for(var w=e.length;w--;){var v=e[w];if(typeof v=="string"){var k=yt(v);k!==v&&(an(e)||(e[w]=k),v=k)}G[v]=!0}return G}function Et(G){var e=cn(null),w=void 0;for(w in G)Wt(rn,G,[w])&&(e[w]=G[w]);return e}function xt(G,e){for(;G!==null;){var w=dn(G,e);if(w){if(w.get)return mt(w.get);if(typeof w.value=="function")return mt(w.value)}G=ln(G)}function v(k){return console.warn("fallback value for",k),null}return v}var wi=ht(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xt=ht(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jt=ht(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mn=ht(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ei=ht(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pn=ht(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Li=ht(["#text"]),yi=ht(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ti=ht(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ei=ht(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zt=ht(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vn=Ct(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Cn=Ct(/<%[\s\S]*|[\s\S]*%>/gm),bn=Ct(/^data-[\-\w.\u00B7-\uFFFF]/),_n=Ct(/^aria-[\-\w]+$/),Sn=Ct(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wn=Ct(/^(?:\w+script|data):/i),Ln=Ct(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G};function vt(G){if(Array.isArray(G)){for(var e=0,w=Array(G.length);e<G.length;e++)w[e]=G[e];return w}else return Array.from(G)}var yn=function(){return typeof window=="undefined"?null:window},En=function(e,w){if((typeof e=="undefined"?"undefined":At(e))!=="object"||typeof e.createPolicy!="function")return null;var v=null,k="data-tt-policy-suffix";w.currentScript&&w.currentScript.hasAttribute(k)&&(v=w.currentScript.getAttribute(k));var I="dompurify"+(v?"#"+v:"");try{return e.createPolicy(I,{createHTML:function(_){return _}})}catch{return console.warn("TrustedTypes policy "+I+" could not be created."),null}};function Ii(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yn(),e=function(Ne){return Ii(Ne)};if(e.version="2.3.1",e.removed=[],!G||!G.document||G.document.nodeType!==9)return e.isSupported=!1,e;var w=G.document,v=G.document,k=G.DocumentFragment,I=G.HTMLTemplateElement,L=G.Node,_=G.Element,b=G.NodeFilter,u=G.NamedNodeMap,g=u===void 0?G.NamedNodeMap||G.MozNamedAttrMap:u,n=G.Text,i=G.Comment,t=G.DOMParser,o=G.trustedTypes,r=_.prototype,c=xt(r,"cloneNode"),d=xt(r,"nextSibling"),a=xt(r,"childNodes"),s=xt(r,"parentNode");if(typeof I=="function"){var l=v.createElement("template");l.content&&l.content.ownerDocument&&(v=l.content.ownerDocument)}var h=En(o,w),p=h&&oe?h.createHTML(""):"",S=v,f=S.implementation,m=S.createNodeIterator,C=S.createDocumentFragment,y=S.getElementsByTagName,E=w.importNode,T={};try{T=Et(v).documentMode?v.documentMode:{}}catch{}var N={};e.isSupported=typeof s=="function"&&f&&typeof f.createHTMLDocument!="undefined"&&T!==9;var F=vn,O=Cn,P=bn,D=_n,M=wn,R=Ln,B=Sn,W=null,V=Qe({},[].concat(vt(wi),vt(Xt),vt(Jt),vt(ei),vt(Li))),A=null,Y=Qe({},[].concat(vt(yi),vt(ti),vt(Ei),vt(zt))),ee=null,U=null,j=!0,Z=!0,ie=!1,Q=!1,J=!1,de=!1,x=!1,ne=!1,te=!1,q=!0,oe=!1,z=!0,X=!0,$=!1,H={},K=null,ce=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),le=null,he=Qe({},["audio","video","img","source","image","track"]),me=null,Ce=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Le="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",De="http://www.w3.org/1999/xhtml",Ae=De,pe=!1,ue=null,ae=v.createElement("form"),ge=function(Ne){ue&&ue===Ne||((!Ne||(typeof Ne=="undefined"?"undefined":At(Ne))!=="object")&&(Ne={}),Ne=Et(Ne),W="ALLOWED_TAGS"in Ne?Qe({},Ne.ALLOWED_TAGS):V,A="ALLOWED_ATTR"in Ne?Qe({},Ne.ALLOWED_ATTR):Y,me="ADD_URI_SAFE_ATTR"in Ne?Qe(Et(Ce),Ne.ADD_URI_SAFE_ATTR):Ce,le="ADD_DATA_URI_TAGS"in Ne?Qe(Et(he),Ne.ADD_DATA_URI_TAGS):he,K="FORBID_CONTENTS"in Ne?Qe({},Ne.FORBID_CONTENTS):ce,ee="FORBID_TAGS"in Ne?Qe({},Ne.FORBID_TAGS):{},U="FORBID_ATTR"in Ne?Qe({},Ne.FORBID_ATTR):{},H="USE_PROFILES"in Ne?Ne.USE_PROFILES:!1,j=Ne.ALLOW_ARIA_ATTR!==!1,Z=Ne.ALLOW_DATA_ATTR!==!1,ie=Ne.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=Ne.SAFE_FOR_TEMPLATES||!1,J=Ne.WHOLE_DOCUMENT||!1,ne=Ne.RETURN_DOM||!1,te=Ne.RETURN_DOM_FRAGMENT||!1,q=Ne.RETURN_DOM_IMPORT!==!1,oe=Ne.RETURN_TRUSTED_TYPE||!1,x=Ne.FORCE_BODY||!1,z=Ne.SANITIZE_DOM!==!1,X=Ne.KEEP_CONTENT!==!1,$=Ne.IN_PLACE||!1,B=Ne.ALLOWED_URI_REGEXP||B,Ae=Ne.NAMESPACE||De,Q&&(Z=!1),te&&(ne=!0),H&&(W=Qe({},[].concat(vt(Li))),A=[],H.html===!0&&(Qe(W,wi),Qe(A,yi)),H.svg===!0&&(Qe(W,Xt),Qe(A,ti),Qe(A,zt)),H.svgFilters===!0&&(Qe(W,Jt),Qe(A,ti),Qe(A,zt)),H.mathMl===!0&&(Qe(W,ei),Qe(A,Ei),Qe(A,zt))),Ne.ADD_TAGS&&(W===V&&(W=Et(W)),Qe(W,Ne.ADD_TAGS)),Ne.ADD_ATTR&&(A===Y&&(A=Et(A)),Qe(A,Ne.ADD_ATTR)),Ne.ADD_URI_SAFE_ATTR&&Qe(me,Ne.ADD_URI_SAFE_ATTR),Ne.FORBID_CONTENTS&&(K===ce&&(K=Et(K)),Qe(K,Ne.FORBID_CONTENTS)),X&&(W["#text"]=!0),J&&Qe(W,["html","head","body"]),W.table&&(Qe(W,["tbody"]),delete ee.tbody),ht&&ht(Ne),ue=Ne)},_e=Qe({},["mi","mo","mn","ms","mtext"]),we=Qe({},["foreignobject","desc","title","annotation-xml"]),Ee=Qe({},Xt);Qe(Ee,Jt),Qe(Ee,mn);var be=Qe({},ei);Qe(be,pn);var ve=function(Ne){var Oe=s(Ne);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:De,tagName:"template"});var Ve=yt(Ne.tagName),xe=yt(Oe.tagName);if(Ne.namespaceURI===ye)return Oe.namespaceURI===De?Ve==="svg":Oe.namespaceURI===Le?Ve==="svg"&&(xe==="annotation-xml"||_e[xe]):Boolean(Ee[Ve]);if(Ne.namespaceURI===Le)return Oe.namespaceURI===De?Ve==="math":Oe.namespaceURI===ye?Ve==="math"&&we[xe]:Boolean(be[Ve]);if(Ne.namespaceURI===De){if(Oe.namespaceURI===ye&&!we[xe]||Oe.namespaceURI===Le&&!_e[xe])return!1;var Je=Qe({},["title","style","font","a","script"]);return!be[Ve]&&(Je[Ve]||!Ee[Ve])}return!1},Ie=function(Ne){Mt(e.removed,{element:Ne});try{Ne.parentNode.removeChild(Ne)}catch{try{Ne.outerHTML=p}catch{Ne.remove()}}},Me=function(Ne,Oe){try{Mt(e.removed,{attribute:Oe.getAttributeNode(Ne),from:Oe})}catch{Mt(e.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(Ne),Ne==="is"&&!A[Ne])if(ne||te)try{Ie(Oe)}catch{}else try{Oe.setAttribute(Ne,"")}catch{}},Te=function(Ne){var Oe=void 0,Ve=void 0;if(x)Ne="<remove></remove>"+Ne;else{var xe=_i(Ne,/^[\r\n\t ]+/);Ve=xe&&xe[0]}var Je=h?h.createHTML(Ne):Ne;if(Ae===De)try{Oe=new t().parseFromString(Je,"text/html")}catch{}if(!Oe||!Oe.documentElement){Oe=f.createDocument(Ae,"template",null);try{Oe.documentElement.innerHTML=pe?"":Je}catch{}}var Ye=Oe.body||Oe.documentElement;return Ne&&Ve&&Ye.insertBefore(v.createTextNode(Ve),Ye.childNodes[0]||null),Ae===De?y.call(Oe,J?"html":"body")[0]:J?Oe.documentElement:Ye},Fe=function(Ne){return m.call(Ne.ownerDocument||Ne,Ne,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT,null,!1)},Pe=function(Ne){return Ne instanceof n||Ne instanceof i?!1:typeof Ne.nodeName!="string"||typeof Ne.textContent!="string"||typeof Ne.removeChild!="function"||!(Ne.attributes instanceof g)||typeof Ne.removeAttribute!="function"||typeof Ne.setAttribute!="function"||typeof Ne.namespaceURI!="string"||typeof Ne.insertBefore!="function"},We=function(Ne){return(typeof L=="undefined"?"undefined":At(L))==="object"?Ne instanceof L:Ne&&(typeof Ne=="undefined"?"undefined":At(Ne))==="object"&&typeof Ne.nodeType=="number"&&typeof Ne.nodeName=="string"},He=function(Ne,Oe,Ve){!N[Ne]||un(N[Ne],function(xe){xe.call(e,Oe,Ve,ue)})},Xe=function(Ne){var Oe=void 0;if(He("beforeSanitizeElements",Ne,null),Pe(Ne)||_i(Ne.nodeName,/[\u0080-\uFFFF]/))return Ie(Ne),!0;var Ve=yt(Ne.nodeName);if(He("uponSanitizeElement",Ne,{tagName:Ve,allowedTags:W}),!We(Ne.firstElementChild)&&(!We(Ne.content)||!We(Ne.content.firstElementChild))&&bt(/<[/\w]/g,Ne.innerHTML)&&bt(/<[/\w]/g,Ne.textContent)||Ve==="select"&&bt(/<template/i,Ne.innerHTML))return Ie(Ne),!0;if(!W[Ve]||ee[Ve]){if(X&&!K[Ve]){var xe=s(Ne)||Ne.parentNode,Je=a(Ne)||Ne.childNodes;if(Je&&xe)for(var Ye=Je.length,$e=Ye-1;$e>=0;--$e)xe.insertBefore(c(Je[$e],!0),d(Ne))}return Ie(Ne),!0}return Ne instanceof _&&!ve(Ne)||(Ve==="noscript"||Ve==="noembed")&&bt(/<\/no(script|embed)/i,Ne.innerHTML)?(Ie(Ne),!0):(Q&&Ne.nodeType===3&&(Oe=Ne.textContent,Oe=Lt(Oe,F," "),Oe=Lt(Oe,O," "),Ne.textContent!==Oe&&(Mt(e.removed,{element:Ne.cloneNode()}),Ne.textContent=Oe)),He("afterSanitizeElements",Ne,null),!1)},it=function(Ne,Oe,Ve){if(z&&(Oe==="id"||Oe==="name")&&(Ve in v||Ve in ae))return!1;if(!(Z&&!U[Oe]&&bt(P,Oe))){if(!(j&&bt(D,Oe))){if(!A[Oe]||U[Oe])return!1;if(!me[Oe]){if(!bt(B,Lt(Ve,R,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&Ne!=="script"&&hn(Ve,"data:")===0&&le[Ne])){if(!(ie&&!bt(M,Lt(Ve,R,"")))){if(Ve)return!1}}}}}}return!0},nt=function(Ne){var Oe=void 0,Ve=void 0,xe=void 0,Je=void 0;He("beforeSanitizeAttributes",Ne,null);var Ye=Ne.attributes;if(!!Ye){var $e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:A};for(Je=Ye.length;Je--;){Oe=Ye[Je];var et=Oe,qe=et.name,Ue=et.namespaceURI;if(Ve=gn(Oe.value),xe=yt(qe),$e.attrName=xe,$e.attrValue=Ve,$e.keepAttr=!0,$e.forceKeepAttr=void 0,He("uponSanitizeAttribute",Ne,$e),Ve=$e.attrValue,!$e.forceKeepAttr&&(Me(qe,Ne),!!$e.keepAttr)){if(bt(/\/>/i,Ve)){Me(qe,Ne);continue}Q&&(Ve=Lt(Ve,F," "),Ve=Lt(Ve,O," "));var Re=Ne.nodeName.toLowerCase();if(!!it(Re,xe,Ve))try{Ue?Ne.setAttributeNS(Ue,qe,Ve):Ne.setAttribute(qe,Ve),bi(e.removed)}catch{}}}He("afterSanitizeAttributes",Ne,null)}},st=function ze(Ne){var Oe=void 0,Ve=Fe(Ne);for(He("beforeSanitizeShadowDOM",Ne,null);Oe=Ve.nextNode();)He("uponSanitizeShadowNode",Oe,null),!Xe(Oe)&&(Oe.content instanceof k&&ze(Oe.content),nt(Oe));He("afterSanitizeShadowDOM",Ne,null)};return e.sanitize=function(ze,Ne){var Oe=void 0,Ve=void 0,xe=void 0,Je=void 0,Ye=void 0;if(pe=!ze,pe&&(ze="<!-->"),typeof ze!="string"&&!We(ze)){if(typeof ze.toString!="function")throw Si("toString is not a function");if(ze=ze.toString(),typeof ze!="string")throw Si("dirty is not a string, aborting")}if(!e.isSupported){if(At(G.toStaticHTML)==="object"||typeof G.toStaticHTML=="function"){if(typeof ze=="string")return G.toStaticHTML(ze);if(We(ze))return G.toStaticHTML(ze.outerHTML)}return ze}if(de||ge(Ne),e.removed=[],typeof ze=="string"&&($=!1),!$)if(ze instanceof L)Oe=Te("<!---->"),Ve=Oe.ownerDocument.importNode(ze,!0),Ve.nodeType===1&&Ve.nodeName==="BODY"||Ve.nodeName==="HTML"?Oe=Ve:Oe.appendChild(Ve);else{if(!ne&&!Q&&!J&&ze.indexOf("<")===-1)return h&&oe?h.createHTML(ze):ze;if(Oe=Te(ze),!Oe)return ne?null:p}Oe&&x&&Ie(Oe.firstChild);for(var $e=Fe($?ze:Oe);xe=$e.nextNode();)xe.nodeType===3&&xe===Je||Xe(xe)||(xe.content instanceof k&&st(xe.content),nt(xe),Je=xe);if(Je=null,$)return ze;if(ne){if(te)for(Ye=C.call(Oe.ownerDocument);Oe.firstChild;)Ye.appendChild(Oe.firstChild);else Ye=Oe;return q&&(Ye=E.call(w,Ye,!0)),Ye}var et=J?Oe.outerHTML:Oe.innerHTML;return Q&&(et=Lt(et,F," "),et=Lt(et,O," ")),h&&oe?h.createHTML(et):et},e.setConfig=function(ze){ge(ze),de=!0},e.clearConfig=function(){ue=null,de=!1},e.isValidAttribute=function(ze,Ne,Oe){ue||ge({});var Ve=yt(ze),xe=yt(Ne);return it(Ve,xe,Oe)},e.addHook=function(ze,Ne){typeof Ne=="function"&&(N[ze]=N[ze]||[],Mt(N[ze],Ne))},e.removeHook=function(ze){N[ze]&&bi(N[ze])},e.removeHooks=function(ze){N[ze]&&(N[ze]=[])},e.removeAllHooks=function(){N={}},e}var In=Ii();define("vs/base/browser/dompurify/dompurify",function(){return In}),define(se[33],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class w{constructor(L){this.domNode=L,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){const _=v(L);this._maxWidth!==_&&(this._maxWidth=_,this.domNode.style.maxWidth=this._maxWidth)}setWidth(L){const _=v(L);this._width!==_&&(this._width=_,this.domNode.style.width=this._width)}setHeight(L){const _=v(L);this._height!==_&&(this._height=_,this.domNode.style.height=this._height)}setTop(L){const _=v(L);this._top!==_&&(this._top=_,this.domNode.style.top=this._top)}setLeft(L){const _=v(L);this._left!==_&&(this._left=_,this.domNode.style.left=this._left)}setBottom(L){const _=v(L);this._bottom!==_&&(this._bottom=_,this.domNode.style.bottom=this._bottom)}setRight(L){const _=v(L);this._right!==_&&(this._right=_,this.domNode.style.right=this._right)}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){const _=v(L);this._fontSize!==_&&(this._fontSize=_,this.domNode.style.fontSize=this._fontSize)}setFontStyle(L){this._fontStyle!==L&&(this._fontStyle=L,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(L){this._textDecoration!==L&&(this._textDecoration=L,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(L){const _=v(L);this._lineHeight!==_&&(this._lineHeight=_,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(L){const _=v(L);this._letterSpacing!==_&&(this._letterSpacing=_,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,_){this.domNode.classList.toggle(L,_),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setColor(L){this._color!==L&&(this._color=L,this.domNode.style.color=this._color)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,_){this.domNode.setAttribute(L,_)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}e.FastDomNode=w;function v(I){return typeof I=="number"?`${I}px`:I}function k(I){return new w(I)}e.createFastDomNode=k}),define(se[328],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let w=!1,v=null;function k(L){if(!L.parent||L.parent===L)return null;try{const _=L.location,b=L.parent.location;if(_.origin!=="null"&&b.origin!=="null"&&_.origin!==b.origin)return w=!0,null}catch{return w=!0,null}return L.parent}class I{static getSameOriginWindowChain(){if(!v){v=[];let _=window,b;do b=k(_),b?v.push({window:_,iframeElement:_.frameElement||null}):v.push({window:_,iframeElement:null}),_=b;while(_)}return v.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(_,b){if(!b||_===b)return{top:0,left:0};let u=0,g=0;const n=this.getSameOriginWindowChain();for(const i of n){if(u+=i.window.scrollY,g+=i.window.scrollX,i.window===b||!i.iframeElement)break;const t=i.iframeElement.getBoundingClientRect();u+=t.top,g+=t.left}return{top:u,left:g}}}e.IframeUtils=I}),define(se[329],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class w extends Error{constructor(k,I){super(`ListError [${k}] ${I}`)}}e.ListError=w}),define(se[330],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class w{constructor(k){this.spliceables=k}splice(k,I,L){this.spliceables.forEach(_=>_.splice(k,I,L))}}e.CombinedSpliceable=w}),define(se[225],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const w=20;class v{constructor(I,L,_,b,u,g){this._scrollbarSize=Math.round(L),this._oppositeScrollbarSize=Math.round(_),this._arrowSize=Math.round(I),this._visibleSize=b,this._scrollSize=u,this._scrollPosition=g,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new v(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(I){const L=Math.round(I);return this._visibleSize!==L?(this._visibleSize=L,this._refreshComputedValues(),!0):!1}setScrollSize(I){const L=Math.round(I);return this._scrollSize!==L?(this._scrollSize=L,this._refreshComputedValues(),!0):!1}setScrollPosition(I){const L=Math.round(I);return this._scrollPosition!==L?(this._scrollPosition=L,this._refreshComputedValues(),!0):!1}setScrollbarSize(I){this._scrollbarSize=Math.round(I)}setOppositeScrollbarSize(I){this._oppositeScrollbarSize=Math.round(I)}static _computeValues(I,L,_,b,u){const g=Math.max(0,_-I),n=Math.max(0,g-2*L),i=b>0&&b>_;if(!i)return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(n),computedSliderRatio:0,computedSliderPosition:0};const t=Math.round(Math.max(w,Math.floor(_*n/b))),o=(n-t)/(b-_),r=u*o;return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(t),computedSliderRatio:o,computedSliderPosition:Math.round(r)}}_refreshComputedValues(){const I=v._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=I.computedAvailableSize,this._computedIsNeeded=I.computedIsNeeded,this._computedSliderSize=I.computedSliderSize,this._computedSliderRatio=I.computedSliderRatio,this._computedSliderPosition=I.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(I){if(!this._computedIsNeeded)return 0;const L=I-this._arrowSize-this._computedSliderSize/2;return Math.round(L/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(I){if(!this._computedIsNeeded)return 0;const L=I-this._arrowSize;let _=this._scrollPosition;return L<this._computedSliderPosition?_-=this._visibleSize:_+=this._visibleSize,_}getDesiredScrollPositionFromDelta(I){if(!this._computedIsNeeded)return 0;const L=this._computedSliderPosition+I;return Math.round(L/this._computedSliderRatio)}}e.ScrollbarState=v}),define(se[122],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var w;(function(I){I[I.Unknown=0]="Unknown",I[I.Twistie=1]="Twistie",I[I.Element=2]="Element",I[I.Filter=3]="Filter"})(w=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class v extends Error{constructor(L,_){super(`TreeError [${L}] ${_}`)}}e.TreeError=v;class k{constructor(L){this.fn=L,this._map=new WeakMap}map(L){let _=this._map.get(L);return _||(_=this.fn(L),this._map.set(L,_)),_}}e.WeakMapper=k}),define(se[17],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function w(M,R=0){return M[M.length-(1+R)]}e.tail=w;function v(M){if(M.length===0)throw new Error("Invalid tail call");return[M.slice(0,M.length-1),M[M.length-1]]}e.tail2=v;function k(M,R,B=(W,V)=>W===V){if(M===R)return!0;if(!M||!R||M.length!==R.length)return!1;for(let W=0,V=M.length;W<V;W++)if(!B(M[W],R[W]))return!1;return!0}e.equals=k;function I(M,R){const B=M.length-1;R<B&&(M[R]=M[B]),M.pop()}e.removeFastWithoutKeepingOrder=I;function L(M,R,B){return _(M.length,W=>B(M[W],R))}e.binarySearch=L;function _(M,R){let B=0,W=M-1;for(;B<=W;){const V=(B+W)/2|0,A=R(V);if(A<0)B=V+1;else if(A>0)W=V-1;else return V}return-(B+1)}e.binarySearch2=_;function b(M,R){let B=0,W=M.length;if(W===0)return 0;for(;B<W;){const V=Math.floor((B+W)/2);R(M[V])?W=V:B=V+1}return B}e.findFirstInSorted=b;function u(M,R,B){if(M=M|0,M>=R.length)throw new TypeError("invalid index");const W=R[Math.floor(R.length*Math.random())],V=[],A=[],Y=[];for(const ee of R){const U=B(ee,W);U<0?V.push(ee):U>0?A.push(ee):Y.push(ee)}return M<V.length?u(M,V,B):M<V.length+Y.length?Y[0]:u(M-(V.length+Y.length),A,B)}e.quickSelect=u;function g(M,R){const B=[];let W;for(const V of M.slice(0).sort(R))!W||R(W[0],V)!==0?(W=[V],B.push(W)):W.push(V);return B}e.groupBy=g;function n(M){return M.filter(R=>!!R)}e.coalesce=n;function i(M){return!Array.isArray(M)||M.length===0}e.isFalsyOrEmpty=i;function t(M){return Array.isArray(M)&&M.length>0}e.isNonEmptyArray=t;function o(M,R=B=>B){const B=new Set;return M.filter(W=>{const V=R(W);return B.has(V)?!1:(B.add(V),!0)})}e.distinct=o;function r(M,R){const B=c(M,R);if(B!==-1)return M[B]}e.findLast=r;function c(M,R){for(let B=M.length-1;B>=0;B--){const W=M[B];if(R(W))return B}return-1}e.lastIndex=c;function d(M,R){return M.length>0?M[0]:R}e.firstOrDefault=d;function a(M,R){let B=typeof R=="number"?M:0;typeof R=="number"?B=M:(B=0,R=M);const W=[];if(B<=R)for(let V=B;V<R;V++)W.push(V);else for(let V=B;V>R;V--)W.push(V);return W}e.range=a;function s(M,R,B){const W=M.slice(0,R),V=M.slice(R);return W.concat(B,V)}e.arrayInsert=s;function l(M,R){const B=M.indexOf(R);B>-1&&(M.splice(B,1),M.unshift(R))}e.pushToStart=l;function h(M,R){const B=M.indexOf(R);B>-1&&(M.splice(B,1),M.push(R))}e.pushToEnd=h;function p(M,R){for(const B of R)M.push(B)}e.pushMany=p;function S(M){return Array.isArray(M)?M:[M]}e.asArray=S;function f(M,R,B){const W=C(M,R),V=M.length,A=B.length;M.length=V+A;for(let Y=V-1;Y>=W;Y--)M[Y+A]=M[Y];for(let Y=0;Y<A;Y++)M[Y+W]=B[Y]}e.insertInto=f;function m(M,R,B,W){const V=C(M,R),A=M.splice(V,B);return f(M,V,W),A}e.splice=m;function C(M,R){return R<0?Math.max(R+M.length,0):Math.min(R,M.length)}var y;(function(M){function R(V){return V<0}M.isLessThan=R;function B(V){return V>0}M.isGreaterThan=B;function W(V){return V===0}M.isNeitherLessOrGreaterThan=W,M.greaterThan=1,M.lessThan=-1,M.neitherLessOrGreaterThan=0})(y=e.CompareResult||(e.CompareResult={}));function E(M,R){return(B,W)=>R(M(B),M(W))}e.compareBy=E;const T=(M,R)=>M-R;e.numberComparator=T;function N(M,R){if(M.length===0)return;let B=M[0];for(let W=1;W<M.length;W++){const V=M[W];R(V,B)>0&&(B=V)}return B}e.findMaxBy=N;function F(M,R){if(M.length===0)return;let B=M[0];for(let W=1;W<M.length;W++){const V=M[W];R(V,B)>=0&&(B=V)}return B}e.findLastMaxBy=F;function O(M,R){return N(M,(B,W)=>-R(B,W))}e.findMinBy=O;class P{constructor(R){this.items=R,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(R){let B=this.firstIdx;for(;B<this.items.length&&R(this.items[B]);)B++;const W=B===this.firstIdx?null:this.items.slice(this.firstIdx,B);return this.firstIdx=B,W}takeFromEndWhile(R){let B=this.lastIdx;for(;B>=0&&R(this.items[B]);)B--;const W=B===this.lastIdx?null:this.items.slice(B+1,this.lastIdx+1);return this.lastIdx=B,W}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const R=this.items[this.firstIdx];return this.firstIdx++,R}takeCount(R){const B=this.items.slice(this.firstIdx,this.firstIdx+R);return this.firstIdx+=R,B}}e.ArrayQueue=P;class D{constructor(R){this.iterate=R}toArray(){const R=[];return this.iterate(B=>(R.push(B),!0)),R}filter(R){return new D(B=>this.iterate(W=>R(W)?B(W):!0))}map(R){return new D(B=>this.iterate(W=>B(R(W))))}findLast(R){let B;return this.iterate(W=>(R(W)&&(B=W),!0)),B}findLastMaxBy(R){let B,W=!0;return this.iterate(V=>((W||y.isGreaterThan(R(V,B)))&&(W=!1,B=V),!0)),B}}e.CallbackIterable=D,D.empty=new D(M=>{})}),define(se[97],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.ok=void 0;function w(k,I){if(!k)throw new Error(I?`Assertion failed (${I})`:"Assertion Failed")}e.ok=w;function v(k,I="Unreachable"){throw new Error(I)}e.assertNever=v}),define(se[123],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const w=typeof Buffer!="undefined";let v;class k{constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}static wrap(i){return w&&!Buffer.isBuffer(i)&&(i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)),new k(i)}toString(){return w?this.buffer.toString():(v||(v=new TextDecoder),v.decode(this.buffer))}}e.VSBuffer=k;function I(n,i){return n[i+0]<<0>>>0|n[i+1]<<8>>>0}e.readUInt16LE=I;function L(n,i,t){n[t+0]=i&255,i=i>>>8,n[t+1]=i&255}e.writeUInt16LE=L;function _(n,i){return n[i]*Math.pow(2,24)+n[i+1]*Math.pow(2,16)+n[i+2]*Math.pow(2,8)+n[i+3]}e.readUInt32BE=_;function b(n,i,t){n[t+3]=i,i=i>>>8,n[t+2]=i,i=i>>>8,n[t+1]=i,i=i>>>8,n[t]=i}e.writeUInt32BE=b;function u(n,i){return n[i]}e.readUInt8=u;function g(n,i,t){n[t]=i}e.writeUInt8=g}),define(se[226],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class w{constructor(I){this.fn=I,this.lastCache=void 0,this.lastArgKey=void 0}get(I){const L=JSON.stringify(I);return this.lastArgKey!==L&&(this.lastArgKey=L,this.lastCache=this.fn(I)),this.lastCache}}e.LRUCachedFunction=w;class v{constructor(I){this.fn=I,this._map=new Map}get cachedValues(){return this._map}get(I){if(this._map.has(I))return this._map.get(I);const L=this.fn(I);return this._map.set(I,L),L}}e.CachedFunction=v}),define(se[27],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=void 0;function w(I){return I?I.replace(/\$\((.*?)\)/g,(L,_)=>` ${_} `).trim():""}e.getCodiconAriaLabel=w;class v{constructor(L,_,b){this.id=L,this.definition=_,this.description=b,v._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return v._allCodicons}}e.Codicon=v,v._allCodicons=[],v.add=new v("add",{fontCharacter:"\\ea60"}),v.plus=new v("plus",v.add.definition),v.gistNew=new v("gist-new",v.add.definition),v.repoCreate=new v("repo-create",v.add.definition),v.lightbulb=new v("lightbulb",{fontCharacter:"\\ea61"}),v.lightBulb=new v("light-bulb",{fontCharacter:"\\ea61"}),v.repo=new v("repo",{fontCharacter:"\\ea62"}),v.repoDelete=new v("repo-delete",{fontCharacter:"\\ea62"}),v.gistFork=new v("gist-fork",{fontCharacter:"\\ea63"}),v.repoForked=new v("repo-forked",{fontCharacter:"\\ea63"}),v.gitPullRequest=new v("git-pull-request",{fontCharacter:"\\ea64"}),v.gitPullRequestAbandoned=new v("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),v.recordKeys=new v("record-keys",{fontCharacter:"\\ea65"}),v.keyboard=new v("keyboard",{fontCharacter:"\\ea65"}),v.tag=new v("tag",{fontCharacter:"\\ea66"}),v.tagAdd=new v("tag-add",{fontCharacter:"\\ea66"}),v.tagRemove=new v("tag-remove",{fontCharacter:"\\ea66"}),v.person=new v("person",{fontCharacter:"\\ea67"}),v.personFollow=new v("person-follow",{fontCharacter:"\\ea67"}),v.personOutline=new v("person-outline",{fontCharacter:"\\ea67"}),v.personFilled=new v("person-filled",{fontCharacter:"\\ea67"}),v.gitBranch=new v("git-branch",{fontCharacter:"\\ea68"}),v.gitBranchCreate=new v("git-branch-create",{fontCharacter:"\\ea68"}),v.gitBranchDelete=new v("git-branch-delete",{fontCharacter:"\\ea68"}),v.sourceControl=new v("source-control",{fontCharacter:"\\ea68"}),v.mirror=new v("mirror",{fontCharacter:"\\ea69"}),v.mirrorPublic=new v("mirror-public",{fontCharacter:"\\ea69"}),v.star=new v("star",{fontCharacter:"\\ea6a"}),v.starAdd=new v("star-add",{fontCharacter:"\\ea6a"}),v.starDelete=new v("star-delete",{fontCharacter:"\\ea6a"}),v.starEmpty=new v("star-empty",{fontCharacter:"\\ea6a"}),v.comment=new v("comment",{fontCharacter:"\\ea6b"}),v.commentAdd=new v("comment-add",{fontCharacter:"\\ea6b"}),v.alert=new v("alert",{fontCharacter:"\\ea6c"}),v.warning=new v("warning",{fontCharacter:"\\ea6c"}),v.search=new v("search",{fontCharacter:"\\ea6d"}),v.searchSave=new v("search-save",{fontCharacter:"\\ea6d"}),v.logOut=new v("log-out",{fontCharacter:"\\ea6e"}),v.signOut=new v("sign-out",{fontCharacter:"\\ea6e"}),v.logIn=new v("log-in",{fontCharacter:"\\ea6f"}),v.signIn=new v("sign-in",{fontCharacter:"\\ea6f"}),v.eye=new v("eye",{fontCharacter:"\\ea70"}),v.eyeUnwatch=new v("eye-unwatch",{fontCharacter:"\\ea70"}),v.eyeWatch=new v("eye-watch",{fontCharacter:"\\ea70"}),v.circleFilled=new v("circle-filled",{fontCharacter:"\\ea71"}),v.primitiveDot=new v("primitive-dot",v.circleFilled.definition),v.closeDirty=new v("close-dirty",v.circleFilled.definition),v.debugBreakpoint=new v("debug-breakpoint",v.circleFilled.definition),v.debugBreakpointDisabled=new v("debug-breakpoint-disabled",v.circleFilled.definition),v.debugHint=new v("debug-hint",v.circleFilled.definition),v.primitiveSquare=new v("primitive-square",{fontCharacter:"\\ea72"}),v.edit=new v("edit",{fontCharacter:"\\ea73"}),v.pencil=new v("pencil",{fontCharacter:"\\ea73"}),v.info=new v("info",{fontCharacter:"\\ea74"}),v.issueOpened=new v("issue-opened",{fontCharacter:"\\ea74"}),v.gistPrivate=new v("gist-private",{fontCharacter:"\\ea75"}),v.gitForkPrivate=new v("git-fork-private",{fontCharacter:"\\ea75"}),v.lock=new v("lock",{fontCharacter:"\\ea75"}),v.mirrorPrivate=new v("mirror-private",{fontCharacter:"\\ea75"}),v.close=new v("close",{fontCharacter:"\\ea76"}),v.removeClose=new v("remove-close",{fontCharacter:"\\ea76"}),v.x=new v("x",{fontCharacter:"\\ea76"}),v.repoSync=new v("repo-sync",{fontCharacter:"\\ea77"}),v.sync=new v("sync",{fontCharacter:"\\ea77"}),v.clone=new v("clone",{fontCharacter:"\\ea78"}),v.desktopDownload=new v("desktop-download",{fontCharacter:"\\ea78"}),v.beaker=new v("beaker",{fontCharacter:"\\ea79"}),v.microscope=new v("microscope",{fontCharacter:"\\ea79"}),v.vm=new v("vm",{fontCharacter:"\\ea7a"}),v.deviceDesktop=new v("device-desktop",{fontCharacter:"\\ea7a"}),v.file=new v("file",{fontCharacter:"\\ea7b"}),v.fileText=new v("file-text",{fontCharacter:"\\ea7b"}),v.more=new v("more",{fontCharacter:"\\ea7c"}),v.ellipsis=new v("ellipsis",{fontCharacter:"\\ea7c"}),v.kebabHorizontal=new v("kebab-horizontal",{fontCharacter:"\\ea7c"}),v.mailReply=new v("mail-reply",{fontCharacter:"\\ea7d"}),v.reply=new v("reply",{fontCharacter:"\\ea7d"}),v.organization=new v("organization",{fontCharacter:"\\ea7e"}),v.organizationFilled=new v("organization-filled",{fontCharacter:"\\ea7e"}),v.organizationOutline=new v("organization-outline",{fontCharacter:"\\ea7e"}),v.newFile=new v("new-file",{fontCharacter:"\\ea7f"}),v.fileAdd=new v("file-add",{fontCharacter:"\\ea7f"}),v.newFolder=new v("new-folder",{fontCharacter:"\\ea80"}),v.fileDirectoryCreate=new v("file-directory-create",{fontCharacter:"\\ea80"}),v.trash=new v("trash",{fontCharacter:"\\ea81"}),v.trashcan=new v("trashcan",{fontCharacter:"\\ea81"}),v.history=new v("history",{fontCharacter:"\\ea82"}),v.clock=new v("clock",{fontCharacter:"\\ea82"}),v.folder=new v("folder",{fontCharacter:"\\ea83"}),v.fileDirectory=new v("file-directory",{fontCharacter:"\\ea83"}),v.symbolFolder=new v("symbol-folder",{fontCharacter:"\\ea83"}),v.logoGithub=new v("logo-github",{fontCharacter:"\\ea84"}),v.markGithub=new v("mark-github",{fontCharacter:"\\ea84"}),v.github=new v("github",{fontCharacter:"\\ea84"}),v.terminal=new v("terminal",{fontCharacter:"\\ea85"}),v.console=new v("console",{fontCharacter:"\\ea85"}),v.repl=new v("repl",{fontCharacter:"\\ea85"}),v.zap=new v("zap",{fontCharacter:"\\ea86"}),v.symbolEvent=new v("symbol-event",{fontCharacter:"\\ea86"}),v.error=new v("error",{fontCharacter:"\\ea87"}),v.stop=new v("stop",{fontCharacter:"\\ea87"}),v.variable=new v("variable",{fontCharacter:"\\ea88"}),v.symbolVariable=new v("symbol-variable",{fontCharacter:"\\ea88"}),v.array=new v("array",{fontCharacter:"\\ea8a"}),v.symbolArray=new v("symbol-array",{fontCharacter:"\\ea8a"}),v.symbolModule=new v("symbol-module",{fontCharacter:"\\ea8b"}),v.symbolPackage=new v("symbol-package",{fontCharacter:"\\ea8b"}),v.symbolNamespace=new v("symbol-namespace",{fontCharacter:"\\ea8b"}),v.symbolObject=new v("symbol-object",{fontCharacter:"\\ea8b"}),v.symbolMethod=new v("symbol-method",{fontCharacter:"\\ea8c"}),v.symbolFunction=new v("symbol-function",{fontCharacter:"\\ea8c"}),v.symbolConstructor=new v("symbol-constructor",{fontCharacter:"\\ea8c"}),v.symbolBoolean=new v("symbol-boolean",{fontCharacter:"\\ea8f"}),v.symbolNull=new v("symbol-null",{fontCharacter:"\\ea8f"}),v.symbolNumeric=new v("symbol-numeric",{fontCharacter:"\\ea90"}),v.symbolNumber=new v("symbol-number",{fontCharacter:"\\ea90"}),v.symbolStructure=new v("symbol-structure",{fontCharacter:"\\ea91"}),v.symbolStruct=new v("symbol-struct",{fontCharacter:"\\ea91"}),v.symbolParameter=new v("symbol-parameter",{fontCharacter:"\\ea92"}),v.symbolTypeParameter=new v("symbol-type-parameter",{fontCharacter:"\\ea92"}),v.symbolKey=new v("symbol-key",{fontCharacter:"\\ea93"}),v.symbolText=new v("symbol-text",{fontCharacter:"\\ea93"}),v.symbolReference=new v("symbol-reference",{fontCharacter:"\\ea94"}),v.goToFile=new v("go-to-file",{fontCharacter:"\\ea94"}),v.symbolEnum=new v("symbol-enum",{fontCharacter:"\\ea95"}),v.symbolValue=new v("symbol-value",{fontCharacter:"\\ea95"}),v.symbolRuler=new v("symbol-ruler",{fontCharacter:"\\ea96"}),v.symbolUnit=new v("symbol-unit",{fontCharacter:"\\ea96"}),v.activateBreakpoints=new v("activate-breakpoints",{fontCharacter:"\\ea97"}),v.archive=new v("archive",{fontCharacter:"\\ea98"}),v.arrowBoth=new v("arrow-both",{fontCharacter:"\\ea99"}),v.arrowDown=new v("arrow-down",{fontCharacter:"\\ea9a"}),v.arrowLeft=new v("arrow-left",{fontCharacter:"\\ea9b"}),v.arrowRight=new v("arrow-right",{fontCharacter:"\\ea9c"}),v.arrowSmallDown=new v("arrow-small-down",{fontCharacter:"\\ea9d"}),v.arrowSmallLeft=new v("arrow-small-left",{fontCharacter:"\\ea9e"}),v.arrowSmallRight=new v("arrow-small-right",{fontCharacter:"\\ea9f"}),v.arrowSmallUp=new v("arrow-small-up",{fontCharacter:"\\eaa0"}),v.arrowUp=new v("arrow-up",{fontCharacter:"\\eaa1"}),v.bell=new v("bell",{fontCharacter:"\\eaa2"}),v.bold=new v("bold",{fontCharacter:"\\eaa3"}),v.book=new v("book",{fontCharacter:"\\eaa4"}),v.bookmark=new v("bookmark",{fontCharacter:"\\eaa5"}),v.debugBreakpointConditionalUnverified=new v("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),v.debugBreakpointConditional=new v("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),v.debugBreakpointConditionalDisabled=new v("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),v.debugBreakpointDataUnverified=new v("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),v.debugBreakpointData=new v("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),v.debugBreakpointDataDisabled=new v("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),v.debugBreakpointLogUnverified=new v("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),v.debugBreakpointLog=new v("debug-breakpoint-log",{fontCharacter:"\\eaab"}),v.debugBreakpointLogDisabled=new v("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),v.briefcase=new v("briefcase",{fontCharacter:"\\eaac"}),v.broadcast=new v("broadcast",{fontCharacter:"\\eaad"}),v.browser=new v("browser",{fontCharacter:"\\eaae"}),v.bug=new v("bug",{fontCharacter:"\\eaaf"}),v.calendar=new v("calendar",{fontCharacter:"\\eab0"}),v.caseSensitive=new v("case-sensitive",{fontCharacter:"\\eab1"}),v.check=new v("check",{fontCharacter:"\\eab2"}),v.checklist=new v("checklist",{fontCharacter:"\\eab3"}),v.chevronDown=new v("chevron-down",{fontCharacter:"\\eab4"}),v.dropDownButton=new v("drop-down-button",v.chevronDown.definition),v.chevronLeft=new v("chevron-left",{fontCharacter:"\\eab5"}),v.chevronRight=new v("chevron-right",{fontCharacter:"\\eab6"}),v.chevronUp=new v("chevron-up",{fontCharacter:"\\eab7"}),v.chromeClose=new v("chrome-close",{fontCharacter:"\\eab8"}),v.chromeMaximize=new v("chrome-maximize",{fontCharacter:"\\eab9"}),v.chromeMinimize=new v("chrome-minimize",{fontCharacter:"\\eaba"}),v.chromeRestore=new v("chrome-restore",{fontCharacter:"\\eabb"}),v.circle=new v("circle",{fontCharacter:"\\eabc"}),v.circleOutline=new v("circle-outline",v.circle.definition),v.debugBreakpointUnverified=new v("debug-breakpoint-unverified",v.circle.definition),v.circleSlash=new v("circle-slash",{fontCharacter:"\\eabd"}),v.circuitBoard=new v("circuit-board",{fontCharacter:"\\eabe"}),v.clearAll=new v("clear-all",{fontCharacter:"\\eabf"}),v.clippy=new v("clippy",{fontCharacter:"\\eac0"}),v.closeAll=new v("close-all",{fontCharacter:"\\eac1"}),v.cloudDownload=new v("cloud-download",{fontCharacter:"\\eac2"}),v.cloudUpload=new v("cloud-upload",{fontCharacter:"\\eac3"}),v.code=new v("code",{fontCharacter:"\\eac4"}),v.collapseAll=new v("collapse-all",{fontCharacter:"\\eac5"}),v.colorMode=new v("color-mode",{fontCharacter:"\\eac6"}),v.commentDiscussion=new v("comment-discussion",{fontCharacter:"\\eac7"}),v.compareChanges=new v("compare-changes",{fontCharacter:"\\eafd"}),v.creditCard=new v("credit-card",{fontCharacter:"\\eac9"}),v.dash=new v("dash",{fontCharacter:"\\eacc"}),v.dashboard=new v("dashboard",{fontCharacter:"\\eacd"}),v.database=new v("database",{fontCharacter:"\\eace"}),v.debugContinue=new v("debug-continue",{fontCharacter:"\\eacf"}),v.debugDisconnect=new v("debug-disconnect",{fontCharacter:"\\ead0"}),v.debugPause=new v("debug-pause",{fontCharacter:"\\ead1"}),v.debugRestart=new v("debug-restart",{fontCharacter:"\\ead2"}),v.debugStart=new v("debug-start",{fontCharacter:"\\ead3"}),v.debugStepInto=new v("debug-step-into",{fontCharacter:"\\ead4"}),v.debugStepOut=new v("debug-step-out",{fontCharacter:"\\ead5"}),v.debugStepOver=new v("debug-step-over",{fontCharacter:"\\ead6"}),v.debugStop=new v("debug-stop",{fontCharacter:"\\ead7"}),v.debug=new v("debug",{fontCharacter:"\\ead8"}),v.deviceCameraVideo=new v("device-camera-video",{fontCharacter:"\\ead9"}),v.deviceCamera=new v("device-camera",{fontCharacter:"\\eada"}),v.deviceMobile=new v("device-mobile",{fontCharacter:"\\eadb"}),v.diffAdded=new v("diff-added",{fontCharacter:"\\eadc"}),v.diffIgnored=new v("diff-ignored",{fontCharacter:"\\eadd"}),v.diffModified=new v("diff-modified",{fontCharacter:"\\eade"}),v.diffRemoved=new v("diff-removed",{fontCharacter:"\\eadf"}),v.diffRenamed=new v("diff-renamed",{fontCharacter:"\\eae0"}),v.diff=new v("diff",{fontCharacter:"\\eae1"}),v.discard=new v("discard",{fontCharacter:"\\eae2"}),v.editorLayout=new v("editor-layout",{fontCharacter:"\\eae3"}),v.emptyWindow=new v("empty-window",{fontCharacter:"\\eae4"}),v.exclude=new v("exclude",{fontCharacter:"\\eae5"}),v.extensions=new v("extensions",{fontCharacter:"\\eae6"}),v.eyeClosed=new v("eye-closed",{fontCharacter:"\\eae7"}),v.fileBinary=new v("file-binary",{fontCharacter:"\\eae8"}),v.fileCode=new v("file-code",{fontCharacter:"\\eae9"}),v.fileMedia=new v("file-media",{fontCharacter:"\\eaea"}),v.filePdf=new v("file-pdf",{fontCharacter:"\\eaeb"}),v.fileSubmodule=new v("file-submodule",{fontCharacter:"\\eaec"}),v.fileSymlinkDirectory=new v("file-symlink-directory",{fontCharacter:"\\eaed"}),v.fileSymlinkFile=new v("file-symlink-file",{fontCharacter:"\\eaee"}),v.fileZip=new v("file-zip",{fontCharacter:"\\eaef"}),v.files=new v("files",{fontCharacter:"\\eaf0"}),v.filter=new v("filter",{fontCharacter:"\\eaf1"}),v.flame=new v("flame",{fontCharacter:"\\eaf2"}),v.foldDown=new v("fold-down",{fontCharacter:"\\eaf3"}),v.foldUp=new v("fold-up",{fontCharacter:"\\eaf4"}),v.fold=new v("fold",{fontCharacter:"\\eaf5"}),v.folderActive=new v("folder-active",{fontCharacter:"\\eaf6"}),v.folderOpened=new v("folder-opened",{fontCharacter:"\\eaf7"}),v.gear=new v("gear",{fontCharacter:"\\eaf8"}),v.gift=new v("gift",{fontCharacter:"\\eaf9"}),v.gistSecret=new v("gist-secret",{fontCharacter:"\\eafa"}),v.gist=new v("gist",{fontCharacter:"\\eafb"}),v.gitCommit=new v("git-commit",{fontCharacter:"\\eafc"}),v.gitCompare=new v("git-compare",{fontCharacter:"\\eafd"}),v.gitMerge=new v("git-merge",{fontCharacter:"\\eafe"}),v.githubAction=new v("github-action",{fontCharacter:"\\eaff"}),v.githubAlt=new v("github-alt",{fontCharacter:"\\eb00"}),v.globe=new v("globe",{fontCharacter:"\\eb01"}),v.grabber=new v("grabber",{fontCharacter:"\\eb02"}),v.graph=new v("graph",{fontCharacter:"\\eb03"}),v.gripper=new v("gripper",{fontCharacter:"\\eb04"}),v.heart=new v("heart",{fontCharacter:"\\eb05"}),v.home=new v("home",{fontCharacter:"\\eb06"}),v.horizontalRule=new v("horizontal-rule",{fontCharacter:"\\eb07"}),v.hubot=new v("hubot",{fontCharacter:"\\eb08"}),v.inbox=new v("inbox",{fontCharacter:"\\eb09"}),v.issueClosed=new v("issue-closed",{fontCharacter:"\\eba4"}),v.issueReopened=new v("issue-reopened",{fontCharacter:"\\eb0b"}),v.issues=new v("issues",{fontCharacter:"\\eb0c"}),v.italic=new v("italic",{fontCharacter:"\\eb0d"}),v.jersey=new v("jersey",{fontCharacter:"\\eb0e"}),v.json=new v("json",{fontCharacter:"\\eb0f"}),v.kebabVertical=new v("kebab-vertical",{fontCharacter:"\\eb10"}),v.key=new v("key",{fontCharacter:"\\eb11"}),v.law=new v("law",{fontCharacter:"\\eb12"}),v.lightbulbAutofix=new v("lightbulb-autofix",{fontCharacter:"\\eb13"}),v.linkExternal=new v("link-external",{fontCharacter:"\\eb14"}),v.link=new v("link",{fontCharacter:"\\eb15"}),v.listOrdered=new v("list-ordered",{fontCharacter:"\\eb16"}),v.listUnordered=new v("list-unordered",{fontCharacter:"\\eb17"}),v.liveShare=new v("live-share",{fontCharacter:"\\eb18"}),v.loading=new v("loading",{fontCharacter:"\\eb19"}),v.location=new v("location",{fontCharacter:"\\eb1a"}),v.mailRead=new v("mail-read",{fontCharacter:"\\eb1b"}),v.mail=new v("mail",{fontCharacter:"\\eb1c"}),v.markdown=new v("markdown",{fontCharacter:"\\eb1d"}),v.megaphone=new v("megaphone",{fontCharacter:"\\eb1e"}),v.mention=new v("mention",{fontCharacter:"\\eb1f"}),v.milestone=new v("milestone",{fontCharacter:"\\eb20"}),v.mortarBoard=new v("mortar-board",{fontCharacter:"\\eb21"}),v.move=new v("move",{fontCharacter:"\\eb22"}),v.multipleWindows=new v("multiple-windows",{fontCharacter:"\\eb23"}),v.mute=new v("mute",{fontCharacter:"\\eb24"}),v.noNewline=new v("no-newline",{fontCharacter:"\\eb25"}),v.note=new v("note",{fontCharacter:"\\eb26"}),v.octoface=new v("octoface",{fontCharacter:"\\eb27"}),v.openPreview=new v("open-preview",{fontCharacter:"\\eb28"}),v.package_=new v("package",{fontCharacter:"\\eb29"}),v.paintcan=new v("paintcan",{fontCharacter:"\\eb2a"}),v.pin=new v("pin",{fontCharacter:"\\eb2b"}),v.play=new v("play",{fontCharacter:"\\eb2c"}),v.run=new v("run",{fontCharacter:"\\eb2c"}),v.plug=new v("plug",{fontCharacter:"\\eb2d"}),v.preserveCase=new v("preserve-case",{fontCharacter:"\\eb2e"}),v.preview=new v("preview",{fontCharacter:"\\eb2f"}),v.project=new v("project",{fontCharacter:"\\eb30"}),v.pulse=new v("pulse",{fontCharacter:"\\eb31"}),v.question=new v("question",{fontCharacter:"\\eb32"}),v.quote=new v("quote",{fontCharacter:"\\eb33"}),v.radioTower=new v("radio-tower",{fontCharacter:"\\eb34"}),v.reactions=new v("reactions",{fontCharacter:"\\eb35"}),v.references=new v("references",{fontCharacter:"\\eb36"}),v.refresh=new v("refresh",{fontCharacter:"\\eb37"}),v.regex=new v("regex",{fontCharacter:"\\eb38"}),v.remoteExplorer=new v("remote-explorer",{fontCharacter:"\\eb39"}),v.remote=new v("remote",{fontCharacter:"\\eb3a"}),v.remove=new v("remove",{fontCharacter:"\\eb3b"}),v.replaceAll=new v("replace-all",{fontCharacter:"\\eb3c"}),v.replace=new v("replace",{fontCharacter:"\\eb3d"}),v.repoClone=new v("repo-clone",{fontCharacter:"\\eb3e"}),v.repoForcePush=new v("repo-force-push",{fontCharacter:"\\eb3f"}),v.repoPull=new v("repo-pull",{fontCharacter:"\\eb40"}),v.repoPush=new v("repo-push",{fontCharacter:"\\eb41"}),v.report=new v("report",{fontCharacter:"\\eb42"}),v.requestChanges=new v("request-changes",{fontCharacter:"\\eb43"}),v.rocket=new v("rocket",{fontCharacter:"\\eb44"}),v.rootFolderOpened=new v("root-folder-opened",{fontCharacter:"\\eb45"}),v.rootFolder=new v("root-folder",{fontCharacter:"\\eb46"}),v.rss=new v("rss",{fontCharacter:"\\eb47"}),v.ruby=new v("ruby",{fontCharacter:"\\eb48"}),v.saveAll=new v("save-all",{fontCharacter:"\\eb49"}),v.saveAs=new v("save-as",{fontCharacter:"\\eb4a"}),v.save=new v("save",{fontCharacter:"\\eb4b"}),v.screenFull=new v("screen-full",{fontCharacter:"\\eb4c"}),v.screenNormal=new v("screen-normal",{fontCharacter:"\\eb4d"}),v.searchStop=new v("search-stop",{fontCharacter:"\\eb4e"}),v.server=new v("server",{fontCharacter:"\\eb50"}),v.settingsGear=new v("settings-gear",{fontCharacter:"\\eb51"}),v.settings=new v("settings",{fontCharacter:"\\eb52"}),v.shield=new v("shield",{fontCharacter:"\\eb53"}),v.smiley=new v("smiley",{fontCharacter:"\\eb54"}),v.sortPrecedence=new v("sort-precedence",{fontCharacter:"\\eb55"}),v.splitHorizontal=new v("split-horizontal",{fontCharacter:"\\eb56"}),v.splitVertical=new v("split-vertical",{fontCharacter:"\\eb57"}),v.squirrel=new v("squirrel",{fontCharacter:"\\eb58"}),v.starFull=new v("star-full",{fontCharacter:"\\eb59"}),v.starHalf=new v("star-half",{fontCharacter:"\\eb5a"}),v.symbolClass=new v("symbol-class",{fontCharacter:"\\eb5b"}),v.symbolColor=new v("symbol-color",{fontCharacter:"\\eb5c"}),v.symbolCustomColor=new v("symbol-customcolor",{fontCharacter:"\\eb5c"}),v.symbolConstant=new v("symbol-constant",{fontCharacter:"\\eb5d"}),v.symbolEnumMember=new v("symbol-enum-member",{fontCharacter:"\\eb5e"}),v.symbolField=new v("symbol-field",{fontCharacter:"\\eb5f"}),v.symbolFile=new v("symbol-file",{fontCharacter:"\\eb60"}),v.symbolInterface=new v("symbol-interface",{fontCharacter:"\\eb61"}),v.symbolKeyword=new v("symbol-keyword",{fontCharacter:"\\eb62"}),v.symbolMisc=new v("symbol-misc",{fontCharacter:"\\eb63"}),v.symbolOperator=new v("symbol-operator",{fontCharacter:"\\eb64"}),v.symbolProperty=new v("symbol-property",{fontCharacter:"\\eb65"}),v.wrench=new v("wrench",{fontCharacter:"\\eb65"}),v.wrenchSubaction=new v("wrench-subaction",{fontCharacter:"\\eb65"}),v.symbolSnippet=new v("symbol-snippet",{fontCharacter:"\\eb66"}),v.tasklist=new v("tasklist",{fontCharacter:"\\eb67"}),v.telescope=new v("telescope",{fontCharacter:"\\eb68"}),v.textSize=new v("text-size",{fontCharacter:"\\eb69"}),v.threeBars=new v("three-bars",{fontCharacter:"\\eb6a"}),v.thumbsdown=new v("thumbsdown",{fontCharacter:"\\eb6b"}),v.thumbsup=new v("thumbsup",{fontCharacter:"\\eb6c"}),v.tools=new v("tools",{fontCharacter:"\\eb6d"}),v.triangleDown=new v("triangle-down",{fontCharacter:"\\eb6e"}),v.triangleLeft=new v("triangle-left",{fontCharacter:"\\eb6f"}),v.triangleRight=new v("triangle-right",{fontCharacter:"\\eb70"}),v.triangleUp=new v("triangle-up",{fontCharacter:"\\eb71"}),v.twitter=new v("twitter",{fontCharacter:"\\eb72"}),v.unfold=new v("unfold",{fontCharacter:"\\eb73"}),v.unlock=new v("unlock",{fontCharacter:"\\eb74"}),v.unmute=new v("unmute",{fontCharacter:"\\eb75"}),v.unverified=new v("unverified",{fontCharacter:"\\eb76"}),v.verified=new v("verified",{fontCharacter:"\\eb77"}),v.versions=new v("versions",{fontCharacter:"\\eb78"}),v.vmActive=new v("vm-active",{fontCharacter:"\\eb79"}),v.vmOutline=new v("vm-outline",{fontCharacter:"\\eb7a"}),v.vmRunning=new v("vm-running",{fontCharacter:"\\eb7b"}),v.watch=new v("watch",{fontCharacter:"\\eb7c"}),v.whitespace=new v("whitespace",{fontCharacter:"\\eb7d"}),v.wholeWord=new v("whole-word",{fontCharacter:"\\eb7e"}),v.window=new v("window",{fontCharacter:"\\eb7f"}),v.wordWrap=new v("word-wrap",{fontCharacter:"\\eb80"}),v.zoomIn=new v("zoom-in",{fontCharacter:"\\eb81"}),v.zoomOut=new v("zoom-out",{fontCharacter:"\\eb82"}),v.listFilter=new v("list-filter",{fontCharacter:"\\eb83"}),v.listFlat=new v("list-flat",{fontCharacter:"\\eb84"}),v.listSelection=new v("list-selection",{fontCharacter:"\\eb85"}),v.selection=new v("selection",{fontCharacter:"\\eb85"}),v.listTree=new v("list-tree",{fontCharacter:"\\eb86"}),v.debugBreakpointFunctionUnverified=new v("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),v.debugBreakpointFunction=new v("debug-breakpoint-function",{fontCharacter:"\\eb88"}),v.debugBreakpointFunctionDisabled=new v("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),v.debugStackframeActive=new v("debug-stackframe-active",{fontCharacter:"\\eb89"}),v.circleSmallFilled=new v("circle-small-filled",{fontCharacter:"\\eb8a"}),v.debugStackframeDot=new v("debug-stackframe-dot",v.circleSmallFilled.definition),v.debugStackframe=new v("debug-stackframe",{fontCharacter:"\\eb8b"}),v.debugStackframeFocused=new v("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),v.debugBreakpointUnsupported=new v("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),v.symbolString=new v("symbol-string",{fontCharacter:"\\eb8d"}),v.debugReverseContinue=new v("debug-reverse-continue",{fontCharacter:"\\eb8e"}),v.debugStepBack=new v("debug-step-back",{fontCharacter:"\\eb8f"}),v.debugRestartFrame=new v("debug-restart-frame",{fontCharacter:"\\eb90"}),v.callIncoming=new v("call-incoming",{fontCharacter:"\\eb92"}),v.callOutgoing=new v("call-outgoing",{fontCharacter:"\\eb93"}),v.menu=new v("menu",{fontCharacter:"\\eb94"}),v.expandAll=new v("expand-all",{fontCharacter:"\\eb95"}),v.feedback=new v("feedback",{fontCharacter:"\\eb96"}),v.groupByRefType=new v("group-by-ref-type",{fontCharacter:"\\eb97"}),v.ungroupByRefType=new v("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),v.account=new v("account",{fontCharacter:"\\eb99"}),v.bellDot=new v("bell-dot",{fontCharacter:"\\eb9a"}),v.debugConsole=new v("debug-console",{fontCharacter:"\\eb9b"}),v.library=new v("library",{fontCharacter:"\\eb9c"}),v.output=new v("output",{fontCharacter:"\\eb9d"}),v.runAll=new v("run-all",{fontCharacter:"\\eb9e"}),v.syncIgnored=new v("sync-ignored",{fontCharacter:"\\eb9f"}),v.pinned=new v("pinned",{fontCharacter:"\\eba0"}),v.githubInverted=new v("github-inverted",{fontCharacter:"\\eba1"}),v.debugAlt=new v("debug-alt",{fontCharacter:"\\eb91"}),v.serverProcess=new v("server-process",{fontCharacter:"\\eba2"}),v.serverEnvironment=new v("server-environment",{fontCharacter:"\\eba3"}),v.pass=new v("pass",{fontCharacter:"\\eba4"}),v.stopCircle=new v("stop-circle",{fontCharacter:"\\eba5"}),v.playCircle=new v("play-circle",{fontCharacter:"\\eba6"}),v.record=new v("record",{fontCharacter:"\\eba7"}),v.debugAltSmall=new v("debug-alt-small",{fontCharacter:"\\eba8"}),v.vmConnect=new v("vm-connect",{fontCharacter:"\\eba9"}),v.cloud=new v("cloud",{fontCharacter:"\\ebaa"}),v.merge=new v("merge",{fontCharacter:"\\ebab"}),v.exportIcon=new v("export",{fontCharacter:"\\ebac"}),v.graphLeft=new v("graph-left",{fontCharacter:"\\ebad"}),v.magnet=new v("magnet",{fontCharacter:"\\ebae"}),v.notebook=new v("notebook",{fontCharacter:"\\ebaf"}),v.redo=new v("redo",{fontCharacter:"\\ebb0"}),v.checkAll=new v("check-all",{fontCharacter:"\\ebb1"}),v.pinnedDirty=new v("pinned-dirty",{fontCharacter:"\\ebb2"}),v.passFilled=new v("pass-filled",{fontCharacter:"\\ebb3"}),v.circleLargeFilled=new v("circle-large-filled",{fontCharacter:"\\ebb4"}),v.circleLarge=new v("circle-large",{fontCharacter:"\\ebb5"}),v.circleLargeOutline=new v("circle-large-outline",v.circleLarge.definition),v.combine=new v("combine",{fontCharacter:"\\ebb6"}),v.gather=new v("gather",{fontCharacter:"\\ebb6"}),v.table=new v("table",{fontCharacter:"\\ebb7"}),v.variableGroup=new v("variable-group",{fontCharacter:"\\ebb8"}),v.typeHierarchy=new v("type-hierarchy",{fontCharacter:"\\ebb9"}),v.typeHierarchySub=new v("type-hierarchy-sub",{fontCharacter:"\\ebba"}),v.typeHierarchySuper=new v("type-hierarchy-super",{fontCharacter:"\\ebbb"}),v.gitPullRequestCreate=new v("git-pull-request-create",{fontCharacter:"\\ebbc"}),v.runAbove=new v("run-above",{fontCharacter:"\\ebbd"}),v.runBelow=new v("run-below",{fontCharacter:"\\ebbe"}),v.notebookTemplate=new v("notebook-template",{fontCharacter:"\\ebbf"}),v.debugRerun=new v("debug-rerun",{fontCharacter:"\\ebc0"}),v.workspaceTrusted=new v("workspace-trusted",{fontCharacter:"\\ebc1"}),v.workspaceUntrusted=new v("workspace-untrusted",{fontCharacter:"\\ebc2"}),v.workspaceUnspecified=new v("workspace-unspecified",{fontCharacter:"\\ebc3"}),v.terminalCmd=new v("terminal-cmd",{fontCharacter:"\\ebc4"}),v.terminalDebian=new v("terminal-debian",{fontCharacter:"\\ebc5"}),v.terminalLinux=new v("terminal-linux",{fontCharacter:"\\ebc6"}),v.terminalPowershell=new v("terminal-powershell",{fontCharacter:"\\ebc7"}),v.terminalTmux=new v("terminal-tmux",{fontCharacter:"\\ebc8"}),v.terminalUbuntu=new v("terminal-ubuntu",{fontCharacter:"\\ebc9"}),v.terminalBash=new v("terminal-bash",{fontCharacter:"\\ebca"}),v.arrowSwap=new v("arrow-swap",{fontCharacter:"\\ebcb"}),v.copy=new v("copy",{fontCharacter:"\\ebcc"}),v.personAdd=new v("person-add",{fontCharacter:"\\ebcd"}),v.filterFilled=new v("filter-filled",{fontCharacter:"\\ebce"}),v.wand=new v("wand",{fontCharacter:"\\ebcf"}),v.debugLineByLine=new v("debug-line-by-line",{fontCharacter:"\\ebd0"}),v.inspect=new v("inspect",{fontCharacter:"\\ebd1"}),v.layers=new v("layers",{fontCharacter:"\\ebd2"}),v.layersDot=new v("layers-dot",{fontCharacter:"\\ebd3"}),v.layersActive=new v("layers-active",{fontCharacter:"\\ebd4"}),v.compass=new v("compass",{fontCharacter:"\\ebd5"}),v.compassDot=new v("compass-dot",{fontCharacter:"\\ebd6"}),v.compassActive=new v("compass-active",{fontCharacter:"\\ebd7"}),v.azure=new v("azure",{fontCharacter:"\\ebd8"}),v.issueDraft=new v("issue-draft",{fontCharacter:"\\ebd9"}),v.gitPullRequestClosed=new v("git-pull-request-closed",{fontCharacter:"\\ebda"}),v.gitPullRequestDraft=new v("git-pull-request-draft",{fontCharacter:"\\ebdb"}),v.debugAll=new v("debug-all",{fontCharacter:"\\ebdc"}),v.debugCoverage=new v("debug-coverage",{fontCharacter:"\\ebdd"}),v.runErrors=new v("run-errors",{fontCharacter:"\\ebde"}),v.folderLibrary=new v("folder-library",{fontCharacter:"\\ebdf"}),v.debugContinueSmall=new v("debug-continue-small",{fontCharacter:"\\ebe0"}),v.beakerStop=new v("beaker-stop",{fontCharacter:"\\ebe1"}),v.graphLine=new v("graph-line",{fontCharacter:"\\ebe2"}),v.graphScatter=new v("graph-scatter",{fontCharacter:"\\ebe3"}),v.pieChart=new v("pie-chart",{fontCharacter:"\\ebe4"}),v.bracket=new v("bracket",v.json.definition),v.bracketDot=new v("bracket-dot",{fontCharacter:"\\ebe5"}),v.bracketError=new v("bracket-error",{fontCharacter:"\\ebe6"}),v.lockSmall=new v("lock-small",{fontCharacter:"\\ebe7"}),v.azureDevops=new v("azure-devops",{fontCharacter:"\\ebe8"}),v.verifiedFilled=new v("verified-filled",{fontCharacter:"\\ebe9"}),v.newLine=new v("newline",{fontCharacter:"\\ebea"}),v.layout=new v("layout",{fontCharacter:"\\ebeb"}),v.layoutActivitybarLeft=new v("layout-activitybar-left",{fontCharacter:"\\ebec"}),v.layoutActivitybarRight=new v("layout-activitybar-right",{fontCharacter:"\\ebed"}),v.layoutPanelLeft=new v("layout-panel-left",{fontCharacter:"\\ebee"}),v.layoutPanelCenter=new v("layout-panel-center",{fontCharacter:"\\ebef"}),v.layoutPanelJustify=new v("layout-panel-justify",{fontCharacter:"\\ebf0"}),v.layoutPanelRight=new v("layout-panel-right",{fontCharacter:"\\ebf1"}),v.layoutPanel=new v("layout-panel",{fontCharacter:"\\ebf2"}),v.layoutSidebarLeft=new v("layout-sidebar-left",{fontCharacter:"\\ebf3"}),v.layoutSidebarRight=new v("layout-sidebar-right",{fontCharacter:"\\ebf4"}),v.layoutStatusbar=new v("layout-statusbar",{fontCharacter:"\\ebf5"}),v.layoutMenubar=new v("layout-menubar",{fontCharacter:"\\ebf6"}),v.layoutCentered=new v("layout-centered",{fontCharacter:"\\ebf7"}),v.layoutSidebarRightOff=new v("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),v.layoutPanelOff=new v("layout-panel-off",{fontCharacter:"\\ec01"}),v.layoutSidebarLeftOff=new v("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),v.target=new v("target",{fontCharacter:"\\ebf8"}),v.indent=new v("indent",{fontCharacter:"\\ebf9"}),v.recordSmall=new v("record-small",{fontCharacter:"\\ebfa"}),v.errorSmall=new v("error-small",{fontCharacter:"\\ebfb"}),v.arrowCircleDown=new v("arrow-circle-down",{fontCharacter:"\\ebfc"}),v.arrowCircleLeft=new v("arrow-circle-left",{fontCharacter:"\\ebfd"}),v.arrowCircleRight=new v("arrow-circle-right",{fontCharacter:"\\ebfe"}),v.arrowCircleUp=new v("arrow-circle-up",{fontCharacter:"\\ebff"}),v.heartFilled=new v("heart-filled",{fontCharacter:"\\ec04"}),v.map=new v("map",{fontCharacter:"\\ec05"}),v.mapFilled=new v("map-filled",{fontCharacter:"\\ec06"}),v.circleSmall=new v("circle-small",{fontCharacter:"\\ec07"}),v.bellSlash=new v("bell-slash",{fontCharacter:"\\ec08"}),v.bellSlashDot=new v("bell-slash-dot",{fontCharacter:"\\ec09"}),v.commentUnresolved=new v("comment-unresolved",{fontCharacter:"\\ec0a"}),v.gitPullRequestGoToChanges=new v("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),v.gitPullRequestNewChanges=new v("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),v.searchFuzzy=new v("search-fuzzy",{fontCharacter:"\\ec0d"}),v.dialogError=new v("dialog-error",v.error.definition),v.dialogWarning=new v("dialog-warning",v.warning.definition),v.dialogInfo=new v("dialog-info",v.info.definition),v.dialogClose=new v("dialog-close",v.close.definition),v.treeItemExpanded=new v("tree-item-expanded",v.chevronDown.definition),v.treeFilterOnTypeOn=new v("tree-filter-on-type-on",v.listFilter.definition),v.treeFilterOnTypeOff=new v("tree-filter-on-type-off",v.listSelection.definition),v.treeFilterClear=new v("tree-filter-clear",v.close.definition),v.treeItemLoading=new v("tree-item-loading",v.loading.definition),v.menuSelection=new v("menu-selection",v.check.definition),v.menuSubmenu=new v("menu-submenu",v.chevronRight.definition),v.menuBarMore=new v("menubar-more",v.more.definition),v.scrollbarButtonLeft=new v("scrollbar-button-left",v.triangleLeft.definition),v.scrollbarButtonRight=new v("scrollbar-button-right",v.triangleRight.definition),v.scrollbarButtonUp=new v("scrollbar-button-up",v.triangleUp.definition),v.scrollbarButtonDown=new v("scrollbar-button-down",v.triangleDown.definition),v.toolBarMore=new v("toolbar-more",v.more.definition),v.quickInputBack=new v("quick-input-back",v.arrowLeft.definition);var k;(function(I){I.iconNameSegment="[A-Za-z0-9]+",I.iconNameExpression="[A-Za-z0-9-]+",I.iconModifierExpression="~[A-Za-z]+",I.iconNameCharacter="[A-Za-z0-9~-]";const L=new RegExp(`^(${I.iconNameExpression})(${I.iconModifierExpression})?$`);function _(g){if(g instanceof v)return["codicon","codicon-"+g.id];const n=L.exec(g.id);if(!n)return _(v.error);const[,i,t]=n,o=["codicon","codicon-"+i];return t&&o.push("codicon-modifier-"+t.substr(1)),o}I.asClassNameArray=_;function b(g){return _(g).join(" ")}I.asClassName=b;function u(g){return"."+_(g).join(".")}I.asCSSSelector=u})(k=e.CSSIcon||(e.CSSIcon={}))}),define(se[331],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=void 0;class w{constructor(){this.map=new Map}add(k,I){let L=this.map.get(k);L||(L=new Set,this.map.set(k,L)),L.add(I)}delete(k,I){const L=this.map.get(k);!L||(L.delete(I),L.size===0&&this.map.delete(k))}forEach(k,I){const L=this.map.get(k);!L||L.forEach(I)}}e.SetMap=w}),define(se[31],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function w(_,b){const u=Math.pow(10,b);return Math.round(_*u)/u}class v{constructor(b,u,g,n=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,b))|0,this.g=Math.min(255,Math.max(0,u))|0,this.b=Math.min(255,Math.max(0,g))|0,this.a=w(Math.max(Math.min(1,n),0),3)}static equals(b,u){return b.r===u.r&&b.g===u.g&&b.b===u.b&&b.a===u.a}}e.RGBA=v;class k{constructor(b,u,g,n){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,b),0)|0,this.s=w(Math.max(Math.min(1,u),0),3),this.l=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,n),0),3)}static equals(b,u){return b.h===u.h&&b.s===u.s&&b.l===u.l&&b.a===u.a}static fromRGBA(b){const u=b.r/255,g=b.g/255,n=b.b/255,i=b.a,t=Math.max(u,g,n),o=Math.min(u,g,n);let r=0,c=0;const d=(o+t)/2,a=t-o;if(a>0){switch(c=Math.min(d<=.5?a/(2*d):a/(2-2*d),1),t){case u:r=(g-n)/a+(g<n?6:0);break;case g:r=(n-u)/a+2;break;case n:r=(u-g)/a+4;break}r*=60,r=Math.round(r)}return new k(r,c,d,i)}static _hue2rgb(b,u,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?b+(u-b)*6*g:g<1/2?u:g<2/3?b+(u-b)*(2/3-g)*6:b}static toRGBA(b){const u=b.h/360,{s:g,l:n,a:i}=b;let t,o,r;if(g===0)t=o=r=n;else{const c=n<.5?n*(1+g):n+g-n*g,d=2*n-c;t=k._hue2rgb(d,c,u+1/3),o=k._hue2rgb(d,c,u),r=k._hue2rgb(d,c,u-1/3)}return new v(Math.round(t*255),Math.round(o*255),Math.round(r*255),i)}}e.HSLA=k;class I{constructor(b,u,g,n){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,b),0)|0,this.s=w(Math.max(Math.min(1,u),0),3),this.v=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,n),0),3)}static equals(b,u){return b.h===u.h&&b.s===u.s&&b.v===u.v&&b.a===u.a}static fromRGBA(b){const u=b.r/255,g=b.g/255,n=b.b/255,i=Math.max(u,g,n),t=Math.min(u,g,n),o=i-t,r=i===0?0:o/i;let c;return o===0?c=0:i===u?c=((g-n)/o%6+6)%6:i===g?c=(n-u)/o+2:c=(u-g)/o+4,new I(Math.round(c*60),r,i,b.a)}static toRGBA(b){const{h:u,s:g,v:n,a:i}=b,t=n*g,o=t*(1-Math.abs(u/60%2-1)),r=n-t;let[c,d,a]=[0,0,0];return u<60?(c=t,d=o):u<120?(c=o,d=t):u<180?(d=t,a=o):u<240?(d=o,a=t):u<300?(c=o,a=t):u<=360&&(c=t,a=o),c=Math.round((c+r)*255),d=Math.round((d+r)*255),a=Math.round((a+r)*255),new v(c,d,a,i)}}e.HSVA=I;class L{constructor(b){if(b)if(b instanceof v)this.rgba=b;else if(b instanceof k)this._hsla=b,this.rgba=k.toRGBA(b);else if(b instanceof I)this._hsva=b,this.rgba=I.toRGBA(b);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(b){return L.Format.CSS.parseHex(b)||L.red}get hsla(){return this._hsla?this._hsla:k.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:I.fromRGBA(this.rgba)}equals(b){return!!b&&v.equals(this.rgba,b.rgba)&&k.equals(this.hsla,b.hsla)&&I.equals(this.hsva,b.hsva)}getRelativeLuminance(){const b=L._relativeLuminanceForComponent(this.rgba.r),u=L._relativeLuminanceForComponent(this.rgba.g),g=L._relativeLuminanceForComponent(this.rgba.b),n=.2126*b+.7152*u+.0722*g;return w(n,4)}static _relativeLuminanceForComponent(b){const u=b/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(b){const u=this.getRelativeLuminance(),g=b.getRelativeLuminance();return u>g}isDarkerThan(b){const u=this.getRelativeLuminance(),g=b.getRelativeLuminance();return u<g}lighten(b){return new L(new k(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*b,this.hsla.a))}darken(b){return new L(new k(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*b,this.hsla.a))}transparent(b){const{r:u,g,b:n,a:i}=this.rgba;return new L(new v(u,g,n,i*b))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new L(new v(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=L.Format.CSS.format(this)),this._toString}static getLighterColor(b,u,g){if(b.isLighterThan(u))return b;g=g||.5;const n=b.getRelativeLuminance(),i=u.getRelativeLuminance();return g=g*(i-n)/i,b.lighten(g)}static getDarkerColor(b,u,g){if(b.isDarkerThan(u))return b;g=g||.5;const n=b.getRelativeLuminance(),i=u.getRelativeLuminance();return g=g*(n-i)/n,b.darken(g)}}e.Color=L,L.white=new L(new v(255,255,255,1)),L.black=new L(new v(0,0,0,1)),L.red=new L(new v(255,0,0,1)),L.blue=new L(new v(0,0,255,1)),L.green=new L(new v(0,255,0,1)),L.cyan=new L(new v(0,255,255,1)),L.lightgrey=new L(new v(211,211,211,1)),L.transparent=new L(new v(0,0,0,0)),function(_){let b;(function(u){let g;(function(n){function i(p){return p.rgba.a===1?`rgb(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b})`:_.Format.CSS.formatRGBA(p)}n.formatRGB=i;function t(p){return`rgba(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b}, ${+p.rgba.a.toFixed(2)})`}n.formatRGBA=t;function o(p){return p.hsla.a===1?`hsl(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%)`:_.Format.CSS.formatHSLA(p)}n.formatHSL=o;function r(p){return`hsla(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%, ${p.hsla.a.toFixed(2)})`}n.formatHSLA=r;function c(p){const S=p.toString(16);return S.length!==2?"0"+S:S}function d(p){return`#${c(p.rgba.r)}${c(p.rgba.g)}${c(p.rgba.b)}`}n.formatHex=d;function a(p,S=!1){return S&&p.rgba.a===1?_.Format.CSS.formatHex(p):`#${c(p.rgba.r)}${c(p.rgba.g)}${c(p.rgba.b)}${c(Math.round(p.rgba.a*255))}`}n.formatHexA=a;function s(p){return p.isOpaque()?_.Format.CSS.formatHex(p):_.Format.CSS.formatRGBA(p)}n.format=s;function l(p){const S=p.length;if(S===0||p.charCodeAt(0)!==35)return null;if(S===7){const f=16*h(p.charCodeAt(1))+h(p.charCodeAt(2)),m=16*h(p.charCodeAt(3))+h(p.charCodeAt(4)),C=16*h(p.charCodeAt(5))+h(p.charCodeAt(6));return new _(new v(f,m,C,1))}if(S===9){const f=16*h(p.charCodeAt(1))+h(p.charCodeAt(2)),m=16*h(p.charCodeAt(3))+h(p.charCodeAt(4)),C=16*h(p.charCodeAt(5))+h(p.charCodeAt(6)),y=16*h(p.charCodeAt(7))+h(p.charCodeAt(8));return new _(new v(f,m,C,y/255))}if(S===4){const f=h(p.charCodeAt(1)),m=h(p.charCodeAt(2)),C=h(p.charCodeAt(3));return new _(new v(16*f+f,16*m+m,16*C+C))}if(S===5){const f=h(p.charCodeAt(1)),m=h(p.charCodeAt(2)),C=h(p.charCodeAt(3)),y=h(p.charCodeAt(4));return new _(new v(16*f+f,16*m+m,16*C+C,(16*y+y)/255))}return null}n.parseHex=l;function h(p){switch(p){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(g=u.CSS||(u.CSS={}))})(b=_.Format||(_.Format={}))}(L=e.Color||(e.Color={}))}),define(se[179],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function w(I){return{asString:()=>Se(this,void 0,void 0,function*(){return I}),asFile:()=>{},value:typeof I=="string"?I:void 0}}e.createStringDataTransferItem=w;function v(I,L,_){return{asString:()=>Se(this,void 0,void 0,function*(){return""}),asFile:()=>({name:I,uri:L,data:_}),value:void 0}}e.createFileDataTransferItem=v;class k{constructor(){this._entries=new Map}get size(){return this._entries.size}has(L){return this._entries.has(this.toKey(L))}get(L){var _;return(_=this._entries.get(this.toKey(L)))===null||_===void 0?void 0:_[0]}append(L,_){const b=this._entries.get(L);b?b.push(_):this._entries.set(this.toKey(L),[_])}replace(L,_){this._entries.set(this.toKey(L),[_])}delete(L){this._entries.delete(this.toKey(L))}*entries(){for(const[L,_]of this._entries.entries())for(const b of _)yield[L,b]}values(){return Array.from(this._entries.values()).flat()}forEach(L){for(const[_,b]of this.entries())L(b,_)}toKey(L){return L.toLowerCase()}}e.VSDataTransfer=k}),define(se[104],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function w(v,k,I){let L=null,_=null;if(typeof I.value=="function"?(L="value",_=I.value,_.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof I.get=="function"&&(L="get",_=I.get),!_)throw new Error("not supported");const b=`$memoize$${k}`;I[L]=function(...u){return this.hasOwnProperty(b)||Object.defineProperty(this,b,{configurable:!1,enumerable:!1,writable:!1,value:_.apply(this,u)}),this[b]}}e.memoize=w}),define(se[332],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class w{constructor(k,I,L,_){this.originalStart=k,this.originalLength=I,this.modifiedStart=L,this.modifiedLength=_}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=w}),define(se[14],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class w{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(c){setTimeout(()=>{throw c.stack?t.isErrorNoTelemetry(c)?new t(c.message+`

`+c.stack):new Error(c.message+`

`+c.stack):c},0)}}emit(c){this.listeners.forEach(d=>{d(c)})}onUnexpectedError(c){this.unexpectedErrorHandler(c),this.emit(c)}onUnexpectedExternalError(c){this.unexpectedErrorHandler(c)}}e.ErrorHandler=w,e.errorHandler=new w;function v(r){_(r)||e.errorHandler.onUnexpectedError(r)}e.onUnexpectedError=v;function k(r){_(r)||e.errorHandler.onUnexpectedExternalError(r)}e.onUnexpectedExternalError=k;function I(r){if(r instanceof Error){const{name:c,message:d}=r,a=r.stacktrace||r.stack;return{$isError:!0,name:c,message:d,stack:a,noTelemetry:t.isErrorNoTelemetry(r)}}return r}e.transformErrorForSerialization=I;const L="Canceled";function _(r){return r instanceof b?!0:r instanceof Error&&r.name===L&&r.message===L}e.isCancellationError=_;class b extends Error{constructor(){super(L);this.name=this.message}}e.CancellationError=b;function u(){const r=new Error(L);return r.name=r.message,r}e.canceled=u;function g(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}e.illegalArgument=g;function n(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}e.illegalState=n;class i extends Error{constructor(c){super("NotSupported");c&&(this.message=c)}}e.NotSupportedError=i;class t extends Error{constructor(c){super(c);this.name="CodeExpectedError"}static fromError(c){if(c instanceof t)return c;const d=new t;return d.message=c.message,d.stack=c.stack,d}static isErrorNoTelemetry(c){return c.name==="CodeExpectedError"}}e.ErrorNoTelemetry=t;class o extends Error{constructor(c){super(c||"An unexpected bug occurred.");Object.setPrototypeOf(this,o.prototype);debugger}}e.BugIndicatingError=o}),define(se[98],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function w(v){const k=this;let I=!1,L;return function(){return I||(I=!0,L=v.apply(k,arguments)),L}}e.once=w}),define(se[146],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class w{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=w,e.defaultGenerator=new w("id#")}),define(se[55],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var w;(function(v){function k(S){return S&&typeof S=="object"&&typeof S[Symbol.iterator]=="function"}v.is=k;const I=Object.freeze([]);function L(){return I}v.empty=L;function*_(S){yield S}v.single=_;function b(S){return S||I}v.from=b;function u(S){return!S||S[Symbol.iterator]().next().done===!0}v.isEmpty=u;function g(S){return S[Symbol.iterator]().next().value}v.first=g;function n(S,f){for(const m of S)if(f(m))return!0;return!1}v.some=n;function i(S,f){for(const m of S)if(f(m))return m}v.find=i;function*t(S,f){for(const m of S)f(m)&&(yield m)}v.filter=t;function*o(S,f){let m=0;for(const C of S)yield f(C,m++)}v.map=o;function*r(...S){for(const f of S)for(const m of f)yield m}v.concat=r;function*c(S){for(const f of S)for(const m of f)yield m}v.concatNested=c;function d(S,f,m){let C=m;for(const y of S)C=f(C,y);return C}v.reduce=d;function a(S,f){let m=0;for(const C of S)f(C,m++)}v.forEach=a;function*s(S,f,m=S.length){for(f<0&&(f+=S.length),m<0?m+=S.length:m>S.length&&(m=S.length);f<m;f++)yield S[f]}v.slice=s;function l(S,f=Number.POSITIVE_INFINITY){const m=[];if(f===0)return[m,S];const C=S[Symbol.iterator]();for(let y=0;y<f;y++){const E=C.next();if(E.done)return[m,v.empty()];m.push(E.value)}return[m,{[Symbol.iterator](){return C}}]}v.consume=l;function h(S){return l(S)[0]}v.collect=h;function p(S,f,m=(C,y)=>C===y){const C=S[Symbol.iterator](),y=f[Symbol.iterator]();for(;;){const E=C.next(),T=y.next();if(E.done!==T.done)return!1;if(E.done)return!0;if(!m(E.value,T.value))return!1}}v.equals=p})(w=e.Iterable||(e.Iterable={}))}),define(se[59],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class w{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,t){this._keyCodeToStr[i]=t,this._strToKeyCode[t.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const v=new w,k=new w,I=new w;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const L=[],_=Object.create(null),b=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let n=0;n<=193;n++)e.IMMUTABLE_CODE_TO_KEY_CODE[n]=-1;for(let n=0;n<=127;n++)e.IMMUTABLE_KEY_CODE_TO_CODE[n]=-1;(function(){const n="",i=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],o=[];for(const r of i){const[c,d,a,s,l,h,p,S,f,m]=r;if(o[a]||(o[a]=!0,L[a]=s,_[s]=a,b[s.toLowerCase()]=a,d&&(e.IMMUTABLE_CODE_TO_KEY_CODE[a]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[l]=a))),!t[l]){if(t[l]=!0,!h)throw new Error(`String representation missing for key code ${l} around scan code ${s}`);v.define(l,h),k.define(l,f||h),I.define(l,m||f||h)}p&&(e.EVENT_KEY_CODE_MAP[p]=l),S&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[S]=l)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var u;(function(n){function i(a){return v.keyCodeToStr(a)}n.toString=i;function t(a){return v.strToKeyCode(a)}n.fromString=t;function o(a){return k.keyCodeToStr(a)}n.toUserSettingsUS=o;function r(a){return I.keyCodeToStr(a)}n.toUserSettingsGeneral=r;function c(a){return k.strToKeyCode(a)||I.strToKeyCode(a)}n.fromUserSettings=c;function d(a){if(a>=93&&a<=108)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return v.keyCodeToStr(a)}n.toElectronAccelerator=d})(u=e.KeyCodeUtils||(e.KeyCodeUtils={}));function g(n,i){const t=(i&65535)<<16>>>0;return(n|t)>>>0}e.KeyChord=g}),define(se[105],re([1,0,14]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function v(g,n){if(g===0)return null;const i=(g&65535)>>>0,t=(g&4294901760)>>>16;return t!==0?new L([k(i,n),k(t,n)]):new L([k(i,n)])}e.createKeybinding=v;function k(g,n){const i=!!(g&2048),t=!!(g&256),o=n===2?t:i,r=!!(g&1024),c=!!(g&512),d=n===2?i:t,a=g&255;return new I(o,r,c,d,a)}e.createSimpleKeybinding=k;class I{constructor(n,i,t,o,r){this.ctrlKey=n,this.shiftKey=i,this.altKey=t,this.metaKey=o,this.keyCode=r}equals(n){return this.ctrlKey===n.ctrlKey&&this.shiftKey===n.shiftKey&&this.altKey===n.altKey&&this.metaKey===n.metaKey&&this.keyCode===n.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new L([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=I;class L{constructor(n){if(n.length===0)throw(0,w.illegalArgument)("parts");this.parts=n}}e.ChordKeybinding=L;class _{constructor(n,i,t,o,r){this.ctrlKey=n,this.shiftKey=i,this.altKey=t,this.metaKey=o,this.scanCode=r}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=_;class b{constructor(n,i,t,o,r,c){this.ctrlKey=n,this.shiftKey=i,this.altKey=t,this.metaKey=o,this.keyLabel=r,this.keyAriaLabel=c}}e.ResolvedKeybindingPart=b;class u{}e.ResolvedKeybinding=u}),define(se[147],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class w{constructor(k){this.executor=k,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(k){this._error=k}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=w}),define(se[2],re([1,0,98,55]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.SafeDisposable=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const k=!1;let I=null;function L(S){I=S}if(e.setDisposableTracker=L,k){const S="__is_disposable_tracked__";L(new class{trackDisposable(f){const m=new Error("Potentially leaked disposable").stack;setTimeout(()=>{f[S]||console.log(m)},3e3)}setParent(f,m){if(f&&f!==a.None)try{f[S]=!0}catch{}}markAsDisposed(f){if(f&&f!==a.None)try{f[S]=!0}catch{}}markAsSingleton(f){}})}function _(S){return I==null||I.trackDisposable(S),S}function b(S){I==null||I.markAsDisposed(S)}function u(S,f){I==null||I.setParent(S,f)}function g(S,f){if(!!I)for(const m of S)I.setParent(m,f)}function n(S){return I==null||I.markAsSingleton(S),S}e.markAsSingleton=n;class i extends Error{constructor(f){super(`Encountered errors while disposing of store. Errors: [${f.join(", ")}]`);this.errors=f}}e.MultiDisposeError=i;function t(S){return typeof S.dispose=="function"&&S.dispose.length===0}e.isDisposable=t;function o(S){if(v.Iterable.is(S)){const f=[];for(const m of S)if(m)try{m.dispose()}catch(C){f.push(C)}if(f.length===1)throw f[0];if(f.length>1)throw new i(f);return Array.isArray(S)?[]:S}else if(S)return S.dispose(),S}e.dispose=o;function r(...S){const f=c(()=>o(S));return g(S,f),f}e.combinedDisposable=r;function c(S){const f=_({dispose:(0,w.once)(()=>{b(f),S()})});return f}e.toDisposable=c;class d{constructor(){this._toDispose=new Set,this._isDisposed=!1,_(this)}dispose(){this._isDisposed||(b(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{o(this._toDispose.values())}finally{this._toDispose.clear()}}add(f){if(!f)return f;if(f===this)throw new Error("Cannot register a disposable on itself!");return u(f,this),this._isDisposed?d.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(f),f}}e.DisposableStore=d,d.DISABLE_DISPOSED_WARNING=!1;class a{constructor(){this._store=new d,_(this),u(this._store,this)}dispose(){b(this),this._store.dispose()}_register(f){if(f===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(f)}}e.Disposable=a,a.None=Object.freeze({dispose(){}});class s{constructor(){this._isDisposed=!1,_(this)}get value(){return this._isDisposed?void 0:this._value}set value(f){var m;this._isDisposed||f===this._value||((m=this._value)===null||m===void 0||m.dispose(),f&&u(f,this),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,b(this),(f=this._value)===null||f===void 0||f.dispose(),this._value=void 0}clearAndLeak(){const f=this._value;return this._value=void 0,f&&u(f,null),f}}e.MutableDisposable=s;class l{constructor(f){this._disposable=f,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=l;class h{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,_(this)}set(f){let m=f;return this.unset=()=>m=void 0,this.isset=()=>m!==void 0,this.dispose=()=>{m&&(m(),m=void 0,b(this))},this}}e.SafeDisposable=h;class p{constructor(f){this.object=f}dispose(){}}e.ImmortalReference=p}),define(se[73],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class w{constructor(I){this.element=I,this.next=w.Undefined,this.prev=w.Undefined}}w.Undefined=new w(void 0);class v{constructor(){this._first=w.Undefined,this._last=w.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===w.Undefined}clear(){let I=this._first;for(;I!==w.Undefined;){const L=I.next;I.prev=w.Undefined,I.next=w.Undefined,I=L}this._first=w.Undefined,this._last=w.Undefined,this._size=0}unshift(I){return this._insert(I,!1)}push(I){return this._insert(I,!0)}_insert(I,L){const _=new w(I);if(this._first===w.Undefined)this._first=_,this._last=_;else if(L){const u=this._last;this._last=_,_.prev=u,u.next=_}else{const u=this._first;this._first=_,_.next=u,u.prev=_}this._size+=1;let b=!1;return()=>{b||(b=!0,this._remove(_))}}shift(){if(this._first!==w.Undefined){const I=this._first.element;return this._remove(this._first),I}}pop(){if(this._last!==w.Undefined){const I=this._last.element;return this._remove(this._last),I}}_remove(I){if(I.prev!==w.Undefined&&I.next!==w.Undefined){const L=I.prev;L.next=I.next,I.next.prev=L}else I.prev===w.Undefined&&I.next===w.Undefined?(this._first=w.Undefined,this._last=w.Undefined):I.next===w.Undefined?(this._last=this._last.prev,this._last.next=w.Undefined):I.prev===w.Undefined&&(this._first=this._first.next,this._first.prev=w.Undefined);this._size-=1}*[Symbol.iterator](){let I=this._first;for(;I!==w.Undefined;)yield I.element,I=I.next}}e.LinkedList=v}),function(G,e){typeof exports=="object"&&typeof module!="undefined"?e(exports):typeof define=="function"&&define.amd?define(se[333],re([0]),e):(G=typeof globalThis!="undefined"?globalThis:G||self,e(G.marked={}))}(this,function(G){"use strict";function e(z,X){for(var $=0;$<X.length;$++){var H=X[$];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(z,H.key,H)}}function w(z,X,$){return X&&e(z.prototype,X),$&&e(z,$),Object.defineProperty(z,"prototype",{writable:!1}),z}function v(z,X){if(!!z){if(typeof z=="string")return k(z,X);var $=Object.prototype.toString.call(z).slice(8,-1);if($==="Object"&&z.constructor&&($=z.constructor.name),$==="Map"||$==="Set")return Array.from(z);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return k(z,X)}}function k(z,X){(X==null||X>z.length)&&(X=z.length);for(var $=0,H=new Array(X);$<X;$++)H[$]=z[$];return H}function I(z,X){var $=typeof Symbol!="undefined"&&z[Symbol.iterator]||z["@@iterator"];if($)return($=$.call(z)).next.bind($);if(Array.isArray(z)||($=v(z))||X&&z&&typeof z.length=="number"){$&&(z=$);var H=0;return function(){return H>=z.length?{done:!0}:{done:!1,value:z[H++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}G.defaults=L();function _(z){G.defaults=z}var b=/[&<>"']/,u=/[&<>"']/g,g=/[<>"']|&(?!#?\w+;)/,n=/[<>"']|&(?!#?\w+;)/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=function(X){return i[X]};function o(z,X){if(X){if(b.test(z))return z.replace(u,t)}else if(g.test(z))return z.replace(n,t);return z}var r=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function c(z){return z.replace(r,function(X,$){return $=$.toLowerCase(),$==="colon"?":":$.charAt(0)==="#"?$.charAt(1)==="x"?String.fromCharCode(parseInt($.substring(2),16)):String.fromCharCode(+$.substring(1)):""})}var d=/(^|[^\[])\^/g;function a(z,X){z=typeof z=="string"?z:z.source,X=X||"";var $={replace:function(K,ce){return ce=ce.source||ce,ce=ce.replace(d,"$1"),z=z.replace(K,ce),$},getRegex:function(){return new RegExp(z,X)}};return $}var s=/[^\w:]/g,l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(z,X,$){if(z){var H;try{H=decodeURIComponent(c($)).replace(s,"").toLowerCase()}catch{return null}if(H.indexOf("javascript:")===0||H.indexOf("vbscript:")===0||H.indexOf("data:")===0)return null}X&&!l.test($)&&($=C(X,$));try{$=encodeURI($).replace(/%25/g,"%")}catch{return null}return $}var p={},S=/^[^:]+:\/*[^/]*$/,f=/^([^:]+:)[\s\S]*$/,m=/^([^:]+:\/*[^/]*)[\s\S]*$/;function C(z,X){p[" "+z]||(S.test(z)?p[" "+z]=z+"/":p[" "+z]=N(z,"/",!0)),z=p[" "+z];var $=z.indexOf(":")===-1;return X.substring(0,2)==="//"?$?X:z.replace(f,"$1")+X:X.charAt(0)==="/"?$?X:z.replace(m,"$1")+X:z+X}var y={exec:function(){}};function E(z){for(var X=1,$,H;X<arguments.length;X++){$=arguments[X];for(H in $)Object.prototype.hasOwnProperty.call($,H)&&(z[H]=$[H])}return z}function T(z,X){var $=z.replace(/\|/g,function(ce,le,he){for(var me=!1,Ce=le;--Ce>=0&&he[Ce]==="\\";)me=!me;return me?"|":" |"}),H=$.split(/ \|/),K=0;if(H[0].trim()||H.shift(),H.length>0&&!H[H.length-1].trim()&&H.pop(),H.length>X)H.splice(X);else for(;H.length<X;)H.push("");for(;K<H.length;K++)H[K]=H[K].trim().replace(/\\\|/g,"|");return H}function N(z,X,$){var H=z.length;if(H===0)return"";for(var K=0;K<H;){var ce=z.charAt(H-K-1);if(ce===X&&!$)K++;else if(ce!==X&&$)K++;else break}return z.slice(0,H-K)}function F(z,X){if(z.indexOf(X[1])===-1)return-1;for(var $=z.length,H=0,K=0;K<$;K++)if(z[K]==="\\")K++;else if(z[K]===X[0])H++;else if(z[K]===X[1]&&(H--,H<0))return K;return-1}function O(z){z&&z.sanitize&&!z.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(z,X){if(X<1)return"";for(var $="";X>1;)X&1&&($+=z),X>>=1,z+=z;return $+z}function D(z,X,$,H){var K=X.href,ce=X.title?o(X.title):null,le=z[1].replace(/\\([\[\]])/g,"$1");if(z[0].charAt(0)!=="!"){H.state.inLink=!0;var he={type:"link",raw:$,href:K,title:ce,text:le,tokens:H.inlineTokens(le,[])};return H.state.inLink=!1,he}return{type:"image",raw:$,href:K,title:ce,text:o(le)}}function M(z,X){var $=z.match(/^(\s+)(?:```)/);if($===null)return X;var H=$[1];return X.split(`
`).map(function(K){var ce=K.match(/^\s+/);if(ce===null)return K;var le=ce[0];return le.length>=H.length?K.slice(H.length):K}).join(`
`)}var R=function(){function z($){this.options=$||G.defaults}var X=z.prototype;return X.space=function(H){var K=this.rules.block.newline.exec(H);if(K&&K[0].length>0)return{type:"space",raw:K[0]}},X.code=function(H){var K=this.rules.block.code.exec(H);if(K){var ce=K[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:K[0],codeBlockStyle:"indented",text:this.options.pedantic?ce:N(ce,`
`)}}},X.fences=function(H){var K=this.rules.block.fences.exec(H);if(K){var ce=K[0],le=M(ce,K[3]||"");return{type:"code",raw:ce,lang:K[2]?K[2].trim():K[2],text:le}}},X.heading=function(H){var K=this.rules.block.heading.exec(H);if(K){var ce=K[2].trim();if(/#$/.test(ce)){var le=N(ce,"#");(this.options.pedantic||!le||/ $/.test(le))&&(ce=le.trim())}var he={type:"heading",raw:K[0],depth:K[1].length,text:ce,tokens:[]};return this.lexer.inline(he.text,he.tokens),he}},X.hr=function(H){var K=this.rules.block.hr.exec(H);if(K)return{type:"hr",raw:K[0]}},X.blockquote=function(H){var K=this.rules.block.blockquote.exec(H);if(K){var ce=K[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:K[0],tokens:this.lexer.blockTokens(ce,[]),text:ce}}},X.list=function(H){var K=this.rules.block.list.exec(H);if(K){var ce,le,he,me,Ce,Le,ye,De,Ae,pe,ue,ae,ge=K[1].trim(),_e=ge.length>1,we={type:"list",raw:"",ordered:_e,start:_e?+ge.slice(0,-1):"",loose:!1,items:[]};ge=_e?"\\d{1,9}\\"+ge.slice(-1):"\\"+ge,this.options.pedantic&&(ge=_e?ge:"[*+-]");for(var Ee=new RegExp("^( {0,3}"+ge+")((?:[	 ][^\\n]*)?(?:\\n|$))");H&&(ae=!1,!(!(K=Ee.exec(H))||this.rules.block.hr.test(H)));){if(ce=K[0],H=H.substring(ce.length),De=K[2].split(`
`,1)[0],Ae=H.split(`
`,1)[0],this.options.pedantic?(me=2,ue=De.trimLeft()):(me=K[2].search(/[^ ]/),me=me>4?1:me,ue=De.slice(me),me+=K[1].length),Le=!1,!De&&/^ *$/.test(Ae)&&(ce+=Ae+`
`,H=H.substring(Ae.length+1),ae=!0),!ae)for(var be=new RegExp("^ {0,"+Math.min(3,me-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),ve=new RegExp("^ {0,"+Math.min(3,me-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");H&&(pe=H.split(`
`,1)[0],De=pe,this.options.pedantic&&(De=De.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(be.test(De)||ve.test(H)));){if(De.search(/[^ ]/)>=me||!De.trim())ue+=`
`+De.slice(me);else if(!Le)ue+=`
`+De;else break;!Le&&!De.trim()&&(Le=!0),ce+=pe+`
`,H=H.substring(pe.length+1)}we.loose||(ye?we.loose=!0:/\n *\n *$/.test(ce)&&(ye=!0)),this.options.gfm&&(le=/^\[[ xX]\] /.exec(ue),le&&(he=le[0]!=="[ ] ",ue=ue.replace(/^\[[ xX]\] +/,""))),we.items.push({type:"list_item",raw:ce,task:!!le,checked:he,loose:!1,text:ue}),we.raw+=ce}we.items[we.items.length-1].raw=ce.trimRight(),we.items[we.items.length-1].text=ue.trimRight(),we.raw=we.raw.trimRight();var Ie=we.items.length;for(Ce=0;Ce<Ie;Ce++){this.lexer.state.top=!1,we.items[Ce].tokens=this.lexer.blockTokens(we.items[Ce].text,[]);var Me=we.items[Ce].tokens.filter(function(Fe){return Fe.type==="space"}),Te=Me.every(function(Fe){for(var Pe=Fe.raw.split(""),We=0,He=I(Pe),Xe;!(Xe=He()).done;){var it=Xe.value;if(it===`
`&&(We+=1),We>1)return!0}return!1});!we.loose&&Me.length&&Te&&(we.loose=!0,we.items[Ce].loose=!0)}return we}},X.html=function(H){var K=this.rules.block.html.exec(H);if(K){var ce={type:"html",raw:K[0],pre:!this.options.sanitizer&&(K[1]==="pre"||K[1]==="script"||K[1]==="style"),text:K[0]};return this.options.sanitize&&(ce.type="paragraph",ce.text=this.options.sanitizer?this.options.sanitizer(K[0]):o(K[0]),ce.tokens=[],this.lexer.inline(ce.text,ce.tokens)),ce}},X.def=function(H){var K=this.rules.block.def.exec(H);if(K){K[3]&&(K[3]=K[3].substring(1,K[3].length-1));var ce=K[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ce,raw:K[0],href:K[2],title:K[3]}}},X.table=function(H){var K=this.rules.block.table.exec(H);if(K){var ce={type:"table",header:T(K[1]).map(function(ye){return{text:ye}}),align:K[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:K[3]&&K[3].trim()?K[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ce.header.length===ce.align.length){ce.raw=K[0];var le=ce.align.length,he,me,Ce,Le;for(he=0;he<le;he++)/^ *-+: *$/.test(ce.align[he])?ce.align[he]="right":/^ *:-+: *$/.test(ce.align[he])?ce.align[he]="center":/^ *:-+ *$/.test(ce.align[he])?ce.align[he]="left":ce.align[he]=null;for(le=ce.rows.length,he=0;he<le;he++)ce.rows[he]=T(ce.rows[he],ce.header.length).map(function(ye){return{text:ye}});for(le=ce.header.length,me=0;me<le;me++)ce.header[me].tokens=[],this.lexer.inline(ce.header[me].text,ce.header[me].tokens);for(le=ce.rows.length,me=0;me<le;me++)for(Le=ce.rows[me],Ce=0;Ce<Le.length;Ce++)Le[Ce].tokens=[],this.lexer.inline(Le[Ce].text,Le[Ce].tokens);return ce}}},X.lheading=function(H){var K=this.rules.block.lheading.exec(H);if(K){var ce={type:"heading",raw:K[0],depth:K[2].charAt(0)==="="?1:2,text:K[1],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},X.paragraph=function(H){var K=this.rules.block.paragraph.exec(H);if(K){var ce={type:"paragraph",raw:K[0],text:K[1].charAt(K[1].length-1)===`
`?K[1].slice(0,-1):K[1],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},X.text=function(H){var K=this.rules.block.text.exec(H);if(K){var ce={type:"text",raw:K[0],text:K[0],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},X.escape=function(H){var K=this.rules.inline.escape.exec(H);if(K)return{type:"escape",raw:K[0],text:o(K[1])}},X.tag=function(H){var K=this.rules.inline.tag.exec(H);if(K)return!this.lexer.state.inLink&&/^<a /i.test(K[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(K[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(K[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(K[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:K[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(K[0]):o(K[0]):K[0]}},X.link=function(H){var K=this.rules.inline.link.exec(H);if(K){var ce=K[2].trim();if(!this.options.pedantic&&/^</.test(ce)){if(!/>$/.test(ce))return;var le=N(ce.slice(0,-1),"\\");if((ce.length-le.length)%2==0)return}else{var he=F(K[2],"()");if(he>-1){var me=K[0].indexOf("!")===0?5:4,Ce=me+K[1].length+he;K[2]=K[2].substring(0,he),K[0]=K[0].substring(0,Ce).trim(),K[3]=""}}var Le=K[2],ye="";if(this.options.pedantic){var De=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Le);De&&(Le=De[1],ye=De[3])}else ye=K[3]?K[3].slice(1,-1):"";return Le=Le.trim(),/^</.test(Le)&&(this.options.pedantic&&!/>$/.test(ce)?Le=Le.slice(1):Le=Le.slice(1,-1)),D(K,{href:Le&&Le.replace(this.rules.inline._escapes,"$1"),title:ye&&ye.replace(this.rules.inline._escapes,"$1")},K[0],this.lexer)}},X.reflink=function(H,K){var ce;if((ce=this.rules.inline.reflink.exec(H))||(ce=this.rules.inline.nolink.exec(H))){var le=(ce[2]||ce[1]).replace(/\s+/g," ");if(le=K[le.toLowerCase()],!le||!le.href){var he=ce[0].charAt(0);return{type:"text",raw:he,text:he}}return D(ce,le,ce[0],this.lexer)}},X.emStrong=function(H,K,ce){ce===void 0&&(ce="");var le=this.rules.inline.emStrong.lDelim.exec(H);if(!!le&&!(le[3]&&ce.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var he=le[1]||le[2]||"";if(!he||he&&(ce===""||this.rules.inline.punctuation.exec(ce))){var me=le[0].length-1,Ce,Le,ye=me,De=0,Ae=le[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ae.lastIndex=0,K=K.slice(-1*H.length+me);(le=Ae.exec(K))!=null;)if(Ce=le[1]||le[2]||le[3]||le[4]||le[5]||le[6],!!Ce){if(Le=Ce.length,le[3]||le[4]){ye+=Le;continue}else if((le[5]||le[6])&&me%3&&!((me+Le)%3)){De+=Le;continue}if(ye-=Le,!(ye>0)){if(Le=Math.min(Le,Le+ye+De),Math.min(me,Le)%2){var pe=H.slice(1,me+le.index+Le);return{type:"em",raw:H.slice(0,me+le.index+Le+1),text:pe,tokens:this.lexer.inlineTokens(pe,[])}}var ue=H.slice(2,me+le.index+Le-1);return{type:"strong",raw:H.slice(0,me+le.index+Le+1),text:ue,tokens:this.lexer.inlineTokens(ue,[])}}}}}},X.codespan=function(H){var K=this.rules.inline.code.exec(H);if(K){var ce=K[2].replace(/\n/g," "),le=/[^ ]/.test(ce),he=/^ /.test(ce)&&/ $/.test(ce);return le&&he&&(ce=ce.substring(1,ce.length-1)),ce=o(ce,!0),{type:"codespan",raw:K[0],text:ce}}},X.br=function(H){var K=this.rules.inline.br.exec(H);if(K)return{type:"br",raw:K[0]}},X.del=function(H){var K=this.rules.inline.del.exec(H);if(K)return{type:"del",raw:K[0],text:K[2],tokens:this.lexer.inlineTokens(K[2],[])}},X.autolink=function(H,K){var ce=this.rules.inline.autolink.exec(H);if(ce){var le,he;return ce[2]==="@"?(le=o(this.options.mangle?K(ce[1]):ce[1]),he="mailto:"+le):(le=o(ce[1]),he=le),{type:"link",raw:ce[0],text:le,href:he,tokens:[{type:"text",raw:le,text:le}]}}},X.url=function(H,K){var ce;if(ce=this.rules.inline.url.exec(H)){var le,he;if(ce[2]==="@")le=o(this.options.mangle?K(ce[0]):ce[0]),he="mailto:"+le;else{var me;do me=ce[0],ce[0]=this.rules.inline._backpedal.exec(ce[0])[0];while(me!==ce[0]);le=o(ce[0]),ce[1]==="www."?he="http://"+le:he=le}return{type:"link",raw:ce[0],text:le,href:he,tokens:[{type:"text",raw:le,text:le}]}}},X.inlineText=function(H,K){var ce=this.rules.inline.text.exec(H);if(ce){var le;return this.lexer.state.inRawBlock?le=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ce[0]):o(ce[0]):ce[0]:le=o(this.options.smartypants?K(ce[0]):ce[0]),{type:"text",raw:ce[0],text:le}}},z}(),B={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};B._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,B._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,B.def=a(B.def).replace("label",B._label).replace("title",B._title).getRegex(),B.bullet=/(?:[*+-]|\d{1,9}[.)])/,B.listItemStart=a(/^( *)(bull) */).replace("bull",B.bullet).getRegex(),B.list=a(B.list).replace(/bull/g,B.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+B.def.source+")").getRegex(),B._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",B._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,B.html=a(B.html,"i").replace("comment",B._comment).replace("tag",B._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),B.paragraph=a(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.blockquote=a(B.blockquote).replace("paragraph",B.paragraph).getRegex(),B.normal=E({},B),B.gfm=E({},B.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),B.gfm.table=a(B.gfm.table).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.gfm.paragraph=a(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",B.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.pedantic=E({},B.normal,{html:a(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",B._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:y,paragraph:a(B.normal._paragraph).replace("hr",B.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",B.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=a(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=a(B._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=a(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=a(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=a(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=a(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=a(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=a(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=a(W.reflink).replace("label",W._label).replace("ref",B._label).getRegex(),W.nolink=a(W.nolink).replace("ref",B._label).getRegex(),W.reflinkSearch=a(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=E({},W),W.pedantic=E({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:a(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:a(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=E({},W.normal,{escape:a(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=a(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=E({},W.gfm,{br:a(W.br).replace("{2,}","*").getRegex(),text:a(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function V(z){return z.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function A(z){var X="",$,H,K=z.length;for($=0;$<K;$++)H=z.charCodeAt($),Math.random()>.5&&(H="x"+H.toString(16)),X+="&#"+H+";";return X}var Y=function(){function z($){this.tokens=[],this.tokens.links=Object.create(null),this.options=$||G.defaults,this.options.tokenizer=this.options.tokenizer||new R,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var H={block:B.normal,inline:W.normal};this.options.pedantic?(H.block=B.pedantic,H.inline=W.pedantic):this.options.gfm&&(H.block=B.gfm,this.options.breaks?H.inline=W.breaks:H.inline=W.gfm),this.tokenizer.rules=H}z.lex=function(H,K){var ce=new z(K);return ce.lex(H)},z.lexInline=function(H,K){var ce=new z(K);return ce.inlineTokens(H)};var X=z.prototype;return X.lex=function(H){H=H.replace(/\r\n|\r/g,`
`),this.blockTokens(H,this.tokens);for(var K;K=this.inlineQueue.shift();)this.inlineTokens(K.src,K.tokens);return this.tokens},X.blockTokens=function(H,K){var ce=this;K===void 0&&(K=[]),this.options.pedantic?H=H.replace(/\t/g,"    ").replace(/^ +$/gm,""):H=H.replace(/^( *)(\t+)/gm,function(ye,De,Ae){return De+"    ".repeat(Ae.length)});for(var le,he,me,Ce;H;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ye){return(le=ye.call({lexer:ce},H,K))?(H=H.substring(le.raw.length),K.push(le),!0):!1}))){if(le=this.tokenizer.space(H)){H=H.substring(le.raw.length),le.raw.length===1&&K.length>0?K[K.length-1].raw+=`
`:K.push(le);continue}if(le=this.tokenizer.code(H)){H=H.substring(le.raw.length),he=K[K.length-1],he&&(he.type==="paragraph"||he.type==="text")?(he.raw+=`
`+le.raw,he.text+=`
`+le.text,this.inlineQueue[this.inlineQueue.length-1].src=he.text):K.push(le);continue}if(le=this.tokenizer.fences(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.heading(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.hr(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.blockquote(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.list(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.html(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.def(H)){H=H.substring(le.raw.length),he=K[K.length-1],he&&(he.type==="paragraph"||he.type==="text")?(he.raw+=`
`+le.raw,he.text+=`
`+le.raw,this.inlineQueue[this.inlineQueue.length-1].src=he.text):this.tokens.links[le.tag]||(this.tokens.links[le.tag]={href:le.href,title:le.title});continue}if(le=this.tokenizer.table(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.lheading(H)){H=H.substring(le.raw.length),K.push(le);continue}if(me=H,this.options.extensions&&this.options.extensions.startBlock&&function(){var ye=1/0,De=H.slice(1),Ae=void 0;ce.options.extensions.startBlock.forEach(function(pe){Ae=pe.call({lexer:this},De),typeof Ae=="number"&&Ae>=0&&(ye=Math.min(ye,Ae))}),ye<1/0&&ye>=0&&(me=H.substring(0,ye+1))}(),this.state.top&&(le=this.tokenizer.paragraph(me))){he=K[K.length-1],Ce&&he.type==="paragraph"?(he.raw+=`
`+le.raw,he.text+=`
`+le.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=he.text):K.push(le),Ce=me.length!==H.length,H=H.substring(le.raw.length);continue}if(le=this.tokenizer.text(H)){H=H.substring(le.raw.length),he=K[K.length-1],he&&he.type==="text"?(he.raw+=`
`+le.raw,he.text+=`
`+le.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=he.text):K.push(le);continue}if(H){var Le="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(Le);break}else throw new Error(Le)}}return this.state.top=!0,K},X.inline=function(H,K){this.inlineQueue.push({src:H,tokens:K})},X.inlineTokens=function(H,K){var ce=this;K===void 0&&(K=[]);var le,he,me,Ce=H,Le,ye,De;if(this.tokens.links){var Ae=Object.keys(this.tokens.links);if(Ae.length>0)for(;(Le=this.tokenizer.rules.inline.reflinkSearch.exec(Ce))!=null;)Ae.includes(Le[0].slice(Le[0].lastIndexOf("[")+1,-1))&&(Ce=Ce.slice(0,Le.index)+"["+P("a",Le[0].length-2)+"]"+Ce.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Le=this.tokenizer.rules.inline.blockSkip.exec(Ce))!=null;)Ce=Ce.slice(0,Le.index)+"["+P("a",Le[0].length-2)+"]"+Ce.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Le=this.tokenizer.rules.inline.escapedEmSt.exec(Ce))!=null;)Ce=Ce.slice(0,Le.index)+"++"+Ce.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;H;)if(ye||(De=""),ye=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ue){return(le=ue.call({lexer:ce},H,K))?(H=H.substring(le.raw.length),K.push(le),!0):!1}))){if(le=this.tokenizer.escape(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.tag(H)){H=H.substring(le.raw.length),he=K[K.length-1],he&&le.type==="text"&&he.type==="text"?(he.raw+=le.raw,he.text+=le.text):K.push(le);continue}if(le=this.tokenizer.link(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.reflink(H,this.tokens.links)){H=H.substring(le.raw.length),he=K[K.length-1],he&&le.type==="text"&&he.type==="text"?(he.raw+=le.raw,he.text+=le.text):K.push(le);continue}if(le=this.tokenizer.emStrong(H,Ce,De)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.codespan(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.br(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.del(H)){H=H.substring(le.raw.length),K.push(le);continue}if(le=this.tokenizer.autolink(H,A)){H=H.substring(le.raw.length),K.push(le);continue}if(!this.state.inLink&&(le=this.tokenizer.url(H,A))){H=H.substring(le.raw.length),K.push(le);continue}if(me=H,this.options.extensions&&this.options.extensions.startInline&&function(){var ue=1/0,ae=H.slice(1),ge=void 0;ce.options.extensions.startInline.forEach(function(_e){ge=_e.call({lexer:this},ae),typeof ge=="number"&&ge>=0&&(ue=Math.min(ue,ge))}),ue<1/0&&ue>=0&&(me=H.substring(0,ue+1))}(),le=this.tokenizer.inlineText(me,V)){H=H.substring(le.raw.length),le.raw.slice(-1)!=="_"&&(De=le.raw.slice(-1)),ye=!0,he=K[K.length-1],he&&he.type==="text"?(he.raw+=le.raw,he.text+=le.text):K.push(le);continue}if(H){var pe="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(pe);break}else throw new Error(pe)}}return K},w(z,null,[{key:"rules",get:function(){return{block:B,inline:W}}}]),z}(),ee=function(){function z($){this.options=$||G.defaults}var X=z.prototype;return X.code=function(H,K,ce){var le=(K||"").match(/\S*/)[0];if(this.options.highlight){var he=this.options.highlight(H,le);he!=null&&he!==H&&(ce=!0,H=he)}return H=H.replace(/\n$/,"")+`
`,le?'<pre><code class="'+this.options.langPrefix+o(le,!0)+'">'+(ce?H:o(H,!0))+`</code></pre>
`:"<pre><code>"+(ce?H:o(H,!0))+`</code></pre>
`},X.blockquote=function(H){return`<blockquote>
`+H+`</blockquote>
`},X.html=function(H){return H},X.heading=function(H,K,ce,le){if(this.options.headerIds){var he=this.options.headerPrefix+le.slug(ce);return"<h"+K+' id="'+he+'">'+H+"</h"+K+`>
`}return"<h"+K+">"+H+"</h"+K+`>
`},X.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},X.list=function(H,K,ce){var le=K?"ol":"ul",he=K&&ce!==1?' start="'+ce+'"':"";return"<"+le+he+`>
`+H+"</"+le+`>
`},X.listitem=function(H){return"<li>"+H+`</li>
`},X.checkbox=function(H){return"<input "+(H?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},X.paragraph=function(H){return"<p>"+H+`</p>
`},X.table=function(H,K){return K&&(K="<tbody>"+K+"</tbody>"),`<table>
<thead>
`+H+`</thead>
`+K+`</table>
`},X.tablerow=function(H){return`<tr>
`+H+`</tr>
`},X.tablecell=function(H,K){var ce=K.header?"th":"td",le=K.align?"<"+ce+' align="'+K.align+'">':"<"+ce+">";return le+H+("</"+ce+`>
`)},X.strong=function(H){return"<strong>"+H+"</strong>"},X.em=function(H){return"<em>"+H+"</em>"},X.codespan=function(H){return"<code>"+H+"</code>"},X.br=function(){return this.options.xhtml?"<br/>":"<br>"},X.del=function(H){return"<del>"+H+"</del>"},X.link=function(H,K,ce){if(H=h(this.options.sanitize,this.options.baseUrl,H),H===null)return ce;var le='<a href="'+o(H)+'"';return K&&(le+=' title="'+K+'"'),le+=">"+ce+"</a>",le},X.image=function(H,K,ce){if(H=h(this.options.sanitize,this.options.baseUrl,H),H===null)return ce;var le='<img src="'+H+'" alt="'+ce+'"';return K&&(le+=' title="'+K+'"'),le+=this.options.xhtml?"/>":">",le},X.text=function(H){return H},z}(),U=function(){function z(){}var X=z.prototype;return X.strong=function(H){return H},X.em=function(H){return H},X.codespan=function(H){return H},X.del=function(H){return H},X.html=function(H){return H},X.text=function(H){return H},X.link=function(H,K,ce){return""+ce},X.image=function(H,K,ce){return""+ce},X.br=function(){return""},z}(),j=function(){function z(){this.seen={}}var X=z.prototype;return X.serialize=function(H){return H.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},X.getNextSafeSlug=function(H,K){var ce=H,le=0;if(this.seen.hasOwnProperty(ce)){le=this.seen[H];do le++,ce=H+"-"+le;while(this.seen.hasOwnProperty(ce))}return K||(this.seen[H]=le,this.seen[ce]=0),ce},X.slug=function(H,K){K===void 0&&(K={});var ce=this.serialize(H);return this.getNextSafeSlug(ce,K.dryrun)},z}(),Z=function(){function z($){this.options=$||G.defaults,this.options.renderer=this.options.renderer||new ee,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new U,this.slugger=new j}z.parse=function(H,K){var ce=new z(K);return ce.parse(H)},z.parseInline=function(H,K){var ce=new z(K);return ce.parseInline(H)};var X=z.prototype;return X.parse=function(H,K){K===void 0&&(K=!0);var ce="",le,he,me,Ce,Le,ye,De,Ae,pe,ue,ae,ge,_e,we,Ee,be,ve,Ie,Me,Te=H.length;for(le=0;le<Te;le++){if(ue=H[le],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ue.type]&&(Me=this.options.extensions.renderers[ue.type].call({parser:this},ue),Me!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ue.type))){ce+=Me||"";continue}switch(ue.type){case"space":continue;case"hr":{ce+=this.renderer.hr();continue}case"heading":{ce+=this.renderer.heading(this.parseInline(ue.tokens),ue.depth,c(this.parseInline(ue.tokens,this.textRenderer)),this.slugger);continue}case"code":{ce+=this.renderer.code(ue.text,ue.lang,ue.escaped);continue}case"table":{for(Ae="",De="",Ce=ue.header.length,he=0;he<Ce;he++)De+=this.renderer.tablecell(this.parseInline(ue.header[he].tokens),{header:!0,align:ue.align[he]});for(Ae+=this.renderer.tablerow(De),pe="",Ce=ue.rows.length,he=0;he<Ce;he++){for(ye=ue.rows[he],De="",Le=ye.length,me=0;me<Le;me++)De+=this.renderer.tablecell(this.parseInline(ye[me].tokens),{header:!1,align:ue.align[me]});pe+=this.renderer.tablerow(De)}ce+=this.renderer.table(Ae,pe);continue}case"blockquote":{pe=this.parse(ue.tokens),ce+=this.renderer.blockquote(pe);continue}case"list":{for(ae=ue.ordered,ge=ue.start,_e=ue.loose,Ce=ue.items.length,pe="",he=0;he<Ce;he++)Ee=ue.items[he],be=Ee.checked,ve=Ee.task,we="",Ee.task&&(Ie=this.renderer.checkbox(be),_e?Ee.tokens.length>0&&Ee.tokens[0].type==="paragraph"?(Ee.tokens[0].text=Ie+" "+Ee.tokens[0].text,Ee.tokens[0].tokens&&Ee.tokens[0].tokens.length>0&&Ee.tokens[0].tokens[0].type==="text"&&(Ee.tokens[0].tokens[0].text=Ie+" "+Ee.tokens[0].tokens[0].text)):Ee.tokens.unshift({type:"text",text:Ie}):we+=Ie),we+=this.parse(Ee.tokens,_e),pe+=this.renderer.listitem(we,ve,be);ce+=this.renderer.list(pe,ae,ge);continue}case"html":{ce+=this.renderer.html(ue.text);continue}case"paragraph":{ce+=this.renderer.paragraph(this.parseInline(ue.tokens));continue}case"text":{for(pe=ue.tokens?this.parseInline(ue.tokens):ue.text;le+1<Te&&H[le+1].type==="text";)ue=H[++le],pe+=`
`+(ue.tokens?this.parseInline(ue.tokens):ue.text);ce+=K?this.renderer.paragraph(pe):pe;continue}default:{var Fe='Token with "'+ue.type+'" type was not found.';if(this.options.silent){console.error(Fe);return}else throw new Error(Fe)}}}return ce},X.parseInline=function(H,K){K=K||this.renderer;var ce="",le,he,me,Ce=H.length;for(le=0;le<Ce;le++){if(he=H[le],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[he.type]&&(me=this.options.extensions.renderers[he.type].call({parser:this},he),me!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(he.type))){ce+=me||"";continue}switch(he.type){case"escape":{ce+=K.text(he.text);break}case"html":{ce+=K.html(he.text);break}case"link":{ce+=K.link(he.href,he.title,this.parseInline(he.tokens,K));break}case"image":{ce+=K.image(he.href,he.title,he.text);break}case"strong":{ce+=K.strong(this.parseInline(he.tokens,K));break}case"em":{ce+=K.em(this.parseInline(he.tokens,K));break}case"codespan":{ce+=K.codespan(he.text);break}case"br":{ce+=K.br();break}case"del":{ce+=K.del(this.parseInline(he.tokens,K));break}case"text":{ce+=K.text(he.text);break}default:{var Le='Token with "'+he.type+'" type was not found.';if(this.options.silent){console.error(Le);return}else throw new Error(Le)}}}return ce},z}();function ie(z,X,$){if(typeof z=="undefined"||z===null)throw new Error("marked(): input parameter is undefined or null");if(typeof z!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(z)+", string expected");if(typeof X=="function"&&($=X,X=null),X=E({},ie.defaults,X||{}),O(X),$){var H=X.highlight,K;try{K=Y.lex(z,X)}catch(me){return $(me)}var ce=function(Ce){var Le;if(!Ce)try{X.walkTokens&&ie.walkTokens(K,X.walkTokens),Le=Z.parse(K,X)}catch(ye){Ce=ye}return X.highlight=H,Ce?$(Ce):$(null,Le)};if(!H||H.length<3||(delete X.highlight,!K.length))return ce();var le=0;ie.walkTokens(K,function(me){me.type==="code"&&(le++,setTimeout(function(){H(me.text,me.lang,function(Ce,Le){if(Ce)return ce(Ce);Le!=null&&Le!==me.text&&(me.text=Le,me.escaped=!0),le--,le===0&&ce()})},0))}),le===0&&ce();return}try{var he=Y.lex(z,X);return X.walkTokens&&ie.walkTokens(he,X.walkTokens),Z.parse(he,X)}catch(me){if(me.message+=`
Please report this to https://github.com/markedjs/marked.`,X.silent)return"<p>An error occurred:</p><pre>"+o(me.message+"",!0)+"</pre>";throw me}}ie.options=ie.setOptions=function(z){return E(ie.defaults,z),_(ie.defaults),ie},ie.getDefaults=L,ie.defaults=G.defaults,ie.use=function(){for(var z=arguments.length,X=new Array(z),$=0;$<z;$++)X[$]=arguments[$];var H=E.apply(void 0,[{}].concat(X)),K=ie.defaults.extensions||{renderers:{},childTokens:{}},ce;X.forEach(function(le){if(le.extensions&&(ce=!0,le.extensions.forEach(function(me){if(!me.name)throw new Error("extension name required");if(me.renderer){var Ce=K.renderers?K.renderers[me.name]:null;Ce?K.renderers[me.name]=function(){for(var Le=arguments.length,ye=new Array(Le),De=0;De<Le;De++)ye[De]=arguments[De];var Ae=me.renderer.apply(this,ye);return Ae===!1&&(Ae=Ce.apply(this,ye)),Ae}:K.renderers[me.name]=me.renderer}if(me.tokenizer){if(!me.level||me.level!=="block"&&me.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");K[me.level]?K[me.level].unshift(me.tokenizer):K[me.level]=[me.tokenizer],me.start&&(me.level==="block"?K.startBlock?K.startBlock.push(me.start):K.startBlock=[me.start]:me.level==="inline"&&(K.startInline?K.startInline.push(me.start):K.startInline=[me.start]))}me.childTokens&&(K.childTokens[me.name]=me.childTokens)})),le.renderer&&function(){var me=ie.defaults.renderer||new ee,Ce=function(De){var Ae=me[De];me[De]=function(){for(var pe=arguments.length,ue=new Array(pe),ae=0;ae<pe;ae++)ue[ae]=arguments[ae];var ge=le.renderer[De].apply(me,ue);return ge===!1&&(ge=Ae.apply(me,ue)),ge}};for(var Le in le.renderer)Ce(Le);H.renderer=me}(),le.tokenizer&&function(){var me=ie.defaults.tokenizer||new R,Ce=function(De){var Ae=me[De];me[De]=function(){for(var pe=arguments.length,ue=new Array(pe),ae=0;ae<pe;ae++)ue[ae]=arguments[ae];var ge=le.tokenizer[De].apply(me,ue);return ge===!1&&(ge=Ae.apply(me,ue)),ge}};for(var Le in le.tokenizer)Ce(Le);H.tokenizer=me}(),le.walkTokens){var he=ie.defaults.walkTokens;H.walkTokens=function(me){le.walkTokens.call(this,me),he&&he.call(this,me)}}ce&&(H.extensions=K),ie.setOptions(H)})},ie.walkTokens=function(z,X){for(var $=function(){var le=K.value;switch(X.call(ie,le),le.type){case"table":{for(var he=I(le.header),me;!(me=he()).done;){var Ce=me.value;ie.walkTokens(Ce.tokens,X)}for(var Le=I(le.rows),ye;!(ye=Le()).done;)for(var De=ye.value,Ae=I(De),pe;!(pe=Ae()).done;){var ue=pe.value;ie.walkTokens(ue.tokens,X)}break}case"list":{ie.walkTokens(le.items,X);break}default:ie.defaults.extensions&&ie.defaults.extensions.childTokens&&ie.defaults.extensions.childTokens[le.type]?ie.defaults.extensions.childTokens[le.type].forEach(function(ae){ie.walkTokens(le[ae],X)}):le.tokens&&ie.walkTokens(le.tokens,X)}},H=I(z),K;!(K=H()).done;)$()},ie.parseInline=function(z,X){if(typeof z=="undefined"||z===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof z!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(z)+", string expected");X=E({},ie.defaults,X||{}),O(X);try{var $=Y.lexInline(z,X);return X.walkTokens&&ie.walkTokens($,X.walkTokens),Z.parseInline($,X)}catch(H){if(H.message+=`
Please report this to https://github.com/markedjs/marked.`,X.silent)return"<p>An error occurred:</p><pre>"+o(H.message+"",!0)+"</pre>";throw H}},ie.Parser=Z,ie.parser=Z.parse,ie.Renderer=ee,ie.TextRenderer=U,ie.Lexer=Y,ie.lexer=Y.lex,ie.Tokenizer=R,ie.Slugger=j,ie.parse=ie;var Q=ie.options,J=ie.setOptions,de=ie.use,x=ie.walkTokens,ne=ie.parseInline,te=ie,q=Z.parse,oe=Y.lex;G.Lexer=Y,G.Parser=Z,G.Renderer=ee,G.Slugger=j,G.TextRenderer=U,G.Tokenizer=R,G.getDefaults=L,G.lexer=oe,G.marked=ie,G.options=Q,G.parse=te,G.parseInline=ne,G.parser=q,G.setOptions=J,G.use=de,G.walkTokens=x,Object.defineProperty(G,"__esModule",{value:!0})}),define(se[99],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(se[124],re([1,0,99]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:w.Mimes.text}}),define(se[334],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class w{constructor(k,I=0,L=k.length,_=I-1){this.items=k,this.start=I,this.end=L,this.index=_}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=w}),define(se[335],re([1,0,334]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class v{constructor(I=[],L=10){this._initialize(I),this._limit=L,this._onChange()}getHistory(){return this._elements}add(I){this._history.delete(I),this._history.add(I),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(I){return this._history.has(I)}_onChange(){this._reduceToLimit();const I=this._elements;this._navigator=new w.ArrayNavigator(I,0,I.length,I.length)}_reduceToLimit(){const I=this._elements;I.length>this._limit&&this._initialize(I.slice(I.length-this._limit))}_currentPosition(){const I=this._navigator.current();return I?this._elements.indexOf(I):-1}_initialize(I){this._history=new Set;for(const L of I)this._history.add(L)}get _elements(){const I=[];return this._history.forEach(L=>I.push(L)),I}}e.HistoryNavigator=v}),define(se[125],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function w(I,L,_){return Math.min(Math.max(I,L),_)}e.clamp=w;class v{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=v;class k{constructor(L){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(L),this._values.fill(0,0,L)}update(L){const _=this._values[this._index];return this._values[this._index]=L,this._index=(this._index+1)%this._values.length,this._sum-=_,this._sum+=L,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=k}),define(se[148],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var w;(function(v){function k(b,u){if(b.start>=u.end||u.start>=b.end)return{start:0,end:0};const g=Math.max(b.start,u.start),n=Math.min(b.end,u.end);return n-g<=0?{start:0,end:0}:{start:g,end:n}}v.intersect=k;function I(b){return b.end-b.start<=0}v.isEmpty=I;function L(b,u){return!I(k(b,u))}v.intersects=L;function _(b,u){const g=[],n={start:b.start,end:Math.min(u.start,b.end)},i={start:Math.max(u.end,b.start),end:b.end};return I(n)||g.push(n),I(i)||g.push(i),g}v.relativeComplement=_})(w=e.Range||(e.Range={}))}),define(se[336],re([1,0,148]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function v(b,u){const g=[];for(const n of u){if(b.start>=n.range.end)continue;if(b.end<n.range.start)break;const i=w.Range.intersect(b,n.range);w.Range.isEmpty(i)||g.push({range:i,size:n.size})}return g}e.groupIntersect=v;function k({start:b,end:u},g){return{start:b+g,end:u+g}}e.shift=k;function I(b){const u=[];let g=null;for(const n of b){const i=n.range.start,t=n.range.end,o=n.size;if(g&&o===g.size){g.range.end=t;continue}g={range:{start:i,end:t},size:o},u.push(g)}return u}e.consolidate=I;function L(...b){return I(b.reduce((u,g)=>u.concat(g),[]))}class _{constructor(){this.groups=[],this._size=0}splice(u,g,n=[]){const i=n.length-g,t=v({start:0,end:u},this.groups),o=v({start:u+g,end:Number.POSITIVE_INFINITY},this.groups).map(c=>({range:k(c.range,i),size:c.size})),r=n.map((c,d)=>({range:{start:u+d,end:u+d+1},size:c.size}));this.groups=L(t,r,o),this._size=this.groups.reduce((c,d)=>c+d.size*(d.range.end-d.range.start),0)}get count(){const u=this.groups.length;return u?this.groups[u-1].range.end:0}get size(){return this._size}indexAt(u){if(u<0)return-1;let g=0,n=0;for(const i of this.groups){const t=i.range.end-i.range.start,o=n+t*i.size;if(u<o)return g+Math.floor((u-n)/i.size);g+=t,n=o}return g}indexAfter(u){return Math.min(this.indexAt(u)+1,this.count)}positionAt(u){if(u<0)return-1;let g=0,n=0;for(const i of this.groups){const t=i.range.end-i.range.start,o=n+t;if(u<o)return g+(u-n)*i.size;g+=t*i.size,n=o}return-1}}e.RangeMap=_}),define(se[8],re([1,0,226,147]),function(G,e,w,v){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function I(le){return!le||typeof le!="string"?!0:le.trim().length===0}e.isFalsyOrWhitespace=I;const L=/{(\d+)}/g;function _(le,...he){return he.length===0?le:le.replace(L,function(me,Ce){const Le=parseInt(Ce,10);return isNaN(Le)||Le<0||Le>=he.length?me:he[Le]})}e.format=_;function b(le){return le.replace(/[<>&]/g,function(he){switch(he){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return he}})}e.escape=b;function u(le){return le.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=u;function g(le,he=" "){const me=n(le,he);return i(me,he)}e.trim=g;function n(le,he){if(!le||!he)return le;const me=he.length;if(me===0||le.length===0)return le;let Ce=0;for(;le.indexOf(he,Ce)===Ce;)Ce=Ce+me;return le.substring(Ce)}e.ltrim=n;function i(le,he){if(!le||!he)return le;const me=he.length,Ce=le.length;if(me===0||Ce===0)return le;let Le=Ce,ye=-1;for(;ye=le.lastIndexOf(he,Le-1),!(ye===-1||ye+me!==Le);){if(ye===0)return"";Le=ye}return le.substring(0,Le)}e.rtrim=i;function t(le){return le.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=t;function o(le){return le.replace(/\*/g,"")}e.stripWildcards=o;function r(le,he,me={}){if(!le)throw new Error("Cannot create regex from empty string");he||(le=u(le)),me.wholeWord&&(/\B/.test(le.charAt(0))||(le="\\b"+le),/\B/.test(le.charAt(le.length-1))||(le=le+"\\b"));let Ce="";return me.global&&(Ce+="g"),me.matchCase||(Ce+="i"),me.multiline&&(Ce+="m"),me.unicode&&(Ce+="u"),new RegExp(le,Ce)}e.createRegExp=r;function c(le){return le.source==="^"||le.source==="^$"||le.source==="$"||le.source==="^\\s*$"?!1:!!(le.exec("")&&le.lastIndex===0)}e.regExpLeadsToEndlessLoop=c;function d(le){return(le.global?"g":"")+(le.ignoreCase?"i":"")+(le.multiline?"m":"")+(le.unicode?"u":"")}e.regExpFlags=d;function a(le){return le.split(/\r\n|\r|\n/)}e.splitLines=a;function s(le){for(let he=0,me=le.length;he<me;he++){const Ce=le.charCodeAt(he);if(Ce!==32&&Ce!==9)return he}return-1}e.firstNonWhitespaceIndex=s;function l(le,he=0,me=le.length){for(let Ce=he;Ce<me;Ce++){const Le=le.charCodeAt(Ce);if(Le!==32&&Le!==9)return le.substring(he,Ce)}return le.substring(he,me)}e.getLeadingWhitespace=l;function h(le,he=le.length-1){for(let me=he;me>=0;me--){const Ce=le.charCodeAt(me);if(Ce!==32&&Ce!==9)return me}return-1}e.lastNonWhitespaceIndex=h;function p(le,he){return le<he?-1:le>he?1:0}e.compare=p;function S(le,he,me=0,Ce=le.length,Le=0,ye=he.length){for(;me<Ce&&Le<ye;me++,Le++){const pe=le.charCodeAt(me),ue=he.charCodeAt(Le);if(pe<ue)return-1;if(pe>ue)return 1}const De=Ce-me,Ae=ye-Le;return De<Ae?-1:De>Ae?1:0}e.compareSubstring=S;function f(le,he){return m(le,he,0,le.length,0,he.length)}e.compareIgnoreCase=f;function m(le,he,me=0,Ce=le.length,Le=0,ye=he.length){for(;me<Ce&&Le<ye;me++,Le++){let pe=le.charCodeAt(me),ue=he.charCodeAt(Le);if(pe===ue)continue;if(pe>=128||ue>=128)return S(le.toLowerCase(),he.toLowerCase(),me,Ce,Le,ye);y(pe)&&(pe-=32),y(ue)&&(ue-=32);const ae=pe-ue;if(ae!==0)return ae}const De=Ce-me,Ae=ye-Le;return De<Ae?-1:De>Ae?1:0}e.compareSubstringIgnoreCase=m;function C(le){return le>=48&&le<=57}e.isAsciiDigit=C;function y(le){return le>=97&&le<=122}e.isLowerAsciiLetter=y;function E(le){return le>=65&&le<=90}e.isUpperAsciiLetter=E;function T(le,he){return le.length===he.length&&m(le,he)===0}e.equalsIgnoreCase=T;function N(le,he){const me=he.length;return he.length>le.length?!1:m(le,he,0,me)===0}e.startsWithIgnoreCase=N;function F(le,he){const me=Math.min(le.length,he.length);let Ce;for(Ce=0;Ce<me;Ce++)if(le.charCodeAt(Ce)!==he.charCodeAt(Ce))return Ce;return me}e.commonPrefixLength=F;function O(le,he){const me=Math.min(le.length,he.length);let Ce;const Le=le.length-1,ye=he.length-1;for(Ce=0;Ce<me;Ce++)if(le.charCodeAt(Le-Ce)!==he.charCodeAt(ye-Ce))return Ce;return me}e.commonSuffixLength=O;function P(le){return 55296<=le&&le<=56319}e.isHighSurrogate=P;function D(le){return 56320<=le&&le<=57343}e.isLowSurrogate=D;function M(le,he){return(le-55296<<10)+(he-56320)+65536}e.computeCodePoint=M;function R(le,he,me){const Ce=le.charCodeAt(me);if(P(Ce)&&me+1<he){const Le=le.charCodeAt(me+1);if(D(Le))return M(Ce,Le)}return Ce}e.getNextCodePoint=R;function B(le,he){const me=le.charCodeAt(he-1);if(D(me)&&he>1){const Ce=le.charCodeAt(he-2);if(P(Ce))return M(Ce,me)}return me}class W{constructor(he,me=0){this._str=he,this._len=he.length,this._offset=me}get offset(){return this._offset}setOffset(he){this._offset=he}prevCodePoint(){const he=B(this._str,this._offset);return this._offset-=he>=65536?2:1,he}nextCodePoint(){const he=R(this._str,this._len,this._offset);return this._offset+=he>=65536?2:1,he}eol(){return this._offset>=this._len}}e.CodePointIterator=W;class V{constructor(he,me=0){this._iterator=new W(he,me)}get offset(){return this._iterator.offset}nextGraphemeLength(){const he=oe.getInstance(),me=this._iterator,Ce=me.offset;let Le=he.getGraphemeBreakType(me.nextCodePoint());for(;!me.eol();){const ye=me.offset,De=he.getGraphemeBreakType(me.nextCodePoint());if(q(Le,De)){me.setOffset(ye);break}Le=De}return me.offset-Ce}prevGraphemeLength(){const he=oe.getInstance(),me=this._iterator,Ce=me.offset;let Le=he.getGraphemeBreakType(me.prevCodePoint());for(;me.offset>0;){const ye=me.offset,De=he.getGraphemeBreakType(me.prevCodePoint());if(q(De,Le)){me.setOffset(ye);break}Le=De}return Ce-me.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=V;function A(le,he){return new V(le,he).nextGraphemeLength()}e.nextCharLength=A;function Y(le,he){return new V(le,he).prevGraphemeLength()}e.prevCharLength=Y;function ee(le,he){he>0&&D(le.charCodeAt(he))&&he--;const me=he+A(le,he);return[me-Y(le,me),me]}e.getCharContainingOffset=ee;const U=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function j(le){return U.test(le)}e.containsRTL=j;const Z=/^[\t\n\r\x20-\x7E]*$/;function ie(le){return Z.test(le)}e.isBasicASCII=ie,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Q(le){return e.UNUSUAL_LINE_TERMINATORS.test(le)}e.containsUnusualLineTerminators=Q;function J(le){return le>=11904&&le<=55215||le>=63744&&le<=64255||le>=65281&&le<=65374}e.isFullWidthCharacter=J;function de(le){return le>=127462&&le<=127487||le===8986||le===8987||le===9200||le===9203||le>=9728&&le<=10175||le===11088||le===11093||le>=127744&&le<=128591||le>=128640&&le<=128764||le>=128992&&le<=129008||le>=129280&&le<=129535||le>=129648&&le<=129782}e.isEmojiImprecise=de,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function x(le){return!!(le&&le.length>0&&le.charCodeAt(0)===65279)}e.startsWithUTF8BOM=x;function ne(le,he=!1){return le?(he&&(le=le.replace(/\\./g,"")),le.toLowerCase()!==le):!1}e.containsUppercaseCharacter=ne;function te(le){const he=90-65+1;return le=le%(2*he),le<he?String.fromCharCode(97+le):String.fromCharCode(65+le-he)}e.singleLetterHash=te;function q(le,he){return le===0?he!==5&&he!==7:le===2&&he===3?!1:le===4||le===2||le===3||he===4||he===2||he===3?!0:!(le===8&&(he===8||he===9||he===11||he===12)||(le===11||le===9)&&(he===9||he===10)||(le===12||le===10)&&he===10||he===5||he===13||he===7||le===1||le===13&&he===14||le===6&&he===6)}class oe{constructor(){this._data=z()}static getInstance(){return oe._INSTANCE||(oe._INSTANCE=new oe),oe._INSTANCE}getGraphemeBreakType(he){if(he<32)return he===10?3:he===13?2:4;if(he<127)return 0;const me=this._data,Ce=me.length/3;let Le=1;for(;Le<=Ce;)if(he<me[3*Le])Le=2*Le;else if(he>me[3*Le+1])Le=2*Le+1;else return me[3*Le+2];return 0}}oe._INSTANCE=null;function z(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function X(le,he){if(le===0)return 0;const me=$(le,he);if(me!==void 0)return me;const Ce=new W(he,le);return Ce.prevCodePoint(),Ce.offset}e.getLeftDeleteOffset=X;function $(le,he){const me=new W(he,le);let Ce=me.prevCodePoint();for(;H(Ce)||Ce===65039||Ce===8419;){if(me.offset===0)return;Ce=me.prevCodePoint()}if(!de(Ce))return;let Le=me.offset;return Le>0&&me.prevCodePoint()===8205&&(Le=me.offset),Le}function H(le){return 127995<=le&&le<=127999}e.noBreakWhitespace="\xA0";class K{constructor(he){this.confusableDictionary=he}static getInstance(he){return K.cache.get(Array.from(he))}static getLocales(){return K._locales.getValue()}isAmbiguous(he){return this.confusableDictionary.has(he)}getPrimaryConfusable(he){return this.confusableDictionary.get(he)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=K,k=K,K.ambiguousCharacterData=new v.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),K.cache=new w.LRUCachedFunction(le=>{function he(ue){const ae=new Map;for(let ge=0;ge<ue.length;ge+=2)ae.set(ue[ge],ue[ge+1]);return ae}function me(ue,ae){const ge=new Map(ue);for(const[_e,we]of ae)ge.set(_e,we);return ge}function Ce(ue,ae){if(!ue)return ae;const ge=new Map;for(const[_e,we]of ue)ae.has(_e)&&ge.set(_e,we);return ge}const Le=k.ambiguousCharacterData.getValue();let ye=le.filter(ue=>!ue.startsWith("_")&&ue in Le);ye.length===0&&(ye=["_default"]);let De;for(const ue of ye){const ae=he(Le[ue]);De=Ce(De,ae)}const Ae=he(Le._common),pe=me(Ae,De);return new K(pe)}),K._locales=new v.Lazy(()=>Object.keys(K.ambiguousCharacterData.getValue()).filter(le=>!le.startsWith("_")));class ce{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ce.getRawData())),this._data}static isInvisibleCharacter(he){return ce.getData().has(he)}static get codePoints(){return ce.getData()}}e.InvisibleCharacters=ce,ce._data=void 0}),define(se[106],re([1,0,8]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function v(r){return k(r,0)}e.hash=v;function k(r,c){switch(typeof r){case"object":return r===null?I(349,c):Array.isArray(r)?b(r,c):u(r,c);case"string":return _(r,c);case"boolean":return L(r,c);case"number":return I(r,c);case"undefined":return I(937,c);default:return I(617,c)}}e.doHash=k;function I(r,c){return(c<<5)-c+r|0}e.numberHash=I;function L(r,c){return I(r?433:863,c)}function _(r,c){c=I(149417,c);for(let d=0,a=r.length;d<a;d++)c=I(r.charCodeAt(d),c);return c}e.stringHash=_;function b(r,c){return c=I(104579,c),r.reduce((d,a)=>k(a,d),c)}function u(r,c){return c=I(181387,c),Object.keys(r).sort().reduce((d,a)=>(d=_(a,d),k(r[a],d)),c)}function g(r,c,d=32){const a=d-c,s=~((1<<a)-1);return(r<<c|(s&r)>>>a)>>>0}function n(r,c=0,d=r.byteLength,a=0){for(let s=0;s<d;s++)r[c+s]=a}function i(r,c,d="0"){for(;r.length<c;)r=d+r;return r}function t(r,c=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(d=>d.toString(16).padStart(2,"0")).join(""):i((r>>>0).toString(16),c/4)}e.toHexString=t;class o{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(c){const d=c.length;if(d===0)return;const a=this._buff;let s=this._buffLen,l=this._leftoverHighSurrogate,h,p;for(l!==0?(h=l,p=-1,l=0):(h=c.charCodeAt(0),p=0);;){let S=h;if(w.isHighSurrogate(h))if(p+1<d){const f=c.charCodeAt(p+1);w.isLowSurrogate(f)?(p++,S=w.computeCodePoint(h,f)):S=65533}else{l=h;break}else w.isLowSurrogate(h)&&(S=65533);if(s=this._push(a,s,S),p++,p<d)h=c.charCodeAt(p);else break}this._buffLen=s,this._leftoverHighSurrogate=l}_push(c,d,a){return a<128?c[d++]=a:a<2048?(c[d++]=192|(a&1984)>>>6,c[d++]=128|(a&63)>>>0):a<65536?(c[d++]=224|(a&61440)>>>12,c[d++]=128|(a&4032)>>>6,c[d++]=128|(a&63)>>>0):(c[d++]=240|(a&1835008)>>>18,c[d++]=128|(a&258048)>>>12,c[d++]=128|(a&4032)>>>6,c[d++]=128|(a&63)>>>0),d>=64&&(this._step(),d-=64,this._totalLen+=64,c[0]=c[64+0],c[1]=c[64+1],c[2]=c[64+2]),d}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),t(this._h0)+t(this._h1)+t(this._h2)+t(this._h3)+t(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,n(this._buff,this._buffLen),this._buffLen>56&&(this._step(),n(this._buff));const c=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(c/4294967296),!1),this._buffDV.setUint32(60,c%4294967296,!1),this._step()}_step(){const c=o._bigBlock32,d=this._buffDV;for(let C=0;C<64;C+=4)c.setUint32(C,d.getUint32(C,!1),!1);for(let C=64;C<320;C+=4)c.setUint32(C,g(c.getUint32(C-12,!1)^c.getUint32(C-32,!1)^c.getUint32(C-56,!1)^c.getUint32(C-64,!1),1),!1);let a=this._h0,s=this._h1,l=this._h2,h=this._h3,p=this._h4,S,f,m;for(let C=0;C<80;C++)C<20?(S=s&l|~s&h,f=1518500249):C<40?(S=s^l^h,f=1859775393):C<60?(S=s&l|s&h|l&h,f=2400959708):(S=s^l^h,f=3395469782),m=g(a,5)+S+p+f+c.getUint32(C*4,!1)&4294967295,p=h,h=l,l=g(s,30),s=a,a=m;this._h0=this._h0+a&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+l&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+p&4294967295}}e.StringSHA1=o,o._bigBlock32=new DataView(new ArrayBuffer(320))}),define(se[149],re([1,0,332,106]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class k{constructor(n){this.source=n}getElements(){const n=this.source,i=new Int32Array(n.length);for(let t=0,o=n.length;t<o;t++)i[t]=n.charCodeAt(t);return i}}e.StringDiffSequence=k;function I(g,n,i){return new u(new k(g),new k(n)).ComputeDiff(i).changes}e.stringDiff=I;class L{static Assert(n,i){if(!n)throw new Error(i)}}e.Debug=L;class _{static Copy(n,i,t,o,r){for(let c=0;c<r;c++)t[o+c]=n[i+c]}static Copy2(n,i,t,o,r){for(let c=0;c<r;c++)t[o+c]=n[i+c]}}e.MyArray=_;class b{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new w.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(n,i){this.m_originalStart=Math.min(this.m_originalStart,n),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(n,i){this.m_originalStart=Math.min(this.m_originalStart,n),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class u{constructor(n,i,t=null){this.ContinueProcessingPredicate=t,this._originalSequence=n,this._modifiedSequence=i;const[o,r,c]=u._getElements(n),[d,a,s]=u._getElements(i);this._hasStrings=c&&s,this._originalStringElements=o,this._originalElementsOrHash=r,this._modifiedStringElements=d,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(n){return n.length>0&&typeof n[0]=="string"}static _getElements(n){const i=n.getElements();if(u._isStringArray(i)){const t=new Int32Array(i.length);for(let o=0,r=i.length;o<r;o++)t[o]=(0,v.stringHash)(i[o],0);return[i,t,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(n,i){return this._originalElementsOrHash[n]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[n]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(n,i){if(!this.ElementsAreEqual(n,i))return!1;const t=u._getStrictElement(this._originalSequence,n),o=u._getStrictElement(this._modifiedSequence,i);return t===o}static _getStrictElement(n,i){return typeof n.getStrictElement=="function"?n.getStrictElement(i):null}OriginalElementsAreEqual(n,i){return this._originalElementsOrHash[n]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[n]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(n,i){return this._modifiedElementsOrHash[n]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[n]===this._modifiedStringElements[i]:!0}ComputeDiff(n){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,n)}_ComputeDiff(n,i,t,o,r){const c=[!1];let d=this.ComputeDiffRecursive(n,i,t,o,c);return r&&(d=this.PrettifyChanges(d)),{quitEarly:c[0],changes:d}}ComputeDiffRecursive(n,i,t,o,r){for(r[0]=!1;n<=i&&t<=o&&this.ElementsAreEqual(n,t);)n++,t++;for(;i>=n&&o>=t&&this.ElementsAreEqual(i,o);)i--,o--;if(n>i||t>o){let h;return t<=o?(L.Assert(n===i+1,"originalStart should only be one more than originalEnd"),h=[new w.DiffChange(n,0,t,o-t+1)]):n<=i?(L.Assert(t===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[new w.DiffChange(n,i-n+1,t,0)]):(L.Assert(n===i+1,"originalStart should only be one more than originalEnd"),L.Assert(t===o+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const c=[0],d=[0],a=this.ComputeRecursionPoint(n,i,t,o,c,d,r),s=c[0],l=d[0];if(a!==null)return a;if(!r[0]){const h=this.ComputeDiffRecursive(n,s,t,l,r);let p=[];return r[0]?p=[new w.DiffChange(s+1,i-(s+1)+1,l+1,o-(l+1)+1)]:p=this.ComputeDiffRecursive(s+1,i,l+1,o,r),this.ConcatenateChanges(h,p)}return[new w.DiffChange(n,i-n+1,t,o-t+1)]}WALKTRACE(n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E){let T=null,N=null,F=new b,O=i,P=t,D=S[0]-C[0]-o,M=-1073741824,R=this.m_forwardHistory.length-1;do{const B=D+n;B===O||B<P&&s[B-1]<s[B+1]?(h=s[B+1],f=h-D-o,h<M&&F.MarkNextChange(),M=h,F.AddModifiedElement(h+1,f),D=B+1-n):(h=s[B-1]+1,f=h-D-o,h<M&&F.MarkNextChange(),M=h-1,F.AddOriginalElement(h,f+1),D=B-1-n),R>=0&&(s=this.m_forwardHistory[R],n=s[0],O=1,P=s.length-1)}while(--R>=-1);if(T=F.getReverseChanges(),E[0]){let B=S[0]+1,W=C[0]+1;if(T!==null&&T.length>0){const V=T[T.length-1];B=Math.max(B,V.getOriginalEnd()),W=Math.max(W,V.getModifiedEnd())}N=[new w.DiffChange(B,p-B+1,W,m-W+1)]}else{F=new b,O=c,P=d,D=S[0]-C[0]-a,M=1073741824,R=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const B=D+r;B===O||B<P&&l[B-1]>=l[B+1]?(h=l[B+1]-1,f=h-D-a,h>M&&F.MarkNextChange(),M=h+1,F.AddOriginalElement(h+1,f+1),D=B+1-r):(h=l[B-1],f=h-D-a,h>M&&F.MarkNextChange(),M=h,F.AddModifiedElement(h+1,f+1),D=B-1-r),R>=0&&(l=this.m_reverseHistory[R],r=l[0],O=1,P=l.length-1)}while(--R>=-1);N=F.getChanges()}return this.ConcatenateChanges(T,N)}ComputeRecursionPoint(n,i,t,o,r,c,d){let a=0,s=0,l=0,h=0,p=0,S=0;n--,t--,r[0]=0,c[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const f=i-n+(o-t),m=f+1,C=new Int32Array(m),y=new Int32Array(m),E=o-t,T=i-n,N=n-t,F=i-o,P=(T-E)%2==0;C[E]=n,y[T]=i,d[0]=!1;for(let D=1;D<=f/2+1;D++){let M=0,R=0;l=this.ClipDiagonalBound(E-D,D,E,m),h=this.ClipDiagonalBound(E+D,D,E,m);for(let W=l;W<=h;W+=2){W===l||W<h&&C[W-1]<C[W+1]?a=C[W+1]:a=C[W-1]+1,s=a-(W-E)-N;const V=a;for(;a<i&&s<o&&this.ElementsAreEqual(a+1,s+1);)a++,s++;if(C[W]=a,a+s>M+R&&(M=a,R=s),!P&&Math.abs(W-T)<=D-1&&a>=y[W])return r[0]=a,c[0]=s,V<=y[W]&&1447>0&&D<=1447+1?this.WALKTRACE(E,l,h,N,T,p,S,F,C,y,a,i,r,s,o,c,P,d):null}const B=(M-n+(R-t)-D)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(M,B))return d[0]=!0,r[0]=M,c[0]=R,B>0&&1447>0&&D<=1447+1?this.WALKTRACE(E,l,h,N,T,p,S,F,C,y,a,i,r,s,o,c,P,d):(n++,t++,[new w.DiffChange(n,i-n+1,t,o-t+1)]);p=this.ClipDiagonalBound(T-D,D,T,m),S=this.ClipDiagonalBound(T+D,D,T,m);for(let W=p;W<=S;W+=2){W===p||W<S&&y[W-1]>=y[W+1]?a=y[W+1]-1:a=y[W-1],s=a-(W-T)-F;const V=a;for(;a>n&&s>t&&this.ElementsAreEqual(a,s);)a--,s--;if(y[W]=a,P&&Math.abs(W-E)<=D&&a<=C[W])return r[0]=a,c[0]=s,V>=C[W]&&1447>0&&D<=1447+1?this.WALKTRACE(E,l,h,N,T,p,S,F,C,y,a,i,r,s,o,c,P,d):null}if(D<=1447){let W=new Int32Array(h-l+2);W[0]=E-l+1,_.Copy2(C,l,W,1,h-l+1),this.m_forwardHistory.push(W),W=new Int32Array(S-p+2),W[0]=T-p+1,_.Copy2(y,p,W,1,S-p+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(E,l,h,N,T,p,S,F,C,y,a,i,r,s,o,c,P,d)}PrettifyChanges(n){for(let i=0;i<n.length;i++){const t=n[i],o=i<n.length-1?n[i+1].originalStart:this._originalElementsOrHash.length,r=i<n.length-1?n[i+1].modifiedStart:this._modifiedElementsOrHash.length,c=t.originalLength>0,d=t.modifiedLength>0;for(;t.originalStart+t.originalLength<o&&t.modifiedStart+t.modifiedLength<r&&(!c||this.OriginalElementsAreEqual(t.originalStart,t.originalStart+t.originalLength))&&(!d||this.ModifiedElementsAreEqual(t.modifiedStart,t.modifiedStart+t.modifiedLength));){const s=this.ElementsAreStrictEqual(t.originalStart,t.modifiedStart);if(this.ElementsAreStrictEqual(t.originalStart+t.originalLength,t.modifiedStart+t.modifiedLength)&&!s)break;t.originalStart++,t.modifiedStart++}const a=[null];if(i<n.length-1&&this.ChangesOverlap(n[i],n[i+1],a)){n[i]=a[0],n.splice(i+1,1),i--;continue}}for(let i=n.length-1;i>=0;i--){const t=n[i];let o=0,r=0;if(i>0){const h=n[i-1];o=h.originalStart+h.originalLength,r=h.modifiedStart+h.modifiedLength}const c=t.originalLength>0,d=t.modifiedLength>0;let a=0,s=this._boundaryScore(t.originalStart,t.originalLength,t.modifiedStart,t.modifiedLength);for(let h=1;;h++){const p=t.originalStart-h,S=t.modifiedStart-h;if(p<o||S<r||c&&!this.OriginalElementsAreEqual(p,p+t.originalLength)||d&&!this.ModifiedElementsAreEqual(S,S+t.modifiedLength))break;const m=(p===o&&S===r?5:0)+this._boundaryScore(p,t.originalLength,S,t.modifiedLength);m>s&&(s=m,a=h)}t.originalStart-=a,t.modifiedStart-=a;const l=[null];if(i>0&&this.ChangesOverlap(n[i-1],n[i],l)){n[i-1]=l[0],n.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,t=n.length;i<t;i++){const o=n[i-1],r=n[i],c=r.originalStart-o.originalStart-o.originalLength,d=o.originalStart,a=r.originalStart+r.originalLength,s=a-d,l=o.modifiedStart,h=r.modifiedStart+r.modifiedLength,p=h-l;if(c<5&&s<20&&p<20){const S=this._findBetterContiguousSequence(d,s,l,p,c);if(S){const[f,m]=S;(f!==o.originalStart+o.originalLength||m!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=f-o.originalStart,o.modifiedLength=m-o.modifiedStart,r.originalStart=f+c,r.modifiedStart=m+c,r.originalLength=a-r.originalStart,r.modifiedLength=h-r.modifiedStart)}}}return n}_findBetterContiguousSequence(n,i,t,o,r){if(i<r||o<r)return null;const c=n+i-r+1,d=t+o-r+1;let a=0,s=0,l=0;for(let h=n;h<c;h++)for(let p=t;p<d;p++){const S=this._contiguousSequenceScore(h,p,r);S>0&&S>a&&(a=S,s=h,l=p)}return a>0?[s,l]:null}_contiguousSequenceScore(n,i,t){let o=0;for(let r=0;r<t;r++){if(!this.ElementsAreEqual(n+r,i+r))return 0;o+=this._originalStringElements[n+r].length}return o}_OriginalIsBoundary(n){return n<=0||n>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[n])}_OriginalRegionIsBoundary(n,i){if(this._OriginalIsBoundary(n)||this._OriginalIsBoundary(n-1))return!0;if(i>0){const t=n+i;if(this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t))return!0}return!1}_ModifiedIsBoundary(n){return n<=0||n>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[n])}_ModifiedRegionIsBoundary(n,i){if(this._ModifiedIsBoundary(n)||this._ModifiedIsBoundary(n-1))return!0;if(i>0){const t=n+i;if(this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t))return!0}return!1}_boundaryScore(n,i,t,o){const r=this._OriginalRegionIsBoundary(n,i)?1:0,c=this._ModifiedRegionIsBoundary(t,o)?1:0;return r+c}ConcatenateChanges(n,i){const t=[];if(n.length===0||i.length===0)return i.length>0?i:n;if(this.ChangesOverlap(n[n.length-1],i[0],t)){const o=new Array(n.length+i.length-1);return _.Copy(n,0,o,0,n.length-1),o[n.length-1]=t[0],_.Copy(i,1,o,n.length,i.length-1),o}else{const o=new Array(n.length+i.length);return _.Copy(n,0,o,0,n.length),_.Copy(i,0,o,n.length,i.length),o}}ChangesOverlap(n,i,t){if(L.Assert(n.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),L.Assert(n.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),n.originalStart+n.originalLength>=i.originalStart||n.modifiedStart+n.modifiedLength>=i.modifiedStart){const o=n.originalStart;let r=n.originalLength;const c=n.modifiedStart;let d=n.modifiedLength;return n.originalStart+n.originalLength>=i.originalStart&&(r=i.originalStart+i.originalLength-n.originalStart),n.modifiedStart+n.modifiedLength>=i.modifiedStart&&(d=i.modifiedStart+i.modifiedLength-n.modifiedStart),t[0]=new w.DiffChange(o,r,c,d),!0}else return t[0]=null,!1}ClipDiagonalBound(n,i,t,o){if(n>=0&&n<o)return n;const r=t,c=o-t-1,d=i%2==0;if(n<0){const a=r%2==0;return d===a?0:1}else{const a=c%2==0;return d===a?o-1:o-2}}}e.LcsDiff=u}),define(se[51],re([1,0,8]),function(G,e,w){"use strict";var v,k;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class I{constructor(){this._value="",this._pos=0}reset(c){return this._value=c,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(c){const d=c.charCodeAt(0),a=this._value.charCodeAt(this._pos);return d-a}value(){return this._value[this._pos]}}e.StringIterator=I;class L{constructor(c=!0){this._caseSensitive=c}reset(c){return this._value=c,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let c=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(c)this._from++;else break;else c=!1;return this}cmp(c){return this._caseSensitive?(0,w.compareSubstring)(c,this._value,0,c.length,this._from,this._to):(0,w.compareSubstringIgnoreCase)(c,this._value,0,c.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=L;class _{constructor(c=!0,d=!0){this._splitOnBackslash=c,this._caseSensitive=d}reset(c){this._from=0,this._to=0,this._value=c,this._valueLen=c.length;for(let d=c.length-1;d>=0;d--,this._valueLen--){const a=this._value.charCodeAt(d);if(!(a===47||this._splitOnBackslash&&a===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let c=!0;for(;this._to<this._valueLen;this._to++){const d=this._value.charCodeAt(this._to);if(d===47||this._splitOnBackslash&&d===92)if(c)this._from++;else break;else c=!1}return this}cmp(c){return this._caseSensitive?(0,w.compareSubstring)(c,this._value,0,c.length,this._from,this._to):(0,w.compareSubstringIgnoreCase)(c,this._value,0,c.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=_;class b{constructor(c,d){this._ignorePathCasing=c,this._ignoreQueryAndFragment=d,this._states=[],this._stateIdx=0}reset(c){return this._value=c,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new _(!1,!this._ignorePathCasing(c)),this._pathIterator.reset(c.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(c)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(c){if(this._states[this._stateIdx]===1)return(0,w.compareIgnoreCase)(c,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,w.compareIgnoreCase)(c,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(c);if(this._states[this._stateIdx]===4)return(0,w.compare)(c,this._value.query);if(this._states[this._stateIdx]===5)return(0,w.compare)(c,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=b;class u{constructor(){this.height=1}rotateLeft(){const c=this.right;return this.right=c.left,c.left=this,this.updateHeight(),c.updateHeight(),c}rotateRight(){const c=this.left;return this.left=c.right,c.right=this,this.updateHeight(),c.updateHeight(),c}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var c,d;return(d=(c=this.left)===null||c===void 0?void 0:c.height)!==null&&d!==void 0?d:0}get heightRight(){var c,d;return(d=(c=this.right)===null||c===void 0?void 0:c.height)!==null&&d!==void 0?d:0}}class g{constructor(c){this._iter=c}static forUris(c=()=>!1,d=()=>!1){return new g(new b(c,d))}static forStrings(){return new g(new I)}static forConfigKeys(){return new g(new L)}clear(){this._root=void 0}set(c,d){const a=this._iter.reset(c);let s;this._root||(this._root=new u,this._root.segment=a.value());const l=[];for(s=this._root;;){const p=a.cmp(s.segment);if(p>0)s.left||(s.left=new u,s.left.segment=a.value()),l.push([-1,s]),s=s.left;else if(p<0)s.right||(s.right=new u,s.right.segment=a.value()),l.push([1,s]),s=s.right;else if(a.hasNext())a.next(),s.mid||(s.mid=new u,s.mid.segment=a.value()),l.push([0,s]),s=s.mid;else break}const h=s.value;s.value=d,s.key=c;for(let p=l.length-1;p>=0;p--){const S=l[p][1];S.updateHeight();const f=S.balanceFactor();if(f<-1||f>1){const m=l[p][0],C=l[p+1][0];if(m===1&&C===1)l[p][1]=S.rotateLeft();else if(m===-1&&C===-1)l[p][1]=S.rotateRight();else if(m===1&&C===-1)S.right=l[p+1][1]=l[p+1][1].rotateRight(),l[p][1]=S.rotateLeft();else if(m===-1&&C===1)S.left=l[p+1][1]=l[p+1][1].rotateLeft(),l[p][1]=S.rotateRight();else throw new Error;if(p>0)switch(l[p-1][0]){case-1:l[p-1][1].left=l[p][1];break;case 1:l[p-1][1].right=l[p][1];break;case 0:l[p-1][1].mid=l[p][1];break}else this._root=l[0][1]}}return h}get(c){var d;return(d=this._getNode(c))===null||d===void 0?void 0:d.value}_getNode(c){const d=this._iter.reset(c);let a=this._root;for(;a;){const s=d.cmp(a.segment);if(s>0)a=a.left;else if(s<0)a=a.right;else if(d.hasNext())d.next(),a=a.mid;else break}return a}has(c){const d=this._getNode(c);return!((d==null?void 0:d.value)===void 0&&(d==null?void 0:d.mid)===void 0)}delete(c){return this._delete(c,!1)}deleteSuperstr(c){return this._delete(c,!0)}_delete(c,d){var a;const s=this._iter.reset(c),l=[];let h=this._root;for(;h;){const p=s.cmp(h.segment);if(p>0)l.push([-1,h]),h=h.left;else if(p<0)l.push([1,h]),h=h.right;else if(s.hasNext())s.next(),l.push([0,h]),h=h.mid;else break}if(!!h){if(d?(h.left=void 0,h.mid=void 0,h.right=void 0,h.height=1):(h.key=void 0,h.value=void 0),!h.mid&&!h.value)if(h.left&&h.right){const p=this._min(h.right),{key:S,value:f,segment:m}=p;this._delete(p.key,!1),h.key=S,h.value=f,h.segment=m}else{const p=(a=h.left)!==null&&a!==void 0?a:h.right;if(l.length>0){const[S,f]=l[l.length-1];switch(S){case-1:f.left=p;break;case 0:f.mid=p;break;case 1:f.right=p;break}}else this._root=p}for(let p=l.length-1;p>=0;p--){const S=l[p][1];S.updateHeight();const f=S.balanceFactor();if(f>1?(S.right.balanceFactor()>=0||(S.right=S.right.rotateRight()),l[p][1]=S.rotateLeft()):f<-1&&(S.left.balanceFactor()<=0||(S.left=S.left.rotateLeft()),l[p][1]=S.rotateRight()),p>0)switch(l[p-1][0]){case-1:l[p-1][1].left=l[p][1];break;case 1:l[p-1][1].right=l[p][1];break;case 0:l[p-1][1].mid=l[p][1];break}else this._root=l[0][1]}}}_min(c){for(;c.left;)c=c.left;return c}findSubstr(c){const d=this._iter.reset(c);let a=this._root,s;for(;a;){const l=d.cmp(a.segment);if(l>0)a=a.left;else if(l<0)a=a.right;else if(d.hasNext())d.next(),s=a.value||s,a=a.mid;else break}return a&&a.value||s}findSuperstr(c){const d=this._iter.reset(c);let a=this._root;for(;a;){const s=d.cmp(a.segment);if(s>0)a=a.left;else if(s<0)a=a.right;else if(d.hasNext())d.next(),a=a.mid;else return a.mid?this._entries(a.mid):void 0}}forEach(c){for(const[d,a]of this)c(a,d)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(c){const d=[];return this._dfsEntries(c,d),d[Symbol.iterator]()}_dfsEntries(c,d){!c||(c.left&&this._dfsEntries(c.left,d),c.value&&d.push([c.key,c.value]),c.mid&&this._dfsEntries(c.mid,d),c.right&&this._dfsEntries(c.right,d))}}e.TernarySearchTree=g;class n{constructor(c,d){this.uri=c,this.value=d}}class i{constructor(c,d){this[v]="ResourceMap",c instanceof i?(this.map=new Map(c.map),this.toKey=d??i.defaultToKey):(this.map=new Map,this.toKey=c??i.defaultToKey)}set(c,d){return this.map.set(this.toKey(c),new n(c,d)),this}get(c){var d;return(d=this.map.get(this.toKey(c)))===null||d===void 0?void 0:d.value}has(c){return this.map.has(this.toKey(c))}get size(){return this.map.size}clear(){this.map.clear()}delete(c){return this.map.delete(this.toKey(c))}forEach(c,d){typeof d!="undefined"&&(c=c.bind(d));for(const[a,s]of this.map)c(s.value,s.uri,this)}*values(){for(const c of this.map.values())yield c.value}*keys(){for(const c of this.map.values())yield c.uri}*entries(){for(const c of this.map.values())yield[c.uri,c.value]}*[(v=Symbol.toStringTag,Symbol.iterator)](){for(const[,c]of this.map)yield[c.uri,c.value]}}e.ResourceMap=i,i.defaultToKey=r=>r.toString();class t{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var c;return(c=this._head)===null||c===void 0?void 0:c.value}get last(){var c;return(c=this._tail)===null||c===void 0?void 0:c.value}has(c){return this._map.has(c)}get(c,d=0){const a=this._map.get(c);if(!!a)return d!==0&&this.touch(a,d),a.value}set(c,d,a=0){let s=this._map.get(c);if(s)s.value=d,a!==0&&this.touch(s,a);else{switch(s={key:c,value:d,next:void 0,previous:void 0},a){case 0:this.addItemLast(s);break;case 1:this.addItemFirst(s);break;case 2:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(c,s),this._size++}return this}delete(c){return!!this.remove(c)}remove(c){const d=this._map.get(c);if(!!d)return this._map.delete(c),this.removeItem(d),this._size--,d.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const c=this._head;return this._map.delete(c.key),this.removeItem(c),this._size--,c.value}forEach(c,d){const a=this._state;let s=this._head;for(;s;){if(d?c.bind(d)(s.value,s.key,this):c(s.value,s.key,this),this._state!==a)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){const c=this,d=this._state;let a=this._head;const s={[Symbol.iterator](){return s},next(){if(c._state!==d)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:a.key,done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return s}values(){const c=this,d=this._state;let a=this._head;const s={[Symbol.iterator](){return s},next(){if(c._state!==d)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:a.value,done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return s}entries(){const c=this,d=this._state;let a=this._head;const s={[Symbol.iterator](){return s},next(){if(c._state!==d)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:[a.key,a.value],done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return s}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(c){if(c>=this.size)return;if(c===0){this.clear();return}let d=this._head,a=this.size;for(;d&&a>c;)this._map.delete(d.key),d=d.next,a--;this._head=d,this._size=a,d&&(d.previous=void 0),this._state++}addItemFirst(c){if(!this._head&&!this._tail)this._tail=c;else if(this._head)c.next=this._head,this._head.previous=c;else throw new Error("Invalid list");this._head=c,this._state++}addItemLast(c){if(!this._head&&!this._tail)this._head=c;else if(this._tail)c.previous=this._tail,this._tail.next=c;else throw new Error("Invalid list");this._tail=c,this._state++}removeItem(c){if(c===this._head&&c===this._tail)this._head=void 0,this._tail=void 0;else if(c===this._head){if(!c.next)throw new Error("Invalid list");c.next.previous=void 0,this._head=c.next}else if(c===this._tail){if(!c.previous)throw new Error("Invalid list");c.previous.next=void 0,this._tail=c.previous}else{const d=c.next,a=c.previous;if(!d||!a)throw new Error("Invalid list");d.previous=a,a.next=d}c.next=void 0,c.previous=void 0,this._state++}touch(c,d){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(d!==1&&d!==2)){if(d===1){if(c===this._head)return;const a=c.next,s=c.previous;c===this._tail?(s.next=void 0,this._tail=s):(a.previous=s,s.next=a),c.previous=void 0,c.next=this._head,this._head.previous=c,this._head=c,this._state++}else if(d===2){if(c===this._tail)return;const a=c.next,s=c.previous;c===this._head?(a.previous=void 0,this._head=a):(a.previous=s,s.next=a),c.next=void 0,c.previous=this._tail,this._tail.next=c,this._tail=c,this._state++}}}toJSON(){const c=[];return this.forEach((d,a)=>{c.push([a,d])}),c}fromJSON(c){this.clear();for(const[d,a]of c)this.set(d,a)}}e.LinkedMap=t;class o extends t{constructor(c,d=1){super();this._limit=c,this._ratio=Math.min(Math.max(0,d),1)}get limit(){return this._limit}set limit(c){this._limit=c,this.checkTrim()}get(c,d=2){return super.get(c,d)}peek(c){return super.get(c,0)}set(c,d){return super.set(c,d,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=o}),define(se[60],re([1,0,51,8]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function k(...$){return function(H,K){for(let ce=0,le=$.length;ce<le;ce++){const he=$[ce](H,K);if(he)return he}return null}}e.or=k,e.matchesStrictPrefix=I.bind(void 0,!1),e.matchesPrefix=I.bind(void 0,!0);function I($,H,K){if(!K||K.length<H.length)return null;let ce;return $?ce=v.startsWithIgnoreCase(K,H):ce=K.indexOf(H)===0,ce?H.length>0?[{start:0,end:H.length}]:[]:null}function L($,H){const K=H.toLowerCase().indexOf($.toLowerCase());return K===-1?null:[{start:K,end:K+$.length}]}e.matchesContiguousSubString=L;function _($,H){return b($.toLowerCase(),H.toLowerCase(),0,0)}e.matchesSubString=_;function b($,H,K,ce){if(K===$.length)return[];if(ce===H.length)return null;if($[K]===H[ce]){let le=null;return(le=b($,H,K+1,ce+1))?d({start:ce,end:ce+1},le):null}return b($,H,K,ce+1)}function u($){return 97<=$&&$<=122}function g($){return 65<=$&&$<=90}e.isUpper=g;function n($){return 48<=$&&$<=57}function i($){return $===32||$===9||$===10||$===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($=>t.add($.charCodeAt(0)));function o($){return i($)||t.has($)}function r($,H){return $===H||o($)&&o(H)}function c($){return u($)||g($)||n($)}function d($,H){return H.length===0?H=[$]:$.end===H[0].start?H[0].start=$.start:H.unshift($),H}function a($,H){for(let K=H;K<$.length;K++){const ce=$.charCodeAt(K);if(g(ce)||n(ce)||K>0&&!c($.charCodeAt(K-1)))return K}return $.length}function s($,H,K,ce){if(K===$.length)return[];if(ce===H.length)return null;if($[K]!==H[ce].toLowerCase())return null;{let le=null,he=ce+1;for(le=s($,H,K+1,ce+1);!le&&(he=a(H,he))<H.length;)le=s($,H,K+1,he),he++;return le===null?null:d({start:ce,end:ce+1},le)}}function l($){let H=0,K=0,ce=0,le=0,he=0;for(let De=0;De<$.length;De++)he=$.charCodeAt(De),g(he)&&H++,u(he)&&K++,c(he)&&ce++,n(he)&&le++;const me=H/$.length,Ce=K/$.length,Le=ce/$.length,ye=le/$.length;return{upperPercent:me,lowerPercent:Ce,alphaPercent:Le,numericPercent:ye}}function h($){const{upperPercent:H,lowerPercent:K}=$;return K===0&&H>.6}function p($){const{upperPercent:H,lowerPercent:K,alphaPercent:ce,numericPercent:le}=$;return K>.2&&H<.8&&ce>.6&&le<.2}function S($){let H=0,K=0,ce=0,le=0;for(let he=0;he<$.length;he++)ce=$.charCodeAt(he),g(ce)&&H++,u(ce)&&K++,i(ce)&&le++;return(H===0||K===0)&&le===0?$.length<=30:H<=5}function f($,H){if(!H||(H=H.trim(),H.length===0)||!S($)||H.length>60)return null;const K=l(H);if(!p(K)){if(!h(K))return null;H=H.toLowerCase()}let ce=null,le=0;for($=$.toLowerCase();le<H.length&&(ce=s($,H,0,le))===null;)le=a(H,le+1);return ce}e.matchesCamelCase=f;function m($,H,K=!1){if(!H||H.length===0)return null;let ce=null,le=0;for($=$.toLowerCase(),H=H.toLowerCase();le<H.length&&(ce=C($,H,0,le,K))===null;)le=y(H,le+1);return ce}e.matchesWords=m;function C($,H,K,ce,le){if(K===$.length)return[];if(ce===H.length)return null;if(r($.charCodeAt(K),H.charCodeAt(ce))){let he=null,me=ce+1;if(he=C($,H,K+1,ce+1,le),!le)for(;!he&&(me=y(H,me))<H.length;)he=C($,H,K+1,me,le),me++;return he?$.charCodeAt(K)!==H.charCodeAt(ce)?he:d({start:ce,end:ce+1},he):null}else return null}function y($,H){for(let K=H;K<$.length;K++)if(o($.charCodeAt(K))||K>0&&o($.charCodeAt(K-1)))return K;return $.length}const E=k(e.matchesPrefix,f,L),T=k(e.matchesPrefix,f,_),N=new w.LRUCache(1e4);function F($,H,K=!1){if(typeof $!="string"||typeof H!="string")return null;let ce=N.get($);ce||(ce=new RegExp(v.convertSimple2RegExpPattern($),"i"),N.set($,ce));const le=ce.exec(H);return le?[{start:le.index,end:le.index+le[0].length}]:K?T($,H):E($,H)}e.matchesFuzzy=F;function O($,H,K,ce,le,he){const me=Math.min(13,$.length);for(;K<me;K++){const Ce=ne($,H,K,ce,le,he,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Ce)return Ce}return[0,he]}e.anyScore=O;function P($){if(typeof $=="undefined")return[];const H=[],K=$[1];for(let ce=$.length-1;ce>1;ce--){const le=$[ce]+K,he=H[H.length-1];he&&he.end===le?he.end=le+1:H.push({start:le,end:le+1})}return H}e.createMatches=P;const D=128;function M(){const $=[],H=[];for(let K=0;K<=D;K++)H[K]=0;for(let K=0;K<=D;K++)$.push(H.slice(0));return $}function R($){const H=[];for(let K=0;K<=$;K++)H[K]=0;return H}const B=R(2*D),W=R(2*D),V=M(),A=M(),Y=M(),ee=!1;function U($,H,K,ce,le){function he(Ce,Le,ye=" "){for(;Ce.length<Le;)Ce=ye+Ce;return Ce}let me=` |   |${ce.split("").map(Ce=>he(Ce,3)).join("|")}
`;for(let Ce=0;Ce<=K;Ce++)Ce===0?me+=" |":me+=`${H[Ce-1]}|`,me+=$[Ce].slice(0,le+1).map(Le=>he(Le.toString(),3)).join("|")+`
`;return me}function j($,H,K,ce){$=$.substr(H),K=K.substr(ce),console.log(U(A,$,$.length,K,K.length)),console.log(U(Y,$,$.length,K,K.length)),console.log(U(V,$,$.length,K,K.length))}function Z($,H){if(H<0||H>=$.length)return!1;const K=$.codePointAt(H);switch(K){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!v.isEmojiImprecise(K)}}function ie($,H){if(H<0||H>=$.length)return!1;switch($.charCodeAt(H)){case 32:case 9:return!0;default:return!1}}function Q($,H,K){return H[$]!==K[$]}function J($,H,K,ce,le,he,me=!1){for(;H<K&&le<he;)$[H]===ce[le]&&(me&&(B[H]=le),H+=1),le+=1;return H===K}e.isPatternInWord=J;var de;(function($){$.Default=[-100,0];function H(K){return!K||K.length===2&&K[0]===-100&&K[1]===0}$.isDefault=H})(de=e.FuzzyScore||(e.FuzzyScore={}));class x{constructor(H,K){this.firstMatchCanBeWeak=H,this.boostFullMatch=K}}e.FuzzyScoreOptions=x,x.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function ne($,H,K,ce,le,he,me=x.default){const Ce=$.length>D?D:$.length,Le=ce.length>D?D:ce.length;if(K>=Ce||he>=Le||Ce-K>Le-he||!J(H,K,Ce,le,he,Le,!0))return;te(Ce,Le,K,he,H,le);let ye=1,De=1,Ae=K,pe=he;const ue=[!1];for(ye=1,Ae=K;Ae<Ce;ye++,Ae++){const Ee=B[Ae],be=W[Ae],ve=Ae+1<Ce?W[Ae+1]:Le;for(De=Ee-he+1,pe=Ee;pe<ve;De++,pe++){let Ie=Number.MIN_SAFE_INTEGER,Me=!1;pe<=be&&(Ie=q($,H,Ae,K,ce,le,pe,Le,he,V[ye-1][De-1]===0,ue));let Te=0;Ie!==Number.MAX_SAFE_INTEGER&&(Me=!0,Te=Ie+A[ye-1][De-1]);const Fe=pe>Ee,Pe=Fe?A[ye][De-1]+(V[ye][De-1]>0?-5:0):0,We=pe>Ee+1&&V[ye][De-1]>0,He=We?A[ye][De-2]+(V[ye][De-2]>0?-5:0):0;if(We&&(!Fe||He>=Pe)&&(!Me||He>=Te))A[ye][De]=He,Y[ye][De]=3,V[ye][De]=0;else if(Fe&&(!Me||Pe>=Te))A[ye][De]=Pe,Y[ye][De]=2,V[ye][De]=0;else if(Me)A[ye][De]=Te,Y[ye][De]=1,V[ye][De]=V[ye-1][De-1]+1;else throw new Error("not possible")}}if(ee&&j($,K,ce,he),!ue[0]&&!me.firstMatchCanBeWeak)return;ye--,De--;const ae=[A[ye][De],he];let ge=0,_e=0;for(;ye>=1;){let Ee=De;do{const be=Y[ye][Ee];if(be===3)Ee=Ee-2;else if(be===2)Ee=Ee-1;else break}while(Ee>=1);ge>1&&H[K+ye-1]===le[he+De-1]&&!Q(Ee+he-1,ce,le)&&ge+1>V[ye][Ee]&&(Ee=De),Ee===De?ge++:ge=1,_e||(_e=Ee),ye--,De=Ee-1,ae.push(De)}Le===Ce&&me.boostFullMatch&&(ae[0]+=2);const we=_e-Ce;return ae[0]-=we,ae}e.fuzzyScore=ne;function te($,H,K,ce,le,he){let me=$-1,Ce=H-1;for(;me>=K&&Ce>=ce;)le[me]===he[Ce]&&(W[me]=Ce,me--),Ce--}function q($,H,K,ce,le,he,me,Ce,Le,ye,De){if(H[K]!==he[me])return Number.MIN_SAFE_INTEGER;let Ae=1,pe=!1;return me===K-ce?Ae=$[K]===le[me]?7:5:Q(me,le,he)&&(me===0||!Q(me-1,le,he))?(Ae=$[K]===le[me]?7:5,pe=!0):Z(he,me)&&(me===0||!Z(he,me-1))?Ae=5:(Z(he,me-1)||ie(he,me-1))&&(Ae=5,pe=!0),Ae>1&&K===ce&&(De[0]=!0),pe||(pe=Q(me,le,he)||Z(he,me-1)||ie(he,me-1)),K===ce?me>Le&&(Ae-=pe?3:5):ye?Ae+=pe?2:0:Ae+=pe?0:1,me+1===Ce&&(Ae-=pe?3:5),Ae}function oe($,H,K,ce,le,he,me){return z($,H,K,ce,le,he,!0,me)}e.fuzzyScoreGracefulAggressive=oe;function z($,H,K,ce,le,he,me,Ce){let Le=ne($,H,K,ce,le,he,Ce);if(Le&&!me)return Le;if($.length>=3){const ye=Math.min(7,$.length-1);for(let De=K+1;De<ye;De++){const Ae=X($,De);if(Ae){const pe=ne(Ae,Ae.toLowerCase(),K,ce,le,he,Ce);pe&&(pe[0]-=3,(!Le||pe[0]>Le[0])&&(Le=pe))}}}return Le}function X($,H){if(H+1>=$.length)return;const K=$[H],ce=$[H+1];if(K!==ce)return $.slice(0,H)+ce+K+$.slice(H+2)}}),define(se[107],re([1,0,27,60,8]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const I=new RegExp(`\\$\\(${w.CSSIcon.iconNameExpression}(?:${w.CSSIcon.iconModifierExpression})?\\)`,"g"),L=new RegExp(w.CSSIcon.iconNameCharacter),_=new RegExp(`(\\\\)?${I.source}`,"g");function b(c){return c.replace(_,(d,a)=>a?d:`\\${d}`)}e.escapeIcons=b;const u=new RegExp(`\\\\${I.source}`,"g");function g(c){return c.replace(u,d=>`\\${d}`)}e.markdownEscapeEscapedIcons=g;const n=new RegExp(`(\\s)?(\\\\)?${I.source}(\\s)?`,"g");function i(c){return c.indexOf(e.iconStartMarker)===-1?c:c.replace(n,(d,a,s,l)=>s?d:a||l||"")}e.stripIcons=i;function t(c){const d=c.indexOf(e.iconStartMarker);return d===-1?{text:c}:o(c,d)}e.parseLabelWithIcons=t;function o(c,d){const a=[];let s="";function l(E){if(E){s+=E;for(const T of E)a.push(S)}}let h=-1,p="",S=0,f,m,C=d;const y=c.length;for(l(c.substr(0,d));C<y;)f=c[C],m=c[C+1],f===e.iconStartMarker[0]&&m===e.iconStartMarker[1]?(h=C,l(p),p=e.iconStartMarker,C++):f===")"&&h!==-1?(S+=C-h+1,h=-1,p=""):h!==-1?L.test(f)?p+=f:(l(p),h=-1,p=""):l(f),C++;return l(p),{text:s,iconOffsets:a}}function r(c,d,a=!1){const{text:s,iconOffsets:l}=d;if(!l||l.length===0)return(0,v.matchesFuzzy)(c,s,a);const h=(0,k.ltrim)(s," "),p=s.length-h.length,S=(0,v.matchesFuzzy)(c,h,a);if(S)for(const f of S){const m=l[f.start+p]+p;f.start+=m,f.end+=m}return S}e.matchesFuzzyIconAware=r}),define(se[65],re([1,0,14,107,8]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class I{constructor(t="",o=!1){var r,c,d;if(this.value=t,typeof this.value!="string")throw(0,w.illegalArgument)("value");typeof o=="boolean"?(this.isTrusted=o,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(r=o.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(c=o.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(d=o.supportHtml)!==null&&d!==void 0?d:!1)}appendText(t,o=0){return this.value+=b(this.supportThemeIcons?(0,v.escapeIcons)(t):t).replace(/([ \t]+)/g,(r,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,o===1?`\\
`:`

`),this}appendMarkdown(t){return this.value+=t,this}appendCodeblock(t,o){return this.value+="\n```",this.value+=t,this.value+=`
`,this.value+=o,this.value+="\n```\n",this}appendLink(t,o,r){return this.value+="[",this.value+=this._escape(o,"]"),this.value+="](",this.value+=this._escape(String(t),")"),r&&(this.value+=` "${this._escape(this._escape(r,'"'),")")}"`),this.value+=")",this}_escape(t,o){const r=new RegExp((0,k.escapeRegExpCharacters)(o),"g");return t.replace(r,(c,d)=>t.charAt(d-1)!=="\\"?`\\${c}`:c)}}e.MarkdownString=I;function L(i){return _(i)?!i.value:Array.isArray(i)?i.every(L):!0}e.isEmptyMarkdownString=L;function _(i){return i instanceof I?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}e.isMarkdownString=_;function b(i){return i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=b;function u(i){return i.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=u;function g(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=g;function n(i){const t=[],o=i.split("|").map(c=>c.trim());i=o[0];const r=o[1];if(r){const c=/height=(\d+)/.exec(r),d=/width=(\d+)/.exec(r),a=c?c[1]:"",s=d?d[1]:"",l=isFinite(parseInt(s)),h=isFinite(parseInt(a));l&&t.push(`width="${s}"`),h&&t.push(`height="${a}"`)}return{href:i,dimensions:t}}e.parseHrefAndDimensions=n}),define(se[337],re([1,0,8]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function v(L,_){if(L&&L[0]!==""){const b=k(L,_,"-"),u=k(L,_,"_");return b&&!u?I(L,_,"-"):!b&&u?I(L,_,"_"):L[0].toUpperCase()===L[0]?_.toUpperCase():L[0].toLowerCase()===L[0]?_.toLowerCase():w.containsUppercaseCharacter(L[0][0])&&_.length>0?_[0].toUpperCase()+_.substr(1):L[0][0].toUpperCase()!==L[0][0]&&_.length>0?_[0].toLowerCase()+_.substr(1):_}else return _}e.buildReplaceStringWithCasePreserved=v;function k(L,_,b){return L[0].indexOf(b)!==-1&&_.indexOf(b)!==-1&&L[0].split(b).length===_.split(b).length}function I(L,_,b){const u=_.split(b),g=L[0].split(b);let n="";return u.forEach((i,t)=>{n+=v([g[t]],i)+b}),n.slice(0,-1)}}),define(se[82],re([1,0,8]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v;(function(k){k[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error"})(v||(v={})),function(k){const I="error",L="warning",_="warn",b="info",u="ignore";function g(i){return i?w.equalsIgnoreCase(I,i)?k.Error:w.equalsIgnoreCase(L,i)||w.equalsIgnoreCase(_,i)?k.Warning:w.equalsIgnoreCase(b,i)?k.Info:k.Ignore:k.Ignore}k.fromValue=g;function n(i){switch(i){case k.Error:return I;case k.Warning:return L;case k.Info:return b;default:return u}}k.toString=n}(v||(v={})),e.default=v}),define(se[20],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withNullAsUndefined=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function w(d){return typeof d=="string"}e.isString=w;function v(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)&&!(d instanceof RegExp)&&!(d instanceof Date)}e.isObject=v;function k(d){const a=Object.getPrototypeOf(Uint8Array);return typeof d=="object"&&d instanceof a}e.isTypedArray=k;function I(d){return typeof d=="number"&&!isNaN(d)}e.isNumber=I;function L(d){return!!d&&typeof d[Symbol.iterator]=="function"}e.isIterable=L;function _(d){return d===!0||d===!1}e.isBoolean=_;function b(d){return typeof d=="undefined"}e.isUndefined=b;function u(d){return!g(d)}e.isDefined=u;function g(d){return b(d)||d===null}e.isUndefinedOrNull=g;function n(d,a){if(!d)throw new Error(a?`Unexpected type, expected '${a}'`:"Unexpected type")}e.assertType=n;function i(d){if(g(d))throw new Error("Assertion Failed: argument is undefined or null");return d}e.assertIsDefined=i;function t(d){return typeof d=="function"}e.isFunction=t;function o(d,a){const s=Math.min(d.length,a.length);for(let l=0;l<s;l++)r(d[l],a[l])}e.validateConstraints=o;function r(d,a){if(w(a)){if(typeof d!==a)throw new Error(`argument does not match constraint: typeof ${a}`)}else if(t(a)){try{if(d instanceof a)return}catch{}if(!g(d)&&d.constructor===a||a.length===1&&a.call(void 0,d)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=r;function c(d){return d===null?void 0:d}e.withNullAsUndefined=c}),define(se[35],re([1,0,20]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function v(t){if(!t||typeof t!="object"||t instanceof RegExp)return t;const o=Array.isArray(t)?[]:{};return Object.keys(t).forEach(r=>{t[r]&&typeof t[r]=="object"?o[r]=v(t[r]):o[r]=t[r]}),o}e.deepClone=v;function k(t){if(!t||typeof t!="object")return t;const o=[t];for(;o.length>0;){const r=o.shift();Object.freeze(r);for(const c in r)if(I.call(r,c)){const d=r[c];typeof d=="object"&&!Object.isFrozen(d)&&!(0,w.isTypedArray)(d)&&o.push(d)}}return t}e.deepFreeze=k;const I=Object.prototype.hasOwnProperty;function L(t,o){return _(t,o,new Set)}e.cloneAndChange=L;function _(t,o,r){if((0,w.isUndefinedOrNull)(t))return t;const c=o(t);if(typeof c!="undefined")return c;if(Array.isArray(t)){const d=[];for(const a of t)d.push(_(a,o,r));return d}if((0,w.isObject)(t)){if(r.has(t))throw new Error("Cannot clone recursive data-structure");r.add(t);const d={};for(const a in t)I.call(t,a)&&(d[a]=_(t[a],o,r));return r.delete(t),d}return t}function b(t,o,r=!0){return(0,w.isObject)(t)?((0,w.isObject)(o)&&Object.keys(o).forEach(c=>{c in t?r&&((0,w.isObject)(t[c])&&(0,w.isObject)(o[c])?b(t[c],o[c],r):t[c]=o[c]):t[c]=o[c]}),t):o}e.mixin=b;function u(t,o){if(t===o)return!0;if(t==null||o===null||o===void 0||typeof t!=typeof o||typeof t!="object"||Array.isArray(t)!==Array.isArray(o))return!1;let r,c;if(Array.isArray(t)){if(t.length!==o.length)return!1;for(r=0;r<t.length;r++)if(!u(t[r],o[r]))return!1}else{const d=[];for(c in t)d.push(c);d.sort();const a=[];for(c in o)a.push(c);if(a.sort(),!u(d,a))return!1;for(r=0;r<d.length;r++)if(!u(t[d[r]],o[d[r]]))return!1}return!0}e.equals=u;function g(t){let o=[],r=Object.getPrototypeOf(t);for(;Object.prototype!==r;)o=o.concat(Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r);return o}e.getAllPropertyNames=g;function n(t){const o=[];for(const r of g(t))typeof t[r]=="function"&&o.push(r);return o}e.getAllMethodNames=n;function i(t,o){const r=d=>function(){const a=Array.prototype.slice.call(arguments,0);return o(d,a)},c={};for(const d of t)c[d]=r(d);return c}e.createProxyObject=i}),define(se[150],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function w(k){return k<0?0:k>255?255:k|0}e.toUint8=w;function v(k){return k<0?0:k>4294967295?4294967295:k|0}e.toUint32=v}),define(se[227],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let w;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?w=crypto.getRandomValues.bind(crypto):w=function(I){for(let L=0;L<I.length;L++)I[L]=Math.floor(Math.random()*256);return I};const v=new Uint8Array(16),k=[];for(let I=0;I<256;I++)k.push(I.toString(16).padStart(2,"0"));return function(){w(v),v[6]=v[6]&15|64,v[8]=v[8]&63|128;let L=0,_="";return _+=k[v[L++]],_+=k[v[L++]],_+=k[v[L++]],_+=k[v[L++]],_+="-",_+=k[v[L++]],_+=k[v[L++]],_+="-",_+=k[v[L++]],_+=k[v[L++]],_+="-",_+=k[v[L++]],_+=k[v[L++]],_+="-",_+=k[v[L++]],_+=k[v[L++]],_+=k[v[L++]],_+=k[v[L++]],_+=k[v[L++]],_+=k[v[L++]],_}}()}),define(se[228],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var w;(function(I){I[I.Blur=1]="Blur",I[I.Gesture=2]="Gesture",I[I.Other=3]="Other"})(w=e.QuickInputHideReason||(e.QuickInputHideReason={}));var v;(function(I){I[I.NONE=0]="NONE",I[I.FIRST=1]="FIRST",I[I.SECOND=2]="SECOND",I[I.LAST=3]="LAST"})(v=e.ItemActivation||(e.ItemActivation={}));class k{constructor(L){this.options=L}}e.QuickPickItemScorerAccessor=k,e.quickPickItemScorerAccessor=new k}),define(se[229],re([12]),{}),define(se[338],re([12]),{}),define(se[339],re([12]),{}),define(se[340],re([12]),{}),define(se[341],re([12]),{}),define(se[126],re([1,0,27,340,341]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function v(k){let I=k.definition;for(;I instanceof w.Codicon;)I=I.definition;return`.codicon-${k.id}:before { content: '${I.fontCharacter}'; }`}e.formatRule=v}),define(se[342],re([12]),{}),define(se[343],re([12]),{}),define(se[230],re([12]),{}),define(se[231],re([12]),{}),define(se[344],re([12]),{}),define(se[345],re([12]),{}),define(se[346],re([12]),{}),define(se[347],re([12]),{}),define(se[232],re([12]),{}),define(se[348],re([12]),{}),define(se[151],re([1,0,348]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(se[349],re([12]),{}),define(se[350],re([12]),{}),define(se[351],re([12]),{}),define(se[352],re([12]),{}),define(se[353],re([12]),{}),define(se[354],re([12]),{}),define(se[355],re([12]),{}),define(se[152],re([12]),{}),define(se[356],re([12]),{}),define(se[357],re([12]),{}),define(se[358],re([12]),{}),define(se[359],re([12]),{}),define(se[360],re([12]),{}),define(se[361],re([12]),{}),define(se[362],re([12]),{}),define(se[363],re([12]),{}),define(se[364],re([12]),{}),define(se[365],re([12]),{}),define(se[366],re([12]),{}),define(se[367],re([12]),{}),define(se[368],re([12]),{}),define(se[369],re([12]),{}),define(se[370],re([12]),{}),define(se[371],re([12]),{}),define(se[372],re([12]),{}),define(se[373],re([12]),{}),define(se[374],re([12]),{}),define(se[375],re([12]),{}),define(se[376],re([12]),{}),define(se[377],re([12]),{}),define(se[378],re([12]),{}),define(se[379],re([12]),{}),define(se[380],re([12]),{}),define(se[381],re([12]),{}),define(se[382],re([12]),{}),define(se[383],re([12]),{}),define(se[384],re([12]),{}),define(se[385],re([12]),{}),define(se[386],re([12]),{}),define(se[387],re([12]),{}),define(se[388],re([12]),{}),define(se[389],re([12]),{}),define(se[390],re([12]),{}),define(se[391],re([12]),{}),define(se[392],re([12]),{}),define(se[393],re([12]),{}),define(se[394],re([12]),{}),define(se[395],re([12]),{}),define(se[396],re([12]),{}),define(se[397],re([12]),{}),define(se[398],re([12]),{}),define(se[399],re([12]),{}),define(se[400],re([12]),{}),define(se[401],re([12]),{}),define(se[402],re([12]),{}),define(se[403],re([12]),{}),define(se[404],re([12]),{}),define(se[66],re([1,0,33]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function v(k,I){k instanceof w.FastDomNode?(k.setFontFamily(I.getMassagedFontFamily()),k.setFontWeight(I.fontWeight),k.setFontSize(I.fontSize),k.setFontFeatureSettings(I.fontFeatureSettings),k.setLineHeight(I.lineHeight),k.setLetterSpacing(I.letterSpacing)):(k.style.fontFamily=I.getMassagedFontFamily(),k.style.fontWeight=I.fontWeight,k.style.fontSize=I.fontSize+"px",k.style.fontFeatureSettings=I.fontFeatureSettings,k.style.lineHeight=I.lineHeight+"px",k.style.letterSpacing=I.letterSpacing+"px")}e.applyFontInfo=v}),define(se[405],re([1,0,66]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class v{constructor(_,b){this.chr=_,this.type=b,this.width=0}fulfill(_){this.width=_}}e.CharWidthRequest=v;class k{constructor(_,b){this._bareFontInfo=_,this._requests=b,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const _=document.createElement("div");_.style.position="absolute",_.style.top="-50000px",_.style.width="50000px";const b=document.createElement("div");(0,w.applyFontInfo)(b,this._bareFontInfo),_.appendChild(b);const u=document.createElement("div");(0,w.applyFontInfo)(u,this._bareFontInfo),u.style.fontWeight="bold",_.appendChild(u);const g=document.createElement("div");(0,w.applyFontInfo)(g,this._bareFontInfo),g.style.fontStyle="italic",_.appendChild(g);const n=[];for(const i of this._requests){let t;i.type===0&&(t=b),i.type===2&&(t=u),i.type===1&&(t=g),t.appendChild(document.createElement("br"));const o=document.createElement("span");k._render(o,i),t.appendChild(o),n.push(o)}this._container=_,this._testElements=n}static _render(_,b){if(b.chr===" "){let u="\xA0";for(let g=0;g<8;g++)u+=u;_.innerText=u}else{let u=b.chr;for(let g=0;g<8;g++)u+=u;_.textContent=u}}_readFromDomElements(){for(let _=0,b=this._requests.length;_<b;_++){const u=this._requests[_],g=this._testElements[_];u.fulfill(g.offsetWidth/256)}}}function I(L,_){new k(L,_).read()}e.readCharWidths=I}),define(se[406],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class w{constructor(b,u){this.key=b,this.migrate=u}apply(b){const u=w._read(b,this.key),g=i=>w._read(b,i),n=(i,t)=>w._write(b,i,t);this.migrate(u,g,n)}static _read(b,u){if(typeof b=="undefined")return;const g=u.indexOf(".");if(g>=0){const n=u.substring(0,g);return this._read(b[n],u.substring(g+1))}return b[u]}static _write(b,u,g){const n=u.indexOf(".");if(n>=0){const i=u.substring(0,n);b[i]=b[i]||{},this._write(b[i],u.substring(n+1),g);return}b[u]=g}}e.EditorSettingMigration=w,w.items=[];function v(_,b){w.items.push(new w(_,b))}function k(_,b){v(_,(u,g,n)=>{if(typeof u!="undefined"){for(const[i,t]of b)if(u===i){n(_,t);return}}})}function I(_){w.items.forEach(b=>b.apply(_))}e.migrateOptions=I,k("wordWrap",[[!0,"on"],[!1,"off"]]),k("lineNumbers",[[!0,"on"],[!1,"off"]]),k("cursorBlinking",[["visible","solid"]]),k("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),k("renderLineHighlight",[[!0,"line"],[!1,"none"]]),k("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),k("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),k("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),k("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),k("autoIndent",[[!1,"advanced"],[!0,"full"]]),k("matchBrackets",[[!0,"always"],[!1,"never"]]),v("autoClosingBrackets",(_,b,u)=>{_===!1&&(u("autoClosingBrackets","never"),typeof b("autoClosingQuotes")=="undefined"&&u("autoClosingQuotes","never"),typeof b("autoSurround")=="undefined"&&u("autoSurround","never"))}),v("renderIndentGuides",(_,b,u)=>{typeof _!="undefined"&&(u("renderIndentGuides",void 0),typeof b("guides.indentation")=="undefined"&&u("guides.indentation",!!_))}),v("highlightActiveIndentGuide",(_,b,u)=>{typeof _!="undefined"&&(u("highlightActiveIndentGuide",void 0),typeof b("guides.highlightActiveIndentation")=="undefined"&&u("guides.highlightActiveIndentation",!!_))});const L={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};v("suggest.filteredTypes",(_,b,u)=>{if(_&&typeof _=="object"){for(const g of Object.entries(L))_[g[0]]===!1&&typeof b(`suggest.${g[1]}`)=="undefined"&&u(`suggest.${g[1]}`,!1);u("suggest.filteredTypes",void 0)}}),v("quickSuggestions",(_,b,u)=>{if(typeof _=="boolean"){const g=_?"on":"off";u("quickSuggestions",{comments:g,strings:g,other:g})}})}),define(se[153],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class w{constructor(k,I,L){this._visiblePosition=k,this._visiblePositionScrollDelta=I,this._cursorPosition=L}static capture(k){let I=null,L=0;if(k.getScrollTop()!==0){const _=k.getVisibleRanges();if(_.length>0){I=_[0].getStartPosition();const b=k.getTopForPosition(I.lineNumber,I.column);L=k.getScrollTop()-b}}return new w(I,L,k.getPosition())}restore(k){if(this._visiblePosition){const I=k.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);k.setScrollTop(I+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(k){const I=k.getPosition();if(!this._cursorPosition||!I)return;const L=k.getTopForLineNumber(I.lineNumber)-k.getTopForLineNumber(this._cursorPosition.lineNumber);k.setScrollTop(k.getScrollTop()+L)}}e.StableEditorScrollState=w}),define(se[127],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class w{constructor(g,n){this._restrictedRenderingContextBrand=void 0,this._viewLayout=g,this.viewportData=n,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(g){return g-this.scrollTop}getVerticalOffsetForLineNumber(g,n){return this._viewLayout.getVerticalOffsetForLineNumber(g,n)}getVerticalOffsetAfterLineNumber(g,n){return this._viewLayout.getVerticalOffsetAfterLineNumber(g,n)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=w;class v extends w{constructor(g,n,i){super(g,n);this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(g,n){return this._viewLines.linesVisibleRangesForRange(g,n)}visibleRangeForPosition(g){return this._viewLines.visibleRangeForPosition(g)}}e.RenderingContext=v;class k{constructor(g,n,i){this.outsideRenderedLine=g,this.lineNumber=n,this.ranges=i}}e.LineVisibleRanges=k;class I{constructor(g,n){this._horizontalRangeBrand=void 0,this.left=Math.round(g),this.width=Math.round(n)}static from(g){const n=new Array(g.length);for(let i=0,t=g.length;i<t;i++){const o=g[i];n[i]=new I(o.left,o.width)}return n}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=I;class L{constructor(g,n){this._floatHorizontalRangeBrand=void 0,this.left=g,this.width=n}toString(){return`[${this.left},${this.width}]`}static compare(g,n){return g.left-n.left}}e.FloatHorizontalRange=L;class _{constructor(g,n){this.outsideRenderedLine=g,this.originalLeft=n,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=_;class b{constructor(g,n){this.outsideRenderedLine=g,this.ranges=n}}e.VisibleRanges=b}),define(se[233],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class w{constructor(k){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=k}emitKeyDown(k){var I;(I=this.onKeyDown)===null||I===void 0||I.call(this,k)}emitKeyUp(k){var I;(I=this.onKeyUp)===null||I===void 0||I.call(this,k)}emitContextMenu(k){var I;(I=this.onContextMenu)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseMove(k){var I;(I=this.onMouseMove)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseLeave(k){var I;(I=this.onMouseLeave)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDown(k){var I;(I=this.onMouseDown)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseUp(k){var I;(I=this.onMouseUp)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDrag(k){var I;(I=this.onMouseDrag)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDrop(k){var I;(I=this.onMouseDrop)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDropCanceled(){var k;(k=this.onMouseDropCanceled)===null||k===void 0||k.call(this)}emitMouseWheel(k){var I;(I=this.onMouseWheel)===null||I===void 0||I.call(this,k)}_convertViewToModelMouseEvent(k){return k.target?{event:k.event,target:this._convertViewToModelMouseTarget(k.target)}:k}_convertViewToModelMouseTarget(k){return w.convertViewToModelMouseTarget(k,this._coordinatesConverter)}static convertViewToModelMouseTarget(k,I){const L=Object.assign({},k);return L.position&&(L.position=I.convertViewPositionToModelPosition(L.position)),L.range&&(L.range=I.convertViewRangeToModelRange(L.range)),L}}e.ViewUserInputEvents=w}),define(se[407],re([1,0,127]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class v{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(I,L){I.selectNodeContents(L)}static _readClientRects(I,L,_,b,u){const g=this._createRange();try{return g.setStart(I,L),g.setEnd(_,b),g.getClientRects()}catch{return null}finally{this._detachRange(g,u)}}static _mergeAdjacentRanges(I){if(I.length===1)return I;I.sort(w.FloatHorizontalRange.compare);const L=[];let _=0,b=I[0];for(let u=1,g=I.length;u<g;u++){const n=I[u];b.left+b.width+.9>=n.left?b.width=Math.max(b.width,n.left+n.width-b.left):(L[_++]=b,b=n)}return L[_++]=b,L}static _createHorizontalRangesFromClientRects(I,L,_){if(!I||I.length===0)return null;const b=[];for(let u=0,g=I.length;u<g;u++){const n=I[u];b[u]=new w.FloatHorizontalRange(Math.max(0,(n.left-L)/_),n.width/_)}return this._mergeAdjacentRanges(b)}static readHorizontalRanges(I,L,_,b,u,g,n,i){const t=0,o=I.children.length-1;if(t>o)return null;if(L=Math.min(o,Math.max(t,L)),b=Math.min(o,Math.max(t,b)),L===b&&_===u&&_===0&&!I.children[L].firstChild){const a=I.children[L].getClientRects();return this._createHorizontalRangesFromClientRects(a,g,n)}L!==b&&b>0&&u===0&&(b--,u=1073741824);let r=I.children[L].firstChild,c=I.children[b].firstChild;if((!r||!c)&&(!r&&_===0&&L>0&&(r=I.children[L-1].firstChild,_=1073741824),!c&&u===0&&b>0&&(c=I.children[b-1].firstChild,u=1073741824)),!r||!c)return null;_=Math.min(r.textContent.length,Math.max(0,_)),u=Math.min(c.textContent.length,Math.max(0,u));const d=this._readClientRects(r,_,c,u,i);return this._createHorizontalRangesFromClientRects(d,g,n)}}e.RangeUtil=v}),define(se[234],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const v=[];for(let k=32;k<=126;k++)v.push(k);return v.push(65533),v})();const w=(v,k)=>(v-=32,v<0||v>96?k<=2?(v+96)%96:96-1:v);e.getCharIndex=w}),define(se[408],re([1,0,234,150]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class k{constructor(L,_){this.scale=_,this._minimapCharRendererBrand=void 0,this.charDataNormal=k.soften(L,12/15),this.charDataLight=k.soften(L,50/60)}static soften(L,_){const b=new Uint8ClampedArray(L.length);for(let u=0,g=L.length;u<g;u++)b[u]=(0,v.toUint8)(L[u]*_);return b}renderChar(L,_,b,u,g,n,i,t,o,r,c){const d=1*this.scale,a=2*this.scale,s=c?1:a;if(_+d>L.width||b+s>L.height){console.warn("bad render request outside image data");return}const l=r?this.charDataLight:this.charDataNormal,h=(0,w.getCharIndex)(u,o),p=L.width*4,S=i.r,f=i.g,m=i.b,C=g.r-S,y=g.g-f,E=g.b-m,T=Math.max(n,t),N=L.data;let F=h*d*a,O=b*p+_*4;for(let P=0;P<s;P++){let D=O;for(let M=0;M<d;M++){const R=l[F++]/255*(n/255);N[D++]=S+C*R,N[D++]=f+y*R,N[D++]=m+E*R,N[D++]=T}O+=p}}blockRenderChar(L,_,b,u,g,n,i,t){const o=1*this.scale,r=2*this.scale,c=t?1:r;if(_+o>L.width||b+c>L.height){console.warn("bad render request outside image data");return}const d=L.width*4,a=.5*(g/255),s=n.r,l=n.g,h=n.b,p=u.r-s,S=u.g-l,f=u.b-h,m=s+p*a,C=l+S*a,y=h+f*a,E=Math.max(g,i),T=L.data;let N=b*d+_*4;for(let F=0;F<c;F++){let O=N;for(let P=0;P<o;P++)T[O++]=m,T[O++]=C,T[O++]=y,T[O++]=E;N+=d}}}e.MinimapCharRenderer=k}),define(se[409],re([1,0,98]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const v={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},k=I=>{const L=new Uint8ClampedArray(I.length/2);for(let _=0;_<I.length;_+=2)L[_>>1]=v[I[_]]<<4|v[I[_+1]]&15;return L};e.prebakedMiniMaps={1:(0,w.once)(()=>k("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,w.once)(()=>k("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(se[410],re([1,0,408,234,409,150]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class L{static create(b,u){if(this.lastCreated&&b===this.lastCreated.scale&&u===this.lastFontFamily)return this.lastCreated;let g;return k.prebakedMiniMaps[b]?g=new w.MinimapCharRenderer(k.prebakedMiniMaps[b](),b):g=L.createFromSampleData(L.createSampleData(u).data,b),this.lastFontFamily=u,this.lastCreated=g,g}static createSampleData(b){const u=document.createElement("canvas"),g=u.getContext("2d");u.style.height=`${16}px`,u.height=16,u.width=96*10,u.style.width=96*10+"px",g.fillStyle="#ffffff",g.font=`bold ${16}px ${b}`,g.textBaseline="middle";let n=0;for(const i of v.allCharCodes)g.fillText(String.fromCharCode(i),n,16/2),n+=10;return g.getImageData(0,0,96*10,16)}static createFromSampleData(b,u){const g=16*10*4*96;if(b.length!==g)throw new Error("Unexpected source in MinimapCharRenderer");const n=L._downsample(b,u);return new w.MinimapCharRenderer(n,u)}static _downsampleChar(b,u,g,n,i){const t=1*i,o=2*i;let r=n,c=0;for(let d=0;d<o;d++){const a=d/o*16,s=(d+1)/o*16;for(let l=0;l<t;l++){const h=l/t*10,p=(l+1)/t*10;let S=0,f=0;for(let C=a;C<s;C++){const y=u+Math.floor(C)*3840,E=1-(C-Math.floor(C));for(let T=h;T<p;T++){const N=1-(T-Math.floor(T)),F=y+Math.floor(T)*4,O=N*E;f+=O,S+=b[F]*b[F+3]/255*O}}const m=S/f;c=Math.max(c,m),g[r++]=(0,I.toUint8)(m)}}return c}static _downsample(b,u){const g=2*u*1*u,n=g*96,i=new Uint8ClampedArray(n);let t=0,o=0,r=0;for(let c=0;c<96;c++)r=Math.max(r,this._downsampleChar(b,o,i,t,u)),t+=g,o+=10*4;if(r>0){const c=255/r;for(let d=0;d<n;d++)i[d]*=c}return i}}e.MinimapCharRendererFactory=L}),define(se[108],re([1,0,150]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class v{constructor(L){const _=(0,w.toUint8)(L);this._defaultValue=_,this._asciiMap=v._createAsciiMap(_),this._map=new Map}static _createAsciiMap(L){const _=new Uint8Array(256);for(let b=0;b<256;b++)_[b]=L;return _}set(L,_){const b=(0,w.toUint8)(_);L>=0&&L<256?this._asciiMap[L]=b:this._map.set(L,b)}get(L){return L>=0&&L<256?this._asciiMap[L]:this._map.get(L)||this._defaultValue}}e.CharacterClassifier=v;class k{constructor(){this._actual=new v(0)}add(L){this._actual.set(L,1)}has(L){return this._actual.get(L)===1}}e.CharacterSet=k}),define(se[67],re([1,0,8]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class v{static _nextVisibleColumn(I,L,_){return I===9?v.nextRenderTabStop(L,_):w.isFullWidthCharacter(I)||w.isEmojiImprecise(I)?L+2:L+1}static visibleColumnFromColumn(I,L,_){const b=Math.min(L-1,I.length),u=I.substring(0,b),g=new w.GraphemeIterator(u);let n=0;for(;!g.eol();){const i=w.getNextCodePoint(u,b,g.offset);g.nextGraphemeLength(),n=this._nextVisibleColumn(i,n,_)}return n}static columnFromVisibleColumn(I,L,_){if(L<=0)return 1;const b=I.length,u=new w.GraphemeIterator(I);let g=0,n=1;for(;!u.eol();){const i=w.getNextCodePoint(I,b,u.offset);u.nextGraphemeLength();const t=this._nextVisibleColumn(i,g,_),o=u.offset+1;if(t>=L){const r=L-g;return t-L<r?o:n}g=t,n=o}return b+1}static nextRenderTabStop(I,L){return I+L-I%L}static nextIndentTabStop(I,L){return I+L-I%L}static prevRenderTabStop(I,L){return Math.max(0,I-1-(I-1)%L)}static prevIndentTabStop(I,L){return Math.max(0,I-1-(I-1)%L)}}e.CursorColumns=v}),define(se[128],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function w(v){let k=0,I=0,L=0,_=0;for(let b=0,u=v.length;b<u;b++){const g=v.charCodeAt(b);g===13?(k===0&&(I=b),k++,b+1<u&&v.charCodeAt(b+1)===10?(_|=2,b++):_|=3,L=b+1):g===10&&(_|=1,k===0&&(I=b),k++,L=b+1)}return k===0&&(I=v.length),[k,I,v.length-L,_]}e.countEOL=w}),define(se[180],re([1,0,8,67]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function k(L,_,b){let u=0;for(let n=0;n<L.length;n++)L.charAt(n)==="	"?u=v.CursorColumns.nextIndentTabStop(u,_):u++;let g="";if(!b){const n=Math.floor(u/_);u=u%_;for(let i=0;i<n;i++)g+="	"}for(let n=0;n<u;n++)g+=" ";return g}function I(L,_,b){let u=w.firstNonWhitespaceIndex(L);return u===-1&&(u=L.length),k(L.substring(0,u),_,b)+L.substring(u)}e.normalizeIndentation=I}),define(se[11],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class w{constructor(k,I){this.lineNumber=k,this.column=I}with(k=this.lineNumber,I=this.column){return k===this.lineNumber&&I===this.column?this:new w(k,I)}delta(k=0,I=0){return this.with(this.lineNumber+k,this.column+I)}equals(k){return w.equals(this,k)}static equals(k,I){return!k&&!I?!0:!!k&&!!I&&k.lineNumber===I.lineNumber&&k.column===I.column}isBefore(k){return w.isBefore(this,k)}static isBefore(k,I){return k.lineNumber<I.lineNumber?!0:I.lineNumber<k.lineNumber?!1:k.column<I.column}isBeforeOrEqual(k){return w.isBeforeOrEqual(this,k)}static isBeforeOrEqual(k,I){return k.lineNumber<I.lineNumber?!0:I.lineNumber<k.lineNumber?!1:k.column<=I.column}static compare(k,I){const L=k.lineNumber|0,_=I.lineNumber|0;if(L===_){const b=k.column|0,u=I.column|0;return b-u}return L-_}clone(){return new w(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(k){return new w(k.lineNumber,k.column)}static isIPosition(k){return k&&typeof k.lineNumber=="number"&&typeof k.column=="number"}}e.Position=w}),define(se[3],re([1,0,11]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class v{constructor(I,L,_,b){I>_||I===_&&L>b?(this.startLineNumber=_,this.startColumn=b,this.endLineNumber=I,this.endColumn=L):(this.startLineNumber=I,this.startColumn=L,this.endLineNumber=_,this.endColumn=b)}isEmpty(){return v.isEmpty(this)}static isEmpty(I){return I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn}containsPosition(I){return v.containsPosition(this,I)}static containsPosition(I,L){return!(L.lineNumber<I.startLineNumber||L.lineNumber>I.endLineNumber||L.lineNumber===I.startLineNumber&&L.column<I.startColumn||L.lineNumber===I.endLineNumber&&L.column>I.endColumn)}static strictContainsPosition(I,L){return!(L.lineNumber<I.startLineNumber||L.lineNumber>I.endLineNumber||L.lineNumber===I.startLineNumber&&L.column<=I.startColumn||L.lineNumber===I.endLineNumber&&L.column>=I.endColumn)}containsRange(I){return v.containsRange(this,I)}static containsRange(I,L){return!(L.startLineNumber<I.startLineNumber||L.endLineNumber<I.startLineNumber||L.startLineNumber>I.endLineNumber||L.endLineNumber>I.endLineNumber||L.startLineNumber===I.startLineNumber&&L.startColumn<I.startColumn||L.endLineNumber===I.endLineNumber&&L.endColumn>I.endColumn)}strictContainsRange(I){return v.strictContainsRange(this,I)}static strictContainsRange(I,L){return!(L.startLineNumber<I.startLineNumber||L.endLineNumber<I.startLineNumber||L.startLineNumber>I.endLineNumber||L.endLineNumber>I.endLineNumber||L.startLineNumber===I.startLineNumber&&L.startColumn<=I.startColumn||L.endLineNumber===I.endLineNumber&&L.endColumn>=I.endColumn)}plusRange(I){return v.plusRange(this,I)}static plusRange(I,L){let _,b,u,g;return L.startLineNumber<I.startLineNumber?(_=L.startLineNumber,b=L.startColumn):L.startLineNumber===I.startLineNumber?(_=L.startLineNumber,b=Math.min(L.startColumn,I.startColumn)):(_=I.startLineNumber,b=I.startColumn),L.endLineNumber>I.endLineNumber?(u=L.endLineNumber,g=L.endColumn):L.endLineNumber===I.endLineNumber?(u=L.endLineNumber,g=Math.max(L.endColumn,I.endColumn)):(u=I.endLineNumber,g=I.endColumn),new v(_,b,u,g)}intersectRanges(I){return v.intersectRanges(this,I)}static intersectRanges(I,L){let _=I.startLineNumber,b=I.startColumn,u=I.endLineNumber,g=I.endColumn;const n=L.startLineNumber,i=L.startColumn,t=L.endLineNumber,o=L.endColumn;return _<n?(_=n,b=i):_===n&&(b=Math.max(b,i)),u>t?(u=t,g=o):u===t&&(g=Math.min(g,o)),_>u||_===u&&b>g?null:new v(_,b,u,g)}equalsRange(I){return v.equalsRange(this,I)}static equalsRange(I,L){return!!I&&!!L&&I.startLineNumber===L.startLineNumber&&I.startColumn===L.startColumn&&I.endLineNumber===L.endLineNumber&&I.endColumn===L.endColumn}getEndPosition(){return v.getEndPosition(this)}static getEndPosition(I){return new w.Position(I.endLineNumber,I.endColumn)}getStartPosition(){return v.getStartPosition(this)}static getStartPosition(I){return new w.Position(I.startLineNumber,I.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(I,L){return new v(this.startLineNumber,this.startColumn,I,L)}setStartPosition(I,L){return new v(I,L,this.endLineNumber,this.endColumn)}collapseToStart(){return v.collapseToStart(this)}delta(I){return new v(this.startLineNumber+I,this.startColumn,this.endLineNumber+I,this.endColumn)}static collapseToStart(I){return new v(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn)}static fromPositions(I,L=I){return new v(I.lineNumber,I.column,L.lineNumber,L.column)}static lift(I){return I?new v(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn):null}static isIRange(I){return I&&typeof I.startLineNumber=="number"&&typeof I.startColumn=="number"&&typeof I.endLineNumber=="number"&&typeof I.endColumn=="number"}static areIntersectingOrTouching(I,L){return!(I.endLineNumber<L.startLineNumber||I.endLineNumber===L.startLineNumber&&I.endColumn<L.startColumn||L.endLineNumber<I.startLineNumber||L.endLineNumber===I.startLineNumber&&L.endColumn<I.startColumn)}static areIntersecting(I,L){return!(I.endLineNumber<L.startLineNumber||I.endLineNumber===L.startLineNumber&&I.endColumn<=L.startColumn||L.endLineNumber<I.startLineNumber||L.endLineNumber===I.startLineNumber&&L.endColumn<=I.startColumn)}static compareRangesUsingStarts(I,L){if(I&&L){const u=I.startLineNumber|0,g=L.startLineNumber|0;if(u===g){const n=I.startColumn|0,i=L.startColumn|0;if(n===i){const t=I.endLineNumber|0,o=L.endLineNumber|0;if(t===o){const r=I.endColumn|0,c=L.endColumn|0;return r-c}return t-o}return n-i}return u-g}return(I?1:0)-(L?1:0)}static compareRangesUsingEnds(I,L){return I.endLineNumber===L.endLineNumber?I.endColumn===L.endColumn?I.startLineNumber===L.startLineNumber?I.startColumn-L.startColumn:I.startLineNumber-L.startLineNumber:I.endColumn-L.endColumn:I.endLineNumber-L.endLineNumber}static spansMultipleLines(I){return I.endLineNumber>I.startLineNumber}toJSON(){return this}}e.Range=v}),define(se[235],re([1,0,8,11,3]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class I{constructor(b,u,g,n,i){this.value=b,this.selectionStart=u,this.selectionEnd=g,this.selectionStartPosition=n,this.selectionEndPosition=i}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(b){return new I(b.getValue(),b.getSelectionStart(),b.getSelectionEnd(),null,null)}collapseSelection(){return new I(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(b,u,g){e._debugComposition&&console.log(`writeToTextArea ${b}: ${this.toString()}`),u.setValue(b,this.value),g&&u.setSelectionRange(b,this.selectionStart,this.selectionEnd)}deduceEditorPosition(b){if(b<=this.selectionStart){const n=this.value.substring(b,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,n,-1)}if(b>=this.selectionEnd){const n=this.value.substring(this.selectionEnd,b);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,1)}const u=this.value.substring(this.selectionStart,b);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,u,1);const g=this.value.substring(b,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,g,-1)}_finishDeduceEditorPosition(b,u,g){let n=0,i=-1;for(;(i=u.indexOf(`
`,i+1))!==-1;)n++;return[b,g*u.length,n]}static deduceInput(b,u,g){if(!b)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${b.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`));const n=Math.min(w.commonPrefixLength(b.value,u.value),b.selectionStart,u.selectionStart),i=Math.min(w.commonSuffixLength(b.value,u.value),b.value.length-b.selectionEnd,u.value.length-u.selectionEnd),t=b.value.substring(n,b.value.length-i),o=u.value.substring(n,u.value.length-i),r=b.selectionStart-n,c=b.selectionEnd-n,d=u.selectionStart-n,a=u.selectionEnd-n;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${t}>, selectionStart: ${r}, selectionEnd: ${c}`),console.log(`AFTER DIFFING CURRENT STATE: <${o}>, selectionStart: ${d}, selectionEnd: ${a}`)),d===a){const l=b.selectionStart-n;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${l} chars`),{text:o,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}const s=c-r;return{text:o,replacePrevCharCnt:s,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(b,u){if(!b)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${b.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`)),b.value===u.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:u.selectionEnd-b.selectionEnd};const g=Math.min(w.commonPrefixLength(b.value,u.value),b.selectionEnd),n=Math.min(w.commonSuffixLength(b.value,u.value),b.value.length-b.selectionEnd),i=b.value.substring(g,b.value.length-n),t=u.value.substring(g,u.value.length-n),o=b.selectionStart-g,r=b.selectionEnd-g,c=u.selectionStart-g,d=u.selectionEnd-g;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${o}, selectionEnd: ${r}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${c}, selectionEnd: ${d}`)),{text:t,replacePrevCharCnt:r,replaceNextCharCnt:i.length-r,positionDelta:d-t.length}}}e.TextAreaState=I,I.EMPTY=new I("",0,0,null,null);class L{static _getPageOfLine(b,u){return Math.floor((b-1)/u)}static _getRangeForPage(b,u){const g=b*u,n=g+1,i=g+u;return new k.Range(n,1,i+1,1)}static fromEditorSelection(b,u,g,n,i){const t=L._getPageOfLine(g.startLineNumber,n),o=L._getRangeForPage(t,n),r=L._getPageOfLine(g.endLineNumber,n),c=L._getRangeForPage(r,n),d=o.intersectRanges(new k.Range(1,1,g.startLineNumber,g.startColumn));let a=u.getValueInRange(d,1);const s=u.getLineCount(),l=u.getLineMaxColumn(s),h=c.intersectRanges(new k.Range(g.endLineNumber,g.endColumn,s,l));let p=u.getValueInRange(h,1),S;if(t===r||t+1===r)S=u.getValueInRange(g,1);else{const f=o.intersectRanges(g),m=c.intersectRanges(g);S=u.getValueInRange(f,1)+String.fromCharCode(8230)+u.getValueInRange(m,1)}if(i){const f=500;a.length>f&&(a=a.substring(a.length-f,a.length)),p.length>f&&(p=p.substring(0,f)),S.length>2*f&&(S=S.substring(0,f)+String.fromCharCode(8230)+S.substring(S.length-f,S.length))}return new I(a+S+p,a.length,a.length+S.length,new v.Position(g.startLineNumber,g.startColumn),new v.Position(g.endLineNumber,g.endColumn))}}e.PagedScreenReaderStrategy=L}),define(se[61],re([1,0,3]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class v{static insert(I,L){return{range:new w.Range(I.lineNumber,I.column,I.lineNumber,I.column),text:L,forceMoveMarkers:!0}}static delete(I){return{range:I,text:null}}static replace(I,L){return{range:I,text:L}}static replaceMove(I,L){return{range:I,text:L,forceMoveMarkers:!0}}}e.EditOperation=v}),define(se[411],re([1,0,8,61,3]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class I{constructor(b,u){this._selection=b,this._cursors=u,this._selectionId=null}getEditOperations(b,u){const g=L(b,this._cursors);for(let n=0,i=g.length;n<i;n++){const t=g[n];u.addEditOperation(t.range,t.text)}this._selectionId=u.trackSelection(this._selection)}computeCursorState(b,u){return u.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=I;function L(_,b){b.sort((t,o)=>t.lineNumber===o.lineNumber?t.column-o.column:t.lineNumber-o.lineNumber);for(let t=b.length-2;t>=0;t--)b[t].lineNumber===b[t+1].lineNumber&&b.splice(t,1);const u=[];let g=0,n=0;const i=b.length;for(let t=1,o=_.getLineCount();t<=o;t++){const r=_.getLineContent(t),c=r.length+1;let d=0;if(n<i&&b[n].lineNumber===t&&(d=b[n].column,n++,d===c)||r.length===0)continue;const a=w.lastNonWhitespaceIndex(r);let s=0;if(a===-1)s=1;else if(a!==r.length-1)s=a+2;else continue;s=Math.max(d,s),u[g++]=v.EditOperation.delete(new k.Range(t,s,t,c))}return u}e.trimTrailingWhitespace=L}),define(se[236],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class w{constructor(k,I,L,_){this._rgba8Brand=void 0,this.r=w._clamp(k),this.g=w._clamp(I),this.b=w._clamp(L),this.a=w._clamp(_)}equals(k){return this.r===k.r&&this.g===k.g&&this.b===k.b&&this.a===k.a}static _clamp(k){return k<0?0:k>255?255:k|0}}e.RGBA8=w,w.Empty=new w(0,0,0,0)}),define(se[23],re([1,0,11,3]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class k extends v.Range{constructor(L,_,b,u){super(L,_,b,u);this.selectionStartLineNumber=L,this.selectionStartColumn=_,this.positionLineNumber=b,this.positionColumn=u}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(L){return k.selectionsEqual(this,L)}static selectionsEqual(L,_){return L.selectionStartLineNumber===_.selectionStartLineNumber&&L.selectionStartColumn===_.selectionStartColumn&&L.positionLineNumber===_.positionLineNumber&&L.positionColumn===_.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(L,_){return this.getDirection()===0?new k(this.startLineNumber,this.startColumn,L,_):new k(L,_,this.startLineNumber,this.startColumn)}getPosition(){return new w.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new w.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(L,_){return this.getDirection()===0?new k(L,_,this.endLineNumber,this.endColumn):new k(this.endLineNumber,this.endColumn,L,_)}static fromPositions(L,_=L){return new k(L.lineNumber,L.column,_.lineNumber,_.column)}static fromRange(L,_){return _===0?new k(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):new k(L.endLineNumber,L.endColumn,L.startLineNumber,L.startColumn)}static liftSelection(L){return new k(L.selectionStartLineNumber,L.selectionStartColumn,L.positionLineNumber,L.positionColumn)}static selectionsArrEqual(L,_){if(L&&!_||!L&&_)return!1;if(!L&&!_)return!0;if(L.length!==_.length)return!1;for(let b=0,u=L.length;b<u;b++)if(!this.selectionsEqual(L[b],_[b]))return!1;return!0}static isISelection(L){return L&&typeof L.selectionStartLineNumber=="number"&&typeof L.selectionStartColumn=="number"&&typeof L.positionLineNumber=="number"&&typeof L.positionColumn=="number"}static createWithDirection(L,_,b,u,g){return g===0?new k(L,_,b,u):new k(b,u,L,_)}}e.Selection=k}),define(se[109],re([1,0,23]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class v{constructor(u,g,n=!1){this._range=u,this._text=g,this.insertsAutoWhitespace=n}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getEndPosition())}}e.ReplaceCommand=v;class k{constructor(u,g){this._range=u,this._text=g}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromRange(i,0)}}e.ReplaceCommandThatSelectsText=k;class I{constructor(u,g,n=!1){this._range=u,this._text=g,this.insertsAutoWhitespace=n}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=I;class L{constructor(u,g,n,i,t=!1){this._range=u,this._text=g,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=t}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=L;class _{constructor(u,g,n,i=!1){this._range=u,this._text=g,this._initialSelection=n,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=g.trackSelection(this._initialSelection)}computeCursorState(u,g){return g.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=_}),define(se[412],re([1,0,3,23]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class k{constructor(_,b,u){this._range=_,this._charBeforeSelection=b,this._charAfterSelection=u}getEditOperations(_,b){b.addTrackedEditOperation(new w.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),b.addTrackedEditOperation(new w.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(_,b){const u=b.getInverseEditOperations(),g=u[0].range,n=u[1].range;return new v.Selection(g.endLineNumber,g.endColumn,n.endLineNumber,n.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=k;class I{constructor(_,b,u){this._position=_,this._text=b,this._charAfter=u}getEditOperations(_,b){b.addTrackedEditOperation(new w.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(_,b){const g=b.getInverseEditOperations()[0].range;return new v.Selection(g.endLineNumber,g.startColumn,g.endLineNumber,g.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=I}),define(se[154],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(se[129],re([1,0,108]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class v extends w.CharacterClassifier{constructor(L){super(0);for(let _=0,b=L.length;_<b;_++)this.set(L.charCodeAt(_),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=v;function k(I){const L={};return _=>(L.hasOwnProperty(_)||(L[_]=I(_)),L[_])}e.getMapForWordSeparators=k(I=>new v(I))}),define(se[130],re([1,0,55,73]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function k(u=""){let g="(-?\\d*\\.\\d\\w*)|([^";for(const n of e.USUAL_WORD_SEPARATORS)u.indexOf(n)>=0||(g+="\\"+n);return g+="\\s]+)",new RegExp(g,"g")}e.DEFAULT_WORD_REGEXP=k();function I(u){let g=e.DEFAULT_WORD_REGEXP;if(u&&u instanceof RegExp)if(u.global)g=u;else{let n="g";u.ignoreCase&&(n+="i"),u.multiline&&(n+="m"),u.unicode&&(n+="u"),g=new RegExp(u.source,n)}return g.lastIndex=0,g}e.ensureValidWordDefinition=I;const L=new v.LinkedList;L.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function _(u,g,n,i,t){if(t||(t=w.Iterable.first(L)),n.length>t.maxLen){let a=u-t.maxLen/2;return a<0?a=0:i+=a,n=n.substring(a,u+t.maxLen/2),_(u,g,n,i,t)}const o=Date.now(),r=u-1-i;let c=-1,d=null;for(let a=1;!(Date.now()-o>=t.timeBudget);a++){const s=r-t.windowSize*a;g.lastIndex=Math.max(0,s);const l=b(g,n,r,c);if(!l&&d||(d=l,s<=0))break;c=s}if(d){const a={word:d[0],startColumn:i+1+d.index,endColumn:i+1+d.index+d[0].length};return g.lastIndex=0,a}return null}e.getWordAtText=_;function b(u,g,n,i){let t;for(;t=u.exec(g);){const o=t.index||0;if(o<=n&&u.lastIndex>=n)return t;if(i>0&&o>i)return null}return null}}),define(se[237],re([1,0,67]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class v{static whitespaceVisibleColumn(I,L,_){const b=I.length;let u=0,g=-1,n=-1;for(let i=0;i<b;i++){if(i===L)return[g,n,u];switch(u%_==0&&(g=i,n=u),I.charCodeAt(i)){case 32:u+=1;break;case 9:u=w.CursorColumns.nextRenderTabStop(u,_);break;default:return[-1,-1,-1]}}return L===b?[g,n,u]:[-1,-1,-1]}static atomicPosition(I,L,_,b){const u=I.length,[g,n,i]=v.whitespaceVisibleColumn(I,L,_);if(i===-1)return-1;let t;switch(b){case 0:t=!0;break;case 1:t=!1;break;case 2:if(i%_==0)return L;t=i%_<=_/2;break}if(t){if(g===-1)return-1;let c=n;for(let d=g;d<u;++d){if(c===n+_)return g;switch(I.charCodeAt(d)){case 32:c+=1;break;case 9:c=w.CursorColumns.nextRenderTabStop(c,_);break;default:return-1}}return c===n+_?g:-1}const o=w.CursorColumns.nextRenderTabStop(i,_);let r=i;for(let c=L;c<u;c++){if(r===o)return c;switch(I.charCodeAt(c)){case 32:r+=1;break;case 9:r=w.CursorColumns.nextRenderTabStop(r,_);break;default:return-1}}return r===o?u:-1}}e.AtomicTabMoveOperations=v}),define(se[413],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class w{constructor(k,I,L,_){this._cursorContextBrand=void 0,this.model=k,this.viewModel=I,this.coordinatesConverter=L,this.cursorConfig=_}}e.CursorContext=w}),define(se[181],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceFromIntArray=e.OffsetRange=e.SequenceDiff=void 0;class w{constructor(L,_){this.seq1Range=L,this.seq2Range=_}}e.SequenceDiff=w;class v{constructor(L,_){this.start=L,this.endExclusive=_}get length(){return this.endExclusive-this.start}}e.OffsetRange=v;class k{constructor(L){this.arr=L}getElement(L){return this.arr[L]}get length(){return this.arr.length}}e.SequenceFromIntArray=k}),define(se[414],re([1,0,181]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class v{compute(b,u){function g(s,l){for(;s<b.length&&l<u.length&&b.getElement(s)===u.getElement(l);)s++,l++;return s}let n=0;const i=new I;i.set(0,g(0,0));const t=new L;t.set(0,i.get(0)===0?null:new k(null,0,0,i.get(0)));let o=0;e:for(;;)for(n++,o=-n;o<=n;o+=2){const s=o===n?-1:i.get(o+1),l=o===-n?-1:i.get(o-1)+1,h=Math.min(Math.max(s,l),b.length),p=h-o,S=g(h,p);i.set(o,S);const f=h===s?t.get(o+1):t.get(o-1);if(t.set(o,S!==h?new k(f,h,p,S-h):f),i.get(o)===b.length&&i.get(o)-o===u.length)break e}let r=t.get(o);const c=[];let d=b.length,a=u.length;for(;;){const s=r?r.x+r.length:0,l=r?r.y+r.length:0;if((s!==d||l!==a)&&c.push(new w.SequenceDiff(new w.OffsetRange(s,d),new w.OffsetRange(l,a))),!r)break;d=r.x,a=r.y,r=r.prev}return c.reverse(),c}}e.MyersDiffAlgorithm=v;class k{constructor(b,u,g,n){this.prev=b,this.x=u,this.y=g,this.length=n}}class I{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(b){return b<0?(b=-b-1,this.negativeArr[b]):this.positiveArr[b]}set(b,u){if(b<0){if(b=-b-1,b>=this.negativeArr.length){const g=this.negativeArr;this.negativeArr=new Int32Array(g.length*2),this.negativeArr.set(g)}this.negativeArr[b]=u}else{if(b>=this.positiveArr.length){const g=this.positiveArr;this.positiveArr=new Int32Array(g.length*2),this.positiveArr.set(g)}this.positiveArr[b]=u}}}class L{constructor(){this.positiveArr=[],this.negativeArr=[]}get(b){return b<0?(b=-b-1,this.negativeArr[b]):this.positiveArr[b]}set(b,u){b<0?(b=-b-1,this.negativeArr[b]=u):this.positiveArr[b]=u}}}),define(se[415],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Array2D=void 0;class w{constructor(k,I){this.width=k,this.height=I,this.array=[],this.array=new Array(k*I)}get(k,I){return this.array[k+I*this.width]}set(k,I,L){this.array[k+I*this.width]=L}}e.Array2D=w}),define(se[416],re([1,0,181,415]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class k{compute(L,_,b){const u=new v.Array2D(L.length,_.length),g=new v.Array2D(L.length,_.length),n=new v.Array2D(L.length,_.length);for(let a=0;a<L.length;a++)for(let s=0;s<_.length;s++){const l=a===0?0:u.get(a-1,s),h=s===0?0:u.get(a,s-1);let p;L.getElement(a)===_.getElement(s)?(a===0||s===0?p=0:p=u.get(a-1,s-1),p+=b?b(a,s):1):p=-1;const S=Math.max(l,h,p);if(S===l)n.set(a,s,0),g.set(a,s,1);else if(S===h)n.set(a,s,0),g.set(a,s,2);else{const f=a>0&&s>0?n.get(a-1,s-1):0;n.set(a,s,f+1),g.set(a,s,3)}u.set(a,s,S)}const i=[];let t=L.length,o=_.length;function r(a,s){(a+1!==t||s+1!==o)&&i.push(new w.SequenceDiff(new w.OffsetRange(a+1,t),new w.OffsetRange(s+1,o))),t=a,o=s}let c=L.length-1,d=_.length-1;for(;c>=0&&d>=0;)g.get(c,d)===3?(r(c,d),c--,d--):g.get(c,d)===1?c--:d--;return r(-1,-1),i.reverse(),i}}e.DynamicProgrammingDiffing=k}),define(se[182],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRange=e.RangeMapping=e.LineRangeMapping=void 0;class w{constructor(L,_,b){this.originalRange=L,this.modifiedRange=_,this.innerChanges=b}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}e.LineRangeMapping=w;class v{constructor(L,_){this.originalRange=L,this.modifiedRange=_}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}e.RangeMapping=v;class k{constructor(L,_){this.startLineNumber=L,this.endLineNumberExclusive=_}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}}e.LineRange=k}),define(se[238],re([1,0,149,182,8,3]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.SmartLinesDiffComputer=void 0;const L=3;class _{computeDiff(s,l,h){const S=new o(s,l,{maxComputationTime:h.maxComputationTime,shouldIgnoreTrimWhitespace:h.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff();return{quitEarly:S.quitEarly,changes:S.changes.map(f=>{var m;let C;f.originalEndLineNumber===0?C=new v.LineRange(f.originalStartLineNumber+1,f.originalStartLineNumber+1):C=new v.LineRange(f.originalStartLineNumber,f.originalEndLineNumber+1);let y;return f.modifiedEndLineNumber===0?y=new v.LineRange(f.modifiedStartLineNumber+1,f.modifiedStartLineNumber+1):y=new v.LineRange(f.modifiedStartLineNumber,f.modifiedEndLineNumber+1),{originalRange:C,modifiedRange:y,innerChanges:(m=f.charChanges)===null||m===void 0?void 0:m.map(E=>new v.RangeMapping(new I.Range(E.originalStartLineNumber,E.originalStartColumn,E.originalEndLineNumber,E.originalEndColumn),new I.Range(E.modifiedStartLineNumber,E.modifiedStartColumn,E.modifiedEndLineNumber,E.modifiedEndColumn)))}})}}}e.SmartLinesDiffComputer=_;function b(a,s,l,h){return new w.LcsDiff(a,s,l).ComputeDiff(h)}class u{constructor(s){const l=[],h=[];for(let p=0,S=s.length;p<S;p++)l[p]=r(s[p],1),h[p]=c(s[p],1);this.lines=s,this._startColumns=l,this._endColumns=h}getElements(){const s=[];for(let l=0,h=this.lines.length;l<h;l++)s[l]=this.lines[l].substring(this._startColumns[l]-1,this._endColumns[l]-1);return s}getStrictElement(s){return this.lines[s]}getStartLineNumber(s){return s+1}getEndLineNumber(s){return s+1}createCharSequence(s,l,h){const p=[],S=[],f=[];let m=0;for(let C=l;C<=h;C++){const y=this.lines[C],E=s?this._startColumns[C]:1,T=s?this._endColumns[C]:y.length+1;for(let N=E;N<T;N++)p[m]=y.charCodeAt(N-1),S[m]=C+1,f[m]=N,m++;!s&&C<h&&(p[m]=10,S[m]=C+1,f[m]=y.length+1,m++)}return new g(p,S,f)}}class g{constructor(s,l,h){this._charCodes=s,this._lineNumbers=l,this._columns=h}toString(){return"["+this._charCodes.map((s,l)=>(s===10?"\\n":String.fromCharCode(s))+`-(${this._lineNumbers[l]},${this._columns[l]})`).join(", ")+"]"}_assertIndex(s,l){if(s<0||s>=l.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(s){return s>0&&s===this._lineNumbers.length?this.getEndLineNumber(s-1):(this._assertIndex(s,this._lineNumbers),this._lineNumbers[s])}getEndLineNumber(s){return s===-1?this.getStartLineNumber(s+1):(this._assertIndex(s,this._lineNumbers),this._charCodes[s]===10?this._lineNumbers[s]+1:this._lineNumbers[s])}getStartColumn(s){return s>0&&s===this._columns.length?this.getEndColumn(s-1):(this._assertIndex(s,this._columns),this._columns[s])}getEndColumn(s){return s===-1?this.getStartColumn(s+1):(this._assertIndex(s,this._columns),this._charCodes[s]===10?1:this._columns[s]+1)}}class n{constructor(s,l,h,p,S,f,m,C){this.originalStartLineNumber=s,this.originalStartColumn=l,this.originalEndLineNumber=h,this.originalEndColumn=p,this.modifiedStartLineNumber=S,this.modifiedStartColumn=f,this.modifiedEndLineNumber=m,this.modifiedEndColumn=C}static createFromDiffChange(s,l,h){const p=l.getStartLineNumber(s.originalStart),S=l.getStartColumn(s.originalStart),f=l.getEndLineNumber(s.originalStart+s.originalLength-1),m=l.getEndColumn(s.originalStart+s.originalLength-1),C=h.getStartLineNumber(s.modifiedStart),y=h.getStartColumn(s.modifiedStart),E=h.getEndLineNumber(s.modifiedStart+s.modifiedLength-1),T=h.getEndColumn(s.modifiedStart+s.modifiedLength-1);return new n(p,S,f,m,C,y,E,T)}}function i(a){if(a.length<=1)return a;const s=[a[0]];let l=s[0];for(let h=1,p=a.length;h<p;h++){const S=a[h],f=S.originalStart-(l.originalStart+l.originalLength),m=S.modifiedStart-(l.modifiedStart+l.modifiedLength);Math.min(f,m)<L?(l.originalLength=S.originalStart+S.originalLength-l.originalStart,l.modifiedLength=S.modifiedStart+S.modifiedLength-l.modifiedStart):(s.push(S),l=S)}return s}class t{constructor(s,l,h,p,S){this.originalStartLineNumber=s,this.originalEndLineNumber=l,this.modifiedStartLineNumber=h,this.modifiedEndLineNumber=p,this.charChanges=S}static createFromDiffResult(s,l,h,p,S,f,m){let C,y,E,T,N;if(l.originalLength===0?(C=h.getStartLineNumber(l.originalStart)-1,y=0):(C=h.getStartLineNumber(l.originalStart),y=h.getEndLineNumber(l.originalStart+l.originalLength-1)),l.modifiedLength===0?(E=p.getStartLineNumber(l.modifiedStart)-1,T=0):(E=p.getStartLineNumber(l.modifiedStart),T=p.getEndLineNumber(l.modifiedStart+l.modifiedLength-1)),f&&l.originalLength>0&&l.originalLength<20&&l.modifiedLength>0&&l.modifiedLength<20&&S()){const F=h.createCharSequence(s,l.originalStart,l.originalStart+l.originalLength-1),O=p.createCharSequence(s,l.modifiedStart,l.modifiedStart+l.modifiedLength-1);if(F.getElements().length>0&&O.getElements().length>0){let P=b(F,O,S,!0).changes;m&&(P=i(P)),N=[];for(let D=0,M=P.length;D<M;D++)N.push(n.createFromDiffChange(P[D],F,O))}}return new t(C,y,E,T,N)}}class o{constructor(s,l,h){this.shouldComputeCharChanges=h.shouldComputeCharChanges,this.shouldPostProcessCharChanges=h.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=h.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=h.shouldMakePrettyDiff,this.originalLines=s,this.modifiedLines=l,this.original=new u(s),this.modified=new u(l),this.continueLineDiff=d(h.maxComputationTime),this.continueCharDiff=d(h.maxComputationTime===0?0:Math.min(h.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const s=b(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),l=s.changes,h=s.quitEarly;if(this.shouldIgnoreTrimWhitespace){const m=[];for(let C=0,y=l.length;C<y;C++)m.push(t.createFromDiffResult(this.shouldIgnoreTrimWhitespace,l[C],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:h,changes:m}}const p=[];let S=0,f=0;for(let m=-1,C=l.length;m<C;m++){const y=m+1<C?l[m+1]:null,E=y?y.originalStart:this.originalLines.length,T=y?y.modifiedStart:this.modifiedLines.length;for(;S<E&&f<T;){const N=this.originalLines[S],F=this.modifiedLines[f];if(N!==F){{let O=r(N,1),P=r(F,1);for(;O>1&&P>1;){const D=N.charCodeAt(O-2),M=F.charCodeAt(P-2);if(D!==M)break;O--,P--}(O>1||P>1)&&this._pushTrimWhitespaceCharChange(p,S+1,1,O,f+1,1,P)}{let O=c(N,1),P=c(F,1);const D=N.length+1,M=F.length+1;for(;O<D&&P<M;){const R=N.charCodeAt(O-1),B=N.charCodeAt(P-1);if(R!==B)break;O++,P++}(O<D||P<M)&&this._pushTrimWhitespaceCharChange(p,S+1,O,D,f+1,P,M)}}S++,f++}y&&(p.push(t.createFromDiffResult(this.shouldIgnoreTrimWhitespace,y,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),S+=y.originalLength,f+=y.modifiedLength)}return{quitEarly:h,changes:p}}_pushTrimWhitespaceCharChange(s,l,h,p,S,f,m){if(this._mergeTrimWhitespaceCharChange(s,l,h,p,S,f,m))return;let C;this.shouldComputeCharChanges&&(C=[new n(l,h,l,p,S,f,S,m)]),s.push(new t(l,l,S,S,C))}_mergeTrimWhitespaceCharChange(s,l,h,p,S,f,m){const C=s.length;if(C===0)return!1;const y=s[C-1];return y.originalEndLineNumber===0||y.modifiedEndLineNumber===0?!1:y.originalEndLineNumber+1===l&&y.modifiedEndLineNumber+1===S?(y.originalEndLineNumber=l,y.modifiedEndLineNumber=S,this.shouldComputeCharChanges&&y.charChanges&&y.charChanges.push(new n(l,h,l,p,S,f,S,m)),!0):!1}}e.DiffComputer=o;function r(a,s){const l=k.firstNonWhitespaceIndex(a);return l===-1?s:l+1}function c(a,s){const l=k.lastNonWhitespaceIndex(a);return l===-1?s:l+2}function d(a){if(a===0)return()=>!0;const s=Date.now();return()=>Date.now()-s<a}}),define(se[417],re([1,0,11,3,181,416,414,182]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lineRangeMappingFromRangeMappings=e.StandardLinesDiffComputer=void 0;class b{constructor(){this.dynamicProgrammingDiffing=new I.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new L.MyersDiffAlgorithm}computeDiff(t,o,r){const c=new Map;function d(m){let C=c.get(m);return C===void 0&&(C=c.size,c.set(m,C)),C}const a=t.map(m=>d(m.trim())),s=o.map(m=>d(m.trim())),l=new k.SequenceFromIntArray(a),h=new k.SequenceFromIntArray(s),p=(()=>l.length+h.length<1500?this.dynamicProgrammingDiffing.compute(l,h,(m,C)=>t[m]===o[C]?o[C].length===0?.1:1+Math.log(1+o[C].length):.99):this.myersDiffingAlgorithm.compute(l,h))(),S=[];for(const m of p){const C=this.refineDiff(t,o,m);for(const y of C)S.push(y)}const f=u(S);return{quitEarly:!1,changes:f}}refineDiff(t,o,r){const c=new n(t,r.seq1Range),d=new n(o,r.seq2Range);return this.myersDiffingAlgorithm.compute(c,d).map(l=>new _.RangeMapping(c.translateRange(l.seq1Range).delta(r.seq1Range.start),d.translateRange(l.seq2Range).delta(r.seq2Range.start)))}}e.StandardLinesDiffComputer=b;function u(i){const t=[];for(const o of g(i,(r,c)=>c.modifiedRange.startLineNumber-(r.modifiedRange.endLineNumber-(r.modifiedRange.endColumn>1?0:1))<=1)){const r=o[0],c=o[o.length-1];t.push(new _.LineRangeMapping(new _.LineRange(r.originalRange.startLineNumber,c.originalRange.endLineNumber+(c.originalRange.endColumn>1||c.modifiedRange.endColumn>1?1:0)),new _.LineRange(r.modifiedRange.startLineNumber,c.modifiedRange.endLineNumber+(c.originalRange.endColumn>1||c.modifiedRange.endColumn>1?1:0)),o))}return t}e.lineRangeMappingFromRangeMappings=u;function*g(i,t){let o,r;for(const c of i)r!==void 0&&t(r,c)?o.push(c):(o&&(yield o),o=[c]),r=c;o&&(yield o)}class n{constructor(t,o){this.lines=t,this.lineRange=o;let r=0;this.firstCharOnLineOffsets=new Int32Array(o.length);for(let d=o.start;d<o.endExclusive;d++)r+=t[d].length,this.firstCharOnLineOffsets[d-o.start]=r+1,r++;this.elements=new Int32Array(r);let c=0;for(let d=o.start;d<o.endExclusive;d++){const a=t[d];for(let s=0;s<a.length;s++)this.elements[c+s]=a.charCodeAt(s);c+=a.length,d<t.length-1&&(this.elements[c]=`
`.charCodeAt(0),c+=1)}}getElement(t){return this.elements[t]}get length(){return this.elements.length}translateOffset(t){let o=0,r=this.firstCharOnLineOffsets.length;for(;o<r;){const d=Math.floor((o+r)/2);this.firstCharOnLineOffsets[d]>t?r=d:o=d+1}const c=o===0?0:this.firstCharOnLineOffsets[o-1];return new w.Position(o+1,t-c+1)}translateRange(t){return v.Range.fromPositions(this.translateOffset(t.start),this.translateOffset(t.endExclusive))}}}),define(se[418],re([1,0,238,417]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={smart:new w.SmartLinesDiffComputer,experimental:new v.StandardLinesDiffComputer}}),define(se[239],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class w{constructor(k,I,L,_,b,u){this.id=k,this.label=I,this.alias=L,this._precondition=_,this._run=b,this._contextKeyService=u}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=w}),define(se[155],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(se[156],re([1,0,155]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function v(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===w.EditorType.ICodeEditor:!1}e.isCodeEditor=v;function k(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===w.EditorType.IDiffEditor:!1}e.isDiffEditor=k;function I(L){return v(L)?L:k(L)?L.getModifiedEditor():null}e.getCodeEditor=I}),define(se[419],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class w{constructor(k){this._theme=k}get type(){return this._theme.type}get value(){return this._theme}update(k){this._theme=k}getColor(k){return this._theme.getColor(k)}}e.EditorTheme=w}),define(se[110],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class w{static getLanguageId(k){return(k&255)>>>0}static getTokenType(k){return(k&768)>>>8}static containsBalancedBrackets(k){return(k&1024)!=0}static getFontStyle(k){return(k&30720)>>>11}static getForeground(k){return(k&16744448)>>>15}static getBackground(k){return(k&4278190080)>>>24}static getClassNameFromMetadata(k){const I=this.getForeground(k);let L="mtk"+I;const _=this.getFontStyle(k);return _&1&&(L+=" mtki"),_&2&&(L+=" mtkb"),_&4&&(L+=" mtku"),_&8&&(L+=" mtks"),L}static getInlineStyleFromMetadata(k,I){const L=this.getForeground(k),_=this.getFontStyle(k);let b=`color: ${I[L]};`;_&1&&(b+="font-style: italic;"),_&2&&(b+="font-weight: bold;");let u="";return _&4&&(u+=" underline"),_&8&&(u+=" line-through"),u&&(b+=`text-decoration:${u};`),b}static getPresentationFromMetadata(k){const I=this.getForeground(k),L=this.getFontStyle(k);return{foreground:I,italic:Boolean(L&1),bold:Boolean(L&2),underline:Boolean(L&4),strikethrough:Boolean(L&8)}}}e.TokenMetadata=w}),define(se[100],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var w;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(w=e.IndentAction||(e.IndentAction={}));class v{constructor(_){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=_.open,this.close=_.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(_.notIn))for(let b=0,u=_.notIn.length;b<u;b++)switch(_.notIn[b]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(_){switch(_){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(_,b){if(_.getTokenCount()===0)return!0;const u=_.findTokenIndexAtOffset(b-2),g=_.getStandardTokenType(u);return this.isOK(g)}_findNeutralCharacterInRange(_,b){for(let u=_;u<=b;u++){const g=String.fromCharCode(u);if(!this.open.includes(g)&&!this.close.includes(g))return g}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=v;class k{constructor(_){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const b of _)I(this.autoClosingPairsOpenByStart,b.open.charAt(0),b),I(this.autoClosingPairsOpenByEnd,b.open.charAt(b.open.length-1),b),I(this.autoClosingPairsCloseByStart,b.close.charAt(0),b),I(this.autoClosingPairsCloseByEnd,b.close.charAt(b.close.length-1),b),b.close.length===1&&b.open.length===1&&I(this.autoClosingPairsCloseSingleChar,b.close,b)}}e.AutoClosingPairs=k;function I(L,_,b){L.has(_)?L.get(_).push(b):L.set(_,[b])}}),define(se[420],re([1,0,108]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class v{constructor(i,t,o){const r=new Uint8Array(i*t);for(let c=0,d=i*t;c<d;c++)r[c]=o;this._data=r,this.rows=i,this.cols=t}get(i,t){return this._data[i*this.cols+t]}set(i,t,o){this._data[i*this.cols+t]=o}}e.Uint8Matrix=v;class k{constructor(i){let t=0,o=0;for(let c=0,d=i.length;c<d;c++){const[a,s,l]=i[c];s>t&&(t=s),a>o&&(o=a),l>o&&(o=l)}t++,o++;const r=new v(o,t,0);for(let c=0,d=i.length;c<d;c++){const[a,s,l]=i[c];r.set(a,s,l)}this._states=r,this._maxCharCode=t}nextState(i,t){return t<0||t>=this._maxCharCode?0:this._states.get(i,t)}}e.StateMachine=k;let I=null;function L(){return I===null&&(I=new k([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),I}let _=null;function b(){if(_===null){_=new w.CharacterClassifier(0);const n=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<n.length;t++)_.set(n.charCodeAt(t),1);const i=".,;:";for(let t=0;t<i.length;t++)_.set(i.charCodeAt(t),2)}return _}class u{static _createLink(i,t,o,r,c){let d=c-1;do{const a=t.charCodeAt(d);if(i.get(a)!==2)break;d--}while(d>r);if(r>0){const a=t.charCodeAt(r-1),s=t.charCodeAt(d);(a===40&&s===41||a===91&&s===93||a===123&&s===125)&&d--}return{range:{startLineNumber:o,startColumn:r+1,endLineNumber:o,endColumn:d+2},url:t.substring(r,d+1)}}static computeLinks(i,t=L()){const o=b(),r=[];for(let c=1,d=i.getLineCount();c<=d;c++){const a=i.getLineContent(c),s=a.length;let l=0,h=0,p=0,S=1,f=!1,m=!1,C=!1,y=!1;for(;l<s;){let E=!1;const T=a.charCodeAt(l);if(S===13){let N;switch(T){case 40:f=!0,N=0;break;case 41:N=f?0:1;break;case 91:C=!0,m=!0,N=0;break;case 93:C=!1,N=m?0:1;break;case 123:y=!0,N=0;break;case 125:N=y?0:1;break;case 39:N=p===39?1:0;break;case 34:N=p===34?1:0;break;case 96:N=p===96?1:0;break;case 42:N=p===42?1:0;break;case 124:N=p===124?1:0;break;case 32:N=C?0:1;break;default:N=o.get(T)}N===1&&(r.push(u._createLink(o,a,c,h,l)),E=!0)}else if(S===12){let N;T===91?(m=!0,N=0):N=o.get(T),N===1?E=!0:S=13}else S=t.nextState(S,T),S===0&&(E=!0);E&&(S=1,f=!1,m=!1,y=!1,h=l+1,p=T),l++}S===13&&r.push(u._createLink(o,a,c,h,s))}return r}}e.LinkComputer=u;function g(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:u.computeLinks(n)}e.computeLinks=g}),define(se[111],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function w(I,L){const _=I.getCount(),b=I.findTokenIndexAtOffset(L),u=I.getLanguageId(b);let g=b;for(;g+1<_&&I.getLanguageId(g+1)===u;)g++;let n=b;for(;n>0&&I.getLanguageId(n-1)===u;)n--;return new v(I,u,n,g+1,I.getStartOffset(n),I.getEndOffset(g))}e.createScopedLineTokens=w;class v{constructor(L,_,b,u,g,n){this._scopedLineTokensBrand=void 0,this._actual=L,this.languageId=_,this._firstTokenIndex=b,this._lastTokenIndex=u,this.firstCharOffset=g,this._lastCharOffset=n}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(L){return this._actual.getLineContent().substring(0,this.firstCharOffset+L)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(L){return this._actual.findTokenIndexAtOffset(L+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(L){return this._actual.getStandardTokenType(L+this._firstTokenIndex)}}e.ScopedLineTokens=v;function k(I){return(I&3)!=0}e.ignoreBracketsInToken=k}),define(se[62],re([1,0,11,3,23,111,67,180]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const b=()=>!0,u=()=>!1,g=a=>a===" "||a==="	";class n{constructor(s,l,h,p){this.languageConfigurationService=p,this._cursorMoveConfigurationBrand=void 0,this._languageId=s;const S=h.options,f=S.get(133);this.readOnly=S.get(82),this.tabSize=l.tabSize,this.indentSize=l.indentSize,this.insertSpaces=l.insertSpaces,this.stickyTabStops=S.get(106),this.lineHeight=S.get(60),this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=S.get(118),this.wordSeparators=S.get(119),this.emptySelectionClipboard=S.get(33),this.copyWithSyntaxHighlighting=S.get(21),this.multiCursorMergeOverlapping=S.get(70),this.multiCursorPaste=S.get(72),this.autoClosingBrackets=S.get(5),this.autoClosingQuotes=S.get(8),this.autoClosingDelete=S.get(6),this.autoClosingOvertype=S.get(7),this.autoSurround=S.get(11),this.autoIndent=S.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(s,this.autoClosingQuotes),bracket:this._getShouldAutoClose(s,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(s).getAutoClosingPairs();const m=this.languageConfigurationService.getLanguageConfiguration(s).getSurroundingPairs();if(m)for(const C of m)this.surroundingPairs[C.open]=C.close}static shouldRecreate(s){return s.hasChanged(133)||s.hasChanged(119)||s.hasChanged(33)||s.hasChanged(70)||s.hasChanged(72)||s.hasChanged(5)||s.hasChanged(8)||s.hasChanged(6)||s.hasChanged(7)||s.hasChanged(11)||s.hasChanged(118)||s.hasChanged(60)||s.hasChanged(82)}get electricChars(){var s;if(!this._electricChars){this._electricChars={};const l=(s=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||s===void 0?void 0:s.getElectricCharacters();if(l)for(const h of l)this._electricChars[h]=!0}return this._electricChars}onElectricCharacter(s,l,h){const p=(0,I.createScopedLineTokens)(l,h-1),S=this.languageConfigurationService.getLanguageConfiguration(p.languageId).electricCharacter;return S?S.onElectricCharacter(s,p,h-p.firstCharOffset):null}normalizeIndentation(s){return(0,_.normalizeIndentation)(s,this.indentSize,this.insertSpaces)}_getShouldAutoClose(s,l){switch(l){case"beforeWhitespace":return g;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(s);case"always":return b;case"never":return u}}_getLanguageDefinedShouldAutoClose(s){const l=this.languageConfigurationService.getLanguageConfiguration(s).getAutoCloseBeforeSet();return h=>l.indexOf(h)!==-1}visibleColumnFromColumn(s,l){return L.CursorColumns.visibleColumnFromColumn(s.getLineContent(l.lineNumber),l.column,this.tabSize)}columnFromVisibleColumn(s,l,h){const p=L.CursorColumns.columnFromVisibleColumn(s.getLineContent(l),h,this.tabSize),S=s.getLineMinColumn(l);if(p<S)return S;const f=s.getLineMaxColumn(l);return p>f?f:p}}e.CursorConfiguration=n;class i{constructor(s,l){this._cursorStateBrand=void 0,this.modelState=s,this.viewState=l}static fromModelState(s){return new t(s)}static fromViewState(s){return new o(s)}static fromModelSelection(s){const l=k.Selection.liftSelection(s),h=new r(v.Range.fromPositions(l.getSelectionStart()),0,l.getPosition(),0);return i.fromModelState(h)}static fromModelSelections(s){const l=[];for(let h=0,p=s.length;h<p;h++)l[h]=this.fromModelSelection(s[h]);return l}equals(s){return this.viewState.equals(s.viewState)&&this.modelState.equals(s.modelState)}}e.CursorState=i;class t{constructor(s){this.modelState=s,this.viewState=null}}e.PartialModelCursorState=t;class o{constructor(s){this.modelState=null,this.viewState=s}}e.PartialViewCursorState=o;class r{constructor(s,l,h,p){this._singleCursorStateBrand=void 0,this.selectionStart=s,this.selectionStartLeftoverVisibleColumns=l,this.position=h,this.leftoverVisibleColumns=p,this.selection=r._computeSelection(this.selectionStart,this.position)}equals(s){return this.selectionStartLeftoverVisibleColumns===s.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===s.leftoverVisibleColumns&&this.position.equals(s.position)&&this.selectionStart.equalsRange(s.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(s,l,h,p){return s?new r(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new w.Position(l,h),p):new r(new v.Range(l,h,l,h),p,new w.Position(l,h),p)}static _computeSelection(s,l){return s.isEmpty()||!l.isBeforeOrEqual(s.getStartPosition())?k.Selection.fromPositions(s.getStartPosition(),l):k.Selection.fromPositions(s.getEndPosition(),l)}}e.SingleCursorState=r;class c{constructor(s,l,h){this._editOperationResultBrand=void 0,this.type=s,this.commands=l,this.shouldPushStackElementBefore=h.shouldPushStackElementBefore,this.shouldPushStackElementAfter=h.shouldPushStackElementAfter}}e.EditOperationResult=c;function d(a){return a==="'"||a==='"'||a==="`"}e.isQuote=d}),define(se[421],re([1,0,62,11,3]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class I{static columnSelect(_,b,u,g,n,i){const t=Math.abs(n-u)+1,o=u>n,r=g>i,c=g<i,d=[];for(let a=0;a<t;a++){const s=u+(o?-a:a),l=_.columnFromVisibleColumn(b,s,g),h=_.columnFromVisibleColumn(b,s,i),p=_.visibleColumnFromColumn(b,new v.Position(s,l)),S=_.visibleColumnFromColumn(b,new v.Position(s,h));c&&(p>i||S<g)||r&&(S>g||p<i)||d.push(new w.SingleCursorState(new k.Range(s,l,s,l),0,new v.Position(s,h),0))}if(d.length===0)for(let a=0;a<t;a++){const s=u+(o?-a:a),l=b.getLineMaxColumn(s);d.push(new w.SingleCursorState(new k.Range(s,l,s,l),0,new v.Position(s,l),0))}return{viewStates:d,reversed:o,fromLineNumber:u,fromVisualColumn:g,toLineNumber:n,toVisualColumn:i}}static columnSelectLeft(_,b,u){let g=u.toViewVisualColumn;return g>0&&g--,I.columnSelect(_,b,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,g)}static columnSelectRight(_,b,u){let g=0;const n=Math.min(u.fromViewLineNumber,u.toViewLineNumber),i=Math.max(u.fromViewLineNumber,u.toViewLineNumber);for(let o=n;o<=i;o++){const r=b.getLineMaxColumn(o),c=_.visibleColumnFromColumn(b,new v.Position(o,r));g=Math.max(g,c)}let t=u.toViewVisualColumn;return t<g&&t++,this.columnSelect(_,b,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,t)}static columnSelectUp(_,b,u,g){const n=g?_.pageSize:1,i=Math.max(1,u.toViewLineNumber-n);return this.columnSelect(_,b,u.fromViewLineNumber,u.fromViewVisualColumn,i,u.toViewVisualColumn)}static columnSelectDown(_,b,u,g){const n=g?_.pageSize:1,i=Math.min(b.getLineCount(),u.toViewLineNumber+n);return this.columnSelect(_,b,u.fromViewLineNumber,u.fromViewVisualColumn,i,u.toViewVisualColumn)}}e.ColumnSelection=I}),define(se[183],re([1,0,62,67,11,3,8,237]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class b{constructor(n,i,t){this._cursorPositionBrand=void 0,this.lineNumber=n,this.column=i,this.leftoverVisibleColumns=t}}e.CursorPosition=b;class u{static leftPosition(n,i){if(i.column>n.getLineMinColumn(i.lineNumber))return i.delta(void 0,-L.prevCharLength(n.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){const t=i.lineNumber-1;return new k.Position(t,n.getLineMaxColumn(t))}else return i}static leftPositionAtomicSoftTabs(n,i,t){if(i.column<=n.getLineIndentColumn(i.lineNumber)){const o=n.getLineMinColumn(i.lineNumber),r=n.getLineContent(i.lineNumber),c=_.AtomicTabMoveOperations.atomicPosition(r,i.column-1,t,0);if(c!==-1&&c+1>=o)return new k.Position(i.lineNumber,c+1)}return this.leftPosition(n,i)}static left(n,i,t){const o=n.stickyTabStops?u.leftPositionAtomicSoftTabs(i,t,n.tabSize):u.leftPosition(i,t);return new b(o.lineNumber,o.column,0)}static moveLeft(n,i,t,o,r){let c,d;if(t.hasSelection()&&!o)c=t.selection.startLineNumber,d=t.selection.startColumn;else{const a=t.position.delta(void 0,-(r-1)),s=i.normalizePosition(u.clipPositionColumn(a,i),0),l=u.left(n,i,s);c=l.lineNumber,d=l.column}return t.move(o,c,d,0)}static clipPositionColumn(n,i){return new k.Position(n.lineNumber,u.clipRange(n.column,i.getLineMinColumn(n.lineNumber),i.getLineMaxColumn(n.lineNumber)))}static clipRange(n,i,t){return n<i?i:n>t?t:n}static rightPosition(n,i,t){return t<n.getLineMaxColumn(i)?t=t+L.nextCharLength(n.getLineContent(i),t-1):i<n.getLineCount()&&(i=i+1,t=n.getLineMinColumn(i)),new k.Position(i,t)}static rightPositionAtomicSoftTabs(n,i,t,o,r){if(t<n.getLineIndentColumn(i)){const c=n.getLineContent(i),d=_.AtomicTabMoveOperations.atomicPosition(c,t-1,o,1);if(d!==-1)return new k.Position(i,d+1)}return this.rightPosition(n,i,t)}static right(n,i,t){const o=n.stickyTabStops?u.rightPositionAtomicSoftTabs(i,t.lineNumber,t.column,n.tabSize,n.indentSize):u.rightPosition(i,t.lineNumber,t.column);return new b(o.lineNumber,o.column,0)}static moveRight(n,i,t,o,r){let c,d;if(t.hasSelection()&&!o)c=t.selection.endLineNumber,d=t.selection.endColumn;else{const a=t.position.delta(void 0,r-1),s=i.normalizePosition(u.clipPositionColumn(a,i),1),l=u.right(n,i,s);c=l.lineNumber,d=l.column}return t.move(o,c,d,0)}static vertical(n,i,t,o,r,c,d,a){const s=v.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),o,n.tabSize)+r,l=i.getLineCount(),h=t===1&&o===1,p=t===l&&o===i.getLineMaxColumn(t),S=c<t?h:p;if(t=c,t<1?(t=1,d?o=i.getLineMinColumn(t):o=Math.min(i.getLineMaxColumn(t),o)):t>l?(t=l,d?o=i.getLineMaxColumn(t):o=Math.min(i.getLineMaxColumn(t),o)):o=n.columnFromVisibleColumn(i,t,s),S?r=0:r=s-v.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),o,n.tabSize),a!==void 0){const f=new k.Position(t,o),m=i.normalizePosition(f,a);r=r+(o-m.column),t=m.lineNumber,o=m.column}return new b(t,o,r)}static down(n,i,t,o,r,c,d){return this.vertical(n,i,t,o,r,t+c,d,4)}static moveDown(n,i,t,o,r){let c,d;t.hasSelection()&&!o?(c=t.selection.endLineNumber,d=t.selection.endColumn):(c=t.position.lineNumber,d=t.position.column);const a=u.down(n,i,c,d,t.leftoverVisibleColumns,r,!0);return t.move(o,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(n,i,t){const o=t.selection,r=u.down(n,i,o.selectionStartLineNumber,o.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),c=u.down(n,i,o.positionLineNumber,o.positionColumn,t.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new I.Range(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new k.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static up(n,i,t,o,r,c,d){return this.vertical(n,i,t,o,r,t-c,d,3)}static moveUp(n,i,t,o,r){let c,d;t.hasSelection()&&!o?(c=t.selection.startLineNumber,d=t.selection.startColumn):(c=t.position.lineNumber,d=t.position.column);const a=u.up(n,i,c,d,t.leftoverVisibleColumns,r,!0);return t.move(o,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(n,i,t){const o=t.selection,r=u.up(n,i,o.selectionStartLineNumber,o.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),c=u.up(n,i,o.positionLineNumber,o.positionColumn,t.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new I.Range(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new k.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static _isBlankLine(n,i){return n.getLineFirstNonWhitespaceColumn(i)===0}static moveToPrevBlankLine(n,i,t,o){let r=t.position.lineNumber;for(;r>1&&this._isBlankLine(i,r);)r--;for(;r>1&&!this._isBlankLine(i,r);)r--;return t.move(o,r,i.getLineMinColumn(r),0)}static moveToNextBlankLine(n,i,t,o){const r=i.getLineCount();let c=t.position.lineNumber;for(;c<r&&this._isBlankLine(i,c);)c++;for(;c<r&&!this._isBlankLine(i,c);)c++;return t.move(o,c,i.getLineMinColumn(c),0)}static moveToBeginningOfLine(n,i,t,o){const r=t.position.lineNumber,c=i.getLineMinColumn(r),d=i.getLineFirstNonWhitespaceColumn(r)||c;let a;return t.position.column===d?a=c:a=d,t.move(o,r,a,0)}static moveToEndOfLine(n,i,t,o,r){const c=t.position.lineNumber,d=i.getLineMaxColumn(c);return t.move(o,c,d,r?1073741824-d:0)}static moveToBeginningOfBuffer(n,i,t,o){return t.move(o,1,1,0)}static moveToEndOfBuffer(n,i,t,o){const r=i.getLineCount(),c=i.getLineMaxColumn(r);return t.move(o,r,c,0)}}e.MoveOperations=u}),define(se[184],re([1,0,8,109,62,67,183,3,11]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class u{static deleteRight(n,i,t,o){const r=[];let c=n!==3;for(let d=0,a=o.length;d<a;d++){const s=o[d];let l=s;if(l.isEmpty()){const h=s.getPosition(),p=L.MoveOperations.right(i,t,h);l=new _.Range(p.lineNumber,p.column,h.lineNumber,h.column)}if(l.isEmpty()){r[d]=null;continue}l.startLineNumber!==l.endLineNumber&&(c=!0),r[d]=new v.ReplaceCommand(l,"")}return[c,r]}static isAutoClosingPairDelete(n,i,t,o,r,c,d){if(i==="never"&&t==="never"||n==="never")return!1;for(let a=0,s=c.length;a<s;a++){const l=c[a],h=l.getPosition();if(!l.isEmpty())return!1;const p=r.getLineContent(h.lineNumber);if(h.column<2||h.column>=p.length+1)return!1;const S=p.charAt(h.column-2),f=o.get(S);if(!f)return!1;if((0,k.isQuote)(S)){if(t==="never")return!1}else if(i==="never")return!1;const m=p.charAt(h.column-1);let C=!1;for(const y of f)y.open===S&&y.close===m&&(C=!0);if(!C)return!1;if(n==="auto"){let y=!1;for(let E=0,T=d.length;E<T;E++){const N=d[E];if(h.lineNumber===N.startLineNumber&&h.column===N.startColumn){y=!0;break}}if(!y)return!1}}return!0}static _runAutoClosingPairDelete(n,i,t){const o=[];for(let r=0,c=t.length;r<c;r++){const d=t[r].getPosition(),a=new _.Range(d.lineNumber,d.column-1,d.lineNumber,d.column+1);o[r]=new v.ReplaceCommand(a,"")}return[!0,o]}static deleteLeft(n,i,t,o,r){if(this.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,t,o,r))return this._runAutoClosingPairDelete(i,t,o);const c=[];let d=n!==2;for(let a=0,s=o.length;a<s;a++){const l=u.getDeleteRange(o[a],t,i);if(l.isEmpty()){c[a]=null;continue}l.startLineNumber!==l.endLineNumber&&(d=!0),c[a]=new v.ReplaceCommand(l,"")}return[d,c]}static getDeleteRange(n,i,t){if(!n.isEmpty())return n;const o=n.getPosition();if(t.useTabStops&&o.column>1){const r=i.getLineContent(o.lineNumber),c=w.firstNonWhitespaceIndex(r),d=c===-1?r.length+1:c+1;if(o.column<=d){const a=t.visibleColumnFromColumn(i,o),s=I.CursorColumns.prevIndentTabStop(a,t.indentSize),l=t.columnFromVisibleColumn(i,o.lineNumber,s);return new _.Range(o.lineNumber,l,o.lineNumber,o.column)}}return _.Range.fromPositions(u.getPositionAfterDeleteLeft(o,i),o)}static getPositionAfterDeleteLeft(n,i){if(n.column>1){const t=w.getLeftDeleteOffset(n.column-1,i.getLineContent(n.lineNumber));return n.with(void 0,t+1)}else if(n.lineNumber>1){const t=n.lineNumber-1;return new b.Position(t,i.getLineMaxColumn(t))}else return n}static cut(n,i,t){const o=[];let r=null;t.sort((c,d)=>b.Position.compare(c.getStartPosition(),d.getEndPosition()));for(let c=0,d=t.length;c<d;c++){const a=t[c];if(a.isEmpty())if(n.emptySelectionClipboard){const s=a.getPosition();let l,h,p,S;s.lineNumber<i.getLineCount()?(l=s.lineNumber,h=1,p=s.lineNumber+1,S=1):s.lineNumber>1&&(r==null?void 0:r.endLineNumber)!==s.lineNumber?(l=s.lineNumber-1,h=i.getLineMaxColumn(s.lineNumber-1),p=s.lineNumber,S=i.getLineMaxColumn(s.lineNumber)):(l=s.lineNumber,h=1,p=s.lineNumber,S=i.getLineMaxColumn(s.lineNumber));const f=new _.Range(l,h,p,S);r=f,f.isEmpty()?o[c]=null:o[c]=new v.ReplaceCommand(f,"")}else o[c]=null;else o[c]=new v.ReplaceCommand(a,"")}return new k.EditOperationResult(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=u}),define(se[157],re([1,0,8,62,184,129,11,3]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class b{static _createWord(i,t,o,r,c){return{start:r,end:c,wordType:t,nextCharClass:o}}static _findPreviousWordOnLine(i,t,o){const r=t.getLineContent(o.lineNumber);return this._doFindPreviousWordOnLine(r,i,o)}static _doFindPreviousWordOnLine(i,t,o){let r=0;for(let c=o.column-2;c>=0;c--){const d=i.charCodeAt(c),a=t.get(d);if(a===0){if(r===2)return this._createWord(i,r,a,c+1,this._findEndOfWord(i,t,r,c+1));r=1}else if(a===2){if(r===1)return this._createWord(i,r,a,c+1,this._findEndOfWord(i,t,r,c+1));r=2}else if(a===1&&r!==0)return this._createWord(i,r,a,c+1,this._findEndOfWord(i,t,r,c+1))}return r!==0?this._createWord(i,r,1,0,this._findEndOfWord(i,t,r,0)):null}static _findEndOfWord(i,t,o,r){const c=i.length;for(let d=r;d<c;d++){const a=i.charCodeAt(d),s=t.get(a);if(s===1||o===1&&s===2||o===2&&s===0)return d}return c}static _findNextWordOnLine(i,t,o){const r=t.getLineContent(o.lineNumber);return this._doFindNextWordOnLine(r,i,o)}static _doFindNextWordOnLine(i,t,o){let r=0;const c=i.length;for(let d=o.column-1;d<c;d++){const a=i.charCodeAt(d),s=t.get(a);if(s===0){if(r===2)return this._createWord(i,r,s,this._findStartOfWord(i,t,r,d-1),d);r=1}else if(s===2){if(r===1)return this._createWord(i,r,s,this._findStartOfWord(i,t,r,d-1),d);r=2}else if(s===1&&r!==0)return this._createWord(i,r,s,this._findStartOfWord(i,t,r,d-1),d)}return r!==0?this._createWord(i,r,1,this._findStartOfWord(i,t,r,c-1),c):null}static _findStartOfWord(i,t,o,r){for(let c=r;c>=0;c--){const d=i.charCodeAt(c),a=t.get(d);if(a===1||o===1&&a===2||o===2&&a===0)return c+1}return 0}static moveWordLeft(i,t,o,r){let c=o.lineNumber,d=o.column;d===1&&c>1&&(c=c-1,d=t.getLineMaxColumn(c));let a=b._findPreviousWordOnLine(i,t,new L.Position(c,d));if(r===0)return new L.Position(c,a?a.start+1:1);if(r===1)return a&&a.wordType===2&&a.end-a.start==1&&a.nextCharClass===0&&(a=b._findPreviousWordOnLine(i,t,new L.Position(c,a.start+1))),new L.Position(c,a?a.start+1:1);if(r===3){for(;a&&a.wordType===2;)a=b._findPreviousWordOnLine(i,t,new L.Position(c,a.start+1));return new L.Position(c,a?a.start+1:1)}return a&&d<=a.end+1&&(a=b._findPreviousWordOnLine(i,t,new L.Position(c,a.start+1))),new L.Position(c,a?a.end+1:1)}static _moveWordPartLeft(i,t){const o=t.lineNumber,r=i.getLineMaxColumn(o);if(t.column===1)return o>1?new L.Position(o-1,i.getLineMaxColumn(o-1)):t;const c=i.getLineContent(o);for(let d=t.column-1;d>1;d--){const a=c.charCodeAt(d-2),s=c.charCodeAt(d-1);if(a===95&&s!==95)return new L.Position(o,d);if((w.isLowerAsciiLetter(a)||w.isAsciiDigit(a))&&w.isUpperAsciiLetter(s))return new L.Position(o,d);if(w.isUpperAsciiLetter(a)&&w.isUpperAsciiLetter(s)&&d+1<r){const l=c.charCodeAt(d);if(w.isLowerAsciiLetter(l)||w.isAsciiDigit(l))return new L.Position(o,d)}}return new L.Position(o,1)}static moveWordRight(i,t,o,r){let c=o.lineNumber,d=o.column,a=!1;d===t.getLineMaxColumn(c)&&c<t.getLineCount()&&(a=!0,c=c+1,d=1);let s=b._findNextWordOnLine(i,t,new L.Position(c,d));if(r===2)s&&s.wordType===2&&s.end-s.start==1&&s.nextCharClass===0&&(s=b._findNextWordOnLine(i,t,new L.Position(c,s.end+1))),s?d=s.end+1:d=t.getLineMaxColumn(c);else if(r===3){for(a&&(d=0);s&&(s.wordType===2||s.start+1<=d);)s=b._findNextWordOnLine(i,t,new L.Position(c,s.end+1));s?d=s.start+1:d=t.getLineMaxColumn(c)}else s&&!a&&d>=s.start+1&&(s=b._findNextWordOnLine(i,t,new L.Position(c,s.end+1))),s?d=s.start+1:d=t.getLineMaxColumn(c);return new L.Position(c,d)}static _moveWordPartRight(i,t){const o=t.lineNumber,r=i.getLineMaxColumn(o);if(t.column===r)return o<i.getLineCount()?new L.Position(o+1,1):t;const c=i.getLineContent(o);for(let d=t.column+1;d<r;d++){const a=c.charCodeAt(d-2),s=c.charCodeAt(d-1);if(a!==95&&s===95)return new L.Position(o,d);if((w.isLowerAsciiLetter(a)||w.isAsciiDigit(a))&&w.isUpperAsciiLetter(s))return new L.Position(o,d);if(w.isUpperAsciiLetter(a)&&w.isUpperAsciiLetter(s)&&d+1<r){const l=c.charCodeAt(d);if(w.isLowerAsciiLetter(l)||w.isAsciiDigit(l))return new L.Position(o,d)}}return new L.Position(o,r)}static _deleteWordLeftWhitespace(i,t){const o=i.getLineContent(t.lineNumber),r=t.column-2,c=w.lastNonWhitespaceIndex(o,r);return c+1<r?new _.Range(t.lineNumber,c+2,t.lineNumber,t.column):null}static deleteWordLeft(i,t){const o=i.wordSeparators,r=i.model,c=i.selection,d=i.whitespaceHeuristics;if(!c.isEmpty())return c;if(k.DeleteOperations.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){const p=i.selection.getPosition();return new _.Range(p.lineNumber,p.column-1,p.lineNumber,p.column+1)}const a=new L.Position(c.positionLineNumber,c.positionColumn);let s=a.lineNumber,l=a.column;if(s===1&&l===1)return null;if(d){const p=this._deleteWordLeftWhitespace(r,a);if(p)return p}let h=b._findPreviousWordOnLine(o,r,a);return t===0?h?l=h.start+1:l>1?l=1:(s--,l=r.getLineMaxColumn(s)):(h&&l<=h.end+1&&(h=b._findPreviousWordOnLine(o,r,new L.Position(s,h.start+1))),h?l=h.end+1:l>1?l=1:(s--,l=r.getLineMaxColumn(s))),new _.Range(s,l,a.lineNumber,a.column)}static deleteInsideWord(i,t,o){if(!o.isEmpty())return o;const r=new L.Position(o.positionLineNumber,o.positionColumn),c=this._deleteInsideWordWhitespace(t,r);return c||this._deleteInsideWordDetermineDeleteRange(i,t,r)}static _charAtIsWhitespace(i,t){const o=i.charCodeAt(t);return o===32||o===9}static _deleteInsideWordWhitespace(i,t){const o=i.getLineContent(t.lineNumber),r=o.length;if(r===0)return null;let c=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(o,c))return null;let d=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(o,d))return null;for(;c>0&&this._charAtIsWhitespace(o,c-1);)c--;for(;d+1<r&&this._charAtIsWhitespace(o,d+1);)d++;return new _.Range(t.lineNumber,c+1,t.lineNumber,d+2)}static _deleteInsideWordDetermineDeleteRange(i,t,o){const r=t.getLineContent(o.lineNumber),c=r.length;if(c===0)return o.lineNumber>1?new _.Range(o.lineNumber-1,t.getLineMaxColumn(o.lineNumber-1),o.lineNumber,1):o.lineNumber<t.getLineCount()?new _.Range(o.lineNumber,1,o.lineNumber+1,1):new _.Range(o.lineNumber,1,o.lineNumber,1);const d=p=>p.start+1<=o.column&&o.column<=p.end+1,a=(p,S)=>(p=Math.min(p,o.column),S=Math.max(S,o.column),new _.Range(o.lineNumber,p,o.lineNumber,S)),s=p=>{let S=p.start+1,f=p.end+1,m=!1;for(;f-1<c&&this._charAtIsWhitespace(r,f-1);)m=!0,f++;if(!m)for(;S>1&&this._charAtIsWhitespace(r,S-2);)S--;return a(S,f)},l=b._findPreviousWordOnLine(i,t,o);if(l&&d(l))return s(l);const h=b._findNextWordOnLine(i,t,o);return h&&d(h)?s(h):l&&h?a(l.end+1,h.start+1):l?a(l.start+1,l.end+1):h?a(h.start+1,h.end+1):a(1,c+1)}static _deleteWordPartLeft(i,t){if(!t.isEmpty())return t;const o=t.getPosition(),r=b._moveWordPartLeft(i,o);return new _.Range(o.lineNumber,o.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(i,t){const o=i.length;for(let r=t;r<o;r++){const c=i.charAt(r);if(c!==" "&&c!=="	")return r}return o}static _deleteWordRightWhitespace(i,t){const o=i.getLineContent(t.lineNumber),r=t.column-1,c=this._findFirstNonWhitespaceChar(o,r);return r+1<c?new _.Range(t.lineNumber,t.column,t.lineNumber,c+1):null}static deleteWordRight(i,t){const o=i.wordSeparators,r=i.model,c=i.selection,d=i.whitespaceHeuristics;if(!c.isEmpty())return c;const a=new L.Position(c.positionLineNumber,c.positionColumn);let s=a.lineNumber,l=a.column;const h=r.getLineCount(),p=r.getLineMaxColumn(s);if(s===h&&l===p)return null;if(d){const f=this._deleteWordRightWhitespace(r,a);if(f)return f}let S=b._findNextWordOnLine(o,r,a);return t===2?S?l=S.end+1:l<p||s===h?l=p:(s++,S=b._findNextWordOnLine(o,r,new L.Position(s,1)),S?l=S.start+1:l=r.getLineMaxColumn(s)):(S&&l>=S.start+1&&(S=b._findNextWordOnLine(o,r,new L.Position(s,S.end+1))),S?l=S.start+1:l<p||s===h?l=p:(s++,S=b._findNextWordOnLine(o,r,new L.Position(s,1)),S?l=S.start+1:l=r.getLineMaxColumn(s))),new _.Range(s,l,a.lineNumber,a.column)}static _deleteWordPartRight(i,t){if(!t.isEmpty())return t;const o=t.getPosition(),r=b._moveWordPartRight(i,o);return new _.Range(o.lineNumber,o.column,r.lineNumber,r.column)}static _createWordAtPosition(i,t,o){const r=new _.Range(t,o.start+1,t,o.end+1);return{word:i.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(i,t,o){const r=(0,I.getMapForWordSeparators)(t),c=b._findPreviousWordOnLine(r,i,o);if(c&&c.wordType===1&&c.start<=o.column-1&&o.column-1<=c.end)return b._createWordAtPosition(i,o.lineNumber,c);const d=b._findNextWordOnLine(r,i,o);return d&&d.wordType===1&&d.start<=o.column-1&&o.column-1<=d.end?b._createWordAtPosition(i,o.lineNumber,d):null}static word(i,t,o,r,c){const d=(0,I.getMapForWordSeparators)(i.wordSeparators),a=b._findPreviousWordOnLine(d,t,c),s=b._findNextWordOnLine(d,t,c);if(!r){let f,m;return a&&a.wordType===1&&a.start<=c.column-1&&c.column-1<=a.end?(f=a.start+1,m=a.end+1):s&&s.wordType===1&&s.start<=c.column-1&&c.column-1<=s.end?(f=s.start+1,m=s.end+1):(a?f=a.end+1:f=1,s?m=s.start+1:m=t.getLineMaxColumn(c.lineNumber)),new v.SingleCursorState(new _.Range(c.lineNumber,f,c.lineNumber,m),0,new L.Position(c.lineNumber,m),0)}let l,h;a&&a.wordType===1&&a.start<c.column-1&&c.column-1<a.end?(l=a.start+1,h=a.end+1):s&&s.wordType===1&&s.start<c.column-1&&c.column-1<s.end?(l=s.start+1,h=s.end+1):(l=c.column,h=c.column);const p=c.lineNumber;let S;if(o.selectionStart.containsPosition(c))S=o.selectionStart.endColumn;else if(c.isBeforeOrEqual(o.selectionStart.getStartPosition())){S=l;const f=new L.Position(p,S);o.selectionStart.containsPosition(f)&&(S=o.selectionStart.endColumn)}else{S=h;const f=new L.Position(p,S);o.selectionStart.containsPosition(f)&&(S=o.selectionStart.startColumn)}return o.move(!0,p,S,0)}}e.WordOperations=b;class u extends b{static deleteWordPartLeft(i){const t=g([b.deleteWordLeft(i,0),b.deleteWordLeft(i,2),b._deleteWordPartLeft(i.model,i.selection)]);return t.sort(_.Range.compareRangesUsingEnds),t[2]}static deleteWordPartRight(i){const t=g([b.deleteWordRight(i,0),b.deleteWordRight(i,2),b._deleteWordPartRight(i.model,i.selection)]);return t.sort(_.Range.compareRangesUsingStarts),t[0]}static moveWordPartLeft(i,t,o){const r=g([b.moveWordLeft(i,t,o,0),b.moveWordLeft(i,t,o,2),b._moveWordPartLeft(t,o)]);return r.sort(L.Position.compare),r[2]}static moveWordPartRight(i,t,o){const r=g([b.moveWordRight(i,t,o,0),b.moveWordRight(i,t,o,2),b._moveWordPartRight(t,o)]);return r.sort(L.Position.compare),r[0]}}e.WordPartOperations=u;function g(n){return n.filter(i=>Boolean(i))}}),define(se[185],re([1,0,20,62,183,157,11,3]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class b{static addCursorDown(n,i,t){const o=[];let r=0;for(let c=0,d=i.length;c<d;c++){const a=i[c];o[r++]=new v.CursorState(a.modelState,a.viewState),t?o[r++]=v.CursorState.fromModelState(k.MoveOperations.translateDown(n.cursorConfig,n.model,a.modelState)):o[r++]=v.CursorState.fromViewState(k.MoveOperations.translateDown(n.cursorConfig,n,a.viewState))}return o}static addCursorUp(n,i,t){const o=[];let r=0;for(let c=0,d=i.length;c<d;c++){const a=i[c];o[r++]=new v.CursorState(a.modelState,a.viewState),t?o[r++]=v.CursorState.fromModelState(k.MoveOperations.translateUp(n.cursorConfig,n.model,a.modelState)):o[r++]=v.CursorState.fromViewState(k.MoveOperations.translateUp(n.cursorConfig,n,a.viewState))}return o}static moveToBeginningOfLine(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r];o[r]=this._moveToLineStart(n,d,t)}return o}static _moveToLineStart(n,i,t){const o=i.viewState.position.column,r=i.modelState.position.column,c=o===r,d=i.viewState.position.lineNumber,a=n.getLineFirstNonWhitespaceColumn(d);return!c&&!(o===a)?this._moveToLineStartByView(n,i,t):this._moveToLineStartByModel(n,i,t)}static _moveToLineStartByView(n,i,t){return v.CursorState.fromViewState(k.MoveOperations.moveToBeginningOfLine(n.cursorConfig,n,i.viewState,t))}static _moveToLineStartByModel(n,i,t){return v.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfLine(n.cursorConfig,n.model,i.modelState,t))}static moveToEndOfLine(n,i,t,o){const r=[];for(let c=0,d=i.length;c<d;c++){const a=i[c];r[c]=this._moveToLineEnd(n,a,t,o)}return r}static _moveToLineEnd(n,i,t,o){const r=i.viewState.position,c=n.getLineMaxColumn(r.lineNumber),d=r.column===c,a=i.modelState.position,s=n.model.getLineMaxColumn(a.lineNumber),l=c-r.column==s-a.column;return d||l?this._moveToLineEndByModel(n,i,t,o):this._moveToLineEndByView(n,i,t,o)}static _moveToLineEndByView(n,i,t,o){return v.CursorState.fromViewState(k.MoveOperations.moveToEndOfLine(n.cursorConfig,n,i.viewState,t,o))}static _moveToLineEndByModel(n,i,t,o){return v.CursorState.fromModelState(k.MoveOperations.moveToEndOfLine(n.cursorConfig,n.model,i.modelState,t,o))}static expandLineSelection(n,i){const t=[];for(let o=0,r=i.length;o<r;o++){const c=i[o],d=c.modelState.selection.startLineNumber,a=n.model.getLineCount();let s=c.modelState.selection.endLineNumber,l;s===a?l=n.model.getLineMaxColumn(a):(s++,l=1),t[o]=v.CursorState.fromModelState(new v.SingleCursorState(new _.Range(d,1,d,1),0,new L.Position(s,l),0))}return t}static moveToBeginningOfBuffer(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r];o[r]=v.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfBuffer(n.cursorConfig,n.model,d.modelState,t))}return o}static moveToEndOfBuffer(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r];o[r]=v.CursorState.fromModelState(k.MoveOperations.moveToEndOfBuffer(n.cursorConfig,n.model,d.modelState,t))}return o}static selectAll(n,i){const t=n.model.getLineCount(),o=n.model.getLineMaxColumn(t);return v.CursorState.fromModelState(new v.SingleCursorState(new _.Range(1,1,1,1),0,new L.Position(t,o),0))}static line(n,i,t,o,r){const c=n.model.validatePosition(o),d=r?n.coordinatesConverter.validateViewPosition(new L.Position(r.lineNumber,r.column),c):n.coordinatesConverter.convertModelPositionToViewPosition(c);if(!t||!i.modelState.hasSelection()){const s=n.model.getLineCount();let l=c.lineNumber+1,h=1;return l>s&&(l=s,h=n.model.getLineMaxColumn(l)),v.CursorState.fromModelState(new v.SingleCursorState(new _.Range(c.lineNumber,1,l,h),0,new L.Position(l,h),0))}const a=i.modelState.selectionStart.getStartPosition().lineNumber;if(c.lineNumber<a)return v.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),d.lineNumber,1,0));if(c.lineNumber>a){const s=n.getLineCount();let l=d.lineNumber+1,h=1;return l>s&&(l=s,h=n.getLineMaxColumn(l)),v.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),l,h,0))}else{const s=i.modelState.selectionStart.getEndPosition();return v.CursorState.fromModelState(i.modelState.move(i.modelState.hasSelection(),s.lineNumber,s.column,0))}}static word(n,i,t,o){const r=n.model.validatePosition(o);return v.CursorState.fromModelState(I.WordOperations.word(n.cursorConfig,n.model,i.modelState,t,r))}static cancelSelection(n,i){if(!i.modelState.hasSelection())return new v.CursorState(i.modelState,i.viewState);const t=i.viewState.position.lineNumber,o=i.viewState.position.column;return v.CursorState.fromViewState(new v.SingleCursorState(new _.Range(t,o,t,o),0,new L.Position(t,o),0))}static moveTo(n,i,t,o,r){const c=n.model.validatePosition(o),d=r?n.coordinatesConverter.validateViewPosition(new L.Position(r.lineNumber,r.column),c):n.coordinatesConverter.convertModelPositionToViewPosition(c);return v.CursorState.fromViewState(i.viewState.move(t,d.lineNumber,d.column,0))}static simpleMove(n,i,t,o,r,c){switch(t){case 0:return c===4?this._moveHalfLineLeft(n,i,o):this._moveLeft(n,i,o,r);case 1:return c===4?this._moveHalfLineRight(n,i,o):this._moveRight(n,i,o,r);case 2:return c===2?this._moveUpByViewLines(n,i,o,r):this._moveUpByModelLines(n,i,o,r);case 3:return c===2?this._moveDownByViewLines(n,i,o,r):this._moveDownByModelLines(n,i,o,r);case 4:return c===2?i.map(d=>v.CursorState.fromViewState(k.MoveOperations.moveToPrevBlankLine(n.cursorConfig,n,d.viewState,o))):i.map(d=>v.CursorState.fromModelState(k.MoveOperations.moveToPrevBlankLine(n.cursorConfig,n.model,d.modelState,o)));case 5:return c===2?i.map(d=>v.CursorState.fromViewState(k.MoveOperations.moveToNextBlankLine(n.cursorConfig,n,d.viewState,o))):i.map(d=>v.CursorState.fromModelState(k.MoveOperations.moveToNextBlankLine(n.cursorConfig,n.model,d.modelState,o)));case 6:return this._moveToViewMinColumn(n,i,o);case 7:return this._moveToViewFirstNonWhitespaceColumn(n,i,o);case 8:return this._moveToViewCenterColumn(n,i,o);case 9:return this._moveToViewMaxColumn(n,i,o);case 10:return this._moveToViewLastNonWhitespaceColumn(n,i,o);default:return null}}static viewportMove(n,i,t,o,r){const c=n.getCompletelyVisibleViewRange(),d=n.coordinatesConverter.convertViewRangeToModelRange(c);switch(t){case 11:{const a=this._firstLineNumberInRange(n.model,d,r),s=n.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(n,i[0],o,a,s)]}case 13:{const a=this._lastLineNumberInRange(n.model,d,r),s=n.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(n,i[0],o,a,s)]}case 12:{const a=Math.round((d.startLineNumber+d.endLineNumber)/2),s=n.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(n,i[0],o,a,s)]}case 14:{const a=[];for(let s=0,l=i.length;s<l;s++){const h=i[s];a[s]=this.findPositionInViewportIfOutside(n,h,c,o)}return a}default:return null}}static findPositionInViewportIfOutside(n,i,t,o){const r=i.viewState.position.lineNumber;if(t.startLineNumber<=r&&r<=t.endLineNumber-1)return new v.CursorState(i.modelState,i.viewState);{let c;r>t.endLineNumber-1?c=t.endLineNumber-1:r<t.startLineNumber?c=t.startLineNumber:c=r;const d=k.MoveOperations.vertical(n.cursorConfig,n,r,i.viewState.position.column,i.viewState.leftoverVisibleColumns,c,!1);return v.CursorState.fromViewState(i.viewState.move(o,d.lineNumber,d.column,d.leftoverVisibleColumns))}}static _firstLineNumberInRange(n,i,t){let o=i.startLineNumber;return i.startColumn!==n.getLineMinColumn(o)&&o++,Math.min(i.endLineNumber,o+t-1)}static _lastLineNumberInRange(n,i,t){let o=i.startLineNumber;return i.startColumn!==n.getLineMinColumn(o)&&o++,Math.max(o,i.endLineNumber-t+1)}static _moveLeft(n,i,t,o){return i.map(r=>v.CursorState.fromViewState(k.MoveOperations.moveLeft(n.cursorConfig,n,r.viewState,t,o)))}static _moveHalfLineLeft(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r],a=d.viewState.position.lineNumber,s=Math.round(n.getLineContent(a).length/2);o[r]=v.CursorState.fromViewState(k.MoveOperations.moveLeft(n.cursorConfig,n,d.viewState,t,s))}return o}static _moveRight(n,i,t,o){return i.map(r=>v.CursorState.fromViewState(k.MoveOperations.moveRight(n.cursorConfig,n,r.viewState,t,o)))}static _moveHalfLineRight(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r],a=d.viewState.position.lineNumber,s=Math.round(n.getLineContent(a).length/2);o[r]=v.CursorState.fromViewState(k.MoveOperations.moveRight(n.cursorConfig,n,d.viewState,t,s))}return o}static _moveDownByViewLines(n,i,t,o){const r=[];for(let c=0,d=i.length;c<d;c++){const a=i[c];r[c]=v.CursorState.fromViewState(k.MoveOperations.moveDown(n.cursorConfig,n,a.viewState,t,o))}return r}static _moveDownByModelLines(n,i,t,o){const r=[];for(let c=0,d=i.length;c<d;c++){const a=i[c];r[c]=v.CursorState.fromModelState(k.MoveOperations.moveDown(n.cursorConfig,n.model,a.modelState,t,o))}return r}static _moveUpByViewLines(n,i,t,o){const r=[];for(let c=0,d=i.length;c<d;c++){const a=i[c];r[c]=v.CursorState.fromViewState(k.MoveOperations.moveUp(n.cursorConfig,n,a.viewState,t,o))}return r}static _moveUpByModelLines(n,i,t,o){const r=[];for(let c=0,d=i.length;c<d;c++){const a=i[c];r[c]=v.CursorState.fromModelState(k.MoveOperations.moveUp(n.cursorConfig,n.model,a.modelState,t,o))}return r}static _moveToViewPosition(n,i,t,o,r){return v.CursorState.fromViewState(i.viewState.move(t,o,r,0))}static _moveToModelPosition(n,i,t,o,r){return v.CursorState.fromModelState(i.modelState.move(t,o,r,0))}static _moveToViewMinColumn(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r],a=d.viewState.position.lineNumber,s=n.getLineMinColumn(a);o[r]=this._moveToViewPosition(n,d,t,a,s)}return o}static _moveToViewFirstNonWhitespaceColumn(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r],a=d.viewState.position.lineNumber,s=n.getLineFirstNonWhitespaceColumn(a);o[r]=this._moveToViewPosition(n,d,t,a,s)}return o}static _moveToViewCenterColumn(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r],a=d.viewState.position.lineNumber,s=Math.round((n.getLineMaxColumn(a)+n.getLineMinColumn(a))/2);o[r]=this._moveToViewPosition(n,d,t,a,s)}return o}static _moveToViewMaxColumn(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r],a=d.viewState.position.lineNumber,s=n.getLineMaxColumn(a);o[r]=this._moveToViewPosition(n,d,t,a,s)}return o}static _moveToViewLastNonWhitespaceColumn(n,i,t){const o=[];for(let r=0,c=i.length;r<c;r++){const d=i[r],a=d.viewState.position.lineNumber,s=n.getLineLastNonWhitespaceColumn(a);o[r]=this._moveToViewPosition(n,d,t,a,s)}return o}}e.CursorMoveCommands=b;var u;(function(g){const n=function(t){if(!w.isObject(t))return!1;const o=t;return!(!w.isString(o.to)||!w.isUndefined(o.select)&&!w.isBoolean(o.select)||!w.isUndefined(o.by)&&!w.isString(o.by)||!w.isUndefined(o.value)&&!w.isNumber(o.value))};g.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:n,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},g.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},g.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function i(t){if(!t.to)return null;let o;switch(t.to){case g.RawDirection.Left:o=0;break;case g.RawDirection.Right:o=1;break;case g.RawDirection.Up:o=2;break;case g.RawDirection.Down:o=3;break;case g.RawDirection.PrevBlankLine:o=4;break;case g.RawDirection.NextBlankLine:o=5;break;case g.RawDirection.WrappedLineStart:o=6;break;case g.RawDirection.WrappedLineFirstNonWhitespaceCharacter:o=7;break;case g.RawDirection.WrappedLineColumnCenter:o=8;break;case g.RawDirection.WrappedLineEnd:o=9;break;case g.RawDirection.WrappedLineLastNonWhitespaceCharacter:o=10;break;case g.RawDirection.ViewPortTop:o=11;break;case g.RawDirection.ViewPortBottom:o=13;break;case g.RawDirection.ViewPortCenter:o=12;break;case g.RawDirection.ViewPortIfOutside:o=14;break;default:return null}let r=0;switch(t.by){case g.RawUnit.Line:r=1;break;case g.RawUnit.WrappedLine:r=2;break;case g.RawUnit.Character:r=3;break;case g.RawUnit.HalfLine:r=4;break}return{direction:o,unit:r,select:!!t.select,value:t.value||1}}g.parse=i})(u=e.CursorMove||(e.CursorMove={}))}),define(se[422],re([1,0,62,11,3,23]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class L{constructor(b){this._selTrackedRange=null,this._trackSelection=!0,this._setState(b,new w.SingleCursorState(new k.Range(1,1,1,1),0,new v.Position(1,1),0),new w.SingleCursorState(new k.Range(1,1,1,1),0,new v.Position(1,1),0))}dispose(b){this._removeTrackedRange(b)}startTrackingSelection(b){this._trackSelection=!0,this._updateTrackedRange(b)}stopTrackingSelection(b){this._trackSelection=!1,this._removeTrackedRange(b)}_updateTrackedRange(b){!this._trackSelection||(this._selTrackedRange=b.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(b){this._selTrackedRange=b.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new w.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(b){const u=b.model._getTrackedRange(this._selTrackedRange);return I.Selection.fromRange(u,this.modelState.selection.getDirection())}ensureValidState(b){this._setState(b,this.modelState,this.viewState)}setState(b,u,g){this._setState(b,u,g)}static _validatePositionWithCache(b,u,g,n){return u.equals(g)?n:b.normalizePosition(u,2)}static _validateViewState(b,u){const g=u.position,n=u.selectionStart.getStartPosition(),i=u.selectionStart.getEndPosition(),t=b.normalizePosition(g,2),o=this._validatePositionWithCache(b,n,g,t),r=this._validatePositionWithCache(b,i,n,o);return g.equals(t)&&n.equals(o)&&i.equals(r)?u:new w.SingleCursorState(k.Range.fromPositions(o,r),u.selectionStartLeftoverVisibleColumns+n.column-o.column,t,u.leftoverVisibleColumns+g.column-t.column)}_setState(b,u,g){if(g&&(g=L._validateViewState(b.viewModel,g)),u){const n=b.model.validateRange(u.selectionStart),i=u.selectionStart.equalsRange(n)?u.selectionStartLeftoverVisibleColumns:0,t=b.model.validatePosition(u.position),o=u.position.equals(t)?u.leftoverVisibleColumns:0;u=new w.SingleCursorState(n,i,t,o)}else{if(!g)return;const n=b.model.validateRange(b.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),i=b.model.validatePosition(b.coordinatesConverter.convertViewPositionToModelPosition(g.position));u=new w.SingleCursorState(n,g.selectionStartLeftoverVisibleColumns,i,g.leftoverVisibleColumns)}if(g){const n=b.coordinatesConverter.validateViewRange(g.selectionStart,u.selectionStart),i=b.coordinatesConverter.validateViewPosition(g.position,u.position);g=new w.SingleCursorState(n,u.selectionStartLeftoverVisibleColumns,i,u.leftoverVisibleColumns)}else{const n=b.coordinatesConverter.convertModelPositionToViewPosition(new v.Position(u.selectionStart.startLineNumber,u.selectionStart.startColumn)),i=b.coordinatesConverter.convertModelPositionToViewPosition(new v.Position(u.selectionStart.endLineNumber,u.selectionStart.endColumn)),t=new k.Range(n.lineNumber,n.column,i.lineNumber,i.column),o=b.coordinatesConverter.convertModelPositionToViewPosition(u.position);g=new w.SingleCursorState(t,u.selectionStartLeftoverVisibleColumns,o,u.leftoverVisibleColumns)}this.modelState=u,this.viewState=g,this._updateTrackedRange(b)}}e.Cursor=L}),define(se[423],re([1,0,17,62,422,11,3,23]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class b{constructor(g){this.context=g,this.cursors=[new k.Cursor(g)],this.lastAddedCursorIndex=0}dispose(){for(const g of this.cursors)g.dispose(this.context)}startTrackingSelections(){for(const g of this.cursors)g.startTrackingSelection(this.context)}stopTrackingSelections(){for(const g of this.cursors)g.stopTrackingSelection(this.context)}updateContext(g){this.context=g}ensureValidState(){for(const g of this.cursors)g.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(g=>g.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(g=>g.asCursorState())}getViewPositions(){return this.cursors.map(g=>g.viewState.position)}getTopMostViewPosition(){return(0,w.findMinBy)(this.cursors,(0,w.compareBy)(g=>g.viewState.position,I.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,w.findLastMaxBy)(this.cursors,(0,w.compareBy)(g=>g.viewState.position,I.Position.compare)).viewState.position}getSelections(){return this.cursors.map(g=>g.modelState.selection)}getViewSelections(){return this.cursors.map(g=>g.viewState.selection)}setSelections(g){this.setStates(v.CursorState.fromModelSelections(g))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(g){g!==null&&(this.cursors[0].setState(this.context,g[0].modelState,g[0].viewState),this._setSecondaryStates(g.slice(1)))}_setSecondaryStates(g){const n=this.cursors.length-1,i=g.length;if(n<i){const t=i-n;for(let o=0;o<t;o++)this._addSecondaryCursor()}else if(n>i){const t=n-i;for(let o=0;o<t;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,g[t].modelState,g[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new k.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(g){this.lastAddedCursorIndex>=g+1&&this.lastAddedCursorIndex--,this.cursors[g+1].dispose(this.context),this.cursors.splice(g+1,1)}normalize(){if(this.cursors.length===1)return;const g=this.cursors.slice(0),n=[];for(let i=0,t=g.length;i<t;i++)n.push({index:i,selection:g[i].modelState.selection});n.sort((0,w.compareBy)(i=>i.selection,L.Range.compareRangesUsingStarts));for(let i=0;i<n.length-1;i++){const t=n[i],o=n[i+1],r=t.selection,c=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let d;if(c.isEmpty()||r.isEmpty()?d=c.getStartPosition().isBeforeOrEqual(r.getEndPosition()):d=c.getStartPosition().isBefore(r.getEndPosition()),d){const a=t.index<o.index?i:i+1,s=t.index<o.index?i+1:i,l=n[s].index,h=n[a].index,p=n[s].selection,S=n[a].selection;if(!p.equalsSelection(S)){const f=p.plusRange(S),m=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,C=S.selectionStartLineNumber===S.startLineNumber&&S.selectionStartColumn===S.startColumn;let y;l===this.lastAddedCursorIndex?(y=m,this.lastAddedCursorIndex=h):y=C;let E;y?E=new _.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn):E=new _.Selection(f.endLineNumber,f.endColumn,f.startLineNumber,f.startColumn),n[a].selection=E;const T=v.CursorState.fromModelSelection(E);g[h].setState(this.context,T.modelState,T.viewState)}for(const f of n)f.index>l&&f.index--;g.splice(l,1),n.splice(s,1),this._removeSecondaryCursor(l-1),i--}}}}e.CursorCollection=b}),define(se[424],re([1,0,100]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class v{constructor(I){if(I.autoClosingPairs?this._autoClosingPairs=I.autoClosingPairs.map(L=>new w.StandardAutoClosingPairConditional(L)):I.brackets?this._autoClosingPairs=I.brackets.map(L=>new w.StandardAutoClosingPairConditional({open:L[0],close:L[1]})):this._autoClosingPairs=[],I.__electricCharacterSupport&&I.__electricCharacterSupport.docComment){const L=I.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new w.StandardAutoClosingPairConditional({open:L.open,close:L.close||""}))}this._autoCloseBefore=typeof I.autoCloseBefore=="string"?I.autoCloseBefore:v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=I.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=v,v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(se[425],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function w(k){return k.global&&(k.lastIndex=0),!0}class v{constructor(I){this._indentationRules=I}shouldIncrease(I){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&w(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(I))}shouldDecrease(I){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&w(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(I))}shouldIndentNextLine(I){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&w(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(I))}shouldIgnore(I){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&w(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(I))}getIndentMetadata(I){let L=0;return this.shouldIncrease(I)&&(L+=1),this.shouldDecrease(I)&&(L+=2),this.shouldIndentNextLine(I)&&(L+=4),this.shouldIgnore(I)&&(L+=8),L}}e.IndentRulesSupport=v}),define(se[426],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class w{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(k,I,L,_,b){if(k&&I){const u=this.doNavigateValueSet(I,b);if(u)return{range:k,value:u}}if(L&&_){const u=this.doNavigateValueSet(_,b);if(u)return{range:L,value:u}}return null}doNavigateValueSet(k,I){const L=this.numberReplace(k,I);return L!==null?L:this.textReplace(k,I)}numberReplace(k,I){const L=Math.pow(10,k.length-(k.lastIndexOf(".")+1));let _=Number(k);const b=parseFloat(k);return!isNaN(_)&&!isNaN(b)&&_===b?_===0&&!I?null:(_=Math.floor(_*L),_+=I?L:-L,String(_/L)):null}textReplace(k,I){return this.valueSetsReplace(this._defaultValueSet,k,I)}valueSetsReplace(k,I,L){let _=null;for(let b=0,u=k.length;_===null&&b<u;b++)_=this.valueSetReplace(k[b],I,L);return _}valueSetReplace(k,I,L){let _=k.indexOf(I);return _>=0?(_+=L?1:-1,_<0?_=k.length-1:_%=k.length,k[_]):null}}e.BasicInplaceReplace=w,w.INSTANCE=new w}),define(se[427],re([1,0,226,14]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(g,n){this.languageId=g;let i;n.colorizedBracketPairs?i=I(n.colorizedBracketPairs.map(r=>[r[0],r[1]])):n.brackets?i=I(n.brackets.map(r=>[r[0],r[1]]).filter(r=>!(r[0]==="<"&&r[1]===">"))):i=[];const t=new w.CachedFunction(r=>{const c=new Set;return{info:new _(this,r,c),closing:c}}),o=new w.CachedFunction(r=>{const c=new Set;return{info:new b(this,r,c),opening:c}});for(const[r,c]of i){const d=t.get(r),a=o.get(c);d.closing.add(a.info),a.opening.add(d.info)}this._openingBrackets=new Map([...t.cachedValues].map(([r,c])=>[r,c.info])),this._closingBrackets=new Map([...o.cachedValues].map(([r,c])=>[r,c.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(g){return this._openingBrackets.get(g)}getClosingBracketInfo(g){return this._closingBrackets.get(g)}getBracketInfo(g){return this.getOpeningBracketInfo(g)||this.getClosingBracketInfo(g)}}e.LanguageBracketsConfiguration=k;function I(u){return u.filter(([g,n])=>g!==""&&n!=="")}class L{constructor(g,n){this.config=g,this.bracketText=n}get languageId(){return this.config.languageId}}e.BracketKindBase=L;class _ extends L{constructor(g,n,i){super(g,n);this.openedBrackets=i,this.isOpeningBracket=!0}}e.OpeningBracketKind=_;class b extends L{constructor(g,n,i){super(g,n);this.closedBrackets=i,this.isOpeningBracket=!1}closes(g){if(g.languageId===this.languageId&&g.config!==this.config)throw new v.BugIndicatingError("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(g)}getClosedBrackets(){return[...this.closedBrackets]}}e.ClosingBracketKind=b}),define(se[428],re([1,0,14,8,100]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class I{constructor(_){_=_||{},_.brackets=_.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],_.brackets.forEach(b=>{const u=I._createOpenBracketRegExp(b[0]),g=I._createCloseBracketRegExp(b[1]);u&&g&&this._brackets.push({open:b[0],openRegExp:u,close:b[1],closeRegExp:g})}),this._regExpRules=_.onEnterRules||[]}onEnter(_,b,u,g){if(_>=3)for(let n=0,i=this._regExpRules.length;n<i;n++){const t=this._regExpRules[n];if([{reg:t.beforeText,text:u},{reg:t.afterText,text:g},{reg:t.previousLineText,text:b}].every(r=>r.reg?(r.reg.lastIndex=0,r.reg.test(r.text)):!0))return t.action}if(_>=2&&u.length>0&&g.length>0)for(let n=0,i=this._brackets.length;n<i;n++){const t=this._brackets[n];if(t.openRegExp.test(u)&&t.closeRegExp.test(g))return{indentAction:k.IndentAction.IndentOutdent}}if(_>=2&&u.length>0){for(let n=0,i=this._brackets.length;n<i;n++)if(this._brackets[n].openRegExp.test(u))return{indentAction:k.IndentAction.Indent}}return null}static _createOpenBracketRegExp(_){let b=v.escapeRegExpCharacters(_);return/\B/.test(b.charAt(0))||(b="\\b"+b),b+="\\s*$",I._safeRegExp(b)}static _createCloseBracketRegExp(_){let b=v.escapeRegExpCharacters(_);return/\B/.test(b.charAt(b.length-1))||(b=b+"\\b"),b="^\\s*"+b,I._safeRegExp(b)}static _safeRegExp(_){try{return new RegExp(_)}catch(b){return(0,w.onUnexpectedError)(b),null}}}e.OnEnterSupport=I}),define(se[429],re([1,0,31]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class v{constructor(c,d,a,s,l){this._parsedThemeRuleBrand=void 0,this.token=c,this.index=d,this.fontStyle=a,this.foreground=s,this.background=l}}e.ParsedTokenThemeRule=v;function k(r){if(!r||!Array.isArray(r))return[];const c=[];let d=0;for(let a=0,s=r.length;a<s;a++){const l=r[a];let h=-1;if(typeof l.fontStyle=="string"){h=0;const f=l.fontStyle.split(" ");for(let m=0,C=f.length;m<C;m++)switch(f[m]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break;case"strikethrough":h=h|8;break}}let p=null;typeof l.foreground=="string"&&(p=l.foreground);let S=null;typeof l.background=="string"&&(S=l.background),c[d++]=new v(l.token||"",a,h,p,S)}return c}e.parseTokenTheme=k;function I(r,c){r.sort((m,C)=>{const y=n(m.token,C.token);return y!==0?y:m.index-C.index});let d=0,a="000000",s="ffffff";for(;r.length>=1&&r[0].token==="";){const m=r.shift();m.fontStyle!==-1&&(d=m.fontStyle),m.foreground!==null&&(a=m.foreground),m.background!==null&&(s=m.background)}const l=new _;for(const m of c)l.getId(m);const h=l.getId(a),p=l.getId(s),S=new i(d,h,p),f=new t(S);for(let m=0,C=r.length;m<C;m++){const y=r[m];f.insert(y.token,y.fontStyle,l.getId(y.foreground),l.getId(y.background))}return new b(l,f)}const L=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class _{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(c){if(c===null)return 0;const d=c.match(L);if(!d)throw new Error("Illegal value for token color: "+c);c=d[1].toUpperCase();let a=this._color2id.get(c);return a||(a=++this._lastColorId,this._color2id.set(c,a),this._id2color[a]=w.Color.fromHex("#"+c),a)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=_;class b{constructor(c,d){this._colorMap=c,this._root=d,this._cache=new Map}static createFromRawTokenTheme(c,d){return this.createFromParsedTokenTheme(k(c),d)}static createFromParsedTokenTheme(c,d){return I(c,d)}getColorMap(){return this._colorMap.getColorMap()}_match(c){return this._root.match(c)}match(c,d){let a=this._cache.get(d);if(typeof a=="undefined"){const s=this._match(d),l=g(d);a=(s.metadata|l<<8)>>>0,this._cache.set(d,a)}return(a|c<<0)>>>0}}e.TokenTheme=b;const u=/\b(comment|string|regex|regexp)\b/;function g(r){const c=r.match(u);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=g;function n(r,c){return r<c?-1:r>c?1:0}e.strcmp=n;class i{constructor(c,d,a){this._themeTrieElementRuleBrand=void 0,this._fontStyle=c,this._foreground=d,this._background=a,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(c,d,a){c!==-1&&(this._fontStyle=c),d!==0&&(this._foreground=d),a!==0&&(this._background=a),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=i;class t{constructor(c){this._themeTrieElementBrand=void 0,this._mainRule=c,this._children=new Map}match(c){if(c==="")return this._mainRule;const d=c.indexOf(".");let a,s;d===-1?(a=c,s=""):(a=c.substring(0,d),s=c.substring(d+1));const l=this._children.get(a);return typeof l!="undefined"?l.match(s):this._mainRule}insert(c,d,a,s){if(c===""){this._mainRule.acceptOverwrite(d,a,s);return}const l=c.indexOf(".");let h,p;l===-1?(h=c,p=""):(h=c.substring(0,l),p=c.substring(l+1));let S=this._children.get(h);typeof S=="undefined"&&(S=new t(this._mainRule.clone()),this._children.set(h,S)),S.insert(p,d,a,s)}}e.ThemeTrieElement=t;function o(r){const c=[];for(let d=1,a=r.length;d<a;d++){const s=r[d];c[d]=`.mtk${d} { color: ${s}; }`}return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join(`
`)}e.generateTokensCSSForColorMap=o}),define(se[46],re([1,0,35]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.OverviewRulerLane=void 0;var v;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(v=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));var I;(function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"})(I=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));class L{constructor(o){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,o.tabSize|0),this.indentSize=o.tabSize|0,this.insertSpaces=Boolean(o.insertSpaces),this.defaultEOL=o.defaultEOL|0,this.trimAutoWhitespace=Boolean(o.trimAutoWhitespace),this.bracketPairColorizationOptions=o.bracketPairColorizationOptions}equals(o){return this.tabSize===o.tabSize&&this.indentSize===o.indentSize&&this.insertSpaces===o.insertSpaces&&this.defaultEOL===o.defaultEOL&&this.trimAutoWhitespace===o.trimAutoWhitespace&&(0,w.equals)(this.bracketPairColorizationOptions,o.bracketPairColorizationOptions)}createChangeEvent(o){return{tabSize:this.tabSize!==o.tabSize,indentSize:this.indentSize!==o.indentSize,insertSpaces:this.insertSpaces!==o.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==o.trimAutoWhitespace}}}e.TextModelResolvedOptions=L;class _{constructor(o,r){this._findMatchBrand=void 0,this.range=o,this.matches=r}}e.FindMatch=_;function b(t){return t&&typeof t.read=="function"}e.isITextSnapshot=b;class u{constructor(o,r,c,d,a,s){this.identifier=o,this.range=r,this.text=c,this.forceMoveMarkers=d,this.isAutoWhitespaceEdit=a,this._isTracked=s}}e.ValidAnnotatedEditOperation=u;class g{constructor(o,r,c){this.regex=o,this.wordSeparators=r,this.simpleSearch=c}}e.SearchData=g;class n{constructor(o,r,c){this.reverseEdits=o,this.changes=r,this.trimAutoWhitespaceLineNumbers=c}}e.ApplyEditsResult=n;function i(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(se[87],re([1,0,8,3]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class k{constructor(h,p){this.lineCount=h,this.columnCount=p}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=k,k.zero=new k(0,0);function I(l,h,p,S){return l!==p?b(p-l,S):b(0,S-h)}e.lengthDiff=I,e.lengthZero=0;function L(l){return l===0}e.lengthIsZero=L;const _=Math.pow(2,26);function b(l,h){return l*_+h}e.toLength=b;function u(l){const h=l,p=Math.floor(h/_),S=h-p*_;return new k(p,S)}e.lengthToObj=u;function g(l){return Math.floor(l/_)}e.lengthGetLineCount=g;function n(l){return l}e.lengthGetColumnCountIfZeroLineCount=n;function i(l,h){return h<_?l+h:l-l%_+h}e.lengthAdd=i;function t(l,h){const p=l,S=h;if(S-p<=0)return e.lengthZero;const m=Math.floor(p/_),C=Math.floor(S/_),y=S-C*_;if(m===C){const E=p-m*_;return b(0,y-E)}else return b(C-m,y)}e.lengthDiffNonNegative=t;function o(l,h){return l<h}e.lengthLessThan=o;function r(l,h){return l<=h}e.lengthLessThanEqual=r;function c(l,h){return l>=h}e.lengthGreaterThanEqual=c;function d(l){return b(l.lineNumber-1,l.column-1)}e.positionToLength=d;function a(l,h){const p=l,S=Math.floor(p/_),f=p-S*_,m=h,C=Math.floor(m/_),y=m-C*_;return new v.Range(S+1,f+1,C+1,y+1)}e.lengthsToRange=a;function s(l){const h=(0,w.splitLines)(l);return b(h.length-1,h[h.length-1].length)}e.lengthOfString=s}),define(se[240],re([1,0,87]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class v{constructor(_,b,u){this.startOffset=_,this.endOffset=b,this.newLength=u}}e.TextEditInfo=v;class k{constructor(_,b){this.documentLength=b,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=_.map(u=>I.from(u))}getOffsetBeforeChange(_){return this.adjustNextEdit(_),this.translateCurToOld(_)}getDistanceToNextChange(_){this.adjustNextEdit(_);const b=this.edits[this.nextEditIdx],u=b?this.translateOldToCur(b.offsetObj):this.documentLength;return(0,w.lengthDiffNonNegative)(_,u)}translateOldToCur(_){return _.lineCount===this.deltaLineIdxInOld?(0,w.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount+this.deltaOldToNewColumnCount):(0,w.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount)}translateCurToOld(_){const b=(0,w.lengthToObj)(_);return b.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,w.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount-this.deltaOldToNewColumnCount):(0,w.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount)}adjustNextEdit(_){for(;this.nextEditIdx<this.edits.length;){const b=this.edits[this.nextEditIdx],u=this.translateOldToCur(b.endOffsetAfterObj);if((0,w.lengthLessThanEqual)(u,_)){this.nextEditIdx++;const g=(0,w.lengthToObj)(u),n=(0,w.lengthToObj)(this.translateOldToCur(b.endOffsetBeforeObj)),i=g.lineCount-n.lineCount;this.deltaOldToNewLineCount+=i;const t=this.deltaLineIdxInOld===b.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,o=g.columnCount-n.columnCount;this.deltaOldToNewColumnCount=t+o,this.deltaLineIdxInOld=b.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=k;class I{constructor(_,b,u){this.endOffsetBeforeObj=(0,w.lengthToObj)(b),this.endOffsetAfterObj=(0,w.lengthToObj)((0,w.lengthAdd)(_,u)),this.offsetObj=(0,w.lengthToObj)(_)}static from(_){return new I(_.startOffset,_.endOffset,_.newLength)}}}),define(se[430],re([1,0,87]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class v{constructor(_){this.lastOffset=w.lengthZero,this.nextNodes=[_],this.offsets=[w.lengthZero],this.idxs=[]}readLongestNodeAt(_,b){if((0,w.lengthLessThan)(_,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=_;;){const u=I(this.nextNodes);if(!u)return;const g=I(this.offsets);if((0,w.lengthLessThan)(_,g))return;if((0,w.lengthLessThan)(g,_))if((0,w.lengthAdd)(g,u.length)<=_)this.nextNodeAfterCurrent();else{const n=k(u);n!==-1?(this.nextNodes.push(u.getChild(n)),this.offsets.push(g),this.idxs.push(n)):this.nextNodeAfterCurrent()}else{if(b(u))return this.nextNodeAfterCurrent(),u;{const n=k(u);if(n===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(u.getChild(n)),this.offsets.push(g),this.idxs.push(n)}}}}nextNodeAfterCurrent(){for(;;){const _=I(this.offsets),b=I(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const u=I(this.nextNodes),g=k(u,this.idxs[this.idxs.length-1]);if(g!==-1){this.nextNodes.push(u.getChild(g)),this.offsets.push((0,w.lengthAdd)(_,b.length)),this.idxs[this.idxs.length-1]=g;break}else this.idxs.pop()}}}e.NodeReader=v;function k(L,_=-1){for(;;){if(_++,_>=L.childrenLength)return-1;if(L.getChild(_))return _}}function I(L){return L.length>0?L[L.length-1]:void 0}}),define(se[112],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const w=new Array;class v{constructor(L,_){this.items=L,this.additionalItems=_}static create(L,_){if(L<=128&&_.length===0){let b=v.cache[L];return b||(b=new v(L,_),v.cache[L]=b),b}return new v(L,_)}static getEmpty(){return this.empty}add(L,_){const b=_.getKey(L);let u=b>>5;if(u===0){const n=1<<b|this.items;return n===this.items?this:v.create(n,this.additionalItems)}u--;const g=this.additionalItems.slice(0);for(;g.length<u;)g.push(0);return g[u]|=1<<(b&31),v.create(this.items,g)}merge(L){const _=this.items|L.items;if(this.additionalItems===w&&L.additionalItems===w)return _===this.items?this:_===L.items?L:v.create(_,w);const b=new Array;for(let u=0;u<Math.max(this.additionalItems.length,L.additionalItems.length);u++){const g=this.additionalItems[u]||0,n=L.additionalItems[u]||0;b.push(g|n)}return v.create(_,b)}intersects(L){if((this.items&L.items)!=0)return!0;for(let _=0;_<Math.min(this.additionalItems.length,L.additionalItems.length);_++)if((this.additionalItems[_]&L.additionalItems[_])!=0)return!0;return!1}}e.SmallImmutableSet=v,v.cache=new Array(129),v.empty=v.create(0,w),e.identityKeyProvider={getKey(I){return I}};class k{constructor(){this.items=new Map}getKey(L){let _=this.items.get(L);return _===void 0&&(_=this.items.size,this.items.set(L,_)),_}}e.DenseKeyProvider=k}),define(se[158],re([1,0,67,87,112]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class I{constructor(a){this._length=a}get length(){return this._length}}class L extends I{constructor(a,s,l,h,p){super(a);this.openingBracket=s,this.child=l,this.closingBracket=h,this.missingOpeningBracketIds=p}static create(a,s,l){let h=a.length;return s&&(h=(0,v.lengthAdd)(h,s.length)),l&&(h=(0,v.lengthAdd)(h,l.length)),new L(h,a,s,l,s?s.missingOpeningBracketIds:k.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(a){switch(a){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const a=new Array;return a.push(this.openingBracket),this.child&&a.push(this.child),this.closingBracket&&a.push(this.closingBracket),a}canBeReused(a){return!(this.closingBracket===null||a.intersects(this.missingOpeningBracketIds))}deepClone(){return new L(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(a,s){return this.child?this.child.computeMinIndentation((0,v.lengthAdd)(a,this.openingBracket.length),s):Number.MAX_SAFE_INTEGER}}e.PairAstNode=L;class _ extends I{constructor(a,s,l){super(a);this.listHeight=s,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}static create23(a,s,l,h=!1){let p=a.length,S=a.missingOpeningBracketIds;if(a.listHeight!==s.listHeight)throw new Error("Invalid list heights");if(p=(0,v.lengthAdd)(p,s.length),S=S.merge(s.missingOpeningBracketIds),l){if(a.listHeight!==l.listHeight)throw new Error("Invalid list heights");p=(0,v.lengthAdd)(p,l.length),S=S.merge(l.missingOpeningBracketIds)}return h?new u(p,a.listHeight+1,a,s,l,S):new b(p,a.listHeight+1,a,s,l,S)}static getEmpty(){return new n(v.lengthZero,0,[],k.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const a=this.childrenLength;if(a===0)return;const s=this.getChild(a-1),l=s.kind===4?s.toMutable():s;return s!==l&&this.setChild(a-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const s=this.getChild(0),l=s.kind===4?s.toMutable():s;return s!==l&&this.setChild(0,l),l}canBeReused(a){if(a.intersects(this.missingOpeningBracketIds))return!1;let s=this,l;for(;s.kind===4&&(l=s.childrenLength)>0;)s=s.getChild(l-1);return s.canBeReused(a)}handleChildrenChanged(){this.throwIfImmutable();const a=this.childrenLength;let s=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let h=1;h<a;h++){const p=this.getChild(h);s=(0,v.lengthAdd)(s,p.length),l=l.merge(p.missingOpeningBracketIds)}this._length=s,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(a,s){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,h=a;for(let p=0;p<this.childrenLength;p++){const S=this.getChild(p);S&&(l=Math.min(l,S.computeMinIndentation(h,s)),h=(0,v.lengthAdd)(h,S.length))}return this.cachedMinIndentation=l,l}}e.ListAstNode=_;class b extends _{constructor(a,s,l,h,p,S){super(a,s,S);this._item1=l,this._item2=h,this._item3=p}get childrenLength(){return this._item3!==null?3:2}getChild(a){switch(a){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(a,s){switch(a){case 0:this._item1=s;return;case 1:this._item2=s;return;case 2:this._item3=s;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new b(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=a,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item3;return this._item3=null,this.handleChildrenChanged(),a}prependChildOfSameHeight(a){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=a,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),a}toMutable(){return this}}class u extends b{toMutable(){return new b(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class g extends _{constructor(a,s,l,h){super(a,s,h);this._children=l}get childrenLength(){return this._children.length}getChild(a){return this._children[a]}setChild(a,s){this._children[a]=s}get children(){return this._children}deepClone(){const a=new Array(this._children.length);for(let s=0;s<this._children.length;s++)a[s]=this._children[s].deepClone();return new g(this.length,this.listHeight,a,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){this.throwIfImmutable(),this._children.push(a),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const a=this._children.pop();return this.handleChildrenChanged(),a}prependChildOfSameHeight(a){this.throwIfImmutable(),this._children.unshift(a),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const a=this._children.shift();return this.handleChildrenChanged(),a}toMutable(){return this}}class n extends g{toMutable(){return new g(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class t extends I{get listHeight(){return 0}get childrenLength(){return 0}getChild(a){return null}get children(){return i}deepClone(){return this}}class o extends t{get kind(){return 0}get missingOpeningBracketIds(){return k.SmallImmutableSet.getEmpty()}canBeReused(a){return!0}computeMinIndentation(a,s){const l=(0,v.lengthToObj)(a),h=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,p=(0,v.lengthGetLineCount)((0,v.lengthAdd)(a,this.length))+1;let S=Number.MAX_SAFE_INTEGER;for(let f=h;f<=p;f++){const m=s.getLineFirstNonWhitespaceColumn(f),C=s.getLineContent(f);if(m===0)continue;const y=w.CursorColumns.visibleColumnFromColumn(C,m,s.getOptions().tabSize);S=Math.min(S,y)}return S}}e.TextAstNode=o;class r extends t{constructor(a,s,l){super(a);this.bracketInfo=s,this.bracketIds=l}static create(a,s,l){return new r(a,s,l)}get kind(){return 1}get missingOpeningBracketIds(){return k.SmallImmutableSet.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(a){return!1}computeMinIndentation(a,s){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=r;class c extends t{constructor(a,s){super(s);this.missingOpeningBracketIds=a}get kind(){return 3}canBeReused(a){return!a.intersects(this.missingOpeningBracketIds)}computeMinIndentation(a,s){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=c}),define(se[431],re([1,0,158]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function v(u){if(u.length===0)return null;if(u.length===1)return u[0];let g=0;function n(){if(g>=u.length)return null;const r=g,c=u[r].listHeight;for(g++;g<u.length&&u[g].listHeight===c;)g++;return g-r>=2?k(r===0&&g===u.length?u:u.slice(r,g),!1):u[r]}let i=n(),t=n();if(!t)return i;for(let r=n();r;r=n())I(i,t)<=I(t,r)?(i=L(i,t),t=r):t=L(t,r);return L(i,t)}e.concat23Trees=v;function k(u,g=!1){if(u.length===0)return null;if(u.length===1)return u[0];let n=u.length;for(;n>3;){const i=n>>1;for(let t=0;t<i;t++){const o=t<<1;u[t]=w.ListAstNode.create23(u[o],u[o+1],o+3===n?u[o+2]:null,g)}n=i}return w.ListAstNode.create23(u[0],u[1],n>=3?u[2]:null,g)}e.concat23TreesOfSameHeight=k;function I(u,g){return Math.abs(u.listHeight-g.listHeight)}function L(u,g){return u.listHeight===g.listHeight?w.ListAstNode.create23(u,g,null,!1):u.listHeight>g.listHeight?_(u,g):b(g,u)}function _(u,g){u=u.toMutable();let n=u;const i=new Array;let t;for(;;){if(g.listHeight===n.listHeight){t=g;break}if(n.kind!==4)throw new Error("unexpected");i.push(n),n=n.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){const r=i[o];t?r.childrenLength>=3?t=w.ListAstNode.create23(r.unappendChild(),t,null,!1):(r.appendChildOfSameHeight(t),t=void 0):r.handleChildrenChanged()}return t?w.ListAstNode.create23(u,t,null,!1):u}function b(u,g){u=u.toMutable();let n=u;const i=new Array;for(;g.listHeight!==n.listHeight;){if(n.kind!==4)throw new Error("unexpected");i.push(n),n=n.makeFirstElementMutable()}let t=g;for(let o=i.length-1;o>=0;o--){const r=i[o];t?r.childrenLength>=3?t=w.ListAstNode.create23(t,r.unprependChild(),null,!1):(r.prependChildOfSameHeight(t),t=void 0):r.handleChildrenChanged()}return t?w.ListAstNode.create23(t,u,null,!1):u}}),define(se[241],re([1,0,158,240,112,87,431,430]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function b(g,n,i,t){return new u(g,n,i,t).parseDocument()}e.parseDocument=b;class u{constructor(n,i,t,o){if(this.tokenizer=n,this.createImmutableLists=o,this._itemsConstructed=0,this._itemsFromCache=0,t&&o)throw new Error("Not supported");this.oldNodeReader=t?new _.NodeReader(t):void 0,this.positionMapper=new v.BeforeEditPositionMapper(i,n.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let n=this.parseList(k.SmallImmutableSet.getEmpty());return n||(n=w.ListAstNode.getEmpty()),n}parseList(n){const i=new Array;for(;;){const o=this.tokenizer.peek();if(!o||o.kind===2&&o.bracketIds.intersects(n))break;const r=this.parseChild(n);r.kind===4&&r.childrenLength===0||i.push(r)}return this.oldNodeReader?(0,L.concat23Trees)(i):(0,L.concat23TreesOfSameHeight)(i,this.createImmutableLists)}parseChild(n){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,I.lengthIsZero)(t)){const o=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>(0,I.lengthLessThan)(r.length,t)?r.canBeReused(n):!1);if(o)return this._itemsFromCache++,this.tokenizer.skip(o.length),o}}this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new w.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{const t=n.merge(i.bracketIds),o=this.parseList(t),r=this.tokenizer.peek();return r&&r.kind===2&&(r.bracketId===i.bracketId||r.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),w.PairAstNode.create(i.astNode,o,r.astNode)):w.PairAstNode.create(i.astNode,o,null)}default:throw new Error("unexpected")}}}}),define(se[186],re([1,0,14,110,158,87,112]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class _{constructor(i,t,o,r,c){this.length=i,this.kind=t,this.bracketId=o,this.bracketIds=r,this.astNode=c}}e.Token=_;class b{constructor(i,t){this.textModel=i,this.bracketTokens=t,this.reader=new u(this.textModel,this.bracketTokens),this._offset=I.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,I.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(i){this.didPeek=!1,this._offset=(0,I.lengthAdd)(this._offset,i);const t=(0,I.lengthToObj)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let i;return this.peeked?(this.didPeek=!1,i=this.peeked):i=this.reader.read(),i&&(this._offset=(0,I.lengthAdd)(this._offset,i.length)),i}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=b;class u{constructor(i,t){this.textModel=i,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}setPosition(i,t){i===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=i,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const c=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,I.lengthGetColumnCountIfZeroLineCount)(c.length),c}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const i=this.lineIdx,t=this.lineCharOffset;let o=0;for(;;){const c=this.lineTokens,d=c.getCount();let a=null;if(this.lineTokenOffset<d){const s=c.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<d&&s===c.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const l=v.TokenMetadata.getTokenType(s)===0,h=v.TokenMetadata.containsBalancedBrackets(s),p=c.getEndOffset(this.lineTokenOffset);if(h&&l&&this.lineCharOffset<p){const S=c.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,p),m=this.bracketTokens.getSingleLanguageBracketTokens(S),C=m.regExpGlobal;if(C){C.lastIndex=0;const y=C.exec(f);y&&(a=m.getToken(y[0]),a&&(this.lineCharOffset+=y.index))}}if(o+=p-this.lineCharOffset,a)if(i!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=(0,I.lengthGetColumnCountIfZeroLineCount)(a.length),a;else this.lineTokenOffset++,this.lineCharOffset=p}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,o+=33,o>1e3))break;if(o>1500)break}const r=(0,I.lengthDiff)(i,t,this.lineIdx,this.lineCharOffset);return new _(r,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(r))}}class g{constructor(i,t){this.text=i,this._offset=I.lengthZero,this.idx=0;const o=t.getRegExpStr(),r=o?new RegExp(o+`|
`,"gi"):null,c=[];let d,a=0,s=0,l=0,h=0;const p=new Array;for(let m=0;m<60;m++)p.push(new _((0,I.toLength)(0,m),0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode((0,I.toLength)(0,m))));const S=new Array;for(let m=0;m<60;m++)S.push(new _((0,I.toLength)(1,m),0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode((0,I.toLength)(1,m))));if(r)for(r.lastIndex=0;(d=r.exec(i))!==null;){const m=d.index,C=d[0];if(C===`
`)a++,s=m+1;else{if(l!==m){let y;if(h===a){const E=m-l;if(E<p.length)y=p[E];else{const T=(0,I.toLength)(0,E);y=new _(T,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(T))}}else{const E=a-h,T=m-s;if(E===1&&T<S.length)y=S[T];else{const N=(0,I.toLength)(E,T);y=new _(N,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(N))}}c.push(y)}c.push(t.getToken(C)),l=m+C.length,h=a}}const f=i.length;if(l!==f){const m=h===a?(0,I.toLength)(0,f-l):(0,I.toLength)(a-h,f-s);c.push(new _(m,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(m)))}this.length=(0,I.toLength)(a,f-s),this.tokens=c}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(i){throw new w.NotSupportedError}}e.FastTokenizer=g}),define(se[242],re([1,0,8,158,87,112,186]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class _{constructor(n){this.map=n,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(n,i){function t(r){return i.getKey(`${r.languageId}:::${r.bracketText}`)}const o=new Map;for(const r of n.bracketsNew.openingBrackets){const c=(0,k.toLength)(0,r.bracketText.length),d=t(r),a=I.SmallImmutableSet.getEmpty().add(d,I.identityKeyProvider);o.set(r.bracketText,new L.Token(c,1,d,a,v.BracketAstNode.create(c,r,a)))}for(const r of n.bracketsNew.closingBrackets){const c=(0,k.toLength)(0,r.bracketText.length);let d=I.SmallImmutableSet.getEmpty();const a=r.getClosedBrackets();for(const s of a)d=d.add(t(s),I.identityKeyProvider);o.set(r.bracketText,new L.Token(c,2,t(a[0]),d,v.BracketAstNode.create(c,r,d)))}return new _(o)}getRegExpStr(){if(this.isEmpty)return null;{const n=[...this.map.keys()];return n.sort(),n.reverse(),n.map(i=>b(i)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const n=this.getRegExpStr();this._regExpGlobal=n?new RegExp(n,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(n){return this.map.get(n.toLowerCase())}findClosingTokenText(n){for(const[i,t]of this.map)if(t.kind===2&&t.bracketIds.intersects(n))return i}get isEmpty(){return this.map.size===0}}e.BracketTokens=_;function b(g){let n=(0,w.escapeRegExpCharacters)(g);return/^[\w ]+/.test(g)&&(n=`\\b${n}`),/[\w ]+$/.test(g)&&(n=`${n}\\b`),n}class u{constructor(n,i){this.denseKeyProvider=n,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}didLanguageChange(n){return this.languageIdToBracketTokens.has(n)}getSingleLanguageBracketTokens(n){let i=this.languageIdToBracketTokens.get(n);return i||(i=_.createFromLanguage(this.getLanguageConfiguration(n),this.denseKeyProvider),this.languageIdToBracketTokens.set(n,i)),i}}e.LanguageAgnosticBracketTokens=u}),define(se[432],re([1,0,242,87,241,112,186]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function _(u,g){const n=new I.DenseKeyProvider,i=new w.LanguageAgnosticBracketTokens(n,a=>g.getLanguageConfiguration(a)),t=new L.TextBufferTokenizer(new b([u]),i),o=(0,k.parseDocument)(t,[],void 0,!0);let r="";const c=u.getLineContent();function d(a,s){if(a.kind===2)d(a.openingBracket,s),s=(0,v.lengthAdd)(s,a.openingBracket.length),a.child&&(d(a.child,s),s=(0,v.lengthAdd)(s,a.child.length)),a.closingBracket?(d(a.closingBracket,s),s=(0,v.lengthAdd)(s,a.closingBracket.length)):r+=i.getSingleLanguageBracketTokens(a.openingBracket.languageId).findClosingTokenText(a.openingBracket.bracketIds);else if(a.kind!==3){if(a.kind===0||a.kind===1)r+=c.substring((0,v.lengthGetColumnCountIfZeroLineCount)(s),(0,v.lengthGetColumnCountIfZeroLineCount)((0,v.lengthAdd)(s,a.length)));else if(a.kind===4)for(const l of a.children)d(l,s),s=(0,v.lengthAdd)(s,l.length)}}return d(o,v.lengthZero),r}e.fixBracketsInLine=_;class b{constructor(g){this.lines=g,this.tokenization={getLineTokens:n=>this.lines[n-1]}}getLineCount(){return this.lines.length}getLineLength(g){return this.lines[g-1].getLineContent().length}}}),define(se[433],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class w{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function v(I,L,_,b,u){u.spacesDiff=0,u.looksLikeAlignment=!1;let g;for(g=0;g<L&&g<b;g++){const d=I.charCodeAt(g),a=_.charCodeAt(g);if(d!==a)break}let n=0,i=0;for(let d=g;d<L;d++)I.charCodeAt(d)===32?n++:i++;let t=0,o=0;for(let d=g;d<b;d++)_.charCodeAt(d)===32?t++:o++;if(n>0&&i>0||t>0&&o>0)return;const r=Math.abs(i-o),c=Math.abs(n-t);if(r===0){u.spacesDiff=c,c>0&&0<=t-1&&t-1<I.length&&t<_.length&&_.charCodeAt(t)!==32&&I.charCodeAt(t-1)===32&&I.charCodeAt(I.length-1)===44&&(u.looksLikeAlignment=!0);return}if(c%r==0){u.spacesDiff=c/r;return}}function k(I,L,_){const b=Math.min(I.getLineCount(),1e4);let u=0,g=0,n="",i=0;const t=[2,4,6,8,3,5,7],o=8,r=[0,0,0,0,0,0,0,0,0],c=new w;for(let s=1;s<=b;s++){const l=I.getLineLength(s),h=I.getLineContent(s),p=l<=65536;let S=!1,f=0,m=0,C=0;for(let E=0,T=l;E<T;E++){const N=p?h.charCodeAt(E):I.getLineCharCode(s,E);if(N===9)C++;else if(N===32)m++;else{S=!0,f=E;break}}if(!S||(C>0?u++:m>1&&g++,v(n,i,h,f,c),c.looksLikeAlignment&&!(_&&L===c.spacesDiff)))continue;const y=c.spacesDiff;y<=o&&r[y]++,n=h,i=f}let d=_;u!==g&&(d=u<g);let a=L;if(d){let s=d?0:.1*b;t.forEach(l=>{const h=r[l];h>s&&(s=h,a=l)}),a===4&&r[4]>0&&r[2]>0&&r[2]>=r[4]/2&&(a=2)}return{insertSpaces:d,tabSize:a}}e.guessIndentation=k}),define(se[434],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function w(D){return(D.metadata&1)>>>0}e.getNodeColor=w;function v(D,M){D.metadata=D.metadata&254|M<<0}function k(D){return(D.metadata&2)>>>1==1}function I(D,M){D.metadata=D.metadata&253|(M?1:0)<<1}function L(D){return(D.metadata&4)>>>2==1}function _(D,M){D.metadata=D.metadata&251|(M?1:0)<<2}function b(D){return(D.metadata&24)>>>3}function u(D,M){D.metadata=D.metadata&231|M<<3}function g(D){return(D.metadata&32)>>>5==1}function n(D,M){D.metadata=D.metadata&223|(M?1:0)<<5}class i{constructor(M,R,B){this.metadata=0,this.parent=this,this.left=this,this.right=this,v(this,1),this.start=R,this.end=B,this.delta=0,this.maxEnd=B,this.id=M,this.ownerId=0,this.options=null,_(this,!1),u(this,1),n(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=R,this.cachedAbsoluteEnd=B,this.range=null,I(this,!1)}reset(M,R,B,W){this.start=R,this.end=B,this.maxEnd=B,this.cachedVersionId=M,this.cachedAbsoluteStart=R,this.cachedAbsoluteEnd=B,this.range=W}setOptions(M){this.options=M;const R=this.options.className;_(this,R==="squiggly-error"||R==="squiggly-warning"||R==="squiggly-info"),u(this,this.options.stickiness),n(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(M,R,B){this.cachedVersionId!==B&&(this.range=null),this.cachedVersionId=B,this.cachedAbsoluteStart=M,this.cachedAbsoluteEnd=R}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=i,e.SENTINEL=new i(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,v(e.SENTINEL,0);class t{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(M,R,B,W,V){return this.root===e.SENTINEL?[]:p(this,M,R,B,W,V)}search(M,R,B){return this.root===e.SENTINEL?[]:h(this,M,R,B)}collectNodesFromOwner(M){return s(this,M)}collectNodesPostOrder(){return l(this)}insert(M){S(this,M),this._normalizeDeltaIfNecessary()}delete(M){m(this,M),this._normalizeDeltaIfNecessary()}resolveNode(M,R){const B=M;let W=0;for(;M!==this.root;)M===M.parent.right&&(W+=M.parent.delta),M=M.parent;const V=B.start+W,A=B.end+W;B.setCachedOffsets(V,A,R)}acceptReplace(M,R,B,W){const V=d(this,M,M+R);for(let A=0,Y=V.length;A<Y;A++){const ee=V[A];m(this,ee)}this._normalizeDeltaIfNecessary(),a(this,M,M+R,B),this._normalizeDeltaIfNecessary();for(let A=0,Y=V.length;A<Y;A++){const ee=V[A];ee.start=ee.cachedAbsoluteStart,ee.end=ee.cachedAbsoluteEnd,c(ee,M,M+R,B,W),ee.maxEnd=ee.end,S(this,ee)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,o(this))}}e.IntervalTree=t;function o(D){let M=D.root,R=0;for(;M!==e.SENTINEL;){if(M.left!==e.SENTINEL&&!k(M.left)){M=M.left;continue}if(M.right!==e.SENTINEL&&!k(M.right)){R+=M.delta,M=M.right;continue}M.start=R+M.start,M.end=R+M.end,M.delta=0,F(M),I(M,!0),I(M.left,!1),I(M.right,!1),M===M.parent.right&&(R-=M.parent.delta),M=M.parent}I(D.root,!1)}function r(D,M,R,B){return D<R?!0:D>R||B===1?!1:B===2?!0:M}function c(D,M,R,B,W){const V=b(D),A=V===0||V===2,Y=V===1||V===2,ee=R-M,U=B,j=Math.min(ee,U),Z=D.start;let ie=!1;const Q=D.end;let J=!1;M<=Z&&Q<=R&&g(D)&&(D.start=M,ie=!0,D.end=M,J=!0);{const x=W?1:ee>0?2:0;!ie&&r(Z,A,M,x)&&(ie=!0),!J&&r(Q,Y,M,x)&&(J=!0)}if(j>0&&!W){const x=ee>U?2:0;!ie&&r(Z,A,M+j,x)&&(ie=!0),!J&&r(Q,Y,M+j,x)&&(J=!0)}{const x=W?1:0;!ie&&r(Z,A,R,x)&&(D.start=M+U,ie=!0),!J&&r(Q,Y,R,x)&&(D.end=M+U,J=!0)}const de=U-ee;ie||(D.start=Math.max(0,Z+de)),J||(D.end=Math.max(0,Q+de)),D.start>D.end&&(D.end=D.start)}e.nodeAcceptEdit=c;function d(D,M,R){let B=D.root,W=0,V=0,A=0,Y=0;const ee=[];let U=0;for(;B!==e.SENTINEL;){if(k(B)){I(B.left,!1),I(B.right,!1),B===B.parent.right&&(W-=B.parent.delta),B=B.parent;continue}if(!k(B.left)){if(V=W+B.maxEnd,V<M){I(B,!0);continue}if(B.left!==e.SENTINEL){B=B.left;continue}}if(A=W+B.start,A>R){I(B,!0);continue}if(Y=W+B.end,Y>=M&&(B.setCachedOffsets(A,Y,0),ee[U++]=B),I(B,!0),B.right!==e.SENTINEL&&!k(B.right)){W+=B.delta,B=B.right;continue}}return I(D.root,!1),ee}function a(D,M,R,B){let W=D.root,V=0,A=0,Y=0;const ee=B-(R-M);for(;W!==e.SENTINEL;){if(k(W)){I(W.left,!1),I(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),F(W),W=W.parent;continue}if(!k(W.left)){if(A=V+W.maxEnd,A<M){I(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(Y=V+W.start,Y>R){W.start+=ee,W.end+=ee,W.delta+=ee,(W.delta<-1073741824||W.delta>1073741824)&&(D.requestNormalizeDelta=!0),I(W,!0);continue}if(I(W,!0),W.right!==e.SENTINEL&&!k(W.right)){V+=W.delta,W=W.right;continue}}I(D.root,!1)}function s(D,M){let R=D.root;const B=[];let W=0;for(;R!==e.SENTINEL;){if(k(R)){I(R.left,!1),I(R.right,!1),R=R.parent;continue}if(R.left!==e.SENTINEL&&!k(R.left)){R=R.left;continue}if(R.ownerId===M&&(B[W++]=R),I(R,!0),R.right!==e.SENTINEL&&!k(R.right)){R=R.right;continue}}return I(D.root,!1),B}function l(D){let M=D.root;const R=[];let B=0;for(;M!==e.SENTINEL;){if(k(M)){I(M.left,!1),I(M.right,!1),M=M.parent;continue}if(M.left!==e.SENTINEL&&!k(M.left)){M=M.left;continue}if(M.right!==e.SENTINEL&&!k(M.right)){M=M.right;continue}R[B++]=M,I(M,!0)}return I(D.root,!1),R}function h(D,M,R,B){let W=D.root,V=0,A=0,Y=0;const ee=[];let U=0;for(;W!==e.SENTINEL;){if(k(W)){I(W.left,!1),I(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!k(W.left)){W=W.left;continue}A=V+W.start,Y=V+W.end,W.setCachedOffsets(A,Y,B);let j=!0;if(M&&W.ownerId&&W.ownerId!==M&&(j=!1),R&&L(W)&&(j=!1),j&&(ee[U++]=W),I(W,!0),W.right!==e.SENTINEL&&!k(W.right)){V+=W.delta,W=W.right;continue}}return I(D.root,!1),ee}function p(D,M,R,B,W,V){let A=D.root,Y=0,ee=0,U=0,j=0;const Z=[];let ie=0;for(;A!==e.SENTINEL;){if(k(A)){I(A.left,!1),I(A.right,!1),A===A.parent.right&&(Y-=A.parent.delta),A=A.parent;continue}if(!k(A.left)){if(ee=Y+A.maxEnd,ee<M){I(A,!0);continue}if(A.left!==e.SENTINEL){A=A.left;continue}}if(U=Y+A.start,U>R){I(A,!0);continue}if(j=Y+A.end,j>=M){A.setCachedOffsets(U,j,V);let Q=!0;B&&A.ownerId&&A.ownerId!==B&&(Q=!1),W&&L(A)&&(Q=!1),Q&&(Z[ie++]=A)}if(I(A,!0),A.right!==e.SENTINEL&&!k(A.right)){Y+=A.delta,A=A.right;continue}}return I(D.root,!1),Z}function S(D,M){if(D.root===e.SENTINEL)return M.parent=e.SENTINEL,M.left=e.SENTINEL,M.right=e.SENTINEL,v(M,0),D.root=M,D.root;f(D,M),O(M.parent);let R=M;for(;R!==D.root&&w(R.parent)===1;)if(R.parent===R.parent.parent.left){const B=R.parent.parent.right;w(B)===1?(v(R.parent,0),v(B,0),v(R.parent.parent,1),R=R.parent.parent):(R===R.parent.right&&(R=R.parent,E(D,R)),v(R.parent,0),v(R.parent.parent,1),T(D,R.parent.parent))}else{const B=R.parent.parent.left;w(B)===1?(v(R.parent,0),v(B,0),v(R.parent.parent,1),R=R.parent.parent):(R===R.parent.left&&(R=R.parent,T(D,R)),v(R.parent,0),v(R.parent.parent,1),E(D,R.parent.parent))}return v(D.root,0),M}function f(D,M){let R=0,B=D.root;const W=M.start,V=M.end;for(;;)if(P(W,V,B.start+R,B.end+R)<0)if(B.left===e.SENTINEL){M.start-=R,M.end-=R,M.maxEnd-=R,B.left=M;break}else B=B.left;else if(B.right===e.SENTINEL){M.start-=R+B.delta,M.end-=R+B.delta,M.maxEnd-=R+B.delta,B.right=M;break}else R+=B.delta,B=B.right;M.parent=B,M.left=e.SENTINEL,M.right=e.SENTINEL,v(M,1)}function m(D,M){let R,B;if(M.left===e.SENTINEL?(R=M.right,B=M,R.delta+=M.delta,(R.delta<-1073741824||R.delta>1073741824)&&(D.requestNormalizeDelta=!0),R.start+=M.delta,R.end+=M.delta):M.right===e.SENTINEL?(R=M.left,B=M):(B=C(M.right),R=B.right,R.start+=B.delta,R.end+=B.delta,R.delta+=B.delta,(R.delta<-1073741824||R.delta>1073741824)&&(D.requestNormalizeDelta=!0),B.start+=M.delta,B.end+=M.delta,B.delta=M.delta,(B.delta<-1073741824||B.delta>1073741824)&&(D.requestNormalizeDelta=!0)),B===D.root){D.root=R,v(R,0),M.detach(),y(),F(R),D.root.parent=e.SENTINEL;return}const W=w(B)===1;if(B===B.parent.left?B.parent.left=R:B.parent.right=R,B===M?R.parent=B.parent:(B.parent===M?R.parent=B:R.parent=B.parent,B.left=M.left,B.right=M.right,B.parent=M.parent,v(B,w(M)),M===D.root?D.root=B:M===M.parent.left?M.parent.left=B:M.parent.right=B,B.left!==e.SENTINEL&&(B.left.parent=B),B.right!==e.SENTINEL&&(B.right.parent=B)),M.detach(),W){O(R.parent),B!==M&&(O(B),O(B.parent)),y();return}O(R),O(R.parent),B!==M&&(O(B),O(B.parent));let V;for(;R!==D.root&&w(R)===0;)R===R.parent.left?(V=R.parent.right,w(V)===1&&(v(V,0),v(R.parent,1),E(D,R.parent),V=R.parent.right),w(V.left)===0&&w(V.right)===0?(v(V,1),R=R.parent):(w(V.right)===0&&(v(V.left,0),v(V,1),T(D,V),V=R.parent.right),v(V,w(R.parent)),v(R.parent,0),v(V.right,0),E(D,R.parent),R=D.root)):(V=R.parent.left,w(V)===1&&(v(V,0),v(R.parent,1),T(D,R.parent),V=R.parent.left),w(V.left)===0&&w(V.right)===0?(v(V,1),R=R.parent):(w(V.left)===0&&(v(V.right,0),v(V,1),E(D,V),V=R.parent.left),v(V,w(R.parent)),v(R.parent,0),v(V.left,0),T(D,R.parent),R=D.root));v(R,0),y()}function C(D){for(;D.left!==e.SENTINEL;)D=D.left;return D}function y(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function E(D,M){const R=M.right;R.delta+=M.delta,(R.delta<-1073741824||R.delta>1073741824)&&(D.requestNormalizeDelta=!0),R.start+=M.delta,R.end+=M.delta,M.right=R.left,R.left!==e.SENTINEL&&(R.left.parent=M),R.parent=M.parent,M.parent===e.SENTINEL?D.root=R:M===M.parent.left?M.parent.left=R:M.parent.right=R,R.left=M,M.parent=R,F(M),F(R)}function T(D,M){const R=M.left;M.delta-=R.delta,(M.delta<-1073741824||M.delta>1073741824)&&(D.requestNormalizeDelta=!0),M.start-=R.delta,M.end-=R.delta,M.left=R.right,R.right!==e.SENTINEL&&(R.right.parent=M),R.parent=M.parent,M.parent===e.SENTINEL?D.root=R:M===M.parent.right?M.parent.right=R:M.parent.left=R,R.right=M,M.parent=R,F(M),F(R)}function N(D){let M=D.end;if(D.left!==e.SENTINEL){const R=D.left.maxEnd;R>M&&(M=R)}if(D.right!==e.SENTINEL){const R=D.right.maxEnd+D.delta;R>M&&(M=R)}return M}function F(D){D.maxEnd=N(D)}e.recomputeMaxEnd=F;function O(D){for(;D!==e.SENTINEL;){const M=N(D);if(D.maxEnd===M)return;D.maxEnd=M,D=D.parent}}function P(D,M,R,B){return D===R?M-B:D-R}e.intervalCompare=P}),define(se[435],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class w{constructor(r,c){this.piece=r,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return v(this.right);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.left!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}prev(){if(this.left!==e.SENTINEL)return k(this.left);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.right!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=w,e.SENTINEL=new w(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function v(o){for(;o.left!==e.SENTINEL;)o=o.left;return o}e.leftest=v;function k(o){for(;o.right!==e.SENTINEL;)o=o.right;return o}e.righttest=k;function I(o){return o===e.SENTINEL?0:o.size_left+o.piece.length+I(o.right)}e.calculateSize=I;function L(o){return o===e.SENTINEL?0:o.lf_left+o.piece.lineFeedCnt+L(o.right)}e.calculateLF=L;function _(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=_;function b(o,r){const c=r.right;c.size_left+=r.size_left+(r.piece?r.piece.length:0),c.lf_left+=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),r.right=c.left,c.left!==e.SENTINEL&&(c.left.parent=r),c.parent=r.parent,r.parent===e.SENTINEL?o.root=c:r.parent.left===r?r.parent.left=c:r.parent.right=c,c.left=r,r.parent=c}e.leftRotate=b;function u(o,r){const c=r.left;r.left=c.right,c.right!==e.SENTINEL&&(c.right.parent=r),c.parent=r.parent,r.size_left-=c.size_left+(c.piece?c.piece.length:0),r.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),r.parent===e.SENTINEL?o.root=c:r===r.parent.right?r.parent.right=c:r.parent.left=c,c.right=r,r.parent=c}e.rightRotate=u;function g(o,r){let c,d;if(r.left===e.SENTINEL?(d=r,c=d.right):r.right===e.SENTINEL?(d=r,c=d.left):(d=v(r.right),c=d.right),d===o.root){o.root=c,c.color=0,r.detach(),_(),o.root.parent=e.SENTINEL;return}const a=d.color===1;if(d===d.parent.left?d.parent.left=c:d.parent.right=c,d===r?(c.parent=d.parent,t(o,c)):(d.parent===r?c.parent=d:c.parent=d.parent,t(o,c),d.left=r.left,d.right=r.right,d.parent=r.parent,d.color=r.color,r===o.root?o.root=d:r===r.parent.left?r.parent.left=d:r.parent.right=d,d.left!==e.SENTINEL&&(d.left.parent=d),d.right!==e.SENTINEL&&(d.right.parent=d),d.size_left=r.size_left,d.lf_left=r.lf_left,t(o,d)),r.detach(),c.parent.left===c){const l=I(c),h=L(c);if(l!==c.parent.size_left||h!==c.parent.lf_left){const p=l-c.parent.size_left,S=h-c.parent.lf_left;c.parent.size_left=l,c.parent.lf_left=h,i(o,c.parent,p,S)}}if(t(o,c.parent),a){_();return}let s;for(;c!==o.root&&c.color===0;)c===c.parent.left?(s=c.parent.right,s.color===1&&(s.color=0,c.parent.color=1,b(o,c.parent),s=c.parent.right),s.left.color===0&&s.right.color===0?(s.color=1,c=c.parent):(s.right.color===0&&(s.left.color=0,s.color=1,u(o,s),s=c.parent.right),s.color=c.parent.color,c.parent.color=0,s.right.color=0,b(o,c.parent),c=o.root)):(s=c.parent.left,s.color===1&&(s.color=0,c.parent.color=1,u(o,c.parent),s=c.parent.left),s.left.color===0&&s.right.color===0?(s.color=1,c=c.parent):(s.left.color===0&&(s.right.color=0,s.color=1,b(o,s),s=c.parent.left),s.color=c.parent.color,c.parent.color=0,s.left.color=0,u(o,c.parent),c=o.root));c.color=0,_()}e.rbDelete=g;function n(o,r){for(t(o,r);r!==o.root&&r.parent.color===1;)if(r.parent===r.parent.parent.left){const c=r.parent.parent.right;c.color===1?(r.parent.color=0,c.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,b(o,r)),r.parent.color=0,r.parent.parent.color=1,u(o,r.parent.parent))}else{const c=r.parent.parent.left;c.color===1?(r.parent.color=0,c.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,u(o,r)),r.parent.color=0,r.parent.parent.color=1,b(o,r.parent.parent))}o.root.color=0}e.fixInsert=n;function i(o,r,c,d){for(;r!==o.root&&r!==e.SENTINEL;)r.parent.left===r&&(r.parent.size_left+=c,r.parent.lf_left+=d),r=r.parent}e.updateTreeMetadata=i;function t(o,r){let c=0,d=0;if(r!==o.root){for(;r!==o.root&&r===r.parent.right;)r=r.parent;if(r!==o.root)for(r=r.parent,c=I(r.left)-r.size_left,d=L(r.left)-r.lf_left,r.size_left+=c,r.lf_left+=d;r!==o.root&&(c!==0||d!==0);)r.parent.left===r&&(r.parent.size_left+=c,r.parent.lf_left+=d),r=r.parent}}e.recomputeTreeMetadata=t}),define(se[243],re([1,0,17,150]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class k{constructor(b){this.values=b,this.prefixSum=new Uint32Array(b.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(b,u){b=(0,v.toUint32)(b);const g=this.values,n=this.prefixSum,i=u.length;return i===0?!1:(this.values=new Uint32Array(g.length+i),this.values.set(g.subarray(0,b),0),this.values.set(g.subarray(b),b+i),this.values.set(u,b),b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(b,u){return b=(0,v.toUint32)(b),u=(0,v.toUint32)(u),this.values[b]===u?!1:(this.values[b]=u,b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),!0)}removeValues(b,u){b=(0,v.toUint32)(b),u=(0,v.toUint32)(u);const g=this.values,n=this.prefixSum;if(b>=g.length)return!1;const i=g.length-b;return u>=i&&(u=i),u===0?!1:(this.values=new Uint32Array(g.length-u),this.values.set(g.subarray(0,b),0),this.values.set(g.subarray(b+u),b),this.prefixSum=new Uint32Array(this.values.length),b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(b){return b<0?0:(b=(0,v.toUint32)(b),this._getPrefixSum(b))}_getPrefixSum(b){if(b<=this.prefixSumValidIndex[0])return this.prefixSum[b];let u=this.prefixSumValidIndex[0]+1;u===0&&(this.prefixSum[0]=this.values[0],u++),b>=this.values.length&&(b=this.values.length-1);for(let g=u;g<=b;g++)this.prefixSum[g]=this.prefixSum[g-1]+this.values[g];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],b),this.prefixSum[b]}getIndexOf(b){b=Math.floor(b),this.getTotalSum();let u=0,g=this.values.length-1,n=0,i=0,t=0;for(;u<=g;)if(n=u+(g-u)/2|0,i=this.prefixSum[n],t=i-this.values[n],b<t)g=n-1;else if(b>=i)u=n+1;else break;return new L(n,b-t)}}e.PrefixSumComputer=k;class I{constructor(b){this._values=b,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(b){return this._ensureValid(),b===0?0:this._prefixSum[b-1]}getIndexOf(b){this._ensureValid();const u=this._indexBySum[b],g=u>0?this._prefixSum[u-1]:0;return new L(u,b-g)}removeValues(b,u){this._values.splice(b,u),this._invalidate(b)}insertValues(b,u){this._values=(0,w.arrayInsert)(this._values,b,u),this._invalidate(b)}_invalidate(b){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,b-1)}_ensureValid(){if(!this._isValid){for(let b=this._validEndIndex+1,u=this._values.length;b<u;b++){const g=this._values[b],n=b>0?this._prefixSum[b-1]:0;this._prefixSum[b]=n+g;for(let i=0;i<g;i++)this._indexBySum[n+i]=b}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(b,u){this._values[b]!==u&&(this._values[b]=u,this._invalidate(b))}}e.ConstantTimePrefixSumComputer=I;class L{constructor(b,u){this.index=b,this.remainder=u,this._prefixSumIndexOfResultBrand=void 0,this.index=b,this.remainder=u}}e.PrefixSumIndexOfResult=L}),define(se[436],re([1,0,8,11,243]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class I{constructor(_,b,u,g){this._uri=_,this._lines=b,this._eol=u,this._versionId=g,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(_){_.eol&&_.eol!==this._eol&&(this._eol=_.eol,this._lineStarts=null);const b=_.changes;for(const u of b)this._acceptDeleteRange(u.range),this._acceptInsertText(new v.Position(u.range.startLineNumber,u.range.startColumn),u.text);this._versionId=_.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const _=this._eol.length,b=this._lines.length,u=new Uint32Array(b);for(let g=0;g<b;g++)u[g]=this._lines[g].length+_;this._lineStarts=new k.PrefixSumComputer(u)}}_setLineText(_,b){this._lines[_]=b,this._lineStarts&&this._lineStarts.setValue(_,this._lines[_].length+this._eol.length)}_acceptDeleteRange(_){if(_.startLineNumber===_.endLineNumber){if(_.startColumn===_.endColumn)return;this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.startLineNumber-1].substring(_.endColumn-1));return}this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.endLineNumber-1].substring(_.endColumn-1)),this._lines.splice(_.startLineNumber,_.endLineNumber-_.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(_.startLineNumber,_.endLineNumber-_.startLineNumber)}_acceptInsertText(_,b){if(b.length===0)return;const u=(0,w.splitLines)(b);if(u.length===1){this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+u[0]+this._lines[_.lineNumber-1].substring(_.column-1));return}u[u.length-1]+=this._lines[_.lineNumber-1].substring(_.column-1),this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+u[0]);const g=new Uint32Array(u.length-1);for(let n=1;n<u.length;n++)this._lines.splice(_.lineNumber+n-1,0,u[n]),g[n-1]=u[n].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(_.lineNumber,g)}}e.MirrorTextModel=I}),define(se[244],re([1,0,2]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class v extends w.Disposable{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=v}),define(se[159],re([1,0,8,129,11,3,46]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const _=999;class b{constructor(a,s,l,h){this.searchString=a,this.isRegex=s,this.matchCase=l,this.wordSeparators=h}parseSearchRequest(){if(this.searchString==="")return null;let a;this.isRegex?a=u(this.searchString):a=this.searchString.indexOf(`
`)>=0;let s=null;try{s=w.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:a,global:!0,unicode:!0})}catch{return null}if(!s)return null;let l=!this.isRegex&&!a;return l&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(l=this.matchCase),new L.SearchData(s,this.wordSeparators?(0,v.getMapForWordSeparators)(this.wordSeparators):null,l?this.searchString:null)}}e.SearchParams=b;function u(d){if(!d||d.length===0)return!1;for(let a=0,s=d.length;a<s;a++){const l=d.charCodeAt(a);if(l===10)return!0;if(l===92){if(a++,a>=s)break;const h=d.charCodeAt(a);if(h===110||h===114||h===87)return!0}}return!1}e.isMultilineRegexSource=u;function g(d,a,s){if(!s)return new L.FindMatch(d,null);const l=[];for(let h=0,p=a.length;h<p;h++)l[h]=a[h];return new L.FindMatch(d,l)}e.createFindMatch=g;class n{constructor(a){const s=[];let l=0;for(let h=0,p=a.length;h<p;h++)a.charCodeAt(h)===10&&(s[l++]=h);this._lineFeedsOffsets=s}findLineFeedCountBeforeOffset(a){const s=this._lineFeedsOffsets;let l=0,h=s.length-1;if(h===-1||a<=s[0])return 0;for(;l<h;){const p=l+((h-l)/2>>0);s[p]>=a?h=p-1:s[p+1]>=a?(l=p,h=p):l=p+1}return l+1}}class i{static findMatches(a,s,l,h,p){const S=s.parseSearchRequest();return S?S.regex.multiline?this._doFindMatchesMultiline(a,l,new c(S.wordSeparators,S.regex),h,p):this._doFindMatchesLineByLine(a,l,S,h,p):[]}static _getMultilineMatchRange(a,s,l,h,p,S){let f,m=0;h?(m=h.findLineFeedCountBeforeOffset(p),f=s+p+m):f=s+p;let C;if(h){const N=h.findLineFeedCountBeforeOffset(p+S.length)-m;C=f+S.length+N}else C=f+S.length;const y=a.getPositionAt(f),E=a.getPositionAt(C);return new I.Range(y.lineNumber,y.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(a,s,l,h,p){const S=a.getOffsetAt(s.getStartPosition()),f=a.getValueInRange(s,1),m=a.getEOL()===`\r
`?new n(f):null,C=[];let y=0,E;for(l.reset(0);E=l.next(f);)if(C[y++]=g(this._getMultilineMatchRange(a,S,f,m,E.index,E[0]),E,h),y>=p)return C;return C}static _doFindMatchesLineByLine(a,s,l,h,p){const S=[];let f=0;if(s.startLineNumber===s.endLineNumber){const C=a.getLineContent(s.startLineNumber).substring(s.startColumn-1,s.endColumn-1);return f=this._findMatchesInLine(l,C,s.startLineNumber,s.startColumn-1,f,S,h,p),S}const m=a.getLineContent(s.startLineNumber).substring(s.startColumn-1);f=this._findMatchesInLine(l,m,s.startLineNumber,s.startColumn-1,f,S,h,p);for(let C=s.startLineNumber+1;C<s.endLineNumber&&f<p;C++)f=this._findMatchesInLine(l,a.getLineContent(C),C,0,f,S,h,p);if(f<p){const C=a.getLineContent(s.endLineNumber).substring(0,s.endColumn-1);f=this._findMatchesInLine(l,C,s.endLineNumber,0,f,S,h,p)}return S}static _findMatchesInLine(a,s,l,h,p,S,f,m){const C=a.wordSeparators;if(!f&&a.simpleSearch){const T=a.simpleSearch,N=T.length,F=s.length;let O=-N;for(;(O=s.indexOf(T,O+N))!==-1;)if((!C||r(C,s,F,O,N))&&(S[p++]=new L.FindMatch(new I.Range(l,O+1+h,l,O+1+N+h),null),p>=m))return p;return p}const y=new c(a.wordSeparators,a.regex);let E;y.reset(0);do if(E=y.next(s),E&&(S[p++]=g(new I.Range(l,E.index+1+h,l,E.index+1+E[0].length+h),E,f),p>=m))return p;while(E);return p}static findNextMatch(a,s,l,h){const p=s.parseSearchRequest();if(!p)return null;const S=new c(p.wordSeparators,p.regex);return p.regex.multiline?this._doFindNextMatchMultiline(a,l,S,h):this._doFindNextMatchLineByLine(a,l,S,h)}static _doFindNextMatchMultiline(a,s,l,h){const p=new k.Position(s.lineNumber,1),S=a.getOffsetAt(p),f=a.getLineCount(),m=a.getValueInRange(new I.Range(p.lineNumber,p.column,f,a.getLineMaxColumn(f)),1),C=a.getEOL()===`\r
`?new n(m):null;l.reset(s.column-1);const y=l.next(m);return y?g(this._getMultilineMatchRange(a,S,m,C,y.index,y[0]),y,h):s.lineNumber!==1||s.column!==1?this._doFindNextMatchMultiline(a,new k.Position(1,1),l,h):null}static _doFindNextMatchLineByLine(a,s,l,h){const p=a.getLineCount(),S=s.lineNumber,f=a.getLineContent(S),m=this._findFirstMatchInLine(l,f,S,s.column,h);if(m)return m;for(let C=1;C<=p;C++){const y=(S+C-1)%p,E=a.getLineContent(y+1),T=this._findFirstMatchInLine(l,E,y+1,1,h);if(T)return T}return null}static _findFirstMatchInLine(a,s,l,h,p){a.reset(h-1);const S=a.next(s);return S?g(new I.Range(l,S.index+1,l,S.index+1+S[0].length),S,p):null}static findPreviousMatch(a,s,l,h){const p=s.parseSearchRequest();if(!p)return null;const S=new c(p.wordSeparators,p.regex);return p.regex.multiline?this._doFindPreviousMatchMultiline(a,l,S,h):this._doFindPreviousMatchLineByLine(a,l,S,h)}static _doFindPreviousMatchMultiline(a,s,l,h){const p=this._doFindMatchesMultiline(a,new I.Range(1,1,s.lineNumber,s.column),l,h,10*_);if(p.length>0)return p[p.length-1];const S=a.getLineCount();return s.lineNumber!==S||s.column!==a.getLineMaxColumn(S)?this._doFindPreviousMatchMultiline(a,new k.Position(S,a.getLineMaxColumn(S)),l,h):null}static _doFindPreviousMatchLineByLine(a,s,l,h){const p=a.getLineCount(),S=s.lineNumber,f=a.getLineContent(S).substring(0,s.column-1),m=this._findLastMatchInLine(l,f,S,h);if(m)return m;for(let C=1;C<=p;C++){const y=(p+S-C-1)%p,E=a.getLineContent(y+1),T=this._findLastMatchInLine(l,E,y+1,h);if(T)return T}return null}static _findLastMatchInLine(a,s,l,h){let p=null,S;for(a.reset(0);S=a.next(s);)p=g(new I.Range(l,S.index+1,l,S.index+1+S[0].length),S,h);return p}}e.TextModelSearch=i;function t(d,a,s,l,h){if(l===0)return!0;const p=a.charCodeAt(l-1);if(d.get(p)!==0||p===13||p===10)return!0;if(h>0){const S=a.charCodeAt(l);if(d.get(S)!==0)return!0}return!1}function o(d,a,s,l,h){if(l+h===s)return!0;const p=a.charCodeAt(l+h);if(d.get(p)!==0||p===13||p===10)return!0;if(h>0){const S=a.charCodeAt(l+h-1);if(d.get(S)!==0)return!0}return!1}function r(d,a,s,l,h){return t(d,a,s,l,h)&&o(d,a,s,l,h)}e.isValidMatch=r;class c{constructor(a,s){this._wordSeparators=a,this._searchRegex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(a){this._searchRegex.lastIndex=a,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(a){const s=a.length;let l;do{if(this._prevMatchStartIndex+this._prevMatchLength===s||(l=this._searchRegex.exec(a),!l))return null;const h=l.index,p=l[0].length;if(h===this._prevMatchStartIndex&&p===this._prevMatchLength){if(p===0){w.getNextCodePoint(a,s,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=h,this._prevMatchLength=p,!this._wordSeparators||r(this._wordSeparators,a,s,h,p))return l}while(l);return null}}e.Searcher=c}),define(se[245],re([1,0,11,3,46,435,159]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function _(c){let d;return c[c.length-1]<65536?d=new Uint16Array(c.length):d=new Uint32Array(c.length),d.set(c,0),d}e.createUintArray=_;class b{constructor(d,a,s,l,h){this.lineStarts=d,this.cr=a,this.lf=s,this.crlf=l,this.isBasicASCII=h}}e.LineStarts=b;function u(c,d=!0){const a=[0];let s=1;for(let l=0,h=c.length;l<h;l++){const p=c.charCodeAt(l);p===13?l+1<h&&c.charCodeAt(l+1)===10?(a[s++]=l+2,l++):a[s++]=l+1:p===10&&(a[s++]=l+1)}return d?_(a):a}e.createLineStartsFast=u;function g(c,d){c.length=0,c[0]=0;let a=1,s=0,l=0,h=0,p=!0;for(let f=0,m=d.length;f<m;f++){const C=d.charCodeAt(f);C===13?f+1<m&&d.charCodeAt(f+1)===10?(h++,c[a++]=f+2,f++):(s++,c[a++]=f+1):C===10?(l++,c[a++]=f+1):p&&C!==9&&(C<32||C>126)&&(p=!1)}const S=new b(_(c),s,l,h,p);return c.length=0,S}e.createLineStarts=g;class n{constructor(d,a,s,l,h){this.bufferIndex=d,this.start=a,this.end=s,this.lineFeedCnt=l,this.length=h}}e.Piece=n;class i{constructor(d,a){this.buffer=d,this.lineStarts=a}}e.StringBuffer=i;class t{constructor(d,a){this._pieces=[],this._tree=d,this._BOM=a,this._index=0,d.root!==I.SENTINEL&&d.iterate(d.root,s=>(s!==I.SENTINEL&&this._pieces.push(s.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class o{constructor(d){this._limit=d,this._cache=[]}get(d){for(let a=this._cache.length-1;a>=0;a--){const s=this._cache[a];if(s.nodeStartOffset<=d&&s.nodeStartOffset+s.node.piece.length>=d)return s}return null}get2(d){for(let a=this._cache.length-1;a>=0;a--){const s=this._cache[a];if(s.nodeStartLineNumber&&s.nodeStartLineNumber<d&&s.nodeStartLineNumber+s.node.piece.lineFeedCnt>=d)return s}return null}set(d){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(d)}validate(d){let a=!1;const s=this._cache;for(let l=0;l<s.length;l++){const h=s[l];if(h.node.parent===null||h.nodeStartOffset>=d){s[l]=null,a=!0;continue}}if(a){const l=[];for(const h of s)h!==null&&l.push(h);this._cache=l}}}class r{constructor(d,a,s){this.create(d,a,s)}create(d,a,s){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=I.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=a,this._EOLLength=a.length,this._EOLNormalized=s;let l=null;for(let h=0,p=d.length;h<p;h++)if(d[h].buffer.length>0){d[h].lineStarts||(d[h].lineStarts=u(d[h].buffer));const S=new n(h+1,{line:0,column:0},{line:d[h].lineStarts.length-1,column:d[h].buffer.length-d[h].lineStarts[d[h].lineStarts.length-1]},d[h].lineStarts.length-1,d[h].buffer.length);this._buffers.push(d[h]),l=this.rbInsertRight(l,S)}this._searchCache=new o(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(d){const a=e.AverageBufferSize,s=a-Math.floor(a/3),l=s*2;let h="",p=0;const S=[];if(this.iterate(this.root,f=>{const m=this.getNodeContent(f),C=m.length;if(p<=s||p+C<l)return h+=m,p+=C,!0;const y=h.replace(/\r\n|\r|\n/g,d);return S.push(new i(y,u(y))),h=m,p=C,!0}),p>0){const f=h.replace(/\r\n|\r|\n/g,d);S.push(new i(f,u(f)))}this.create(S,d,!0)}getEOL(){return this._EOL}setEOL(d){this._EOL=d,this._EOLLength=this._EOL.length,this.normalizeEOL(d)}createSnapshot(d){return new t(this,d)}getOffsetAt(d,a){let s=0,l=this.root;for(;l!==I.SENTINEL;)if(l.left!==I.SENTINEL&&l.lf_left+1>=d)l=l.left;else{if(l.lf_left+l.piece.lineFeedCnt+1>=d)return s+=l.size_left,s+=this.getAccumulatedValue(l,d-l.lf_left-2)+a-1;d-=l.lf_left+l.piece.lineFeedCnt,s+=l.size_left+l.piece.length,l=l.right}return s}getPositionAt(d){d=Math.floor(d),d=Math.max(0,d);let a=this.root,s=0;const l=d;for(;a!==I.SENTINEL;)if(a.size_left!==0&&a.size_left>=d)a=a.left;else if(a.size_left+a.piece.length>=d){const h=this.getIndexOf(a,d-a.size_left);if(s+=a.lf_left+h.index,h.index===0){const p=this.getOffsetAt(s+1,1),S=l-p;return new w.Position(s+1,S+1)}return new w.Position(s+1,h.remainder+1)}else if(d-=a.size_left+a.piece.length,s+=a.lf_left+a.piece.lineFeedCnt,a.right===I.SENTINEL){const h=this.getOffsetAt(s+1,1),p=l-d-h;return new w.Position(s+1,p+1)}else a=a.right;return new w.Position(1,1)}getValueInRange(d,a){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return"";const s=this.nodeAt2(d.startLineNumber,d.startColumn),l=this.nodeAt2(d.endLineNumber,d.endColumn),h=this.getValueInRange2(s,l);return a?a!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,a):a===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,a):h}getValueInRange2(d,a){if(d.node===a.node){const S=d.node,f=this._buffers[S.piece.bufferIndex].buffer,m=this.offsetInBuffer(S.piece.bufferIndex,S.piece.start);return f.substring(m+d.remainder,m+a.remainder)}let s=d.node;const l=this._buffers[s.piece.bufferIndex].buffer,h=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);let p=l.substring(h+d.remainder,h+s.piece.length);for(s=s.next();s!==I.SENTINEL;){const S=this._buffers[s.piece.bufferIndex].buffer,f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(s===a.node){p+=S.substring(f,f+a.remainder);break}else p+=S.substr(f,s.piece.length);s=s.next()}return p}getLinesContent(){const d=[];let a=0,s="",l=!1;return this.iterate(this.root,h=>{if(h===I.SENTINEL)return!0;const p=h.piece;let S=p.length;if(S===0)return!0;const f=this._buffers[p.bufferIndex].buffer,m=this._buffers[p.bufferIndex].lineStarts,C=p.start.line,y=p.end.line;let E=m[C]+p.start.column;if(l&&(f.charCodeAt(E)===10&&(E++,S--),d[a++]=s,s="",l=!1,S===0))return!0;if(C===y)return!this._EOLNormalized&&f.charCodeAt(E+S-1)===13?(l=!0,s+=f.substr(E,S-1)):s+=f.substr(E,S),!0;s+=this._EOLNormalized?f.substring(E,Math.max(E,m[C+1]-this._EOLLength)):f.substring(E,m[C+1]).replace(/(\r\n|\r|\n)$/,""),d[a++]=s;for(let T=C+1;T<y;T++)s=this._EOLNormalized?f.substring(m[T],m[T+1]-this._EOLLength):f.substring(m[T],m[T+1]).replace(/(\r\n|\r|\n)$/,""),d[a++]=s;return!this._EOLNormalized&&f.charCodeAt(m[y]+p.end.column-1)===13?(l=!0,p.end.column===0?a--:s=f.substr(m[y],p.end.column-1)):s=f.substr(m[y],p.end.column),!0}),l&&(d[a++]=s,s=""),d[a++]=s,d}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(d){return this._lastVisitedLine.lineNumber===d?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=d,d===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(d):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(d,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(d).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(d){if(d.remainder===d.node.piece.length){const a=d.node.next();if(!a)return 0;const s=this._buffers[a.piece.bufferIndex],l=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return s.buffer.charCodeAt(l)}else{const a=this._buffers[d.node.piece.bufferIndex],l=this.offsetInBuffer(d.node.piece.bufferIndex,d.node.piece.start)+d.remainder;return a.buffer.charCodeAt(l)}}getLineCharCode(d,a){const s=this.nodeAt2(d,a+1);return this._getCharCode(s)}getLineLength(d){if(d===this.getLineCount()){const a=this.getOffsetAt(d,1);return this.getLength()-a}return this.getOffsetAt(d+1,1)-this.getOffsetAt(d,1)-this._EOLLength}findMatchesInNode(d,a,s,l,h,p,S,f,m,C,y){const E=this._buffers[d.piece.bufferIndex],T=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),N=this.offsetInBuffer(d.piece.bufferIndex,h),F=this.offsetInBuffer(d.piece.bufferIndex,p);let O;const P={line:0,column:0};let D,M;a._wordSeparators?(D=E.buffer.substring(N,F),M=R=>R+N,a.reset(0)):(D=E.buffer,M=R=>R,a.reset(N));do if(O=a.next(D),O){if(M(O.index)>=F)return C;this.positionInBuffer(d,M(O.index)-T,P);const R=this.getLineFeedCnt(d.piece.bufferIndex,h,P),B=P.line===h.line?P.column-h.column+l:P.column+1,W=B+O[0].length;if(y[C++]=(0,L.createFindMatch)(new v.Range(s+R,B,s+R,W),O,f),M(O.index)+O[0].length>=F||C>=m)return C}while(O);return C}findMatchesLineByLine(d,a,s,l){const h=[];let p=0;const S=new L.Searcher(a.wordSeparators,a.regex);let f=this.nodeAt2(d.startLineNumber,d.startColumn);if(f===null)return[];const m=this.nodeAt2(d.endLineNumber,d.endColumn);if(m===null)return[];let C=this.positionInBuffer(f.node,f.remainder);const y=this.positionInBuffer(m.node,m.remainder);if(f.node===m.node)return this.findMatchesInNode(f.node,S,d.startLineNumber,d.startColumn,C,y,a,s,l,p,h),h;let E=d.startLineNumber,T=f.node;for(;T!==m.node;){const F=this.getLineFeedCnt(T.piece.bufferIndex,C,T.piece.end);if(F>=1){const P=this._buffers[T.piece.bufferIndex].lineStarts,D=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),M=P[C.line+F],R=E===d.startLineNumber?d.startColumn:1;if(p=this.findMatchesInNode(T,S,E,R,C,this.positionInBuffer(T,M-D),a,s,l,p,h),p>=l)return h;E+=F}const O=E===d.startLineNumber?d.startColumn-1:0;if(E===d.endLineNumber){const P=this.getLineContent(E).substring(O,d.endColumn-1);return p=this._findMatchesInLine(a,S,P,d.endLineNumber,O,p,h,s,l),h}if(p=this._findMatchesInLine(a,S,this.getLineContent(E).substr(O),E,O,p,h,s,l),p>=l)return h;E++,f=this.nodeAt2(E,1),T=f.node,C=this.positionInBuffer(f.node,f.remainder)}if(E===d.endLineNumber){const F=E===d.startLineNumber?d.startColumn-1:0,O=this.getLineContent(E).substring(F,d.endColumn-1);return p=this._findMatchesInLine(a,S,O,d.endLineNumber,F,p,h,s,l),h}const N=E===d.startLineNumber?d.startColumn:1;return p=this.findMatchesInNode(m.node,S,E,N,C,y,a,s,l,p,h),h}_findMatchesInLine(d,a,s,l,h,p,S,f,m){const C=d.wordSeparators;if(!f&&d.simpleSearch){const E=d.simpleSearch,T=E.length,N=s.length;let F=-T;for(;(F=s.indexOf(E,F+T))!==-1;)if((!C||(0,L.isValidMatch)(C,s,N,F,T))&&(S[p++]=new k.FindMatch(new v.Range(l,F+1+h,l,F+1+T+h),null),p>=m))return p;return p}let y;a.reset(0);do if(y=a.next(s),y&&(S[p++]=(0,L.createFindMatch)(new v.Range(l,y.index+1+h,l,y.index+1+y[0].length+h),y,f),p>=m))return p;while(y);return p}insert(d,a,s=!1){if(this._EOLNormalized=this._EOLNormalized&&s,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==I.SENTINEL){const{node:l,remainder:h,nodeStartOffset:p}=this.nodeAt(d),S=l.piece,f=S.bufferIndex,m=this.positionInBuffer(l,h);if(l.piece.bufferIndex===0&&S.end.line===this._lastChangeBufferPos.line&&S.end.column===this._lastChangeBufferPos.column&&p+S.length===d&&a.length<e.AverageBufferSize){this.appendToNode(l,a),this.computeBufferMetadata();return}if(p===d)this.insertContentToNodeLeft(a,l),this._searchCache.validate(d);else if(p+l.piece.length>d){const C=[];let y=new n(S.bufferIndex,m,S.end,this.getLineFeedCnt(S.bufferIndex,m,S.end),this.offsetInBuffer(f,S.end)-this.offsetInBuffer(f,m));if(this.shouldCheckCRLF()&&this.endWithCR(a)&&this.nodeCharCodeAt(l,h)===10){const F={line:y.start.line+1,column:0};y=new n(y.bufferIndex,F,y.end,this.getLineFeedCnt(y.bufferIndex,F,y.end),y.length-1),a+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(a))if(this.nodeCharCodeAt(l,h-1)===13){const F=this.positionInBuffer(l,h-1);this.deleteNodeTail(l,F),a="\r"+a,l.piece.length===0&&C.push(l)}else this.deleteNodeTail(l,m);else this.deleteNodeTail(l,m);const E=this.createNewPieces(a);y.length>0&&this.rbInsertRight(l,y);let T=l;for(let N=0;N<E.length;N++)T=this.rbInsertRight(T,E[N]);this.deleteNodes(C)}else this.insertContentToNodeRight(a,l)}else{const l=this.createNewPieces(a);let h=this.rbInsertLeft(null,l[0]);for(let p=1;p<l.length;p++)h=this.rbInsertRight(h,l[p])}this.computeBufferMetadata()}delete(d,a){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",a<=0||this.root===I.SENTINEL)return;const s=this.nodeAt(d),l=this.nodeAt(d+a),h=s.node,p=l.node;if(h===p){const E=this.positionInBuffer(h,s.remainder),T=this.positionInBuffer(h,l.remainder);if(s.nodeStartOffset===d){if(a===h.piece.length){const N=h.next();(0,I.rbDelete)(this,h),this.validateCRLFWithPrevNode(N),this.computeBufferMetadata();return}this.deleteNodeHead(h,T),this._searchCache.validate(d),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(s.nodeStartOffset+h.piece.length===d+a){this.deleteNodeTail(h,E),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,E,T),this.computeBufferMetadata();return}const S=[],f=this.positionInBuffer(h,s.remainder);this.deleteNodeTail(h,f),this._searchCache.validate(d),h.piece.length===0&&S.push(h);const m=this.positionInBuffer(p,l.remainder);this.deleteNodeHead(p,m),p.piece.length===0&&S.push(p);const C=h.next();for(let E=C;E!==I.SENTINEL&&E!==p;E=E.next())S.push(E);const y=h.piece.length===0?h.prev():h;this.deleteNodes(S),this.validateCRLFWithNextNode(y),this.computeBufferMetadata()}insertContentToNodeLeft(d,a){const s=[];if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.startWithLF(a)){const p=a.piece,S={line:p.start.line+1,column:0},f=new n(p.bufferIndex,S,p.end,this.getLineFeedCnt(p.bufferIndex,S,p.end),p.length-1);a.piece=f,d+=`
`,(0,I.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&s.push(a)}const l=this.createNewPieces(d);let h=this.rbInsertLeft(a,l[l.length-1]);for(let p=l.length-2;p>=0;p--)h=this.rbInsertLeft(h,l[p]);this.validateCRLFWithPrevNode(h),this.deleteNodes(s)}insertContentToNodeRight(d,a){this.adjustCarriageReturnFromNext(d,a)&&(d+=`
`);const s=this.createNewPieces(d),l=this.rbInsertRight(a,s[0]);let h=l;for(let p=1;p<s.length;p++)h=this.rbInsertRight(h,s[p]);this.validateCRLFWithPrevNode(l)}positionInBuffer(d,a,s){const l=d.piece,h=d.piece.bufferIndex,p=this._buffers[h].lineStarts,f=p[l.start.line]+l.start.column+a;let m=l.start.line,C=l.end.line,y=0,E=0,T=0;for(;m<=C&&(y=m+(C-m)/2|0,T=p[y],y!==C);)if(E=p[y+1],f<T)C=y-1;else if(f>=E)m=y+1;else break;return s?(s.line=y,s.column=f-T,null):{line:y,column:f-T}}getLineFeedCnt(d,a,s){if(s.column===0)return s.line-a.line;const l=this._buffers[d].lineStarts;if(s.line===l.length-1)return s.line-a.line;const h=l[s.line+1],p=l[s.line]+s.column;if(h>p+1)return s.line-a.line;const S=p-1;return this._buffers[d].buffer.charCodeAt(S)===13?s.line-a.line+1:s.line-a.line}offsetInBuffer(d,a){return this._buffers[d].lineStarts[a.line]+a.column}deleteNodes(d){for(let a=0;a<d.length;a++)(0,I.rbDelete)(this,d[a])}createNewPieces(d){if(d.length>e.AverageBufferSize){const C=[];for(;d.length>e.AverageBufferSize;){const E=d.charCodeAt(e.AverageBufferSize-1);let T;E===13||E>=55296&&E<=56319?(T=d.substring(0,e.AverageBufferSize-1),d=d.substring(e.AverageBufferSize-1)):(T=d.substring(0,e.AverageBufferSize),d=d.substring(e.AverageBufferSize));const N=u(T);C.push(new n(this._buffers.length,{line:0,column:0},{line:N.length-1,column:T.length-N[N.length-1]},N.length-1,T.length)),this._buffers.push(new i(T,N))}const y=u(d);return C.push(new n(this._buffers.length,{line:0,column:0},{line:y.length-1,column:d.length-y[y.length-1]},y.length-1,d.length)),this._buffers.push(new i(d,y)),C}let a=this._buffers[0].buffer.length;const s=u(d,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===a&&a!==0&&this.startWithLF(d)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let C=0;C<s.length;C++)s[C]+=a+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+="_"+d,a+=1}else{if(a!==0)for(let C=0;C<s.length;C++)s[C]+=a;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+=d}const h=this._buffers[0].buffer.length,p=this._buffers[0].lineStarts.length-1,S=h-this._buffers[0].lineStarts[p],f={line:p,column:S},m=new n(0,l,f,this.getLineFeedCnt(0,l,f),h-a);return this._lastChangeBufferPos=f,[m]}getLineRawContent(d,a=0){let s=this.root,l="";const h=this._searchCache.get2(d);if(h){s=h.node;const p=this.getAccumulatedValue(s,d-h.nodeStartLineNumber-1),S=this._buffers[s.piece.bufferIndex].buffer,f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(h.nodeStartLineNumber+s.piece.lineFeedCnt===d)l=S.substring(f+p,f+s.piece.length);else{const m=this.getAccumulatedValue(s,d-h.nodeStartLineNumber);return S.substring(f+p,f+m-a)}}else{let p=0;const S=d;for(;s!==I.SENTINEL;)if(s.left!==I.SENTINEL&&s.lf_left>=d-1)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt>d-1){const f=this.getAccumulatedValue(s,d-s.lf_left-2),m=this.getAccumulatedValue(s,d-s.lf_left-1),C=this._buffers[s.piece.bufferIndex].buffer,y=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return p+=s.size_left,this._searchCache.set({node:s,nodeStartOffset:p,nodeStartLineNumber:S-(d-1-s.lf_left)}),C.substring(y+f,y+m-a)}else if(s.lf_left+s.piece.lineFeedCnt===d-1){const f=this.getAccumulatedValue(s,d-s.lf_left-2),m=this._buffers[s.piece.bufferIndex].buffer,C=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);l=m.substring(C+f,C+s.piece.length);break}else d-=s.lf_left+s.piece.lineFeedCnt,p+=s.size_left+s.piece.length,s=s.right}for(s=s.next();s!==I.SENTINEL;){const p=this._buffers[s.piece.bufferIndex].buffer;if(s.piece.lineFeedCnt>0){const S=this.getAccumulatedValue(s,0),f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return l+=p.substring(f,f+S-a),l}else{const S=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);l+=p.substr(S,s.piece.length)}s=s.next()}return l}computeBufferMetadata(){let d=this.root,a=1,s=0;for(;d!==I.SENTINEL;)a+=d.lf_left+d.piece.lineFeedCnt,s+=d.size_left+d.piece.length,d=d.right;this._lineCnt=a,this._length=s,this._searchCache.validate(this._length)}getIndexOf(d,a){const s=d.piece,l=this.positionInBuffer(d,a),h=l.line-s.start.line;if(this.offsetInBuffer(s.bufferIndex,s.end)-this.offsetInBuffer(s.bufferIndex,s.start)===a){const p=this.getLineFeedCnt(d.piece.bufferIndex,s.start,l);if(p!==h)return{index:p,remainder:0}}return{index:h,remainder:l.column}}getAccumulatedValue(d,a){if(a<0)return 0;const s=d.piece,l=this._buffers[s.bufferIndex].lineStarts,h=s.start.line+a+1;return h>s.end.line?l[s.end.line]+s.end.column-l[s.start.line]-s.start.column:l[h]-l[s.start.line]-s.start.column}deleteNodeTail(d,a){const s=d.piece,l=s.lineFeedCnt,h=this.offsetInBuffer(s.bufferIndex,s.end),p=a,S=this.offsetInBuffer(s.bufferIndex,p),f=this.getLineFeedCnt(s.bufferIndex,s.start,p),m=f-l,C=S-h,y=s.length+C;d.piece=new n(s.bufferIndex,s.start,p,f,y),(0,I.updateTreeMetadata)(this,d,C,m)}deleteNodeHead(d,a){const s=d.piece,l=s.lineFeedCnt,h=this.offsetInBuffer(s.bufferIndex,s.start),p=a,S=this.getLineFeedCnt(s.bufferIndex,p,s.end),f=this.offsetInBuffer(s.bufferIndex,p),m=S-l,C=h-f,y=s.length+C;d.piece=new n(s.bufferIndex,p,s.end,S,y),(0,I.updateTreeMetadata)(this,d,C,m)}shrinkNode(d,a,s){const l=d.piece,h=l.start,p=l.end,S=l.length,f=l.lineFeedCnt,m=a,C=this.getLineFeedCnt(l.bufferIndex,l.start,m),y=this.offsetInBuffer(l.bufferIndex,a)-this.offsetInBuffer(l.bufferIndex,h);d.piece=new n(l.bufferIndex,l.start,m,C,y),(0,I.updateTreeMetadata)(this,d,y-S,C-f);const E=new n(l.bufferIndex,s,p,this.getLineFeedCnt(l.bufferIndex,s,p),this.offsetInBuffer(l.bufferIndex,p)-this.offsetInBuffer(l.bufferIndex,s)),T=this.rbInsertRight(d,E);this.validateCRLFWithPrevNode(T)}appendToNode(d,a){this.adjustCarriageReturnFromNext(a,d)&&(a+=`
`);const s=this.shouldCheckCRLF()&&this.startWithLF(a)&&this.endWithCR(d),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=a;const h=u(a,!1);for(let T=0;T<h.length;T++)h[T]+=l;if(s){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const p=this._buffers[0].lineStarts.length-1,S=this._buffers[0].buffer.length-this._buffers[0].lineStarts[p],f={line:p,column:S},m=d.piece.length+a.length,C=d.piece.lineFeedCnt,y=this.getLineFeedCnt(0,d.piece.start,f),E=y-C;d.piece=new n(d.piece.bufferIndex,d.piece.start,f,y,m),this._lastChangeBufferPos=f,(0,I.updateTreeMetadata)(this,d,a.length,E)}nodeAt(d){let a=this.root;const s=this._searchCache.get(d);if(s)return{node:s.node,nodeStartOffset:s.nodeStartOffset,remainder:d-s.nodeStartOffset};let l=0;for(;a!==I.SENTINEL;)if(a.size_left>d)a=a.left;else if(a.size_left+a.piece.length>=d){l+=a.size_left;const h={node:a,remainder:d-a.size_left,nodeStartOffset:l};return this._searchCache.set(h),h}else d-=a.size_left+a.piece.length,l+=a.size_left+a.piece.length,a=a.right;return null}nodeAt2(d,a){let s=this.root,l=0;for(;s!==I.SENTINEL;)if(s.left!==I.SENTINEL&&s.lf_left>=d-1)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt>d-1){const h=this.getAccumulatedValue(s,d-s.lf_left-2),p=this.getAccumulatedValue(s,d-s.lf_left-1);return l+=s.size_left,{node:s,remainder:Math.min(h+a-1,p),nodeStartOffset:l}}else if(s.lf_left+s.piece.lineFeedCnt===d-1){const h=this.getAccumulatedValue(s,d-s.lf_left-2);if(h+a-1<=s.piece.length)return{node:s,remainder:h+a-1,nodeStartOffset:l};a-=s.piece.length-h;break}else d-=s.lf_left+s.piece.lineFeedCnt,l+=s.size_left+s.piece.length,s=s.right;for(s=s.next();s!==I.SENTINEL;){if(s.piece.lineFeedCnt>0){const h=this.getAccumulatedValue(s,0),p=this.offsetOfNode(s);return{node:s,remainder:Math.min(a-1,h),nodeStartOffset:p}}else if(s.piece.length>=a-1){const h=this.offsetOfNode(s);return{node:s,remainder:a-1,nodeStartOffset:h}}else a-=s.piece.length;s=s.next()}return null}nodeCharCodeAt(d,a){if(d.piece.lineFeedCnt<1)return-1;const s=this._buffers[d.piece.bufferIndex],l=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start)+a;return s.buffer.charCodeAt(l)}offsetOfNode(d){if(!d)return 0;let a=d.size_left;for(;d!==this.root;)d.parent.right===d&&(a+=d.parent.size_left+d.parent.piece.length),d=d.parent;return a}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(d){if(typeof d=="string")return d.charCodeAt(0)===10;if(d===I.SENTINEL||d.piece.lineFeedCnt===0)return!1;const a=d.piece,s=this._buffers[a.bufferIndex].lineStarts,l=a.start.line,h=s[l]+a.start.column;return l===s.length-1||s[l+1]>h+1?!1:this._buffers[a.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(d){return typeof d=="string"?d.charCodeAt(d.length-1)===13:d===I.SENTINEL||d.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(d,d.piece.length-1)===13}validateCRLFWithPrevNode(d){if(this.shouldCheckCRLF()&&this.startWithLF(d)){const a=d.prev();this.endWithCR(a)&&this.fixCRLF(a,d)}}validateCRLFWithNextNode(d){if(this.shouldCheckCRLF()&&this.endWithCR(d)){const a=d.next();this.startWithLF(a)&&this.fixCRLF(d,a)}}fixCRLF(d,a){const s=[],l=this._buffers[d.piece.bufferIndex].lineStarts;let h;d.piece.end.column===0?h={line:d.piece.end.line-1,column:l[d.piece.end.line]-l[d.piece.end.line-1]-1}:h={line:d.piece.end.line,column:d.piece.end.column-1};const p=d.piece.length-1,S=d.piece.lineFeedCnt-1;d.piece=new n(d.piece.bufferIndex,d.piece.start,h,S,p),(0,I.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&s.push(d);const f={line:a.piece.start.line+1,column:0},m=a.piece.length-1,C=this.getLineFeedCnt(a.piece.bufferIndex,f,a.piece.end);a.piece=new n(a.piece.bufferIndex,f,a.piece.end,C,m),(0,I.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&s.push(a);const y=this.createNewPieces(`\r
`);this.rbInsertRight(d,y[0]);for(let E=0;E<s.length;E++)(0,I.rbDelete)(this,s[E])}adjustCarriageReturnFromNext(d,a){if(this.shouldCheckCRLF()&&this.endWithCR(d)){const s=a.next();if(this.startWithLF(s)){if(d+=`
`,s.piece.length===1)(0,I.rbDelete)(this,s);else{const l=s.piece,h={line:l.start.line+1,column:0},p=l.length-1,S=this.getLineFeedCnt(l.bufferIndex,h,l.end);s.piece=new n(l.bufferIndex,h,l.end,S,p),(0,I.updateTreeMetadata)(this,s,-1,-1)}return!0}}return!1}iterate(d,a){if(d===I.SENTINEL)return a(I.SENTINEL);const s=this.iterate(d.left,a);return s&&a(d)&&this.iterate(d.right,a)}getNodeContent(d){if(d===I.SENTINEL)return"";const a=this._buffers[d.piece.bufferIndex],s=d.piece,l=this.offsetInBuffer(s.bufferIndex,s.start),h=this.offsetInBuffer(s.bufferIndex,s.end);return a.buffer.substring(l,h)}getPieceContent(d){const a=this._buffers[d.bufferIndex],s=this.offsetInBuffer(d.bufferIndex,d.start),l=this.offsetInBuffer(d.bufferIndex,d.end);return a.buffer.substring(s,l)}rbInsertRight(d,a){const s=new I.TreeNode(a,1);if(s.left=I.SENTINEL,s.right=I.SENTINEL,s.parent=I.SENTINEL,s.size_left=0,s.lf_left=0,this.root===I.SENTINEL)this.root=s,s.color=0;else if(d.right===I.SENTINEL)d.right=s,s.parent=d;else{const h=(0,I.leftest)(d.right);h.left=s,s.parent=h}return(0,I.fixInsert)(this,s),s}rbInsertLeft(d,a){const s=new I.TreeNode(a,1);if(s.left=I.SENTINEL,s.right=I.SENTINEL,s.parent=I.SENTINEL,s.size_left=0,s.lf_left=0,this.root===I.SENTINEL)this.root=s,s.color=0;else if(d.left===I.SENTINEL)d.left=s,s.parent=d;else{const l=(0,I.righttest)(d.left);l.right=s,s.parent=l}return(0,I.fixInsert)(this,s),s}}e.PieceTreeBase=r}),define(se[187],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function w(v,k){let I=0,L=0;const _=v.length;for(;L<_;){const b=v.charCodeAt(L);if(b===32)I++;else if(b===9)I=I-I%k+k;else break;L++}return L===_?-1:I}e.computeIndentLevel=w}),define(se[246],re([1,0,97,11,46]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class I{constructor(n,i,t,o,r){this.injectionOffsets=n,this.injectionOptions=i,this.breakOffsets=t,this.breakOffsetsVisibleColumn=o,this.wrappedTextIndentLength=r}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(n){return n>0?this.wrappedTextIndentLength:0}getLineLength(n){const i=n>0?this.breakOffsets[n-1]:0;let o=this.breakOffsets[n]-i;return n>0&&(o+=this.wrappedTextIndentLength),o}getMaxOutputOffset(n){return this.getLineLength(n)}translateToInputOffset(n,i){n>0&&(i=Math.max(0,i-this.wrappedTextIndentLength));let o=n===0?i:this.breakOffsets[n-1]+i;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&o>this.injectionOffsets[r];r++)o<this.injectionOffsets[r]+this.injectionOptions[r].content.length?o=this.injectionOffsets[r]:o-=this.injectionOptions[r].content.length;return o}translateToOutputPosition(n,i=2){let t=n;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&!(n<this.injectionOffsets[o]||i!==1&&n===this.injectionOffsets[o]);o++)t+=this.injectionOptions[o].content.length;return this.offsetInInputWithInjectionsToOutputPosition(t,i)}offsetInInputWithInjectionsToOutputPosition(n,i=2){let t=0,o=this.breakOffsets.length-1,r=0,c=0;for(;t<=o;){r=t+(o-t)/2|0;const a=this.breakOffsets[r];if(c=r>0?this.breakOffsets[r-1]:0,i===0)if(n<=c)o=r-1;else if(n>a)t=r+1;else break;else if(n<c)o=r-1;else if(n>=a)t=r+1;else break}let d=n-c;return r>0&&(d+=this.wrappedTextIndentLength),new u(r,d)}normalizeOutputPosition(n,i,t){if(this.injectionOffsets!==null){const o=this.outputPositionToOffsetInInputWithInjections(n,i),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(o,t);if(r!==o)return this.offsetInInputWithInjectionsToOutputPosition(r,t)}if(t===0){if(n>0&&i===this.getMinOutputOffset(n))return new u(n-1,this.getMaxOutputOffset(n-1))}else if(t===1){const o=this.getOutputLineCount()-1;if(n<o&&i===this.getMaxOutputOffset(n))return new u(n+1,this.getMinOutputOffset(n+1))}return new u(n,i)}outputPositionToOffsetInInputWithInjections(n,i){return n>0&&(i=Math.max(0,i-this.wrappedTextIndentLength)),(n>0?this.breakOffsets[n-1]:0)+i}normalizeOffsetInInputWithInjectionsAroundInjections(n,i){const t=this.getInjectedTextAtOffset(n);if(!t)return n;if(i===2){if(n===t.offsetInInputWithInjections+t.length&&L(this.injectionOptions[t.injectedTextIndex].cursorStops))return t.offsetInInputWithInjections+t.length;{let o=t.offsetInInputWithInjections;if(_(this.injectionOptions[t.injectedTextIndex].cursorStops))return o;let r=t.injectedTextIndex-1;for(;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[t.injectedTextIndex]&&!(L(this.injectionOptions[r].cursorStops)||(o-=this.injectionOptions[r].content.length,_(this.injectionOptions[r].cursorStops)));)r--;return o}}else if(i===1||i===4){let o=t.offsetInInputWithInjections+t.length,r=t.injectedTextIndex;for(;r+1<this.injectionOffsets.length&&this.injectionOffsets[r+1]===this.injectionOffsets[r];)o+=this.injectionOptions[r+1].content.length,r++;return o}else if(i===0||i===3){let o=t.offsetInInputWithInjections,r=t.injectedTextIndex;for(;r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r];)o-=this.injectionOptions[r-1].content.length,r--;return o}(0,w.assertNever)(i)}getInjectedText(n,i){const t=this.outputPositionToOffsetInInputWithInjections(n,i),o=this.getInjectedTextAtOffset(t);return o?{options:this.injectionOptions[o.injectedTextIndex]}:null}getInjectedTextAtOffset(n){const i=this.injectionOffsets,t=this.injectionOptions;if(i!==null){let o=0;for(let r=0;r<i.length;r++){const c=t[r].content.length,d=i[r]+o,a=i[r]+o+c;if(d>n)break;if(n<=a)return{injectedTextIndex:r,offsetInInputWithInjections:d,length:c};o+=c}}}}e.ModelLineProjectionData=I;function L(g){return g==null?!0:g===k.InjectedTextCursorStops.Right||g===k.InjectedTextCursorStops.Both}function _(g){return g==null?!0:g===k.InjectedTextCursorStops.Left||g===k.InjectedTextCursorStops.Both}class b{constructor(n){this.options=n}}e.InjectedText=b;class u{constructor(n,i){this.outputLineIndex=n,this.outputOffset=i}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(n){return new v.Position(n+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=u}),define(se[247],re([1,0,3,159,8,97,130]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class _{static computeUnicodeHighlights(i,t,o){const r=o?o.startLineNumber:1,c=o?o.endLineNumber:i.getLineCount(),d=new u(t),a=d.getCandidateCodePoints();let s;a==="allNonBasicAscii"?s=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):s=new RegExp(`${b(Array.from(a))}`,"g");const l=new v.Searcher(null,s),h=[];let p=!1,S,f=0,m=0,C=0;e:for(let y=r,E=c;y<=E;y++){const T=i.getLineContent(y),N=T.length;l.reset(0);do if(S=l.next(T),S){let F=S.index,O=S.index+S[0].length;if(F>0){const R=T.charCodeAt(F-1);k.isHighSurrogate(R)&&F--}if(O+1<N){const R=T.charCodeAt(O-1);k.isHighSurrogate(R)&&O++}const P=T.substring(F,O),D=(0,L.getWordAtText)(F+1,L.DEFAULT_WORD_REGEXP,T,0),M=d.shouldHighlightNonBasicASCII(P,D?D.word:null);if(M!==0){M===3?f++:M===2?m++:M===1?C++:(0,I.assertNever)(M);const R=1e3;if(h.length>=R){p=!0;break e}h.push(new w.Range(y,F+1,y,O+1))}}while(S)}return{ranges:h,hasMore:p,ambiguousCharacterCount:f,invisibleCharacterCount:m,nonBasicAsciiCharacterCount:C}}static computeUnicodeHighlightReason(i,t){const o=new u(t);switch(o.shouldHighlightNonBasicASCII(i,null)){case 0:return null;case 2:return{kind:1};case 3:{const c=i.codePointAt(0),d=o.ambiguousCharacters.getPrimaryConfusable(c),a=k.AmbiguousCharacters.getLocales().filter(s=>!k.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,s])).isAmbiguous(c));return{kind:0,confusableWith:String.fromCodePoint(d),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=_;function b(n,i){return`[${k.escapeRegExpCharacters(n.map(o=>String.fromCodePoint(o)).join(""))}]`}class u{constructor(i){this.options=i,this.allowedCodePoints=new Set(i.allowedCodePoints),this.ambiguousCharacters=k.AmbiguousCharacters.getInstance(new Set(i.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const i=new Set;if(this.options.invisibleCharacters)for(const t of k.InvisibleCharacters.codePoints)g(String.fromCodePoint(t))||i.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())i.add(t);for(const t of this.allowedCodePoints)i.delete(t);return i}shouldHighlightNonBasicASCII(i,t){const o=i.codePointAt(0);if(this.allowedCodePoints.has(o))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,c=!1;if(t)for(const d of t){const a=d.codePointAt(0),s=k.isBasicASCII(d);r=r||s,!s&&!this.ambiguousCharacters.isAmbiguous(a)&&!k.InvisibleCharacters.isInvisibleCharacter(a)&&(c=!0)}return!r&&c?0:this.options.invisibleCharacters&&!g(i)&&k.InvisibleCharacters.isInvisibleCharacter(o)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(o)?3:0}}function g(n){return n===" "||n===`
`||n==="	"}}),define(se[160],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var w;(function(A){A[A.Unknown=0]="Unknown",A[A.Disabled=1]="Disabled",A[A.Enabled=2]="Enabled"})(w=e.AccessibilitySupport||(e.AccessibilitySupport={}));var v;(function(A){A[A.Invoke=1]="Invoke",A[A.Auto=2]="Auto"})(v=e.CodeActionTriggerType||(e.CodeActionTriggerType={}));var k;(function(A){A[A.KeepWhitespace=1]="KeepWhitespace",A[A.InsertAsSnippet=4]="InsertAsSnippet"})(k=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var I;(function(A){A[A.Method=0]="Method",A[A.Function=1]="Function",A[A.Constructor=2]="Constructor",A[A.Field=3]="Field",A[A.Variable=4]="Variable",A[A.Class=5]="Class",A[A.Struct=6]="Struct",A[A.Interface=7]="Interface",A[A.Module=8]="Module",A[A.Property=9]="Property",A[A.Event=10]="Event",A[A.Operator=11]="Operator",A[A.Unit=12]="Unit",A[A.Value=13]="Value",A[A.Constant=14]="Constant",A[A.Enum=15]="Enum",A[A.EnumMember=16]="EnumMember",A[A.Keyword=17]="Keyword",A[A.Text=18]="Text",A[A.Color=19]="Color",A[A.File=20]="File",A[A.Reference=21]="Reference",A[A.Customcolor=22]="Customcolor",A[A.Folder=23]="Folder",A[A.TypeParameter=24]="TypeParameter",A[A.User=25]="User",A[A.Issue=26]="Issue",A[A.Snippet=27]="Snippet"})(I=e.CompletionItemKind||(e.CompletionItemKind={}));var L;(function(A){A[A.Deprecated=1]="Deprecated"})(L=e.CompletionItemTag||(e.CompletionItemTag={}));var _;(function(A){A[A.Invoke=0]="Invoke",A[A.TriggerCharacter=1]="TriggerCharacter",A[A.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(_=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var b;(function(A){A[A.EXACT=0]="EXACT",A[A.ABOVE=1]="ABOVE",A[A.BELOW=2]="BELOW"})(b=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var u;(function(A){A[A.NotSet=0]="NotSet",A[A.ContentFlush=1]="ContentFlush",A[A.RecoverFromMarkers=2]="RecoverFromMarkers",A[A.Explicit=3]="Explicit",A[A.Paste=4]="Paste",A[A.Undo=5]="Undo",A[A.Redo=6]="Redo"})(u=e.CursorChangeReason||(e.CursorChangeReason={}));var g;(function(A){A[A.LF=1]="LF",A[A.CRLF=2]="CRLF"})(g=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var n;(function(A){A[A.Text=0]="Text",A[A.Read=1]="Read",A[A.Write=2]="Write"})(n=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var i;(function(A){A[A.None=0]="None",A[A.Keep=1]="Keep",A[A.Brackets=2]="Brackets",A[A.Advanced=3]="Advanced",A[A.Full=4]="Full"})(i=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var t;(function(A){A[A.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",A[A.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",A[A.accessibilitySupport=2]="accessibilitySupport",A[A.accessibilityPageSize=3]="accessibilityPageSize",A[A.ariaLabel=4]="ariaLabel",A[A.autoClosingBrackets=5]="autoClosingBrackets",A[A.autoClosingDelete=6]="autoClosingDelete",A[A.autoClosingOvertype=7]="autoClosingOvertype",A[A.autoClosingQuotes=8]="autoClosingQuotes",A[A.autoIndent=9]="autoIndent",A[A.automaticLayout=10]="automaticLayout",A[A.autoSurround=11]="autoSurround",A[A.bracketPairColorization=12]="bracketPairColorization",A[A.guides=13]="guides",A[A.codeLens=14]="codeLens",A[A.codeLensFontFamily=15]="codeLensFontFamily",A[A.codeLensFontSize=16]="codeLensFontSize",A[A.colorDecorators=17]="colorDecorators",A[A.columnSelection=18]="columnSelection",A[A.comments=19]="comments",A[A.contextmenu=20]="contextmenu",A[A.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",A[A.cursorBlinking=22]="cursorBlinking",A[A.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",A[A.cursorStyle=24]="cursorStyle",A[A.cursorSurroundingLines=25]="cursorSurroundingLines",A[A.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",A[A.cursorWidth=27]="cursorWidth",A[A.disableLayerHinting=28]="disableLayerHinting",A[A.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",A[A.domReadOnly=30]="domReadOnly",A[A.dragAndDrop=31]="dragAndDrop",A[A.dropIntoEditor=32]="dropIntoEditor",A[A.emptySelectionClipboard=33]="emptySelectionClipboard",A[A.extraEditorClassName=34]="extraEditorClassName",A[A.fastScrollSensitivity=35]="fastScrollSensitivity",A[A.find=36]="find",A[A.fixedOverflowWidgets=37]="fixedOverflowWidgets",A[A.folding=38]="folding",A[A.foldingStrategy=39]="foldingStrategy",A[A.foldingHighlight=40]="foldingHighlight",A[A.foldingImportsByDefault=41]="foldingImportsByDefault",A[A.foldingMaximumRegions=42]="foldingMaximumRegions",A[A.unfoldOnClickAfterEndOfLine=43]="unfoldOnClickAfterEndOfLine",A[A.fontFamily=44]="fontFamily",A[A.fontInfo=45]="fontInfo",A[A.fontLigatures=46]="fontLigatures",A[A.fontSize=47]="fontSize",A[A.fontWeight=48]="fontWeight",A[A.formatOnPaste=49]="formatOnPaste",A[A.formatOnType=50]="formatOnType",A[A.glyphMargin=51]="glyphMargin",A[A.gotoLocation=52]="gotoLocation",A[A.hideCursorInOverviewRuler=53]="hideCursorInOverviewRuler",A[A.hover=54]="hover",A[A.inDiffEditor=55]="inDiffEditor",A[A.inlineSuggest=56]="inlineSuggest",A[A.letterSpacing=57]="letterSpacing",A[A.lightbulb=58]="lightbulb",A[A.lineDecorationsWidth=59]="lineDecorationsWidth",A[A.lineHeight=60]="lineHeight",A[A.lineNumbers=61]="lineNumbers",A[A.lineNumbersMinChars=62]="lineNumbersMinChars",A[A.linkedEditing=63]="linkedEditing",A[A.links=64]="links",A[A.matchBrackets=65]="matchBrackets",A[A.minimap=66]="minimap",A[A.mouseStyle=67]="mouseStyle",A[A.mouseWheelScrollSensitivity=68]="mouseWheelScrollSensitivity",A[A.mouseWheelZoom=69]="mouseWheelZoom",A[A.multiCursorMergeOverlapping=70]="multiCursorMergeOverlapping",A[A.multiCursorModifier=71]="multiCursorModifier",A[A.multiCursorPaste=72]="multiCursorPaste",A[A.occurrencesHighlight=73]="occurrencesHighlight",A[A.overviewRulerBorder=74]="overviewRulerBorder",A[A.overviewRulerLanes=75]="overviewRulerLanes",A[A.padding=76]="padding",A[A.parameterHints=77]="parameterHints",A[A.peekWidgetDefaultFocus=78]="peekWidgetDefaultFocus",A[A.definitionLinkOpensInPeek=79]="definitionLinkOpensInPeek",A[A.quickSuggestions=80]="quickSuggestions",A[A.quickSuggestionsDelay=81]="quickSuggestionsDelay",A[A.readOnly=82]="readOnly",A[A.renameOnType=83]="renameOnType",A[A.renderControlCharacters=84]="renderControlCharacters",A[A.renderFinalNewline=85]="renderFinalNewline",A[A.renderLineHighlight=86]="renderLineHighlight",A[A.renderLineHighlightOnlyWhenFocus=87]="renderLineHighlightOnlyWhenFocus",A[A.renderValidationDecorations=88]="renderValidationDecorations",A[A.renderWhitespace=89]="renderWhitespace",A[A.revealHorizontalRightPadding=90]="revealHorizontalRightPadding",A[A.roundedSelection=91]="roundedSelection",A[A.rulers=92]="rulers",A[A.scrollbar=93]="scrollbar",A[A.scrollBeyondLastColumn=94]="scrollBeyondLastColumn",A[A.scrollBeyondLastLine=95]="scrollBeyondLastLine",A[A.scrollPredominantAxis=96]="scrollPredominantAxis",A[A.selectionClipboard=97]="selectionClipboard",A[A.selectionHighlight=98]="selectionHighlight",A[A.selectOnLineNumbers=99]="selectOnLineNumbers",A[A.showFoldingControls=100]="showFoldingControls",A[A.showUnused=101]="showUnused",A[A.snippetSuggestions=102]="snippetSuggestions",A[A.smartSelect=103]="smartSelect",A[A.smoothScrolling=104]="smoothScrolling",A[A.stickyScroll=105]="stickyScroll",A[A.stickyTabStops=106]="stickyTabStops",A[A.stopRenderingLineAfter=107]="stopRenderingLineAfter",A[A.suggest=108]="suggest",A[A.suggestFontSize=109]="suggestFontSize",A[A.suggestLineHeight=110]="suggestLineHeight",A[A.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",A[A.suggestSelection=112]="suggestSelection",A[A.tabCompletion=113]="tabCompletion",A[A.tabIndex=114]="tabIndex",A[A.unicodeHighlighting=115]="unicodeHighlighting",A[A.unusualLineTerminators=116]="unusualLineTerminators",A[A.useShadowDOM=117]="useShadowDOM",A[A.useTabStops=118]="useTabStops",A[A.wordSeparators=119]="wordSeparators",A[A.wordWrap=120]="wordWrap",A[A.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",A[A.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",A[A.wordWrapColumn=123]="wordWrapColumn",A[A.wordWrapOverride1=124]="wordWrapOverride1",A[A.wordWrapOverride2=125]="wordWrapOverride2",A[A.wrappingIndent=126]="wrappingIndent",A[A.wrappingStrategy=127]="wrappingStrategy",A[A.showDeprecated=128]="showDeprecated",A[A.inlayHints=129]="inlayHints",A[A.editorClassName=130]="editorClassName",A[A.pixelRatio=131]="pixelRatio",A[A.tabFocusMode=132]="tabFocusMode",A[A.layoutInfo=133]="layoutInfo",A[A.wrappingInfo=134]="wrappingInfo"})(t=e.EditorOption||(e.EditorOption={}));var o;(function(A){A[A.TextDefined=0]="TextDefined",A[A.LF=1]="LF",A[A.CRLF=2]="CRLF"})(o=e.EndOfLinePreference||(e.EndOfLinePreference={}));var r;(function(A){A[A.LF=0]="LF",A[A.CRLF=1]="CRLF"})(r=e.EndOfLineSequence||(e.EndOfLineSequence={}));var c;(function(A){A[A.None=0]="None",A[A.Indent=1]="Indent",A[A.IndentOutdent=2]="IndentOutdent",A[A.Outdent=3]="Outdent"})(c=e.IndentAction||(e.IndentAction={}));var d;(function(A){A[A.Both=0]="Both",A[A.Right=1]="Right",A[A.Left=2]="Left",A[A.None=3]="None"})(d=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));var a;(function(A){A[A.Type=1]="Type",A[A.Parameter=2]="Parameter"})(a=e.InlayHintKind||(e.InlayHintKind={}));var s;(function(A){A[A.Automatic=0]="Automatic",A[A.Explicit=1]="Explicit"})(s=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var l;(function(A){A[A.DependsOnKbLayout=-1]="DependsOnKbLayout",A[A.Unknown=0]="Unknown",A[A.Backspace=1]="Backspace",A[A.Tab=2]="Tab",A[A.Enter=3]="Enter",A[A.Shift=4]="Shift",A[A.Ctrl=5]="Ctrl",A[A.Alt=6]="Alt",A[A.PauseBreak=7]="PauseBreak",A[A.CapsLock=8]="CapsLock",A[A.Escape=9]="Escape",A[A.Space=10]="Space",A[A.PageUp=11]="PageUp",A[A.PageDown=12]="PageDown",A[A.End=13]="End",A[A.Home=14]="Home",A[A.LeftArrow=15]="LeftArrow",A[A.UpArrow=16]="UpArrow",A[A.RightArrow=17]="RightArrow",A[A.DownArrow=18]="DownArrow",A[A.Insert=19]="Insert",A[A.Delete=20]="Delete",A[A.Digit0=21]="Digit0",A[A.Digit1=22]="Digit1",A[A.Digit2=23]="Digit2",A[A.Digit3=24]="Digit3",A[A.Digit4=25]="Digit4",A[A.Digit5=26]="Digit5",A[A.Digit6=27]="Digit6",A[A.Digit7=28]="Digit7",A[A.Digit8=29]="Digit8",A[A.Digit9=30]="Digit9",A[A.KeyA=31]="KeyA",A[A.KeyB=32]="KeyB",A[A.KeyC=33]="KeyC",A[A.KeyD=34]="KeyD",A[A.KeyE=35]="KeyE",A[A.KeyF=36]="KeyF",A[A.KeyG=37]="KeyG",A[A.KeyH=38]="KeyH",A[A.KeyI=39]="KeyI",A[A.KeyJ=40]="KeyJ",A[A.KeyK=41]="KeyK",A[A.KeyL=42]="KeyL",A[A.KeyM=43]="KeyM",A[A.KeyN=44]="KeyN",A[A.KeyO=45]="KeyO",A[A.KeyP=46]="KeyP",A[A.KeyQ=47]="KeyQ",A[A.KeyR=48]="KeyR",A[A.KeyS=49]="KeyS",A[A.KeyT=50]="KeyT",A[A.KeyU=51]="KeyU",A[A.KeyV=52]="KeyV",A[A.KeyW=53]="KeyW",A[A.KeyX=54]="KeyX",A[A.KeyY=55]="KeyY",A[A.KeyZ=56]="KeyZ",A[A.Meta=57]="Meta",A[A.ContextMenu=58]="ContextMenu",A[A.F1=59]="F1",A[A.F2=60]="F2",A[A.F3=61]="F3",A[A.F4=62]="F4",A[A.F5=63]="F5",A[A.F6=64]="F6",A[A.F7=65]="F7",A[A.F8=66]="F8",A[A.F9=67]="F9",A[A.F10=68]="F10",A[A.F11=69]="F11",A[A.F12=70]="F12",A[A.F13=71]="F13",A[A.F14=72]="F14",A[A.F15=73]="F15",A[A.F16=74]="F16",A[A.F17=75]="F17",A[A.F18=76]="F18",A[A.F19=77]="F19",A[A.NumLock=78]="NumLock",A[A.ScrollLock=79]="ScrollLock",A[A.Semicolon=80]="Semicolon",A[A.Equal=81]="Equal",A[A.Comma=82]="Comma",A[A.Minus=83]="Minus",A[A.Period=84]="Period",A[A.Slash=85]="Slash",A[A.Backquote=86]="Backquote",A[A.BracketLeft=87]="BracketLeft",A[A.Backslash=88]="Backslash",A[A.BracketRight=89]="BracketRight",A[A.Quote=90]="Quote",A[A.OEM_8=91]="OEM_8",A[A.IntlBackslash=92]="IntlBackslash",A[A.Numpad0=93]="Numpad0",A[A.Numpad1=94]="Numpad1",A[A.Numpad2=95]="Numpad2",A[A.Numpad3=96]="Numpad3",A[A.Numpad4=97]="Numpad4",A[A.Numpad5=98]="Numpad5",A[A.Numpad6=99]="Numpad6",A[A.Numpad7=100]="Numpad7",A[A.Numpad8=101]="Numpad8",A[A.Numpad9=102]="Numpad9",A[A.NumpadMultiply=103]="NumpadMultiply",A[A.NumpadAdd=104]="NumpadAdd",A[A.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",A[A.NumpadSubtract=106]="NumpadSubtract",A[A.NumpadDecimal=107]="NumpadDecimal",A[A.NumpadDivide=108]="NumpadDivide",A[A.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",A[A.ABNT_C1=110]="ABNT_C1",A[A.ABNT_C2=111]="ABNT_C2",A[A.AudioVolumeMute=112]="AudioVolumeMute",A[A.AudioVolumeUp=113]="AudioVolumeUp",A[A.AudioVolumeDown=114]="AudioVolumeDown",A[A.BrowserSearch=115]="BrowserSearch",A[A.BrowserHome=116]="BrowserHome",A[A.BrowserBack=117]="BrowserBack",A[A.BrowserForward=118]="BrowserForward",A[A.MediaTrackNext=119]="MediaTrackNext",A[A.MediaTrackPrevious=120]="MediaTrackPrevious",A[A.MediaStop=121]="MediaStop",A[A.MediaPlayPause=122]="MediaPlayPause",A[A.LaunchMediaPlayer=123]="LaunchMediaPlayer",A[A.LaunchMail=124]="LaunchMail",A[A.LaunchApp2=125]="LaunchApp2",A[A.Clear=126]="Clear",A[A.MAX_VALUE=127]="MAX_VALUE"})(l=e.KeyCode||(e.KeyCode={}));var h;(function(A){A[A.Hint=1]="Hint",A[A.Info=2]="Info",A[A.Warning=4]="Warning",A[A.Error=8]="Error"})(h=e.MarkerSeverity||(e.MarkerSeverity={}));var p;(function(A){A[A.Unnecessary=1]="Unnecessary",A[A.Deprecated=2]="Deprecated"})(p=e.MarkerTag||(e.MarkerTag={}));var S;(function(A){A[A.Inline=1]="Inline",A[A.Gutter=2]="Gutter"})(S=e.MinimapPosition||(e.MinimapPosition={}));var f;(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.TEXTAREA=1]="TEXTAREA",A[A.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",A[A.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",A[A.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",A[A.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",A[A.CONTENT_TEXT=6]="CONTENT_TEXT",A[A.CONTENT_EMPTY=7]="CONTENT_EMPTY",A[A.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",A[A.CONTENT_WIDGET=9]="CONTENT_WIDGET",A[A.OVERVIEW_RULER=10]="OVERVIEW_RULER",A[A.SCROLLBAR=11]="SCROLLBAR",A[A.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",A[A.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(f=e.MouseTargetType||(e.MouseTargetType={}));var m;(function(A){A[A.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",A[A.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",A[A.TOP_CENTER=2]="TOP_CENTER"})(m=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var C;(function(A){A[A.Left=1]="Left",A[A.Center=2]="Center",A[A.Right=4]="Right",A[A.Full=7]="Full"})(C=e.OverviewRulerLane||(e.OverviewRulerLane={}));var y;(function(A){A[A.Left=0]="Left",A[A.Right=1]="Right",A[A.None=2]="None",A[A.LeftOfInjectedText=3]="LeftOfInjectedText",A[A.RightOfInjectedText=4]="RightOfInjectedText"})(y=e.PositionAffinity||(e.PositionAffinity={}));var E;(function(A){A[A.Off=0]="Off",A[A.On=1]="On",A[A.Relative=2]="Relative",A[A.Interval=3]="Interval",A[A.Custom=4]="Custom"})(E=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var T;(function(A){A[A.None=0]="None",A[A.Text=1]="Text",A[A.Blocks=2]="Blocks"})(T=e.RenderMinimap||(e.RenderMinimap={}));var N;(function(A){A[A.Smooth=0]="Smooth",A[A.Immediate=1]="Immediate"})(N=e.ScrollType||(e.ScrollType={}));var F;(function(A){A[A.Auto=1]="Auto",A[A.Hidden=2]="Hidden",A[A.Visible=3]="Visible"})(F=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var O;(function(A){A[A.LTR=0]="LTR",A[A.RTL=1]="RTL"})(O=e.SelectionDirection||(e.SelectionDirection={}));var P;(function(A){A[A.Invoke=1]="Invoke",A[A.TriggerCharacter=2]="TriggerCharacter",A[A.ContentChange=3]="ContentChange"})(P=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var D;(function(A){A[A.File=0]="File",A[A.Module=1]="Module",A[A.Namespace=2]="Namespace",A[A.Package=3]="Package",A[A.Class=4]="Class",A[A.Method=5]="Method",A[A.Property=6]="Property",A[A.Field=7]="Field",A[A.Constructor=8]="Constructor",A[A.Enum=9]="Enum",A[A.Interface=10]="Interface",A[A.Function=11]="Function",A[A.Variable=12]="Variable",A[A.Constant=13]="Constant",A[A.String=14]="String",A[A.Number=15]="Number",A[A.Boolean=16]="Boolean",A[A.Array=17]="Array",A[A.Object=18]="Object",A[A.Key=19]="Key",A[A.Null=20]="Null",A[A.EnumMember=21]="EnumMember",A[A.Struct=22]="Struct",A[A.Event=23]="Event",A[A.Operator=24]="Operator",A[A.TypeParameter=25]="TypeParameter"})(D=e.SymbolKind||(e.SymbolKind={}));var M;(function(A){A[A.Deprecated=1]="Deprecated"})(M=e.SymbolTag||(e.SymbolTag={}));var R;(function(A){A[A.Hidden=0]="Hidden",A[A.Blink=1]="Blink",A[A.Smooth=2]="Smooth",A[A.Phase=3]="Phase",A[A.Expand=4]="Expand",A[A.Solid=5]="Solid"})(R=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var B;(function(A){A[A.Line=1]="Line",A[A.Block=2]="Block",A[A.Underline=3]="Underline",A[A.LineThin=4]="LineThin",A[A.BlockOutline=5]="BlockOutline",A[A.UnderlineThin=6]="UnderlineThin"})(B=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var W;(function(A){A[A.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",A[A.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",A[A.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",A[A.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(W=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var V;(function(A){A[A.None=0]="None",A[A.Same=1]="Same",A[A.Indent=2]="Indent",A[A.DeepIndent=3]="DeepIndent"})(V=e.WrappingIndent||(e.WrappingIndent={}))}),define(se[437],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class w{constructor(L,_,b,u){this.range=L,this.nestingLevel=_,this.nestingLevelOfEqualBracketType=b,this.isInvalid=u}}e.BracketInfo=w;class v{constructor(L,_,b,u,g,n){this.range=L,this.openingBracketRange=_,this.closingBracketRange=b,this.nestingLevel=u,this.nestingLevelOfEqualBracketType=g,this.bracketPairNode=n}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=v;class k extends v{constructor(L,_,b,u,g,n,i){super(L,_,b,u,g,n);this.minVisibleColumnIndentation=i}}e.BracketPairWithMinIndentationInfo=k}),define(se[101],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class w{constructor(){this.changeType=1}}e.ModelRawFlush=w;class v{constructor(i,t,o,r,c){this.ownerId=i,this.lineNumber=t,this.column=o,this.options=r,this.order=c}static applyInjectedText(i,t){if(!t||t.length===0)return i;let o="",r=0;for(const c of t)o+=i.substring(r,c.column-1),r=c.column-1,o+=c.options.content;return o+=i.substring(r),o}static fromDecorations(i){const t=[];for(const o of i)o.options.before&&o.options.before.content.length>0&&t.push(new v(o.ownerId,o.range.startLineNumber,o.range.startColumn,o.options.before,0)),o.options.after&&o.options.after.content.length>0&&t.push(new v(o.ownerId,o.range.endLineNumber,o.range.endColumn,o.options.after,1));return t.sort((o,r)=>o.lineNumber===r.lineNumber?o.column===r.column?o.order-r.order:o.column-r.column:o.lineNumber-r.lineNumber),t}}e.LineInjectedText=v;class k{constructor(i,t,o){this.changeType=2,this.lineNumber=i,this.detail=t,this.injectedText=o}}e.ModelRawLineChanged=k;class I{constructor(i,t){this.changeType=3,this.fromLineNumber=i,this.toLineNumber=t}}e.ModelRawLinesDeleted=I;class L{constructor(i,t,o,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=i,this.toLineNumber=t,this.detail=o}}e.ModelRawLinesInserted=L;class _{constructor(){this.changeType=5}}e.ModelRawEOLChanged=_;class b{constructor(i,t,o,r){this.changes=i,this.versionId=t,this.isUndoing=o,this.isRedoing=r,this.resultingSelection=null}containsEvent(i){for(let t=0,o=this.changes.length;t<o;t++)if(this.changes[t].changeType===i)return!0;return!1}static merge(i,t){const o=[].concat(i.changes).concat(t.changes),r=t.versionId,c=i.isUndoing||t.isUndoing,d=i.isRedoing||t.isRedoing;return new b(o,r,c,d)}}e.ModelRawContentChangedEvent=b;class u{constructor(i){this.changes=i}}e.ModelInjectedTextChangedEvent=u;class g{constructor(i,t){this.rawContentChangedEvent=i,this.contentChangedEvent=t}merge(i){const t=b.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),o=g._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new g(t,o)}static _mergeChangeEvents(i,t){const o=[].concat(i.changes).concat(t.changes),r=t.eol,c=t.versionId,d=i.isUndoing||t.isUndoing,a=i.isRedoing||t.isRedoing,s=i.isFlush||t.isFlush;return{changes:o,eol:r,versionId:c,isUndoing:d,isRedoing:a,isFlush:s}}}e.InternalModelContentChangeEvent=g}),define(se[188],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var w;(function(I){I[I.Disabled=0]="Disabled",I[I.EnabledForActive=1]="EnabledForActive",I[I.Enabled=2]="Enabled"})(w=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class v{constructor(L,_,b,u,g,n){if(this.visibleColumn=L,this.column=_,this.className=b,this.horizontalLine=u,this.forWrappedLinesAfterColumn=g,this.forWrappedLinesBeforeOrAtColumn=n,L!==-1==(_!==-1))throw new Error}}e.IndentGuide=v;class k{constructor(L,_){this.top=L,this.endColumn=_}}e.IndentGuideHorizontalLine=k}),define(se[248],re([1,0,17,8,67,3,244,187,188]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class u extends L.TextModelPart{constructor(i,t){super();this.textModel=i,this.languageConfigurationService=t}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,_.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,t,o){this.assertNotDisposed();const r=this.textModel.getLineCount();if(i<1||i>r)throw new Error("Illegal value for lineNumber");const c=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,d=Boolean(c&&c.offSide);let a=-2,s=-1,l=-2,h=-1;const p=D=>{if(a!==-1&&(a===-2||a>D-1)){a=-1,s=-1;for(let M=D-2;M>=0;M--){const R=this._computeIndentLevel(M);if(R>=0){a=M,s=R;break}}}if(l===-2){l=-1,h=-1;for(let M=D;M<r;M++){const R=this._computeIndentLevel(M);if(R>=0){l=M,h=R;break}}}};let S=-2,f=-1,m=-2,C=-1;const y=D=>{if(S===-2){S=-1,f=-1;for(let M=D-2;M>=0;M--){const R=this._computeIndentLevel(M);if(R>=0){S=M,f=R;break}}}if(m!==-1&&(m===-2||m<D-1)){m=-1,C=-1;for(let M=D;M<r;M++){const R=this._computeIndentLevel(M);if(R>=0){m=M,C=R;break}}}};let E=0,T=!0,N=0,F=!0,O=0,P=0;for(let D=0;T||F;D++){const M=i-D,R=i+D;D>1&&(M<1||M<t)&&(T=!1),D>1&&(R>r||R>o)&&(F=!1),D>5e4&&(T=!1,F=!1);let B=-1;if(T&&M>=1){const V=this._computeIndentLevel(M-1);V>=0?(l=M-1,h=V,B=Math.ceil(V/this.textModel.getOptions().indentSize)):(p(M),B=this._getIndentLevelForWhitespaceLine(d,s,h))}let W=-1;if(F&&R<=r){const V=this._computeIndentLevel(R-1);V>=0?(S=R-1,f=V,W=Math.ceil(V/this.textModel.getOptions().indentSize)):(y(R),W=this._getIndentLevelForWhitespaceLine(d,f,C))}if(D===0){P=B;continue}if(D===1){if(R<=r&&W>=0&&P+1===W){T=!1,E=R,N=R,O=W;continue}if(M>=1&&B>=0&&B-1===P){F=!1,E=M,N=M,O=B;continue}if(E=i,N=i,O=P,O===0)return{startLineNumber:E,endLineNumber:N,indent:O}}T&&(B>=O?E=M:T=!1),F&&(W>=O?N=R:F=!1)}return{startLineNumber:E,endLineNumber:N,indent:O}}getLinesBracketGuides(i,t,o,r){var c;const d=[];for(let S=i;S<=t;S++)d.push([]);const a=!0,s=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new I.Range(i,1,t,this.textModel.getLineMaxColumn(t))).toArray();let l;if(o&&s.length>0){const S=(i<=o.lineNumber&&o.lineNumber<=t?s:this.textModel.bracketPairs.getBracketPairsInRange(I.Range.fromPositions(o)).toArray()).filter(f=>I.Range.strictContainsPosition(f.range,o));l=(c=(0,w.findLast)(S,f=>a||f.range.startLineNumber!==f.range.endLineNumber))===null||c===void 0?void 0:c.range}const h=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,p=new g;for(const S of s){if(!S.closingBracketRange)continue;const f=l&&S.range.equalsRange(l);if(!f&&!r.includeInactive)continue;const m=p.getInlineClassName(S.nestingLevel,S.nestingLevelOfEqualBracketType,h)+(r.highlightActive&&f?" "+p.activeClassName:""),C=S.openingBracketRange.getStartPosition(),y=S.closingBracketRange.getStartPosition(),E=r.horizontalGuides===b.HorizontalGuidesState.Enabled||r.horizontalGuides===b.HorizontalGuidesState.EnabledForActive&&f;if(S.range.startLineNumber===S.range.endLineNumber){a&&E&&d[S.range.startLineNumber-i].push(new b.IndentGuide(-1,S.openingBracketRange.getEndPosition().column,m,new b.IndentGuideHorizontalLine(!1,y.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(y),N=this.getVisibleColumnFromPosition(S.openingBracketRange.getStartPosition()),F=Math.min(N,T,S.minVisibleColumnIndentation+1);let O=!1;v.firstNonWhitespaceIndex(this.textModel.getLineContent(S.closingBracketRange.startLineNumber))<S.closingBracketRange.startColumn-1&&(O=!0);const M=Math.max(C.lineNumber,i),R=Math.min(y.lineNumber,t),B=O?1:0;for(let W=M;W<R+B;W++)d[W-i].push(new b.IndentGuide(F,-1,m,null,W===C.lineNumber?C.column:-1,W===y.lineNumber?y.column:-1));E&&(C.lineNumber>=i&&N>F&&d[C.lineNumber-i].push(new b.IndentGuide(F,-1,m,new b.IndentGuideHorizontalLine(!1,C.column),-1,-1)),y.lineNumber<=t&&T>F&&d[y.lineNumber-i].push(new b.IndentGuide(F,-1,m,new b.IndentGuideHorizontalLine(!O,y.column),-1,-1)))}for(const S of d)S.sort((f,m)=>f.visibleColumn-m.visibleColumn);return d}getVisibleColumnFromPosition(i){return k.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,t){this.assertNotDisposed();const o=this.textModel.getLineCount();if(i<1||i>o)throw new Error("Illegal value for startLineNumber");if(t<1||t>o)throw new Error("Illegal value for endLineNumber");const r=this.textModel.getOptions(),c=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,d=Boolean(c&&c.offSide),a=new Array(t-i+1);let s=-2,l=-1,h=-2,p=-1;for(let S=i;S<=t;S++){const f=S-i,m=this._computeIndentLevel(S-1);if(m>=0){s=S-1,l=m,a[f]=Math.ceil(m/r.indentSize);continue}if(s===-2){s=-1,l=-1;for(let C=S-2;C>=0;C--){const y=this._computeIndentLevel(C);if(y>=0){s=C,l=y;break}}}if(h!==-1&&(h===-2||h<S-1)){h=-1,p=-1;for(let C=S;C<o;C++){const y=this._computeIndentLevel(C);if(y>=0){h=C,p=y;break}}}a[f]=this._getIndentLevelForWhitespaceLine(d,l,p)}return a}_getIndentLevelForWhitespaceLine(i,t,o){const r=this.textModel.getOptions();return t===-1||o===-1?0:t<o?1+Math.floor(t/r.indentSize):t===o||i?Math.ceil(o/r.indentSize):1+Math.floor(o/r.indentSize)}}e.GuidesTextModelPart=u;class g{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,t,o){return this.getInlineClassNameOfLevel(o?t:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=g}),define(se[438],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class w{constructor(k,I){this._startLineNumber=k,this._tokens=I}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(k){return this._tokens[k-this._startLineNumber]}appendLineTokens(k){this._tokens.push(k)}}e.ContiguousMultilineTokens=w}),define(se[439],re([1,0,438]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class v{constructor(){this._tokens=[]}add(I,L){if(this._tokens.length>0){const _=this._tokens[this._tokens.length-1];if(_.endLineNumber+1===I){_.appendLineTokens(L);return}}this._tokens.push(new w.ContiguousMultilineTokens(I,[L]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=v}),define(se[83],re([1,0,110]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class v{constructor(L,_,b){this._lineTokensBrand=void 0,this._tokens=L,this._tokensCount=this._tokens.length>>>1,this._text=_,this._languageIdCodec=b}static createEmpty(L,_){const b=v.defaultTokenMetadata,u=new Uint32Array(2);return u[0]=L.length,u[1]=b,new v(u,L,_)}equals(L){return L instanceof v?this.slicedEquals(L,0,this._tokensCount):!1}slicedEquals(L,_,b){if(this._text!==L._text||this._tokensCount!==L._tokensCount)return!1;const u=_<<1,g=u+(b<<1);for(let n=u;n<g;n++)if(this._tokens[n]!==L._tokens[n])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(L){return L>0?this._tokens[L-1<<1]:0}getMetadata(L){return this._tokens[(L<<1)+1]}getLanguageId(L){const _=this._tokens[(L<<1)+1],b=w.TokenMetadata.getLanguageId(_);return this._languageIdCodec.decodeLanguageId(b)}getStandardTokenType(L){const _=this._tokens[(L<<1)+1];return w.TokenMetadata.getTokenType(_)}getForeground(L){const _=this._tokens[(L<<1)+1];return w.TokenMetadata.getForeground(_)}getClassName(L){const _=this._tokens[(L<<1)+1];return w.TokenMetadata.getClassNameFromMetadata(_)}getInlineStyle(L,_){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getInlineStyleFromMetadata(b,_)}getPresentation(L){const _=this._tokens[(L<<1)+1];return w.TokenMetadata.getPresentationFromMetadata(_)}getEndOffset(L){return this._tokens[L<<1]}findTokenIndexAtOffset(L){return v.findIndexInTokensArray(this._tokens,L)}inflate(){return this}sliceAndInflate(L,_,b){return new k(this,L,_,b)}static convertToEndOffset(L,_){const u=(L.length>>>1)-1;for(let g=0;g<u;g++)L[g<<1]=L[g+1<<1];L[u<<1]=_}static findIndexInTokensArray(L,_){if(L.length<=2)return 0;let b=0,u=(L.length>>>1)-1;for(;b<u;){const g=b+Math.floor((u-b)/2),n=L[g<<1];if(n===_)return g+1;n<_?b=g+1:n>_&&(u=g)}return b}withInserted(L){if(L.length===0)return this;let _=0,b=0,u="";const g=new Array;let n=0;for(;;){const i=_<this._tokensCount?this._tokens[_<<1]:-1,t=b<L.length?L[b]:null;if(i!==-1&&(t===null||i<=t.offset)){u+=this._text.substring(n,i);const o=this._tokens[(_<<1)+1];g.push(u.length,o),_++,n=i}else if(t){if(t.offset>n){u+=this._text.substring(n,t.offset);const o=this._tokens[(_<<1)+1];g.push(u.length,o),n=t.offset}u+=t.text,g.push(u.length,t.tokenMetadata),b++}else break}return new v(new Uint32Array(g),u,this._languageIdCodec)}}e.LineTokens=v,v.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class k{constructor(L,_,b,u){this._source=L,this._startOffset=_,this._endOffset=b,this._deltaOffset=u,this._firstTokenIndex=L.findTokenIndexAtOffset(_),this._tokensCount=0;for(let g=this._firstTokenIndex,n=L.getCount();g<n&&!(L.getStartOffset(g)>=b);g++)this._tokensCount++}getMetadata(L){return this._source.getMetadata(this._firstTokenIndex+L)}getLanguageId(L){return this._source.getLanguageId(this._firstTokenIndex+L)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(L){return L instanceof k?this._startOffset===L._startOffset&&this._endOffset===L._endOffset&&this._deltaOffset===L._deltaOffset&&this._source.slicedEquals(L._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(L){return this._source.getForeground(this._firstTokenIndex+L)}getEndOffset(L){const _=this._source.getEndOffset(this._firstTokenIndex+L);return Math.min(this._endOffset,_)-this._startOffset+this._deltaOffset}getClassName(L){return this._source.getClassName(this._firstTokenIndex+L)}getInlineStyle(L,_){return this._source.getInlineStyle(this._firstTokenIndex+L,_)}getPresentation(L){return this._source.getPresentation(this._firstTokenIndex+L)}findTokenIndexAtOffset(L){return this._source.findTokenIndexAtOffset(L+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(se[440],re([1,0,83]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class v{static deleteBeginning(L,_){return L===null||L===e.EMPTY_LINE_TOKENS?L:v.delete(L,0,_)}static deleteEnding(L,_){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const b=k(L),u=b[b.length-2];return v.delete(L,_,u)}static delete(L,_,b){if(L===null||L===e.EMPTY_LINE_TOKENS||_===b)return L;const u=k(L),g=u.length>>>1;if(_===0&&u[u.length-2]===b)return e.EMPTY_LINE_TOKENS;const n=w.LineTokens.findIndexInTokensArray(u,_),i=n>0?u[n-1<<1]:0,t=u[n<<1];if(b<t){const a=b-_;for(let s=n;s<g;s++)u[s<<1]-=a;return L}let o,r;i!==_?(u[n<<1]=_,o=n+1<<1,r=_):(o=n<<1,r=i);const c=b-_;for(let a=n+1;a<g;a++){const s=u[a<<1]-c;s>r&&(u[o++]=s,u[o++]=u[(a<<1)+1],r=s)}if(o===u.length)return L;const d=new Uint32Array(o);return d.set(u.subarray(0,o),0),d.buffer}static append(L,_){if(_===e.EMPTY_LINE_TOKENS)return L;if(L===e.EMPTY_LINE_TOKENS)return _;if(L===null)return L;if(_===null)return null;const b=k(L),u=k(_),g=u.length>>>1,n=new Uint32Array(b.length+u.length);n.set(b,0);let i=b.length;const t=b[b.length-2];for(let o=0;o<g;o++)n[i++]=u[o<<1]+t,n[i++]=u[(o<<1)+1];return n.buffer}static insert(L,_,b){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const u=k(L),g=u.length>>>1;let n=w.LineTokens.findIndexInTokensArray(u,_);n>0&&u[n-1<<1]===_&&n--;for(let i=n;i<g;i++)u[i<<1]+=b;return L}}e.ContiguousTokensEditing=v;function k(I){return I instanceof Uint32Array?I:new Uint32Array(I)}e.toUint32Array=k}),define(se[441],re([1,0,17,11,440,83,110]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class _{constructor(g){this._lineTokens=[],this._len=0,this._languageIdCodec=g}flush(){this._lineTokens=[],this._len=0}getTokens(g,n,i){let t=null;if(n<this._len&&(t=this._lineTokens[n]),t!==null&&t!==k.EMPTY_LINE_TOKENS)return new I.LineTokens((0,k.toUint32Array)(t),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=b(this._languageIdCodec.encodeLanguageId(g)),new I.LineTokens(o,i,this._languageIdCodec)}static _massageTokens(g,n,i){const t=i?(0,k.toUint32Array)(i):null;if(n===0){let o=!1;if(t&&t.length>1&&(o=L.TokenMetadata.getLanguageId(t[1])!==g),!o)return k.EMPTY_LINE_TOKENS}if(!t||t.length===0){const o=new Uint32Array(2);return o[0]=n,o[1]=b(g),o.buffer}return t[t.length-2]=n,t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t}_ensureLine(g){for(;g>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(g,n){n!==0&&(g+n>this._len&&(n=this._len-g),this._lineTokens.splice(g,n),this._len-=n)}_insertLines(g,n){if(n===0)return;const i=[];for(let t=0;t<n;t++)i[t]=null;this._lineTokens=w.arrayInsert(this._lineTokens,g,i),this._len+=n}setTokens(g,n,i,t,o){const r=_._massageTokens(this._languageIdCodec.encodeLanguageId(g),i,t);this._ensureLine(n);const c=this._lineTokens[n];return this._lineTokens[n]=r,o?!_._equals(c,r):!1}static _equals(g,n){if(!g||!n)return!g&&!n;const i=(0,k.toUint32Array)(g),t=(0,k.toUint32Array)(n);if(i.length!==t.length)return!1;for(let o=0,r=i.length;o<r;o++)if(i[o]!==t[o])return!1;return!0}acceptEdit(g,n,i){this._acceptDeleteRange(g),this._acceptInsertText(new v.Position(g.startLineNumber,g.startColumn),n,i)}_acceptDeleteRange(g){const n=g.startLineNumber-1;if(n>=this._len)return;if(g.startLineNumber===g.endLineNumber){if(g.startColumn===g.endColumn)return;this._lineTokens[n]=k.ContiguousTokensEditing.delete(this._lineTokens[n],g.startColumn-1,g.endColumn-1);return}this._lineTokens[n]=k.ContiguousTokensEditing.deleteEnding(this._lineTokens[n],g.startColumn-1);const i=g.endLineNumber-1;let t=null;i<this._len&&(t=k.ContiguousTokensEditing.deleteBeginning(this._lineTokens[i],g.endColumn-1)),this._lineTokens[n]=k.ContiguousTokensEditing.append(this._lineTokens[n],t),this._deleteLines(g.startLineNumber,g.endLineNumber-g.startLineNumber)}_acceptInsertText(g,n,i){if(n===0&&i===0)return;const t=g.lineNumber-1;if(!(t>=this._len)){if(n===0){this._lineTokens[t]=k.ContiguousTokensEditing.insert(this._lineTokens[t],g.column-1,i);return}this._lineTokens[t]=k.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],g.column-1),this._lineTokens[t]=k.ContiguousTokensEditing.insert(this._lineTokens[t],g.column-1,i),this._insertLines(g.lineNumber,n)}}}e.ContiguousTokensStore=_;function b(u){return(u<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(se[442],re([1,0,11,3,128]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class I{constructor(u,g){this._startLineNumber=u,this._tokens=g,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(u,g){return new I(u,new L(g))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new v.Range(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const g=u.startLineNumber-this._startLineNumber,n=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(g,u.startColumn-1,n,u.endColumn-1),this._updateEndLineNumber()}split(u){const g=u.startLineNumber-this._startLineNumber,n=u.endLineNumber-this._startLineNumber,[i,t,o]=this._tokens.split(g,u.startColumn-1,n,u.endColumn-1);return[new I(this._startLineNumber,i),new I(this._startLineNumber+o,t)]}applyEdit(u,g){const[n,i,t]=(0,k.countEOL)(g);this.acceptEdit(u,n,i,t,g.length>0?g.charCodeAt(0):0)}acceptEdit(u,g,n,i,t){this._acceptDeleteRange(u),this._acceptInsertText(new w.Position(u.startLineNumber,u.startColumn),g,n,i,t),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const g=u.startLineNumber-this._startLineNumber,n=u.endLineNumber-this._startLineNumber;if(n<0){const t=n-g;this._startLineNumber-=t;return}const i=this._tokens.getMaxDeltaLine();if(!(g>=i+1)){if(g<0&&n>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(g<0){const t=-g;this._startLineNumber-=t,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,n,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,g,u.startColumn-1,n,u.endColumn-1)}}_acceptInsertText(u,g,n,i,t){if(g===0&&n===0)return;const o=u.lineNumber-this._startLineNumber;if(o<0){this._startLineNumber+=g;return}const r=this._tokens.getMaxDeltaLine();o>=r+1||this._tokens.acceptInsertText(o,u.column-1,g,n,i,t)}}e.SparseMultilineTokens=I;class L{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const g=[];for(let n=0;n<this._tokenCount;n++)g.push(`(${this._getDeltaLine(n)+u},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${g.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const g=this._getStartCharacter(0),n=this._getDeltaLine(u-1),i=this._getEndCharacter(u-1);return new v.Range(0,g+1,n,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let g=0,n=this._getTokenCount()-1;for(;g<n;){const i=g+Math.floor((n-g)/2),t=this._getDeltaLine(i);if(t<u)g=i+1;else if(t>u)n=i-1;else{let o=i;for(;o>g&&this._getDeltaLine(o-1)===u;)o--;let r=i;for(;r<n&&this._getDeltaLine(r+1)===u;)r++;return new _(this._tokens.subarray(4*o,4*r+4))}}return this._getDeltaLine(g)===u?new _(this._tokens.subarray(4*g,4*g+4)):null}clear(){this._tokenCount=0}removeTokens(u,g,n,i){const t=this._tokens,o=this._tokenCount;let r=0,c=!1,d=0;for(let a=0;a<o;a++){const s=4*a,l=t[s],h=t[s+1],p=t[s+2],S=t[s+3];if((l>u||l===u&&p>=g)&&(l<n||l===n&&h<=i))c=!0;else{if(r===0&&(d=l),c){const f=4*r;t[f]=l-d,t[f+1]=h,t[f+2]=p,t[f+3]=S}r++}}return this._tokenCount=r,d}split(u,g,n,i){const t=this._tokens,o=this._tokenCount,r=[],c=[];let d=r,a=0,s=0;for(let l=0;l<o;l++){const h=4*l,p=t[h],S=t[h+1],f=t[h+2],m=t[h+3];if(p>u||p===u&&f>=g){if(p<n||p===n&&S<=i)continue;d!==c&&(d=c,a=0,s=p)}d[a++]=p-s,d[a++]=S,d[a++]=f,d[a++]=m}return[new L(new Uint32Array(r)),new L(new Uint32Array(c)),s]}acceptDeleteRange(u,g,n,i,t){const o=this._tokens,r=this._tokenCount,c=i-g;let d=0,a=!1;for(let s=0;s<r;s++){const l=4*s;let h=o[l],p=o[l+1],S=o[l+2];const f=o[l+3];if(h<g||h===g&&S<=n){d++;continue}else if(h===g&&p<n)h===i&&S>t?S-=t-n:S=n;else if(h===g&&p===n)if(h===i&&S>t)S-=t-n;else{a=!0;continue}else if(h<i||h===i&&p<t)if(h===i&&S>t)h===g?(p=n,S=p+(S-t)):(p=0,S=p+(S-t));else{a=!0;continue}else if(h>i){if(c===0&&!a){d=r;break}h-=c}else if(h===i&&p>=t)u&&h===0&&(p+=u,S+=u),h-=c,p-=t-n,S-=t-n;else throw new Error("Not possible!");const m=4*d;o[m]=h,o[m+1]=p,o[m+2]=S,o[m+3]=f,d++}this._tokenCount=d}acceptInsertText(u,g,n,i,t,o){const r=n===0&&i===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),c=this._tokens,d=this._tokenCount;for(let a=0;a<d;a++){const s=4*a;let l=c[s],h=c[s+1],p=c[s+2];if(!(l<u||l===u&&p<g)){if(l===u&&p===g)if(r)p+=1;else continue;else if(l===u&&h<g&&g<p)n===0?p+=i:p=g;else{if(l===u&&h===g&&r)continue;if(l===u)if(l+=n,n===0)h+=i,p+=i;else{const S=p-h;h=t+(h-g),p=h+S}else l+=n}c[s]=l,c[s+1]=h,c[s+2]=p}}}}class _{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}e.SparseLineTokens=_}),define(se[443],re([1,0,17,83]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class k{constructor(L){this._pieces=[],this._isComplete=!1,this._languageIdCodec=L}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(L,_){this._pieces=L||[],this._isComplete=_}setPartial(L,_){let b=L;if(_.length>0){const g=_[0].getRange(),n=_[_.length-1].getRange();if(!g||!n)return L;b=L.plusRange(g).plusRange(n)}let u=null;for(let g=0,n=this._pieces.length;g<n;g++){const i=this._pieces[g];if(i.endLineNumber<b.startLineNumber)continue;if(i.startLineNumber>b.endLineNumber){u=u||{index:g};break}if(i.removeTokens(b),i.isEmpty()){this._pieces.splice(g,1),g--,n--;continue}if(i.endLineNumber<b.startLineNumber)continue;if(i.startLineNumber>b.endLineNumber){u=u||{index:g};continue}const[t,o]=i.split(b);if(t.isEmpty()){u=u||{index:g};continue}o.isEmpty()||(this._pieces.splice(g,1,t,o),g++,n++,u=u||{index:g})}return u=u||{index:this._pieces.length},_.length>0&&(this._pieces=w.arrayInsert(this._pieces,u.index,_)),b}isComplete(){return this._isComplete}addSparseTokens(L,_){if(_.getLineContent().length===0)return _;const b=this._pieces;if(b.length===0)return _;const u=k._findFirstPieceWithLine(b,L),g=b[u].getLineTokens(L);if(!g)return _;const n=_.getCount(),i=g.getCount();let t=0;const o=[];let r=0,c=0;const d=(a,s)=>{a!==c&&(c=a,o[r++]=a,o[r++]=s)};for(let a=0;a<i;a++){const s=g.getStartCharacter(a),l=g.getEndCharacter(a),h=g.getMetadata(a),p=((h&1?2048:0)|(h&2?4096:0)|(h&4?8192:0)|(h&8?16384:0)|(h&16?16744448:0)|(h&32?4278190080:0))>>>0,S=~p>>>0;for(;t<n&&_.getEndOffset(t)<=s;)d(_.getEndOffset(t),_.getMetadata(t)),t++;for(t<n&&_.getStartOffset(t)<s&&d(s,_.getMetadata(t));t<n&&_.getEndOffset(t)<l;)d(_.getEndOffset(t),_.getMetadata(t)&S|h&p),t++;if(t<n)d(l,_.getMetadata(t)&S|h&p),_.getEndOffset(t)===l&&t++;else{const f=Math.min(Math.max(0,t-1),n-1);d(l,_.getMetadata(f)&S|h&p)}}for(;t<n;)d(_.getEndOffset(t),_.getMetadata(t)),t++;return new v.LineTokens(new Uint32Array(o),_.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(L,_){let b=0,u=L.length-1;for(;b<u;){let g=b+Math.floor((u-b)/2);if(L[g].endLineNumber<_)b=g+1;else if(L[g].startLineNumber>_)u=g-1;else{for(;g>b&&L[g-1].startLineNumber<=_&&_<=L[g-1].endLineNumber;)g--;return g}}return b}acceptEdit(L,_,b,u,g){for(const n of this._pieces)n.acceptEdit(L,_,b,u,g)}}e.SparseTokensStore=k}),define(se[131],re([1,0,2]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class v extends w.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(I){return!1}onCompositionEnd(I){return!1}onConfigurationChanged(I){return!1}onCursorStateChanged(I){return!1}onDecorationsChanged(I){return!1}onFlushed(I){return!1}onFocusChanged(I){return!1}onLanguageConfigurationChanged(I){return!1}onLineMappingChanged(I){return!1}onLinesChanged(I){return!1}onLinesDeleted(I){return!1}onLinesInserted(I){return!1}onRevealRangeRequest(I){return!1}onScrollChanged(I){return!1}onThemeChanged(I){return!1}onTokensChanged(I){return!1}onTokensColorsChanged(I){return!1}onZonesChanged(I){return!1}handleEvents(I){let L=!1;for(let _=0,b=I.length;_<b;_++){const u=I[_];switch(u.type){case 0:this.onCompositionStart(u)&&(L=!0);break;case 1:this.onCompositionEnd(u)&&(L=!0);break;case 2:this.onConfigurationChanged(u)&&(L=!0);break;case 3:this.onCursorStateChanged(u)&&(L=!0);break;case 4:this.onDecorationsChanged(u)&&(L=!0);break;case 5:this.onFlushed(u)&&(L=!0);break;case 6:this.onFocusChanged(u)&&(L=!0);break;case 7:this.onLanguageConfigurationChanged(u)&&(L=!0);break;case 8:this.onLineMappingChanged(u)&&(L=!0);break;case 9:this.onLinesChanged(u)&&(L=!0);break;case 10:this.onLinesDeleted(u)&&(L=!0);break;case 11:this.onLinesInserted(u)&&(L=!0);break;case 12:this.onRevealRangeRequest(u)&&(L=!0);break;case 13:this.onScrollChanged(u)&&(L=!0);break;case 15:this.onTokensChanged(u)&&(L=!0);break;case 14:this.onThemeChanged(u)&&(L=!0);break;case 16:this.onTokensColorsChanged(u)&&(L=!0);break;case 17:this.onZonesChanged(u)&&(L=!0);break;default:console.info("View received unknown event: "),console.info(u)}}L&&(this._shouldRender=!0)}}e.ViewEventHandler=v}),define(se[113],re([1,0,131]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class v extends w.ViewEventHandler{}e.DynamicViewOverlay=v}),define(se[47],re([1,0,131]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class v extends w.ViewEventHandler{constructor(L){super();this._context=L,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=v;class k{static write(L,_){L.setAttribute("data-mprt",String(_))}static read(L){const _=L.getAttribute("data-mprt");return _===null?0:parseInt(_,10)}static collect(L,_){const b=[];let u=0;for(;L&&L!==document.body&&L!==_;)L.nodeType===L.ELEMENT_NODE&&(b[u++]=this.read(L)),L=L.parentElement;const g=new Uint8Array(u);for(let n=0;n<u;n++)g[n]=b[u-n-1];return g}}e.PartFingerprints=k}),define(se[444],re([1,0,33,47,357]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class k extends v.ViewPart{constructor(L){super(L);this.blocks=[],this.contentWidth=-1,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let L=!1;const b=this._context.configuration.options.get(133),u=b.contentWidth-b.verticalScrollbarWidth;return this.contentWidth!==u&&(this.contentWidth=u,L=!0),L}dispose(){super.dispose()}onConfigurationChanged(L){return this.update()}onScrollChanged(L){return L.scrollTopChanged||L.scrollLeftChanged}onDecorationsChanged(L){return!0}onZonesChanged(L){return!0}prepareRender(L){}render(L){let _=0;const b=L.getDecorationsInViewport();for(const u of b){if(!u.options.blockClassName)continue;let g=this.blocks[_];g||(g=this.blocks[_]=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(g));const n=L.getVerticalOffsetForLineNumber(u.range.startLineNumber,!0),i=L.getVerticalOffsetAfterLineNumber(u.range.endLineNumber,!0);g.setClassName("blockDecorations-block "+u.options.blockClassName),g.setLeft(L.scrollLeft),g.setWidth(this.contentWidth),g.setTop(n),g.setHeight(i-n),_++}for(let u=_;u<this.blocks.length;u++)this.blocks[u].domNode.remove();this.blocks.length=_}}e.BlockDecorations=k}),define(se[445],re([1,0,113,3,127,359]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class I extends w.DynamicViewOverlay{constructor(_){super();this._context=_;const b=this._context.configuration.options;this._lineHeight=b.get(60),this._typicalHalfwidthCharacterWidth=b.get(45).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const b=this._context.configuration.options;return this._lineHeight=b.get(60),this._typicalHalfwidthCharacterWidth=b.get(45).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged||_.scrollWidthChanged}onZonesChanged(_){return!0}prepareRender(_){const b=_.getDecorationsInViewport();let u=[],g=0;for(let o=0,r=b.length;o<r;o++){const c=b[o];c.options.className&&(u[g++]=c)}u=u.sort((o,r)=>{if(o.options.zIndex<r.options.zIndex)return-1;if(o.options.zIndex>r.options.zIndex)return 1;const c=o.options.className,d=r.options.className;return c<d?-1:c>d?1:v.Range.compareRangesUsingStarts(o.range,r.range)});const n=_.visibleRange.startLineNumber,i=_.visibleRange.endLineNumber,t=[];for(let o=n;o<=i;o++){const r=o-n;t[r]=""}this._renderWholeLineDecorations(_,u,t),this._renderNormalDecorations(_,u,t),this._renderResult=t}_renderWholeLineDecorations(_,b,u){const g=String(this._lineHeight),n=_.visibleRange.startLineNumber,i=_.visibleRange.endLineNumber;for(let t=0,o=b.length;t<o;t++){const r=b[t];if(!r.options.isWholeLine)continue;const c='<div class="cdr '+r.options.className+'" style="left:0;width:100%;height:'+g+'px;"></div>',d=Math.max(r.range.startLineNumber,n),a=Math.min(r.range.endLineNumber,i);for(let s=d;s<=a;s++){const l=s-n;u[l]+=c}}}_renderNormalDecorations(_,b,u){const g=String(this._lineHeight),n=_.visibleRange.startLineNumber;let i=null,t=!1,o=null;for(let r=0,c=b.length;r<c;r++){const d=b[r];if(d.options.isWholeLine)continue;const a=d.options.className,s=Boolean(d.options.showIfCollapsed);let l=d.range;if(s&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new v.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.viewModel.getLineMaxColumn(l.endLineNumber-1))),i===a&&t===s&&v.Range.areIntersectingOrTouching(o,l)){o=v.Range.plusRange(o,l);continue}i!==null&&this._renderNormalDecoration(_,o,i,t,g,n,u),i=a,t=s,o=l}i!==null&&this._renderNormalDecoration(_,o,i,t,g,n,u)}_renderNormalDecoration(_,b,u,g,n,i,t){const o=_.linesVisibleRangesForRange(b,u==="findMatch");if(!!o)for(let r=0,c=o.length;r<c;r++){const d=o[r];if(d.outsideRenderedLine)continue;const a=d.lineNumber-i;if(g&&d.ranges.length===1){const s=d.ranges[0];if(s.width<this._typicalHalfwidthCharacterWidth){const l=Math.round(s.left+s.width/2),h=Math.max(0,Math.round(l-this._typicalHalfwidthCharacterWidth/2));d.ranges[0]=new k.HorizontalRange(h,this._typicalHalfwidthCharacterWidth)}}for(let s=0,l=d.ranges.length;s<l;s++){const h=d.ranges[s],p='<div class="cdr '+u+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+n+'px;"></div>';t[a]+=p}}}render(_,b){if(!this._renderResult)return"";const u=b-_;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.DecorationsOverlay=I}),define(se[189],re([1,0,113,360]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class v{constructor(_,b,u){this._decorationToRenderBrand=void 0,this.startLineNumber=+_,this.endLineNumber=+b,this.className=String(u)}}e.DecorationToRender=v;class k extends w.DynamicViewOverlay{_render(_,b,u){const g=[];for(let t=_;t<=b;t++){const o=t-_;g[o]=[]}if(u.length===0)return g;u.sort((t,o)=>t.className===o.className?t.startLineNumber===o.startLineNumber?t.endLineNumber-o.endLineNumber:t.startLineNumber-o.startLineNumber:t.className<o.className?-1:1);let n=null,i=0;for(let t=0,o=u.length;t<o;t++){const r=u[t],c=r.className;let d=Math.max(r.startLineNumber,_)-_;const a=Math.min(r.endLineNumber,b)-_;n===c?(d=Math.max(i+1,d),i=Math.max(i,a)):(n=c,i=a);for(let s=d;s<=i;s++)g[s].push(n)}return g}}e.DedupOverlay=k;class I extends k{constructor(_){super();this._context=_;const b=this._context.configuration.options,u=b.get(133);this._lineHeight=b.get(60),this._glyphMargin=b.get(51),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const b=this._context.configuration.options,u=b.get(133);return this._lineHeight=b.get(60),this._glyphMargin=b.get(51),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged}onZonesChanged(_){return!0}_getDecorations(_){const b=_.getDecorationsInViewport(),u=[];let g=0;for(let n=0,i=b.length;n<i;n++){const t=b[n],o=t.options.glyphMarginClassName;o&&(u[g++]=new v(t.range.startLineNumber,t.range.endLineNumber,o))}return u}prepareRender(_){if(!this._glyphMargin){this._renderResult=null;return}const b=_.visibleRange.startLineNumber,u=_.visibleRange.endLineNumber,g=this._render(b,u,this._getDecorations(_)),n=this._lineHeight.toString(),i=this._glyphMarginLeft.toString(),t=this._glyphMarginWidth.toString(),o='" style="left:'+i+"px;width:"+t+"px;height:"+n+'px;"></div>',r=[];for(let c=b;c<=u;c++){const d=c-b,a=g[d];a.length===0?r[d]="":r[d]='<div class="cgmr codicon '+a.join(" ")+o}this._renderResult=r}render(_,b){if(!this._renderResult)return"";const u=b-_;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.GlyphMarginOverlay=I}),define(se[446],re([1,0,189,364]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class v extends w.DedupOverlay{constructor(I){super();this._context=I;const _=this._context.configuration.options.get(133);this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){const _=this._context.configuration.options.get(133);return this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const L=I.getDecorationsInViewport(),_=[];let b=0;for(let u=0,g=L.length;u<g;u++){const n=L[u],i=n.options.linesDecorationsClassName;i&&(_[b++]=new w.DecorationToRender(n.range.startLineNumber,n.range.endLineNumber,i));const t=n.options.firstLineDecorationClassName;t&&(_[b++]=new w.DecorationToRender(n.range.startLineNumber,n.range.startLineNumber,t))}return _}prepareRender(I){const L=I.visibleRange.startLineNumber,_=I.visibleRange.endLineNumber,b=this._render(L,_,this._getDecorations(I)),u=this._decorationsLeft.toString(),g=this._decorationsWidth.toString(),n='" style="left:'+u+"px;width:"+g+'px;"></div>',i=[];for(let t=L;t<=_;t++){const o=t-L,r=b[o];let c="";for(let d=0,a=r.length;d<a;d++)c+='<div class="cldr '+r[d]+n;i[o]=c}this._renderResult=i}render(I,L){return this._renderResult?this._renderResult[L-I]:""}}e.LinesDecorationsOverlay=v}),define(se[249],re([1,0,33,47]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class k extends v.ViewPart{constructor(L){super(L);const _=this._context.configuration.options,b=_.get(133);this._canUseLayerHinting=!_.get(28),this._contentLeft=b.contentLeft,this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(k.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,w.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(k.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(L){const _=this._context.configuration.options,b=_.get(133);return this._canUseLayerHinting=!_.get(28),this._contentLeft=b.contentLeft,this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,!0}onScrollChanged(L){return super.onScrollChanged(L)||L.scrollTopChanged}prepareRender(L){}render(L){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const _=L.scrollTop-L.bigNumbersDelta;this._domNode.setTop(-_);const b=Math.min(L.scrollHeight,1e6);this._domNode.setHeight(b),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(b)}}e.Margin=k,k.CLASS_NAME="glyph-margin",k.OUTER_CLASS_NAME="margin"}),define(se[447],re([1,0,189,365]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class v extends w.DedupOverlay{constructor(I){super();this._context=I,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){return!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const L=I.getDecorationsInViewport(),_=[];let b=0;for(let u=0,g=L.length;u<g;u++){const n=L[u],i=n.options.marginClassName;i&&(_[b++]=new w.DecorationToRender(n.range.startLineNumber,n.range.endLineNumber,i))}return _}prepareRender(I){const L=I.visibleRange.startLineNumber,_=I.visibleRange.endLineNumber,b=this._render(L,_,this._getDecorations(I)),u=[];for(let g=L;g<=_;g++){const n=g-L,i=b[n];let t="";for(let o=0,r=i.length;o<r;o++)t+='<div class="cmdr '+i[o]+'" style=""></div>';u[n]=t}this._renderResult=u}render(I,L){return this._renderResult?this._renderResult[L-I]:""}}e.MarginViewLineDecorationsOverlay=v}),define(se[448],re([1,0,33,47,367]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class k extends v.ViewPart{constructor(L){super(L);const b=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),v.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(L){const b=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(L){const _=(0,w.createFastDomNode)(L.getDomNode());this._widgets[L.getId()]={widget:L,preference:null,domNode:_},_.setPosition("absolute"),_.setAttribute("widgetId",L.getId()),this._domNode.appendChild(_),this.setShouldRender()}setWidgetPosition(L,_){const b=this._widgets[L.getId()];return b.preference===_?!1:(b.preference=_,this.setShouldRender(),!0)}removeWidget(L){const _=L.getId();if(this._widgets.hasOwnProperty(_)){const u=this._widgets[_].domNode.domNode;delete this._widgets[_],u.parentNode.removeChild(u),this.setShouldRender()}}_renderWidget(L){const _=L.domNode;if(L.preference===null){_.setTop("");return}if(L.preference===0)_.setTop(0),_.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(L.preference===1){const b=_.domNode.clientHeight;_.setTop(this._editorHeight-b-2*this._horizontalScrollbarHeight),_.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else L.preference===2&&(_.setTop(0),_.domNode.style.right="50%")}prepareRender(L){}render(L){this._domNode.setWidth(this._editorWidth);const _=Object.keys(this._widgets);for(let b=0,u=_.length;b<u;b++){const g=_[b];this._renderWidget(this._widgets[g])}}}e.ViewOverlayWidgets=k}),define(se[449],re([1,0,33,14,47,11]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const L=()=>{throw new Error("Invalid change accessor")};class _ extends k.ViewPart{constructor(g){super(g);const n=this._context.configuration.options,i=n.get(133);this._lineHeight=n.get(60),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,w.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const g=this._context.viewLayout.getWhitespaces(),n=new Map;for(const t of g)n.set(t.id,t);let i=!1;return this._context.viewModel.changeWhitespace(t=>{const o=Object.keys(this._zones);for(let r=0,c=o.length;r<c;r++){const d=o[r],a=this._zones[d],s=this._computeWhitespaceProps(a.delegate);a.isInHiddenArea=s.isInHiddenArea;const l=n.get(d);l&&(l.afterLineNumber!==s.afterViewLineNumber||l.height!==s.heightInPx)&&(t.changeOneWhitespace(d,s.afterViewLineNumber,s.heightInPx),this._safeCallOnComputedHeight(a.delegate,s.heightInPx),i=!0)}}),i}onConfigurationChanged(g){const n=this._context.configuration.options,i=n.get(133);return this._lineHeight=n.get(60),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,g.hasChanged(60)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(g){return this._recomputeWhitespacesProps()}onLinesDeleted(g){return!0}onScrollChanged(g){return g.scrollTopChanged||g.scrollWidthChanged}onZonesChanged(g){return!0}onLinesInserted(g){return!0}_getZoneOrdinal(g){return typeof g.afterColumn!="undefined"?g.afterColumn:1e4}_computeWhitespaceProps(g){if(g.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(g),minWidthInPx:this._minWidthInPixels(g)};let n;if(typeof g.afterColumn!="undefined")n=this._context.viewModel.model.validatePosition({lineNumber:g.afterLineNumber,column:g.afterColumn});else{const r=this._context.viewModel.model.validatePosition({lineNumber:g.afterLineNumber,column:1}).lineNumber;n=new I.Position(r,this._context.viewModel.model.getLineMaxColumn(r))}let i;n.column===this._context.viewModel.model.getLineMaxColumn(n.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:n.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:n.lineNumber,column:n.column+1});const t=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n,g.afterColumnAffinity),o=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:t.lineNumber,heightInPx:o?this._heightInPixels(g):0,minWidthInPx:this._minWidthInPixels(g)}}changeViewZones(g){let n=!1;return this._context.viewModel.changeWhitespace(i=>{const t={addZone:o=>(n=!0,this._addZone(i,o)),removeZone:o=>{!o||(n=this._removeZone(i,o)||n)},layoutZone:o=>{!o||(n=this._layoutZone(i,o)||n)}};b(g,t),t.addZone=L,t.removeZone=L,t.layoutZone=L}),n}_addZone(g,n){const i=this._computeWhitespaceProps(n),o={whitespaceId:g.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(n),i.heightInPx,i.minWidthInPx),delegate:n,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,w.createFastDomNode)(n.domNode),marginDomNode:n.marginDomNode?(0,w.createFastDomNode)(n.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(g,n){if(this._zones.hasOwnProperty(n)){const i=this._zones[n];return delete this._zones[n],g.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(g,n){if(this._zones.hasOwnProperty(n)){const i=this._zones[n],t=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=t.isInHiddenArea,g.changeOneWhitespace(i.whitespaceId,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(i.delegate,t.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(g){if(this._zones.hasOwnProperty(g)){const n=this._zones[g];return Boolean(n.delegate.suppressMouseDown)}return!1}_heightInPixels(g){return typeof g.heightInPx=="number"?g.heightInPx:typeof g.heightInLines=="number"?this._lineHeight*g.heightInLines:this._lineHeight}_minWidthInPixels(g){return typeof g.minWidthInPx=="number"?g.minWidthInPx:0}_safeCallOnComputedHeight(g,n){if(typeof g.onComputedHeight=="function")try{g.onComputedHeight(n)}catch(i){(0,v.onUnexpectedError)(i)}}_safeCallOnDomNodeTop(g,n){if(typeof g.onDomNodeTop=="function")try{g.onDomNodeTop(n)}catch(i){(0,v.onUnexpectedError)(i)}}prepareRender(g){}render(g){const n=g.viewportData.whitespaceViewportData,i={};let t=!1;for(const r of n)this._zones[r.id].isInHiddenArea||(i[r.id]=r,t=!0);const o=Object.keys(this._zones);for(let r=0,c=o.length;r<c;r++){const d=o[r],a=this._zones[d];let s=0,l=0,h="none";i.hasOwnProperty(d)?(s=i[d].verticalOffset-g.bigNumbersDelta,l=i[d].height,h="block",a.isVisible||(a.domNode.setAttribute("monaco-visible-view-zone","true"),a.isVisible=!0),this._safeCallOnDomNodeTop(a.delegate,g.getScrolledTopFromAbsoluteTop(i[d].verticalOffset))):(a.isVisible&&(a.domNode.removeAttribute("monaco-visible-view-zone"),a.isVisible=!1),this._safeCallOnDomNodeTop(a.delegate,g.getScrolledTopFromAbsoluteTop(-1e6))),a.domNode.setTop(s),a.domNode.setHeight(l),a.domNode.setDisplay(h),a.marginDomNode&&(a.marginDomNode.setTop(s),a.marginDomNode.setHeight(l),a.marginDomNode.setDisplay(h))}t&&(this.domNode.setWidth(Math.max(g.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=_;function b(u,g){try{return u(g)}catch(n){(0,v.onUnexpectedError)(n)}}}),define(se[190],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class w{constructor(){this.type=0}}e.ViewCompositionStartEvent=w;class v{constructor(){this.type=1}}e.ViewCompositionEndEvent=v;class k{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=k;class I{constructor(h,p){this.type=3,this.selections=h,this.modelSelections=p}}e.ViewCursorStateChangedEvent=I;class L{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=L;class _{constructor(){this.type=5}}e.ViewFlushedEvent=_;class b{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=b;class u{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=u;class g{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=g;class n{constructor(h,p){this.fromLineNumber=h,this.count=p,this.type=9}}e.ViewLinesChangedEvent=n;class i{constructor(h,p){this.type=10,this.fromLineNumber=h,this.toLineNumber=p}}e.ViewLinesDeletedEvent=i;class t{constructor(h,p){this.type=11,this.fromLineNumber=h,this.toLineNumber=p}}e.ViewLinesInsertedEvent=t;class o{constructor(h,p,S,f,m,C,y){this.source=h,this.minimalReveal=p,this.range=S,this.selections=f,this.verticalType=m,this.revealHorizontal=C,this.scrollType=y,this.type=12}}e.ViewRevealRangeRequestEvent=o;class r{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=r;class c{constructor(h){this.theme=h,this.type=14}}e.ViewThemeChangedEvent=c;class d{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=d;class a{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=a;class s{constructor(){this.type=17}}e.ViewZonesChangedEvent=s}),define(se[132],re([1,0,8]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class v{constructor(b,u,g,n){this.startColumn=b,this.endColumn=u,this.className=g,this.type=n,this._lineDecorationBrand=void 0}static _equals(b,u){return b.startColumn===u.startColumn&&b.endColumn===u.endColumn&&b.className===u.className&&b.type===u.type}static equalsArr(b,u){const g=b.length,n=u.length;if(g!==n)return!1;for(let i=0;i<g;i++)if(!v._equals(b[i],u[i]))return!1;return!0}static extractWrapped(b,u,g){if(b.length===0)return b;const n=u+1,i=g+1,t=g-u,o=[];let r=0;for(const c of b)c.endColumn<=n||c.startColumn>=i||(o[r++]=new v(Math.max(1,c.startColumn-n+1),Math.min(t+1,c.endColumn-n+1),c.className,c.type));return o}static filter(b,u,g,n){if(b.length===0)return[];const i=[];let t=0;for(let o=0,r=b.length;o<r;o++){const c=b[o],d=c.range;if(d.endLineNumber<u||d.startLineNumber>u||d.isEmpty()&&(c.type===0||c.type===3))continue;const a=d.startLineNumber===u?d.startColumn:g,s=d.endLineNumber===u?d.endColumn:n;i[t++]=new v(a,s,c.inlineClassName,c.type)}return i}static _typeCompare(b,u){const g=[2,0,1,3];return g[b]-g[u]}static compare(b,u){if(b.startColumn!==u.startColumn)return b.startColumn-u.startColumn;if(b.endColumn!==u.endColumn)return b.endColumn-u.endColumn;const g=v._typeCompare(b.type,u.type);return g!==0?g:b.className!==u.className?b.className<u.className?-1:1:0}}e.LineDecoration=v;class k{constructor(b,u,g,n){this.startOffset=b,this.endOffset=u,this.className=g,this.metadata=n}}e.DecorationSegment=k;class I{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(b){let u=0;for(let g=0,n=b.length;g<n;g++)u|=b[g];return u}consumeLowerThan(b,u,g){for(;this.count>0&&this.stopOffsets[0]<b;){let n=0;for(;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;g.push(new k(u,this.stopOffsets[n],this.classNames.join(" "),I._metadata(this.metadata))),u=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.metadata.splice(0,n+1),this.count-=n+1}return this.count>0&&u<b&&(g.push(new k(u,b-1,this.classNames.join(" "),I._metadata(this.metadata))),u=b),u}insert(b,u,g){if(this.count===0||this.stopOffsets[this.count-1]<=b)this.stopOffsets.push(b),this.classNames.push(u),this.metadata.push(g);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=b){this.stopOffsets.splice(n,0,b),this.classNames.splice(n,0,u),this.metadata.splice(n,0,g);break}this.count++}}class L{static normalize(b,u){if(u.length===0)return[];const g=[],n=new I;let i=0;for(let t=0,o=u.length;t<o;t++){const r=u[t];let c=r.startColumn,d=r.endColumn;const a=r.className,s=r.type===1?2:r.type===2?4:0;if(c>1){const p=b.charCodeAt(c-2);w.isHighSurrogate(p)&&c--}if(d>1){const p=b.charCodeAt(d-2);w.isHighSurrogate(p)&&d--}const l=c-1,h=d-2;i=n.consumeLowerThan(l,i,g),n.count===0&&(i=l),n.insert(h,a,s)}return n.consumeLowerThan(1073741824,i,g),g}}e.LineDecorationsNormalizer=L}),define(se[450],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class w{constructor(k,I,L,_){this.endIndex=k,this.type=I,this.metadata=L,this.containsRTL=_,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=w}),define(se[451],re([1,0,8]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class v{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(_){this._hasPending=!0,this._inserts.push(_)}change(_){this._hasPending=!0,this._changes.push(_)}remove(_){this._hasPending=!0,this._removes.push(_)}mustCommit(){return this._hasPending}commit(_){if(!this._hasPending)return;const b=this._inserts,u=this._changes,g=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],_._commitPendingChanges(b,u,g)}}class k{constructor(_,b,u,g,n){this.id=_,this.afterLineNumber=b,this.ordinal=u,this.height=g,this.minWidth=n,this.prefixSum=0}}e.EditorWhitespace=k;class I{constructor(_,b,u,g){this._instanceId=w.singleLetterHash(++I.INSTANCE_COUNT),this._pendingChanges=new v,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=_,this._lineHeight=b,this._paddingTop=u,this._paddingBottom=g}static findInsertionIndex(_,b,u){let g=0,n=_.length;for(;g<n;){const i=g+n>>>1;b===_[i].afterLineNumber?u<_[i].ordinal?n=i:g=i+1:b<_[i].afterLineNumber?n=i:g=i+1}return g}setLineHeight(_){this._checkPendingChanges(),this._lineHeight=_}setPadding(_,b){this._paddingTop=_,this._paddingBottom=b}onFlushed(_){this._checkPendingChanges(),this._lineCount=_}changeWhitespace(_){let b=!1;try{_({insertWhitespace:(g,n,i,t)=>{b=!0,g=g|0,n=n|0,i=i|0,t=t|0;const o=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new k(o,g,n,i,t)),o},changeOneWhitespace:(g,n,i)=>{b=!0,n=n|0,i=i|0,this._pendingChanges.change({id:g,newAfterLineNumber:n,newHeight:i})},removeWhitespace:g=>{b=!0,this._pendingChanges.remove({id:g})}})}finally{this._pendingChanges.commit(this)}return b}_commitPendingChanges(_,b,u){if((_.length>0||u.length>0)&&(this._minWidth=-1),_.length+b.length+u.length<=1){for(const o of _)this._insertWhitespace(o);for(const o of b)this._changeOneWhitespace(o.id,o.newAfterLineNumber,o.newHeight);for(const o of u){const r=this._findWhitespaceIndex(o.id);r!==-1&&this._removeWhitespace(r)}return}const g=new Set;for(const o of u)g.add(o.id);const n=new Map;for(const o of b)n.set(o.id,o);const i=o=>{const r=[];for(const c of o)if(!g.has(c.id)){if(n.has(c.id)){const d=n.get(c.id);c.afterLineNumber=d.newAfterLineNumber,c.height=d.newHeight}r.push(c)}return r},t=i(this._arr).concat(i(_));t.sort((o,r)=>o.afterLineNumber===r.afterLineNumber?o.ordinal-r.ordinal:o.afterLineNumber-r.afterLineNumber),this._arr=t,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(_){const b=I.findInsertionIndex(this._arr,_.afterLineNumber,_.ordinal);this._arr.splice(b,0,_),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}_findWhitespaceIndex(_){const b=this._arr;for(let u=0,g=b.length;u<g;u++)if(b[u].id===_)return u;return-1}_changeOneWhitespace(_,b,u){const g=this._findWhitespaceIndex(_);if(g!==-1&&(this._arr[g].height!==u&&(this._arr[g].height=u,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)),this._arr[g].afterLineNumber!==b)){const n=this._arr[g];this._removeWhitespace(g),n.afterLineNumber=b,this._insertWhitespace(n)}}_removeWhitespace(_){this._arr.splice(_,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}onLinesDeleted(_,b){this._checkPendingChanges(),_=_|0,b=b|0,this._lineCount-=b-_+1;for(let u=0,g=this._arr.length;u<g;u++){const n=this._arr[u].afterLineNumber;_<=n&&n<=b?this._arr[u].afterLineNumber=_-1:n>b&&(this._arr[u].afterLineNumber-=b-_+1)}}onLinesInserted(_,b){this._checkPendingChanges(),_=_|0,b=b|0,this._lineCount+=b-_+1;for(let u=0,g=this._arr.length;u<g;u++){const n=this._arr[u].afterLineNumber;_<=n&&(this._arr[u].afterLineNumber+=b-_+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(_){this._checkPendingChanges(),_=_|0;let b=Math.max(0,this._prefixSumValidIndex+1);b===0&&(this._arr[0].prefixSum=this._arr[0].height,b++);for(let u=b;u<=_;u++)this._arr[u].prefixSum=this._arr[u-1].prefixSum+this._arr[u].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,_),this._arr[_].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const _=this._lineHeight*this._lineCount,b=this.getWhitespacesTotalHeight();return _+b+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(_){this._checkPendingChanges(),_=_|0;const b=this._findLastWhitespaceBeforeLineNumber(_);return b===-1?0:this.getWhitespacesAccumulatedHeight(b)}_findLastWhitespaceBeforeLineNumber(_){_=_|0;const b=this._arr;let u=0,g=b.length-1;for(;u<=g;){const i=(g-u|0)/2|0,t=u+i|0;if(b[t].afterLineNumber<_){if(t+1>=b.length||b[t+1].afterLineNumber>=_)return t;u=t+1|0}else g=t-1|0}return-1}_findFirstWhitespaceAfterLineNumber(_){_=_|0;const u=this._findLastWhitespaceBeforeLineNumber(_)+1;return u<this._arr.length?u:-1}getFirstWhitespaceIndexAfterLineNumber(_){return this._checkPendingChanges(),_=_|0,this._findFirstWhitespaceAfterLineNumber(_)}getVerticalOffsetForLineNumber(_,b=!1){this._checkPendingChanges(),_=_|0;let u;_>1?u=this._lineHeight*(_-1):u=0;const g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(_-(b?1:0));return u+g+this._paddingTop}getVerticalOffsetAfterLineNumber(_,b=!1){this._checkPendingChanges(),_=_|0;const u=this._lineHeight*_,g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(_+(b?1:0));return u+g+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let _=0;for(let b=0,u=this._arr.length;b<u;b++)_=Math.max(_,this._arr[b].minWidth);this._minWidth=_}return this._minWidth}isAfterLines(_){this._checkPendingChanges();const b=this.getLinesTotalHeight();return _>b}isInTopPadding(_){return this._paddingTop===0?!1:(this._checkPendingChanges(),_<this._paddingTop)}isInBottomPadding(_){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const b=this.getLinesTotalHeight();return _>=b-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(_){if(this._checkPendingChanges(),_=_|0,_<0)return 1;const b=this._lineCount|0,u=this._lineHeight;let g=1,n=b;for(;g<n;){const i=(g+n)/2|0,t=this.getVerticalOffsetForLineNumber(i)|0;if(_>=t+u)g=i+1;else{if(_>=t)return i;n=i}}return g>b?b:g}getLinesViewportData(_,b){this._checkPendingChanges(),_=_|0,b=b|0;const u=this._lineHeight,g=this.getLineNumberAtOrAfterVerticalOffset(_)|0,n=this.getVerticalOffsetForLineNumber(g)|0;let i=this._lineCount|0,t=this.getFirstWhitespaceIndexAfterLineNumber(g)|0;const o=this.getWhitespacesCount()|0;let r,c;t===-1?(t=o,c=i+1,r=0):(c=this.getAfterLineNumberForWhitespaceIndex(t)|0,r=this.getHeightForWhitespaceIndex(t)|0);let d=n,a=d;const s=5e5;let l=0;n>=s&&(l=Math.floor(n/s)*s,l=Math.floor(l/u)*u,a-=l);const h=[],p=_+(b-_)/2;let S=-1;for(let y=g;y<=i;y++){if(S===-1){const E=d,T=d+u;(E<=p&&p<T||E>p)&&(S=y)}for(d+=u,h[y-g]=a,a+=u;c===y;)a+=r,d+=r,t++,t>=o?c=i+1:(c=this.getAfterLineNumberForWhitespaceIndex(t)|0,r=this.getHeightForWhitespaceIndex(t)|0);if(d>=b){i=y;break}}S===-1&&(S=i);const f=this.getVerticalOffsetForLineNumber(i)|0;let m=g,C=i;return m<C&&n<_&&m++,m<C&&f+u>b&&C--,{bigNumbersDelta:l,startLineNumber:g,endLineNumber:i,relativeVerticalOffset:h,centeredLineNumber:S,completelyVisibleStartLineNumber:m,completelyVisibleEndLineNumber:C}}getVerticalOffsetForWhitespaceIndex(_){this._checkPendingChanges(),_=_|0;const b=this.getAfterLineNumberForWhitespaceIndex(_);let u;b>=1?u=this._lineHeight*b:u=0;let g;return _>0?g=this.getWhitespacesAccumulatedHeight(_-1):g=0,u+g+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(_){this._checkPendingChanges(),_=_|0;let b=0,u=this.getWhitespacesCount()-1;if(u<0)return-1;const g=this.getVerticalOffsetForWhitespaceIndex(u),n=this.getHeightForWhitespaceIndex(u);if(_>=g+n)return-1;for(;b<u;){const i=Math.floor((b+u)/2),t=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(_>=t+o)b=i+1;else{if(_>=t)return i;u=i}}return b}getWhitespaceAtVerticalOffset(_){this._checkPendingChanges(),_=_|0;const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(_);if(b<0||b>=this.getWhitespacesCount())return null;const u=this.getVerticalOffsetForWhitespaceIndex(b);if(u>_)return null;const g=this.getHeightForWhitespaceIndex(b),n=this.getIdForWhitespaceIndex(b),i=this.getAfterLineNumberForWhitespaceIndex(b);return{id:n,afterLineNumber:i,verticalOffset:u,height:g}}getWhitespaceViewportData(_,b){this._checkPendingChanges(),_=_|0,b=b|0;const u=this.getWhitespaceIndexAtOrAfterVerticallOffset(_),g=this.getWhitespacesCount()-1;if(u<0)return[];const n=[];for(let i=u;i<=g;i++){const t=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(t>=b)break;n.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:t,height:o})}return n}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].id}getAfterLineNumberForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].afterLineNumber}getHeightForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].height}}e.LinesLayout=I,I.INSTANCE_COUNT=0}),define(se[452],re([1,0,3]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class v{constructor(I,L,_,b){this.selections=I,this.startLineNumber=L.startLineNumber|0,this.endLineNumber=L.endLineNumber|0,this.relativeVerticalOffset=L.relativeVerticalOffset,this.bigNumbersDelta=L.bigNumbersDelta|0,this.whitespaceViewportData=_,this._model=b,this.visibleRange=new w.Range(L.startLineNumber,this._model.getLineMinColumn(L.startLineNumber),L.endLineNumber,this._model.getLineMaxColumn(L.endLineNumber))}getViewLineRenderingData(I){return this._model.getViewportViewLineRenderingData(this.visibleRange,I)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=v}),define(se[74],re([1,0,8,3]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class k{constructor(t,o,r,c){this._viewportBrand=void 0,this.top=t|0,this.left=o|0,this.width=r|0,this.height=c|0}}e.Viewport=k;class I{constructor(t,o){this.tabSize=t,this.data=o}}e.MinimapLinesRenderingData=I;class L{constructor(t,o,r,c,d,a,s){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=o,this.minColumn=r,this.maxColumn=c,this.startVisibleColumn=d,this.tokens=a,this.inlineDecorations=s}}e.ViewLineData=L;class _{constructor(t,o,r,c,d,a,s,l,h,p){this.minColumn=t,this.maxColumn=o,this.content=r,this.continuesWithWrappedLine=c,this.isBasicASCII=_.isBasicASCII(r,a),this.containsRTL=_.containsRTL(r,this.isBasicASCII,d),this.tokens=s,this.inlineDecorations=l,this.tabSize=h,this.startVisibleColumn=p}static isBasicASCII(t,o){return o?w.isBasicASCII(t):!0}static containsRTL(t,o,r){return!o&&r?w.containsRTL(t):!1}}e.ViewLineRenderingData=_;class b{constructor(t,o,r){this.range=t,this.inlineClassName=o,this.type=r}}e.InlineDecoration=b;class u{constructor(t,o,r,c){this.startOffset=t,this.endOffset=o,this.inlineClassName=r,this.inlineClassNameAffectsLetterSpacing=c}toInlineDecoration(t){return new b(new v.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=u;class g{constructor(t,o){this._viewModelDecorationBrand=void 0,this.range=t,this.options=o}}e.ViewModelDecoration=g;class n{constructor(t,o,r){this.color=t,this.zIndex=o,this.data=r}static cmp(t,o){return t.zIndex===o.zIndex?t.color<o.color?-1:t.color>o.color?1:0:t.zIndex-o.zIndex}}e.OverviewRulerDecorationsGroup=n}),define(se[453],re([1,0,83,11,101,74]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function L(t,o){return t===null?o?b.INSTANCE:u.INSTANCE:new _(t,o)}e.createModelLineProjection=L;class _{constructor(o,r){this._projectionData=o,this._isVisible=r}isVisible(){return this._isVisible}setVisible(o){return this._isVisible=o,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(o,r,c){this._assertVisible();const d=c>0?this._projectionData.breakOffsets[c-1]:0,a=this._projectionData.breakOffsets[c];let s;if(this._projectionData.injectionOffsets!==null){const l=this._projectionData.injectionOffsets.map((p,S)=>new k.LineInjectedText(0,0,p+1,this._projectionData.injectionOptions[S],0));s=k.LineInjectedText.applyInjectedText(o.getLineContent(r),l).substring(d,a)}else s=o.getValueInRange({startLineNumber:r,startColumn:d+1,endLineNumber:r,endColumn:a+1});return c>0&&(s=n(this._projectionData.wrappedTextIndentLength)+s),s}getViewLineLength(o,r,c){return this._assertVisible(),this._projectionData.getLineLength(c)}getViewLineMinColumn(o,r,c){return this._assertVisible(),this._projectionData.getMinOutputOffset(c)+1}getViewLineMaxColumn(o,r,c){return this._assertVisible(),this._projectionData.getMaxOutputOffset(c)+1}getViewLineData(o,r,c){const d=new Array;return this.getViewLinesData(o,r,c,1,0,[!0],d),d[0]}getViewLinesData(o,r,c,d,a,s,l){this._assertVisible();const h=this._projectionData,p=h.injectionOffsets,S=h.injectionOptions;let f=null;if(p){f=[];let C=0,y=0;for(let E=0;E<h.getOutputLineCount();E++){const T=new Array;f[E]=T;const N=E>0?h.breakOffsets[E-1]:0,F=h.breakOffsets[E];for(;y<p.length;){const O=S[y].content.length,P=p[y]+C,D=P+O;if(P>F)break;if(N<D){const M=S[y];if(M.inlineClassName){const R=E>0?h.wrappedTextIndentLength:0,B=R+Math.max(P-N,0),W=R+Math.min(D-N,F);B!==W&&T.push(new I.SingleLineInlineDecoration(B,W,M.inlineClassName,M.inlineClassNameAffectsLetterSpacing))}}if(D<=F)C+=O,y++;else break}}}let m;p?m=o.tokenization.getLineTokens(r).withInserted(p.map((C,y)=>({offset:C,text:S[y].content,tokenMetadata:w.LineTokens.defaultTokenMetadata}))):m=o.tokenization.getLineTokens(r);for(let C=c;C<c+d;C++){const y=a+C-c;if(!s[y]){l[y]=null;continue}l[y]=this._getViewLineData(m,f?f[C]:null,C)}}_getViewLineData(o,r,c){this._assertVisible();const d=this._projectionData,a=c>0?d.wrappedTextIndentLength:0,s=c>0?d.breakOffsets[c-1]:0,l=d.breakOffsets[c],h=o.sliceAndInflate(s,l,a);let p=h.getLineContent();c>0&&(p=n(d.wrappedTextIndentLength)+p);const S=this._projectionData.getMinOutputOffset(c)+1,f=p.length+1,m=c+1<this.getViewLineCount(),C=c===0?0:d.breakOffsetsVisibleColumn[c-1];return new I.ViewLineData(p,m,S,f,C,h,r)}getModelColumnOfViewPosition(o,r){return this._assertVisible(),this._projectionData.translateToInputOffset(o,r-1)+1}getViewPositionOfModelPosition(o,r,c=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(r-1,c).toPosition(o)}getViewLineNumberOfModelPosition(o,r){this._assertVisible();const c=this._projectionData.translateToOutputPosition(r-1);return o+c.outputLineIndex}normalizePosition(o,r,c){const d=r.lineNumber-o;return this._projectionData.normalizeOutputPosition(o,r.column-1,c).toPosition(d)}getInjectedTextAt(o,r){return this._projectionData.getInjectedText(o,r-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class b{constructor(){}isVisible(){return!0}setVisible(o){return o?this:u.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(o,r,c){return o.getLineContent(r)}getViewLineLength(o,r,c){return o.getLineLength(r)}getViewLineMinColumn(o,r,c){return o.getLineMinColumn(r)}getViewLineMaxColumn(o,r,c){return o.getLineMaxColumn(r)}getViewLineData(o,r,c){const d=o.tokenization.getLineTokens(r),a=d.getLineContent();return new I.ViewLineData(a,!1,1,a.length+1,0,d.inflate(),null)}getViewLinesData(o,r,c,d,a,s,l){if(!s[a]){l[a]=null;return}l[a]=this.getViewLineData(o,r,0)}getModelColumnOfViewPosition(o,r){return r}getViewPositionOfModelPosition(o,r){return new v.Position(o,r)}getViewLineNumberOfModelPosition(o,r){return o}normalizePosition(o,r,c){return r}getInjectedTextAt(o,r){return null}}b.INSTANCE=new b;class u{constructor(){}isVisible(){return!1}setVisible(o){return o?b.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(o,r,c){throw new Error("Not supported")}getViewLineLength(o,r,c){throw new Error("Not supported")}getViewLineMinColumn(o,r,c){throw new Error("Not supported")}getViewLineMaxColumn(o,r,c){throw new Error("Not supported")}getViewLineData(o,r,c){throw new Error("Not supported")}getViewLinesData(o,r,c,d,a,s,l){throw new Error("Not supported")}getModelColumnOfViewPosition(o,r){throw new Error("Not supported")}getViewPositionOfModelPosition(o,r){throw new Error("Not supported")}getViewLineNumberOfModelPosition(o,r){throw new Error("Not supported")}normalizePosition(o,r,c){throw new Error("Not supported")}getInjectedTextAt(o,r){throw new Error("Not supported")}}u.INSTANCE=new u;const g=[""];function n(t){if(t>=g.length)for(let o=1;o<=t;o++)g[o]=i(o);return g[t]}function i(t){return new Array(t+1).join(" ")}}),define(se[454],re([1,0,8,108,101,246]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class L{constructor(d,a){this.classifier=new _(d,a)}static create(d){return new L(d.get(122),d.get(121))}createLineBreaksComputer(d,a,s,l){const h=[],p=[],S=[];return{addRequest:(f,m,C)=>{h.push(f),p.push(m),S.push(C)},finalize:()=>{const f=d.typicalFullwidthCharacterWidth/d.typicalHalfwidthCharacterWidth,m=[];for(let C=0,y=h.length;C<y;C++){const E=p[C],T=S[C];T&&!T.injectionOptions&&!E?m[C]=g(this.classifier,T,h[C],a,s,f,l):m[C]=n(this.classifier,h[C],E,a,s,f,l)}return b.length=0,u.length=0,m}}}}e.MonospaceLineBreaksComputerFactory=L;class _ extends v.CharacterClassifier{constructor(d,a){super(0);for(let s=0;s<d.length;s++)this.set(d.charCodeAt(s),1);for(let s=0;s<a.length;s++)this.set(a.charCodeAt(s),2)}get(d){return d>=0&&d<256?this._asciiMap[d]:d>=12352&&d<=12543||d>=13312&&d<=19903||d>=19968&&d<=40959?3:this._map.get(d)||this._defaultValue}}let b=[],u=[];function g(c,d,a,s,l,h,p){if(l===-1)return null;const S=a.length;if(S<=1)return null;const f=d.breakOffsets,m=d.breakOffsetsVisibleColumn,C=r(a,s,l,h,p),y=l-C,E=b,T=u;let N=0,F=0,O=0,P=l;const D=f.length;let M=0;if(M>=0){let R=Math.abs(m[M]-P);for(;M+1<D;){const B=Math.abs(m[M+1]-P);if(B>=R)break;R=B,M++}}for(;M<D;){let R=M<0?0:f[M],B=M<0?0:m[M];F>R&&(R=F,B=O);let W=0,V=0,A=0,Y=0;if(B<=P){let U=B,j=R===0?0:a.charCodeAt(R-1),Z=R===0?0:c.get(j),ie=!0;for(let Q=R;Q<S;Q++){const J=Q,de=a.charCodeAt(Q);let x,ne;if(w.isHighSurrogate(de)?(Q++,x=0,ne=2):(x=c.get(de),ne=i(de,U,s,h)),J>F&&o(j,Z,de,x)&&(W=J,V=U),U+=ne,U>P){J>F?(A=J,Y=U-ne):(A=Q+1,Y=U),U-V>y&&(W=0),ie=!1;break}j=de,Z=x}if(ie){N>0&&(E[N]=f[f.length-1],T[N]=m[f.length-1],N++);break}}if(W===0){let U=B,j=a.charCodeAt(R),Z=c.get(j),ie=!1;for(let Q=R-1;Q>=F;Q--){const J=Q+1,de=a.charCodeAt(Q);if(de===9){ie=!0;break}let x,ne;if(w.isLowSurrogate(de)?(Q--,x=0,ne=2):(x=c.get(de),ne=w.isFullWidthCharacter(de)?h:1),U<=P){if(A===0&&(A=J,Y=U),U<=P-y)break;if(o(de,x,j,Z)){W=J,V=U;break}}U-=ne,j=de,Z=x}if(W!==0){const Q=y-(Y-V);if(Q<=s){const J=a.charCodeAt(A);let de;w.isHighSurrogate(J)?de=2:de=i(J,Y,s,h),Q-de<0&&(W=0)}}if(ie){M--;continue}}if(W===0&&(W=A,V=Y),W<=F){const U=a.charCodeAt(F);w.isHighSurrogate(U)?(W=F+2,V=O+2):(W=F+1,V=O+i(U,O,s,h))}for(F=W,E[N]=W,O=V,T[N]=V,N++,P=V+y;M<0||M<D&&m[M]<V;)M++;let ee=Math.abs(m[M]-P);for(;M+1<D;){const U=Math.abs(m[M+1]-P);if(U>=ee)break;ee=U,M++}}return N===0?null:(E.length=N,T.length=N,b=d.breakOffsets,u=d.breakOffsetsVisibleColumn,d.breakOffsets=E,d.breakOffsetsVisibleColumn=T,d.wrappedTextIndentLength=C,d)}function n(c,d,a,s,l,h,p){const S=k.LineInjectedText.applyInjectedText(d,a);let f,m;if(a&&a.length>0?(f=a.map(V=>V.options),m=a.map(V=>V.column-1)):(f=null,m=null),l===-1)return f?new I.ModelLineProjectionData(m,f,[S.length],[],0):null;const C=S.length;if(C<=1)return f?new I.ModelLineProjectionData(m,f,[S.length],[],0):null;const y=r(S,s,l,h,p),E=l-y,T=[],N=[];let F=0,O=0,P=0,D=l,M=S.charCodeAt(0),R=c.get(M),B=i(M,0,s,h),W=1;w.isHighSurrogate(M)&&(B+=1,M=S.charCodeAt(1),R=c.get(M),W++);for(let V=W;V<C;V++){const A=V,Y=S.charCodeAt(V);let ee,U;w.isHighSurrogate(Y)?(V++,ee=0,U=2):(ee=c.get(Y),U=i(Y,B,s,h)),o(M,R,Y,ee)&&(O=A,P=B),B+=U,B>D&&((O===0||B-P>E)&&(O=A,P=B-U),T[F]=O,N[F]=P,F++,D=P+E,O=0),M=Y,R=ee}return F===0&&(!a||a.length===0)?null:(T[F]=C,N[F]=B,new I.ModelLineProjectionData(m,f,T,N,y))}function i(c,d,a,s){return c===9?a-d%a:w.isFullWidthCharacter(c)||c<32?s:1}function t(c,d){return d-c%d}function o(c,d,a,s){return a!==32&&(d===2&&s!==2||d!==1&&s===1||d===3&&s!==2||s===3&&d!==1)}function r(c,d,a,s,l){let h=0;if(l!==0){const p=w.firstNonWhitespaceIndex(c);if(p!==-1){for(let f=0;f<p;f++)h+=c.charCodeAt(f)===9?t(h,d):1;const S=l===3?2:l===2?1:0;for(let f=0;f<S;f++)h+=t(h,d);h+s>a&&(h=0)}}return h}}),define(se[250],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class w{constructor(L,_,b){this._colorZoneBrand=void 0,this.from=L|0,this.to=_|0,this.colorId=b|0}static compare(L,_){return L.colorId===_.colorId?L.from===_.from?L.to-_.to:L.from-_.from:L.colorId-_.colorId}}e.ColorZone=w;class v{constructor(L,_,b,u){this._overviewRulerZoneBrand=void 0,this.startLineNumber=L,this.endLineNumber=_,this.heightInLines=b,this.color=u,this._colorZone=null}static compare(L,_){return L.color===_.color?L.startLineNumber===_.startLineNumber?L.heightInLines===_.heightInLines?L.endLineNumber-_.endLineNumber:L.heightInLines-_.heightInLines:L.startLineNumber-_.startLineNumber:L.color<_.color?-1:1}setColorZone(L){this._colorZone=L}getColorZones(){return this._colorZone}}e.OverviewRulerZone=v;class k{constructor(L){this._getVerticalOffsetForLine=L,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(L){this._zones=L,this._zones.sort(v.compare)}setLineHeight(L){return this._lineHeight===L?!1:(this._lineHeight=L,this._colorZonesInvalid=!0,!0)}setPixelRatio(L){this._pixelRatio=L,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(L){return this._domWidth===L?!1:(this._domWidth=L,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(L){return this._domHeight===L?!1:(this._domHeight=L,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(L){return this._outerHeight===L?!1:(this._outerHeight=L,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const L=this._colorZonesInvalid,_=Math.floor(this._lineHeight),b=Math.floor(this.getCanvasHeight()),u=Math.floor(this._outerHeight),g=b/u,n=Math.floor(4*this._pixelRatio/2),i=[];for(let t=0,o=this._zones.length;t<o;t++){const r=this._zones[t];if(!L){const m=r.getColorZones();if(m){i.push(m);continue}}const c=this._getVerticalOffsetForLine(r.startLineNumber),d=r.heightInLines===0?this._getVerticalOffsetForLine(r.endLineNumber)+_:c+r.heightInLines*_,a=Math.floor(g*c),s=Math.floor(g*d);let l=Math.floor((a+s)/2),h=s-l;h<n&&(h=n),l-h<0&&(l=h),l+h>b&&(l=b-h);const p=r.color;let S=this._color2Id[p];S||(S=++this._lastAssignedId,this._color2Id[p]=S,this._id2Color[S]=p);const f=new w(l-h,l+h,S);r.setColorZone(f),i.push(f)}return this._colorZonesInvalid=!1,i.sort(w.compare),i}}e.OverviewZoneManager=k}),define(se[455],re([1,0,33,250,131]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class I extends k.ViewEventHandler{constructor(_,b){super();this._context=_;const u=this._context.configuration.options;this._domNode=(0,w.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(b),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new v.OverviewZoneManager(g=>this._context.viewLayout.getVerticalOffsetForLineNumber(g)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(u.get(60)),this._zoneManager.setPixelRatio(u.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(_){const b=this._context.configuration.options;return _.hasChanged(60)&&(this._zoneManager.setLineHeight(b.get(60)),this._render()),_.hasChanged(131)&&(this._zoneManager.setPixelRatio(b.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(_){return this._render(),!0}onScrollChanged(_){return _.scrollHeightChanged&&(this._zoneManager.setOuterHeight(_.scrollHeight),this._render()),!0}onZonesChanged(_){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(_){this._domNode.setTop(_.top),this._domNode.setRight(_.right);let b=!1;b=this._zoneManager.setDOMWidth(_.width)||b,b=this._zoneManager.setDOMHeight(_.height)||b,b&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(_){this._zoneManager.setZones(_),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const _=this._zoneManager.getCanvasWidth(),b=this._zoneManager.getCanvasHeight(),u=this._zoneManager.resolveColorZones(),g=this._zoneManager.getId2Color(),n=this._domNode.domNode.getContext("2d");return n.clearRect(0,0,_,b),u.length>0&&this._renderOneLane(n,u,g,_),!0}_renderOneLane(_,b,u,g){let n=0,i=0,t=0;for(const o of b){const r=o.colorId,c=o.from,d=o.to;r!==n?(_.fillRect(0,i,g,t-i),n=r,_.fillStyle=u[n],i=c,t=d):t>=c?t=Math.max(t,d):(_.fillRect(0,i,g,t-i),i=c,t=d)}_.fillRect(0,i,g,t-i)}}e.OverviewRuler=I}),define(se[456],re([1,0,419]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class v{constructor(I,L,_){this.configuration=I,this.theme=new w.EditorTheme(L),this.viewModel=_,this.viewLayout=_.viewLayout}addEventHandler(I){this.viewModel.addViewEventHandler(I)}removeEventHandler(I){this.viewModel.removeViewEventHandler(I)}}e.ViewContext=v}),define(se[457],re([1,0,3,23]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class k{constructor(L,_){this._selection=L,this._isMovingLeft=_}getEditOperations(L,_){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const b=this._selection.startLineNumber,u=this._selection.startColumn,g=this._selection.endColumn;if(!(this._isMovingLeft&&u===1)&&!(!this._isMovingLeft&&g===L.getLineMaxColumn(b)))if(this._isMovingLeft){const n=new w.Range(b,u-1,b,u),i=L.getValueInRange(n);_.addEditOperation(n,null),_.addEditOperation(new w.Range(b,g,b,g),i)}else{const n=new w.Range(b,g,b,g+1),i=L.getValueInRange(n);_.addEditOperation(n,null),_.addEditOperation(new w.Range(b,u,b,u),i)}}computeCursorState(L,_){return this._isMovingLeft?new v.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new v.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=k}),define(se[133],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class w{constructor(u){this.value=u}equals(u){return this.value===u.value}contains(u){return this.equals(u)||this.value===""||u.value.startsWith(this.value+w.sep)}intersects(u){return this.contains(u)||u.contains(this)}append(u){return new w(this.value+w.sep+u)}}e.CodeActionKind=w,w.sep=".",w.None=new w("@@none@@"),w.Empty=new w(""),w.QuickFix=new w("quickfix"),w.Refactor=new w("refactor"),w.Extract=w.Refactor.append("extract"),w.Convert=w.Refactor.append("rewrite"),w.Source=new w("source"),w.SourceOrganizeImports=w.Source.append("organizeImports"),w.SourceFixAll=w.Source.append("fixAll"),w.SurroundWith=w.Refactor.append("surround");var v;(function(b){b.Refactor="refactor",b.RefactorPreview="refactor preview",b.Lightbulb="lightbulb",b.Default="other (default)",b.SourceAction="source action",b.QuickFix="quick fix action",b.FixAll="fix all",b.OrganizeImports="organize imports",b.AutoFix="auto fix",b.QuickFixHover="quick fix hover window",b.OnSave="save participants",b.ProblemsView="problems view"})(v=e.CodeActionTriggerSource||(e.CodeActionTriggerSource={}));function k(b,u){return!(b.include&&!b.include.intersects(u)||b.excludes&&b.excludes.some(g=>L(u,g,b.include))||!b.includeSourceActions&&w.Source.contains(u))}e.mayIncludeActionsOfKind=k;function I(b,u){const g=u.kind?new w(u.kind):void 0;return!(b.include&&(!g||!b.include.contains(g))||b.excludes&&g&&b.excludes.some(n=>L(g,n,b.include))||!b.includeSourceActions&&g&&w.Source.contains(g)||b.onlyIncludePreferredActions&&!u.isPreferred)}e.filtersAction=I;function L(b,u,g){return!(!u.contains(b)||g&&u.contains(g))}class _{constructor(u,g,n){this.kind=u,this.apply=g,this.preferred=n}static fromUser(u,g){return!u||typeof u!="object"?new _(g.kind,g.apply,!1):new _(_.getKindFromUser(u,g.kind),_.getApplyFromUser(u,g.apply),_.getPreferredUser(u))}static getApplyFromUser(u,g){switch(typeof u.apply=="string"?u.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return g}}static getKindFromUser(u,g){return typeof u.kind=="string"?new w(u.kind):g}static getPreferredUser(u){return typeof u.preferred=="boolean"?u.preferred:!1}}e.CodeActionCommandArgs=_}),define(se[251],re([1,0,61,11,3,23]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class L{constructor(b,u,g){this.languageConfigurationService=g,this._selection=b,this._insertSpace=u,this._usedEndToken=null}static _haystackHasNeedleAtOffset(b,u,g){if(g<0)return!1;const n=u.length,i=b.length;if(g+n>i)return!1;for(let t=0;t<n;t++){const o=b.charCodeAt(g+t),r=u.charCodeAt(t);if(o!==r&&!(o>=65&&o<=90&&o+32===r)&&!(r>=65&&r<=90&&r+32===o))return!1}return!0}_createOperationsForBlockComment(b,u,g,n,i,t){const o=b.startLineNumber,r=b.startColumn,c=b.endLineNumber,d=b.endColumn,a=i.getLineContent(o),s=i.getLineContent(c);let l=a.lastIndexOf(u,r-1+u.length),h=s.indexOf(g,d-1-g.length);if(l!==-1&&h!==-1)if(o===c)a.substring(l+u.length,h).indexOf(g)>=0&&(l=-1,h=-1);else{const S=a.substring(l+u.length),f=s.substring(0,h);(S.indexOf(g)>=0||f.indexOf(g)>=0)&&(l=-1,h=-1)}let p;l!==-1&&h!==-1?(n&&l+u.length<a.length&&a.charCodeAt(l+u.length)===32&&(u=u+" "),n&&h>0&&s.charCodeAt(h-1)===32&&(g=" "+g,h-=1),p=L._createRemoveBlockCommentOperations(new k.Range(o,l+u.length+1,c,h+1),u,g)):(p=L._createAddBlockCommentOperations(b,u,g,this._insertSpace),this._usedEndToken=p.length===1?g:null);for(const S of p)t.addTrackedEditOperation(S.range,S.text)}static _createRemoveBlockCommentOperations(b,u,g){const n=[];return k.Range.isEmpty(b)?n.push(w.EditOperation.delete(new k.Range(b.startLineNumber,b.startColumn-u.length,b.endLineNumber,b.endColumn+g.length))):(n.push(w.EditOperation.delete(new k.Range(b.startLineNumber,b.startColumn-u.length,b.startLineNumber,b.startColumn))),n.push(w.EditOperation.delete(new k.Range(b.endLineNumber,b.endColumn,b.endLineNumber,b.endColumn+g.length)))),n}static _createAddBlockCommentOperations(b,u,g,n){const i=[];return k.Range.isEmpty(b)?i.push(w.EditOperation.replace(new k.Range(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn),u+"  "+g)):(i.push(w.EditOperation.insert(new v.Position(b.startLineNumber,b.startColumn),u+(n?" ":""))),i.push(w.EditOperation.insert(new v.Position(b.endLineNumber,b.endColumn),(n?" ":"")+g))),i}getEditOperations(b,u){const g=this._selection.startLineNumber,n=this._selection.startColumn;b.tokenization.tokenizeIfCheap(g);const i=b.getLanguageIdAtPosition(g,n),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;!t||!t.blockCommentStartToken||!t.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,t.blockCommentStartToken,t.blockCommentEndToken,this._insertSpace,b,u)}computeCursorState(b,u){const g=u.getInverseEditOperations();if(g.length===2){const n=g[0],i=g[1];return new I.Selection(n.range.endLineNumber,n.range.endColumn,i.range.startLineNumber,i.range.startColumn)}else{const n=g[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0;return new I.Selection(n.endLineNumber,n.endColumn+i,n.endLineNumber,n.endColumn+i)}}}e.BlockCommentCommand=L}),define(se[458],re([1,0,8,61,11,3,23,251]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class b{constructor(g,n,i,t,o,r,c){this.languageConfigurationService=g,this._selection=n,this._tabSize=i,this._type=t,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=c||!1}static _gatherPreflightCommentStrings(g,n,i,t){g.tokenization.tokenizeIfCheap(n);const o=g.getLanguageIdAtPosition(n,1),r=t.getLanguageConfiguration(o).comments,c=r?r.lineCommentToken:null;if(!c)return null;const d=[];for(let a=0,s=i-n+1;a<s;a++)d[a]={ignore:!1,commentStr:c,commentStrOffset:0,commentStrLength:c.length};return d}static _analyzeLines(g,n,i,t,o,r,c,d){let a=!0,s;g===0?s=!0:g===1?s=!1:s=!0;for(let l=0,h=t.length;l<h;l++){const p=t[l],S=o+l;if(S===o&&c){p.ignore=!0;continue}const f=i.getLineContent(S),m=w.firstNonWhitespaceIndex(f);if(m===-1){p.ignore=r,p.commentStrOffset=f.length;continue}if(a=!1,p.ignore=!1,p.commentStrOffset=m,s&&!_.BlockCommentCommand._haystackHasNeedleAtOffset(f,p.commentStr,m)&&(g===0?s=!1:g===1||(p.ignore=!0)),s&&n){const C=m+p.commentStrLength;C<f.length&&f.charCodeAt(C)===32&&(p.commentStrLength+=1)}}if(g===0&&a){s=!1;for(let l=0,h=t.length;l<h;l++)t[l].ignore=!1}return{supported:!0,shouldRemoveComments:s,lines:t}}static _gatherPreflightData(g,n,i,t,o,r,c,d){const a=b._gatherPreflightCommentStrings(i,t,o,d);return a===null?{supported:!1}:b._analyzeLines(g,n,i,a,t,r,c,d)}_executeLineComments(g,n,i,t){let o;i.shouldRemoveComments?o=b._createRemoveLineCommentsOperations(i.lines,t.startLineNumber):(b._normalizeInsertionPoint(g,i.lines,t.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,t.startLineNumber));const r=new k.Position(t.positionLineNumber,t.positionColumn);for(let c=0,d=o.length;c<d;c++)n.addEditOperation(o[c].range,o[c].text),I.Range.isEmpty(o[c].range)&&I.Range.getStartPosition(o[c].range).equals(r)&&g.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(o[c].text||"").length);this._selectionId=n.trackSelection(t)}_attemptRemoveBlockComment(g,n,i,t){let o=n.startLineNumber,r=n.endLineNumber;const c=t.length+Math.max(g.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.startColumn);let d=g.getLineContent(o).lastIndexOf(i,c-1),a=g.getLineContent(r).indexOf(t,n.endColumn-1-i.length);return d!==-1&&a===-1&&(a=g.getLineContent(o).indexOf(t,d+i.length),r=o),d===-1&&a!==-1&&(d=g.getLineContent(r).lastIndexOf(i,a),o=r),n.isEmpty()&&(d===-1||a===-1)&&(d=g.getLineContent(o).indexOf(i),d!==-1&&(a=g.getLineContent(o).indexOf(t,d+i.length))),d!==-1&&g.getLineContent(o).charCodeAt(d+i.length)===32&&(i+=" "),a!==-1&&g.getLineContent(r).charCodeAt(a-1)===32&&(t=" "+t,a-=1),d!==-1&&a!==-1?_.BlockCommentCommand._createRemoveBlockCommentOperations(new I.Range(o,d+i.length+1,r,a+1),i,t):null}_executeBlockComment(g,n,i){g.tokenization.tokenizeIfCheap(i.startLineNumber);const t=g.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(t).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const r=o.blockCommentStartToken,c=o.blockCommentEndToken;let d=this._attemptRemoveBlockComment(g,i,r,c);if(!d){if(i.isEmpty()){const a=g.getLineContent(i.startLineNumber);let s=w.firstNonWhitespaceIndex(a);s===-1&&(s=a.length),d=_.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(i.startLineNumber,s+1,i.startLineNumber,a.length+1),r,c,this._insertSpace)}else d=_.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(i.startLineNumber,g.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,g.getLineMaxColumn(i.endLineNumber)),r,c,this._insertSpace);d.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=n.trackSelection(i);for(const a of d)n.addEditOperation(a.range,a.text)}getEditOperations(g,n){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){n.addEditOperation(new I.Range(i.startLineNumber,g.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===g.getLineCount()?"":`
`),this._selectionId=n.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,g.getLineMaxColumn(i.endLineNumber-1)));const t=b._gatherPreflightData(this._type,this._insertSpace,g,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return t.supported?this._executeLineComments(g,n,t,i):this._executeBlockComment(g,n,i)}computeCursorState(g,n){let i=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new L.Selection(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(g,n){const i=[];for(let t=0,o=g.length;t<o;t++){const r=g[t];r.ignore||i.push(v.EditOperation.delete(new I.Range(n+t,r.commentStrOffset+1,n+t,r.commentStrOffset+r.commentStrLength+1)))}return i}_createAddLineCommentsOperations(g,n){const i=[],t=this._insertSpace?" ":"";for(let o=0,r=g.length;o<r;o++){const c=g[o];c.ignore||i.push(v.EditOperation.insert(new k.Position(n+o,c.commentStrOffset+1),c.commentStr+t))}return i}static nextVisibleColumn(g,n,i,t){return i?g+(n-g%n):g+t}static _normalizeInsertionPoint(g,n,i,t){let o=1073741824,r,c;for(let d=0,a=n.length;d<a;d++){if(n[d].ignore)continue;const s=g.getLineContent(i+d);let l=0;for(let h=0,p=n[d].commentStrOffset;l<o&&h<p;h++)l=b.nextVisibleColumn(l,t,s.charCodeAt(h)===9,1);l<o&&(o=l)}o=Math.floor(o/t)*t;for(let d=0,a=n.length;d<a;d++){if(n[d].ignore)continue;const s=g.getLineContent(i+d);let l=0;for(r=0,c=n[d].commentStrOffset;l<o&&r<c;r++)l=b.nextVisibleColumn(l,t,s.charCodeAt(r)===9,1);l>o?n[d].commentStrOffset=r-1:n[d].commentStrOffset=r}}}e.LineCommentCommand=b}),define(se[459],re([1,0,3,23]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class k{constructor(L,_,b){this.selection=L,this.targetPosition=_,this.copy=b,this.targetSelection=null}getEditOperations(L,_){const b=L.getValueInRange(this.selection);if(this.copy||_.addEditOperation(this.selection,null),_.addEditOperation(new w.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),b),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new v.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new v.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(L,_){return this.targetSelection}}e.DragAndDropCommand=k}),define(se[460],re([1,0,3]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class v{constructor(I,L,_){this._editorSelection=I,this._ranges=L,this._replaceStrings=_,this._trackedEditorSelectionId=null}getEditOperations(I,L){if(this._ranges.length>0){const _=[];for(let g=0;g<this._ranges.length;g++)_.push({range:this._ranges[g],text:this._replaceStrings[g]});_.sort((g,n)=>w.Range.compareRangesUsingStarts(g.range,n.range));const b=[];let u=_[0];for(let g=1;g<_.length;g++)u.range.endLineNumber===_[g].range.startLineNumber&&u.range.endColumn===_[g].range.startColumn?(u.range=u.range.plusRange(_[g].range),u.text=u.text+_[g].text):(b.push(u),u=_[g]);b.push(u);for(const g of b)L.addEditOperation(g.range,g.text)}this._trackedEditorSelectionId=L.trackSelection(this._editorSelection)}computeCursorState(I,L){return L.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=v}),define(se[461],re([1,0,337]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class v{constructor(g){this.staticValue=g,this.kind=0}}class k{constructor(g){this.pieces=g,this.kind=1}}class I{constructor(g){!g||g.length===0?this._state=new v(""):g.length===1&&g[0].staticValue!==null?this._state=new v(g[0].staticValue):this._state=new k(g)}static fromStaticValue(g){return new I([L.staticValue(g)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(g,n){if(this._state.kind===0)return n?(0,w.buildReplaceStringWithCasePreserved)(g,this._state.staticValue):this._state.staticValue;let i="";for(let t=0,o=this._state.pieces.length;t<o;t++){const r=this._state.pieces[t];if(r.staticValue!==null){i+=r.staticValue;continue}let c=I._substitute(r.matchIndex,g);if(r.caseOps!==null&&r.caseOps.length>0){const d=[],a=r.caseOps.length;let s=0;for(let l=0,h=c.length;l<h;l++){if(s>=a){d.push(c.slice(l));break}switch(r.caseOps[s]){case"U":d.push(c[l].toUpperCase());break;case"u":d.push(c[l].toUpperCase()),s++;break;case"L":d.push(c[l].toLowerCase());break;case"l":d.push(c[l].toLowerCase()),s++;break;default:d.push(c[l])}}c=d.join("")}i+=c}return i}static _substitute(g,n){if(n===null)return"";if(g===0)return n[0];let i="";for(;g>0;){if(g<n.length)return(n[g]||"")+i;i=String(g%10)+i,g=Math.floor(g/10)}return"$"+i}}e.ReplacePattern=I;class L{constructor(g,n,i){this.staticValue=g,this.matchIndex=n,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(g){return new L(g,-1,null)}static caseOps(g,n){return new L(null,g,n)}}e.ReplacePiece=L;class _{constructor(g){this._source=g,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(g){this._emitStatic(this._source.substring(this._lastCharIndex,g)),this._lastCharIndex=g}emitStatic(g,n){this._emitStatic(g),this._lastCharIndex=n}_emitStatic(g){g.length!==0&&(this._currentStaticPiece+=g)}emitMatchIndex(g,n,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=L.caseOps(g,i),this._lastCharIndex=n}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}function b(u){if(!u||u.length===0)return new I(null);const g=[],n=new _(u);for(let i=0,t=u.length;i<t;i++){const o=u.charCodeAt(i);if(o===92){if(i++,i>=t)break;const r=u.charCodeAt(i);switch(r){case 92:n.emitUnchanged(i-1),n.emitStatic("\\",i+1);break;case 110:n.emitUnchanged(i-1),n.emitStatic(`
`,i+1);break;case 116:n.emitUnchanged(i-1),n.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(i-1),n.emitStatic("",i+1),g.push(String.fromCharCode(r));break}continue}if(o===36){if(i++,i>=t)break;const r=u.charCodeAt(i);if(r===36){n.emitUnchanged(i-1),n.emitStatic("$",i+1);continue}if(r===48||r===38){n.emitUnchanged(i-1),n.emitMatchIndex(0,i+1,g),g.length=0;continue}if(49<=r&&r<=57){let c=r-48;if(i+1<t){const d=u.charCodeAt(i+1);if(48<=d&&d<=57){i++,c=c*10+(d-48),n.emitUnchanged(i-2),n.emitMatchIndex(c,i+1,g),g.length=0;continue}}n.emitUnchanged(i-1),n.emitMatchIndex(c,i+1,g),g.length=0;continue}}}return n.finalize()}e.parseReplaceString=b}),define(se[161],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const w=4278190080;class v{constructor(_){const b=Math.ceil(_/32);this._states=new Uint32Array(b)}get(_){const b=_/32|0,u=_%32;return(this._states[b]&1<<u)!=0}set(_,b){const u=_/32|0,g=_%32,n=this._states[u];b?this._states[u]=n|1<<g:this._states[u]=n&~(1<<g)}}class k{constructor(_,b,u){if(this.sourceAbbr={[0]:" ",[1]:"u",[2]:"r"},_.length!==b.length||_.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=_,this._endIndexes=b,this._collapseStates=new v(_.length),this._userDefinedStates=new v(_.length),this._recoveredStates=new v(_.length),this._types=u,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const _=[],b=(u,g)=>{const n=_[_.length-1];return this.getStartLineNumber(n)<=u&&this.getEndLineNumber(n)>=g};for(let u=0,g=this._startIndexes.length;u<g;u++){const n=this._startIndexes[u],i=this._endIndexes[u];if(n>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;_.length>0&&!b(n,i);)_.pop();const t=_.length>0?_[_.length-1]:-1;_.push(u),this._startIndexes[u]=n+((t&255)<<24),this._endIndexes[u]=i+((t&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(_){return this._startIndexes[_]&e.MAX_LINE_NUMBER}getEndLineNumber(_){return this._endIndexes[_]&e.MAX_LINE_NUMBER}getType(_){return this._types?this._types[_]:void 0}hasTypes(){return!!this._types}isCollapsed(_){return this._collapseStates.get(_)}setCollapsed(_,b){this._collapseStates.set(_,b)}isUserDefined(_){return this._userDefinedStates.get(_)}setUserDefined(_,b){return this._userDefinedStates.set(_,b)}isRecovered(_){return this._recoveredStates.get(_)}setRecovered(_,b){return this._recoveredStates.set(_,b)}getSource(_){return this.isUserDefined(_)?1:this.isRecovered(_)?2:0}setSource(_,b){b===1?(this.setUserDefined(_,!0),this.setRecovered(_,!1)):b===2?(this.setUserDefined(_,!1),this.setRecovered(_,!0)):(this.setUserDefined(_,!1),this.setRecovered(_,!1))}setCollapsedAllOfType(_,b){let u=!1;if(this._types)for(let g=0;g<this._types.length;g++)this._types[g]===_&&(this.setCollapsed(g,b),u=!0);return u}toRegion(_){return new I(this,_)}getParentIndex(_){this.ensureParentIndices();const b=((this._startIndexes[_]&w)>>>24)+((this._endIndexes[_]&w)>>>16);return b===e.MAX_FOLDING_REGIONS?-1:b}contains(_,b){return this.getStartLineNumber(_)<=b&&this.getEndLineNumber(_)>=b}findIndex(_){let b=0,u=this._startIndexes.length;if(u===0)return-1;for(;b<u;){const g=Math.floor((b+u)/2);_<this.getStartLineNumber(g)?u=g:b=g+1}return b-1}findRange(_){let b=this.findIndex(_);if(b>=0){if(this.getEndLineNumber(b)>=_)return b;for(b=this.getParentIndex(b);b!==-1;){if(this.contains(b,_))return b;b=this.getParentIndex(b)}}return-1}toString(){const _=[];for(let b=0;b<this.length;b++)_[b]=`[${this.sourceAbbr[this.getSource(b)]}${this.isCollapsed(b)?"+":"-"}] ${this.getStartLineNumber(b)}/${this.getEndLineNumber(b)}`;return _.join(", ")}toFoldRange(_){return{startLineNumber:this._startIndexes[_]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[_]&e.MAX_LINE_NUMBER,type:this._types?this._types[_]:void 0,isCollapsed:this.isCollapsed(_),source:this.getSource(_)}}static fromFoldRanges(_){const b=_.length,u=new Uint32Array(b),g=new Uint32Array(b);let n=[],i=!1;for(let o=0;o<b;o++){const r=_[o];u[o]=r.startLineNumber,g[o]=r.endLineNumber,n.push(r.type),r.type&&(i=!0)}i||(n=void 0);const t=new k(u,g,n);for(let o=0;o<b;o++)_[o].isCollapsed&&t.setCollapsed(o,!0),t.setSource(o,_[o].source);return t}static sanitizeAndMerge(_,b,u){u=u??Number.MAX_VALUE;const g=(h,p)=>Array.isArray(h)?S=>S<p?h[S]:void 0:S=>S<p?h.toFoldRange(S):void 0,n=g(_,_.length),i=g(b,b.length);let t=0,o=0,r=n(0),c=i(0);const d=[];let a,s=0;const l=[];for(;r||c;){let h;if(c&&(!r||r.startLineNumber>=c.startLineNumber))r&&r.startLineNumber===c.startLineNumber?(c.source===1?h=c:(h=r,h.isCollapsed=c.isCollapsed&&r.endLineNumber===c.endLineNumber,h.source=0),r=n(++t)):(h=c,c.isCollapsed&&c.source===0&&(h.source=2)),c=i(++o);else{let p=o,S=c;for(;;){if(!S||S.startLineNumber>r.endLineNumber){h=r;break}if(S.source===1&&S.endLineNumber>r.endLineNumber)break;S=i(++p)}r=n(++t)}if(h){for(;a&&a.endLineNumber<h.startLineNumber;)a=d.pop();h.endLineNumber>h.startLineNumber&&h.startLineNumber>s&&h.endLineNumber<=u&&(!a||a.endLineNumber>=h.endLineNumber)&&(l.push(h),s=h.startLineNumber,a&&d.push(a),a=h)}}return l}}e.FoldingRegions=k;class I{constructor(_,b){this.ranges=_,this.index=b}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(_){return _.startLineNumber<=this.startLineNumber&&_.endLineNumber>=this.endLineNumber}containsLine(_){return this.startLineNumber<=_&&_<=this.endLineNumber}}e.FoldingRegion=I}),define(se[462],re([1,0,187,161]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const k=5e3;e.ID_INDENT_PROVIDER="indent";class I{constructor(u,g,n){this.editorModel=u,this.languageConfigurationService=g,this.maxFoldingRegions=n,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(u,g){const n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=n&&!!n.offSide,t=n&&n.markers;return Promise.resolve(_(this.editorModel,i,t,this.maxFoldingRegions,g))}}e.IndentRangeProvider=I;class L{constructor(u,g){this._notifyTooManyRegions=g,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=u}insertFirst(u,g,n){if(u>v.MAX_LINE_NUMBER||g>v.MAX_LINE_NUMBER)return;const i=this._length;this._startIndexes[i]=u,this._endIndexes[i]=g,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(u){var g;if(this._length<=this._foldingRangesLimit){const n=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let t=this._length-1,o=0;t>=0;t--,o++)n[o]=this._startIndexes[t],i[o]=this._endIndexes[t];return new v.FoldingRegions(n,i)}else{(g=this._notifyTooManyRegions)===null||g===void 0||g.call(this,this._foldingRangesLimit);let n=0,i=this._indentOccurrences.length;for(let c=0;c<this._indentOccurrences.length;c++){const d=this._indentOccurrences[c];if(d){if(d+n>this._foldingRangesLimit){i=c;break}n+=d}}const t=u.getOptions().tabSize,o=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit);for(let c=this._length-1,d=0;c>=0;c--){const a=this._startIndexes[c],s=u.getLineContent(a),l=(0,w.computeIndentLevel)(s,t);(l<i||l===i&&n++<this._foldingRangesLimit)&&(o[d]=a,r[d]=this._endIndexes[c],d++)}return new v.FoldingRegions(o,r)}}}e.RangesCollector=L;function _(b,u,g,n,i){const t=b.getOptions().tabSize;n=n??k;const o=new L(n,i);let r;g&&(r=new RegExp(`(${g.start.source})|(?:${g.end.source})`));const c=[],d=b.getLineCount()+1;c.push({indent:-1,endAbove:d,line:d});for(let a=b.getLineCount();a>0;a--){const s=b.getLineContent(a),l=(0,w.computeIndentLevel)(s,t);let h=c[c.length-1];if(l===-1){u&&(h.endAbove=a);continue}let p;if(r&&(p=s.match(r)))if(p[1]){let S=c.length-1;for(;S>0&&c[S].indent!==-2;)S--;if(S>0){c.length=S+1,h=c[S],o.insertFirst(a,h.line,l),h.line=a,h.indent=l,h.endAbove=a;continue}}else{c.push({indent:-2,endAbove:a,line:a});continue}if(h.indent>l){do c.pop(),h=c[c.length-1];while(h.indent>l);const S=h.endAbove-1;S-a>=1&&o.insertFirst(a,S,l)}h.indent===l?h.endAbove=a:c.push({indent:l,endAbove:a,line:a})}return o.toIndentRanges(b)}e.computeRanges=_}),define(se[463],re([1,0,14,2,161]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const I={};e.ID_SYNTAX_PROVIDER="syntax";class L{constructor(n,i,t,o){this.editorModel=n,this.providers=i,this.limit=o,this.id=e.ID_SYNTAX_PROVIDER;for(const r of i)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new v.DisposableStore),this.disposables.add(r.onDidChange(t)))}compute(n,i){return _(this.providers,this.editorModel,n).then(t=>t?u(t,this.limit,i):null)}dispose(){var n;(n=this.disposables)===null||n===void 0||n.dispose()}}e.SyntaxRangeProvider=L;function _(g,n,i){let t=null;const o=g.map((r,c)=>Promise.resolve(r.provideFoldingRanges(n,I,i)).then(d=>{if(!i.isCancellationRequested&&Array.isArray(d)){Array.isArray(t)||(t=[]);const a=n.getLineCount();for(const s of d)s.start>0&&s.end>s.start&&s.end<=a&&t.push({start:s.start,end:s.end,rank:c,kind:s.kind})}},w.onUnexpectedExternalError));return Promise.all(o).then(r=>t)}class b{constructor(n,i){this._notifyTooManyRegions=i,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=n}add(n,i,t,o){if(n>k.MAX_LINE_NUMBER||i>k.MAX_LINE_NUMBER)return;const r=this._length;this._startIndexes[r]=n,this._endIndexes[r]=i,this._nestingLevels[r]=o,this._types[r]=t,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){var n;if(this._length<=this._foldingRangesLimit){const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let o=0;o<this._length;o++)i[o]=this._startIndexes[o],t[o]=this._endIndexes[o];return new k.FoldingRegions(i,t,this._types)}else{(n=this._notifyTooManyRegions)===null||n===void 0||n.call(this,this._foldingRangesLimit);let i=0,t=this._nestingLevelCounts.length;for(let d=0;d<this._nestingLevelCounts.length;d++){const a=this._nestingLevelCounts[d];if(a){if(a+i>this._foldingRangesLimit){t=d;break}i+=a}}const o=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),c=[];for(let d=0,a=0;d<this._length;d++){const s=this._nestingLevels[d];(s<t||s===t&&i++<this._foldingRangesLimit)&&(o[a]=this._startIndexes[d],r[a]=this._endIndexes[d],c[a]=this._types[d],a++)}return new k.FoldingRegions(o,r,c)}}}e.RangesCollector=b;function u(g,n,i){const t=g.sort((d,a)=>{let s=d.start-a.start;return s===0&&(s=d.rank-a.rank),s}),o=new b(n,i);let r;const c=[];for(const d of t)if(!r)r=d,o.add(d.start,d.end,d.kind&&d.kind.value,c.length);else if(d.start>r.start)if(d.end<=r.end)c.push(r),r=d,o.add(d.start,d.end,d.kind&&d.kind.value,c.length);else{if(d.start>r.end){do r=c.pop();while(r&&d.start>r.end);r&&c.push(r),r=d}o.add(d.start,d.end,d.kind&&d.kind.value,c.length)}return o.toIndentRanges()}e.sanitizeRanges=u}),define(se[252],re([1,0,61,3]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class k{static _handleEolEdits(L,_){let b;const u=[];for(const g of _)typeof g.eol=="number"&&(b=g.eol),g.range&&typeof g.text=="string"&&u.push(g);return typeof b=="number"&&L.hasModel()&&L.getModel().pushEOL(b),u}static _isFullModelReplaceEdit(L,_){if(!L.hasModel())return!1;const b=L.getModel(),u=b.validateRange(_.range);return b.getFullModelRange().equalsRange(u)}static execute(L,_,b){b&&L.pushUndoStop();const u=k._handleEolEdits(L,_);u.length===1&&k._isFullModelReplaceEdit(L,u[0])?L.executeEdits("formatEditsCommand",u.map(g=>w.EditOperation.replace(v.Range.lift(g.range),g.text))):L.executeEdits("formatEditsCommand",u.map(g=>w.EditOperation.replaceMove(v.Range.lift(g.range),g.text))),b&&L.pushUndoStop()}}e.FormattingEdit=k}),define(se[88],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class w{constructor(I,L){this.priority=I,this.range=L,this.type=1}equals(I){return I.type===1&&this.range.equalsRange(I.range)}canAdoptVisibleHover(I,L){return I.type===1&&L.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=w;class v{constructor(I,L,_){this.priority=I,this.owner=L,this.range=_,this.type=2}equals(I){return I.type===2&&this.owner===I.owner}canAdoptVisibleHover(I,L){return I.type===2&&this.owner===I.owner}}e.HoverForeignElementAnchor=v,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(I){this._participants.push(I)}getAll(){return this._participants}}}),define(se[464],re([1,0,23]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class v{constructor(I,L,_){this._editRange=I,this._originalSelection=L,this._text=_}getEditOperations(I,L){L.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(I,L){const b=L.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new w.Selection(b.endLineNumber,Math.min(this._originalSelection.positionColumn,b.endColumn),b.endLineNumber,Math.min(this._originalSelection.positionColumn,b.endColumn)):new w.Selection(b.endLineNumber,b.endColumn-this._text.length,b.endLineNumber,b.endColumn)}}e.InPlaceReplaceCommand=v}),define(se[253],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function w(k,I){let L=0;for(let _=0;_<k.length;_++)k.charAt(_)==="	"?L+=I:L++;return L}e.getSpaceCnt=w;function v(k,I,L){k=k<0?0:k;let _="";if(!L){const b=Math.floor(k/I);k=k%I;for(let u=0;u<b;u++)_+="	"}for(let b=0;b<k;b++)_+=" ";return _}e.generateIndent=v}),define(se[191],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(se[192],re([1,0,3]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReadonlyEmptyArray=e.applyEdits=e.createDisposableRef=void 0;function v(b,u){return{object:b,dispose:()=>u==null?void 0:u.dispose()}}e.createDisposableRef=v;function k(b,u){const g=new I(b),n=u.map(i=>{const t=w.Range.lift(i.range);return{startOffset:g.getOffset(t.getStartPosition()),endOffset:g.getOffset(t.getEndPosition()),text:i.text}});n.sort((i,t)=>t.startOffset-i.startOffset);for(const i of n)b=b.substring(0,i.startOffset)+i.text+b.substring(i.endOffset);return b}e.applyEdits=k;class I{constructor(u){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let g=0;g<u.length;g++)u.charAt(g)===`
`&&this.lineStartOffsetByLineIdx.push(g+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}}const L=[];function _(){return L}e.getReadonlyEmptyArray=_}),define(se[465],re([1,0,3,23]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class k{constructor(L,_,b){this._selection=L,this._isCopyingDown=_,this._noop=b||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(L,_){let b=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,b.startLineNumber<b.endLineNumber&&b.endColumn===1&&(this._endLineNumberDelta=1,b=b.setEndPosition(b.endLineNumber-1,L.getLineMaxColumn(b.endLineNumber-1)));const u=[];for(let n=b.startLineNumber;n<=b.endLineNumber;n++)u.push(L.getLineContent(n));const g=u.join(`
`);g===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?_.addEditOperation(new w.Range(b.endLineNumber,L.getLineMaxColumn(b.endLineNumber),b.endLineNumber+1,1),b.endLineNumber===L.getLineCount()?"":`
`):this._isCopyingDown?_.addEditOperation(new w.Range(b.startLineNumber,1,b.startLineNumber,1),g+`
`):_.addEditOperation(new w.Range(b.endLineNumber,L.getLineMaxColumn(b.endLineNumber),b.endLineNumber,L.getLineMaxColumn(b.endLineNumber)),`
`+g),this._selectionId=_.trackSelection(b),this._selectionDirection=this._selection.getDirection()}computeCursorState(L,_){let b=_.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let u=b.startLineNumber,g=b.startColumn,n=b.endLineNumber,i=b.endColumn;this._startLineNumberDelta!==0&&(u=u+this._startLineNumberDelta,g=1),this._endLineNumberDelta!==0&&(n=n+this._endLineNumberDelta,i=1),b=v.Selection.createWithDirection(u,g,n,i,this._selectionDirection)}return b}}e.CopyLinesCommand=k}),define(se[466],re([1,0,61,3]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class k{constructor(b,u){this.selection=b,this.descending=u,this.selectionId=null}static getCollator(){return k._COLLATOR||(k._COLLATOR=new Intl.Collator),k._COLLATOR}getEditOperations(b,u){const g=L(b,this.selection,this.descending);g&&u.addEditOperation(g.range,g.text),this.selectionId=u.trackSelection(this.selection)}computeCursorState(b,u){return u.getTrackedSelection(this.selectionId)}static canRun(b,u,g){if(b===null)return!1;const n=I(b,u,g);if(!n)return!1;for(let i=0,t=n.before.length;i<t;i++)if(n.before[i]!==n.after[i])return!0;return!1}}e.SortLinesCommand=k,k._COLLATOR=null;function I(_,b,u){const g=b.startLineNumber;let n=b.endLineNumber;if(b.endColumn===1&&n--,g>=n)return null;const i=[];for(let o=g;o<=n;o++)i.push(_.getLineContent(o));let t=i.slice(0);return t.sort(k.getCollator().compare),u===!0&&(t=t.reverse()),{startLineNumber:g,endLineNumber:n,before:i,after:t}}function L(_,b,u){const g=I(_,b,u);return g?w.EditOperation.replace(new v.Range(g.startLineNumber,1,g.endLineNumber,_.getLineMaxColumn(g.endLineNumber)),g.after.join(`
`)):null}}),define(se[254],re([1,0,73,11,3]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class I{provideSelectionRanges(_,b){return Se(this,void 0,void 0,function*(){const u=[];for(const g of b){const n=[];u.push(n);const i=new Map;yield new Promise(t=>I._bracketsRightYield(t,0,_,g,i)),yield new Promise(t=>I._bracketsLeftYield(t,0,_,g,i,n))}return u})}static _bracketsRightYield(_,b,u,g,n){const i=new Map,t=Date.now();for(;;){if(b>=I._maxRounds){_();break}if(!g){_();break}const o=u.bracketPairs.findNextBracket(g);if(!o){_();break}if(Date.now()-t>I._maxDuration){setTimeout(()=>I._bracketsRightYield(_,b+1,u,g,n));break}if(o.bracketInfo.isOpeningBracket){const c=o.bracketInfo.bracketText,d=i.has(c)?i.get(c):0;i.set(c,d+1)}else{const c=o.bracketInfo.getClosedBrackets()[0].bracketText;let d=i.has(c)?i.get(c):0;if(d-=1,i.set(c,Math.max(0,d)),d<0){let a=n.get(c);a||(a=new w.LinkedList,n.set(c,a)),a.push(o.range)}}g=o.range.getEndPosition()}}static _bracketsLeftYield(_,b,u,g,n,i){const t=new Map,o=Date.now();for(;;){if(b>=I._maxRounds&&n.size===0){_();break}if(!g){_();break}const r=u.bracketPairs.findPrevBracket(g);if(!r){_();break}if(Date.now()-o>I._maxDuration){setTimeout(()=>I._bracketsLeftYield(_,b+1,u,g,n,i));break}if(r.bracketInfo.isOpeningBracket){const d=r.bracketInfo.bracketText;let a=t.has(d)?t.get(d):0;if(a-=1,t.set(d,Math.max(0,a)),a<0){const s=n.get(d);if(s){const l=s.shift();s.size===0&&n.delete(d);const h=k.Range.fromPositions(r.range.getEndPosition(),l.getStartPosition()),p=k.Range.fromPositions(r.range.getStartPosition(),l.getEndPosition());i.push({range:h}),i.push({range:p}),I._addBracketLeading(u,p,i)}}}else{const d=r.bracketInfo.getClosedBrackets()[0].bracketText,a=t.has(d)?t.get(d):0;t.set(d,a+1)}g=r.range.getStartPosition()}}static _addBracketLeading(_,b,u){if(b.startLineNumber===b.endLineNumber)return;const g=b.startLineNumber,n=_.getLineFirstNonWhitespaceColumn(g);n!==0&&n!==b.startColumn&&(u.push({range:k.Range.fromPositions(new v.Position(g,n),b.getEndPosition())}),u.push({range:k.Range.fromPositions(new v.Position(g,1),b.getEndPosition())}));const i=g-1;if(i>0){const t=_.getLineFirstNonWhitespaceColumn(i);t===b.startColumn&&t!==_.getLineLastNonWhitespaceColumn(i)&&(u.push({range:k.Range.fromPositions(new v.Position(i,t),b.getEndPosition())}),u.push({range:k.Range.fromPositions(new v.Position(i,1),b.getEndPosition())}))}}}e.BracketSelectionRangeProvider=I,I._maxDuration=30,I._maxRounds=2}),define(se[467],re([1,0,8,3]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class k{provideSelectionRanges(L,_){const b=[];for(const u of _){const g=[];b.push(g),this._addInWordRanges(g,L,u),this._addWordRanges(g,L,u),this._addWhitespaceLine(g,L,u),g.push({range:L.getFullModelRange()})}return b}_addInWordRanges(L,_,b){const u=_.getWordAtPosition(b);if(!u)return;const{word:g,startColumn:n}=u,i=b.column-n;let t=i,o=i,r=0;for(;t>=0;t--){const c=g.charCodeAt(t);if(t!==i&&(c===95||c===45))break;if((0,w.isLowerAsciiLetter)(c)&&(0,w.isUpperAsciiLetter)(r))break;r=c}for(t+=1;o<g.length;o++){const c=g.charCodeAt(o);if((0,w.isUpperAsciiLetter)(c)&&(0,w.isLowerAsciiLetter)(r))break;if(c===95||c===45)break;r=c}t<o&&L.push({range:new v.Range(b.lineNumber,n+t,b.lineNumber,n+o)})}_addWordRanges(L,_,b){const u=_.getWordAtPosition(b);u&&L.push({range:new v.Range(b.lineNumber,u.startColumn,b.lineNumber,u.endColumn)})}_addWhitespaceLine(L,_,b){_.getLineLength(b.lineNumber)>0&&_.getLineFirstNonWhitespaceColumn(b.lineNumber)===0&&_.getLineLastNonWhitespaceColumn(b.lineNumber)===0&&L.push({range:new v.Range(b.lineNumber,1,b.lineNumber,_.getLineMaxColumn(b.lineNumber))})}}e.WordSelectionRangeProvider=k}),define(se[89],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class w{constructor(){this.value="",this.pos=0}static isDigitCharacter(r){return r>=48&&r<=57}static isVariableCharacter(r){return r===95||r>=97&&r<=122||r>=65&&r<=90}text(r){this.value=r,this.pos=0}tokenText(r){return this.value.substr(r.pos,r.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const r=this.pos;let c=0,d=this.value.charCodeAt(r),a;if(a=w._table[d],typeof a=="number")return this.pos+=1,{type:a,pos:r,len:1};if(w.isDigitCharacter(d)){a=8;do c+=1,d=this.value.charCodeAt(r+c);while(w.isDigitCharacter(d));return this.pos+=c,{type:a,pos:r,len:c}}if(w.isVariableCharacter(d)){a=9;do d=this.value.charCodeAt(r+ ++c);while(w.isVariableCharacter(d)||w.isDigitCharacter(d));return this.pos+=c,{type:a,pos:r,len:c}}a=10;do c+=1,d=this.value.charCodeAt(r+c);while(!isNaN(d)&&typeof w._table[d]=="undefined"&&!w.isDigitCharacter(d)&&!w.isVariableCharacter(d));return this.pos+=c,{type:a,pos:r,len:c}}}e.Scanner=w,w._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class v{constructor(){this._children=[]}appendChild(r){return r instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=r.value:(r.parent=this,this._children.push(r)),this}replace(r,c){const{parent:d}=r,a=d.children.indexOf(r),s=d.children.slice(0);s.splice(a,1,...c),d._children=s,function l(h,p){for(const S of h)S.parent=p,l(S.children,S)}(c,d)}get children(){return this._children}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof i)return r;r=r.parent}}toString(){return this.children.reduce((r,c)=>r+c.toString(),"")}len(){return 0}}e.Marker=v;class k extends v{constructor(r){super();this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new k(this.value)}}e.Text=k;class I extends v{}e.TransformableMarker=I;class L extends I{constructor(r){super();this.index=r}static compareByIndex(r,c){return r.index===c.index?0:r.isFinalTabstop?1:c.isFinalTabstop||r.index<c.index?-1:r.index>c.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof _?this._children[0]:void 0}clone(){const r=new L(this.index);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(c=>c.clone()),r}}e.Placeholder=L;class _ extends v{constructor(){super(...arguments);this.options=[]}appendChild(r){return r instanceof k&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const r=new _;return this.options.forEach(r.appendChild,r),r}}e.Choice=_;class b extends v{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(r){const c=this;let d=!1,a=r.replace(this.regexp,function(){return d=!0,c._replace(Array.prototype.slice.call(arguments,0,-2))});return!d&&this._children.some(s=>s instanceof u&&Boolean(s.elseValue))&&(a=this._replace([])),a}_replace(r){let c="";for(const d of this._children)if(d instanceof u){let a=r[d.index]||"";a=d.resolve(a),c+=a}else c+=d.toString();return c}toString(){return""}clone(){const r=new b;return r.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r._children=this.children.map(c=>c.clone()),r}}e.Transform=b;class u extends v{constructor(r,c,d,a){super();this.index=r,this.shorthandName=c,this.ifValue=d,this.elseValue=a}resolve(r){return this.shorthandName==="upcase"?r?r.toLocaleUpperCase():"":this.shorthandName==="downcase"?r?r.toLocaleLowerCase():"":this.shorthandName==="capitalize"?r?r[0].toLocaleUpperCase()+r.substr(1):"":this.shorthandName==="pascalcase"?r?this._toPascalCase(r):"":this.shorthandName==="camelcase"?r?this._toCamelCase(r):"":Boolean(r)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(r)&&typeof this.elseValue=="string"?this.elseValue:r||""}_toPascalCase(r){const c=r.match(/[a-z0-9]+/gi);return c?c.map(d=>d.charAt(0).toUpperCase()+d.substr(1)).join(""):r}_toCamelCase(r){const c=r.match(/[a-z0-9]+/gi);return c?c.map((d,a)=>a===0?d.charAt(0).toLowerCase()+d.substr(1):d.charAt(0).toUpperCase()+d.substr(1)).join(""):r}clone(){return new u(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=u;class g extends I{constructor(r){super();this.name=r}resolve(r){let c=r.resolve(this);return this.transform&&(c=this.transform.resolve(c||"")),c!==void 0?(this._children=[new k(c)],!0):!1}clone(){const r=new g(this.name);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(c=>c.clone()),r}}e.Variable=g;function n(o,r){const c=[...o];for(;c.length>0;){const d=c.shift();if(!r(d))break;c.unshift(...d.children)}}class i extends v{get placeholderInfo(){if(!this._placeholders){const r=[];let c;this.walk(function(d){return d instanceof L&&(r.push(d),c=!c||c.index<d.index?d:c),!0}),this._placeholders={all:r,last:c}}return this._placeholders}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let c=0,d=!1;return this.walk(a=>a===r?(d=!0,!1):(c+=a.len(),!0)),d?c:-1}fullLen(r){let c=0;return n([r],d=>(c+=d.len(),!0)),c}enclosingPlaceholders(r){const c=[];let{parent:d}=r;for(;d;)d instanceof L&&c.push(d),d=d.parent;return c}resolveVariables(r){return this.walk(c=>(c instanceof g&&c.resolve(r)&&(this._placeholders=void 0),!0)),this}appendChild(r){return this._placeholders=void 0,super.appendChild(r)}replace(r,c){return this._placeholders=void 0,super.replace(r,c)}clone(){const r=new i;return this._children=this.children.map(c=>c.clone()),r}walk(r){n(this.children,r)}}e.TextmateSnippet=i;class t{constructor(){this._scanner=new w,this._token={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,c,d){const a=new i;return this.parseFragment(r,a),this.ensureFinalTabstop(a,d??!1,c??!1),a}parseFragment(r,c){const d=c.children.length;for(this._scanner.text(r),this._token=this._scanner.next();this._parse(c););const a=new Map,s=[];c.walk(l=>(l instanceof L&&(l.isFinalTabstop?a.set(0,void 0):!a.has(l.index)&&l.children.length>0?a.set(l.index,l.children):s.push(l)),!0));for(const l of s){const h=a.get(l.index);if(h){const p=new L(l.index);p.transform=l.transform;for(const S of h)p.appendChild(S.clone());c.replace(l,[p])}}return c.children.slice(d)}ensureFinalTabstop(r,c,d){(c||d&&r.placeholders.length>0)&&(r.placeholders.find(s=>s.index===0)||r.appendChild(new L(0)))}_accept(r,c){if(r===void 0||this._token.type===r){const d=c?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),d}return!1}_backTo(r){return this._scanner.pos=r.pos+r.len,this._token=r,!1}_until(r){const c=this._token;for(;this._token.type!==r;){if(this._token.type===14)return!1;if(this._token.type===5){const a=this._scanner.next();if(a.type!==0&&a.type!==4&&a.type!==5)return!1}this._token=this._scanner.next()}const d=this._scanner.value.substring(c.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),d}_parse(r){return this._parseEscaped(r)||this._parseTabstopOrVariableName(r)||this._parseComplexPlaceholder(r)||this._parseComplexVariable(r)||this._parseAnything(r)}_parseEscaped(r){let c;return(c=this._accept(5,!0))?(c=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||c,r.appendChild(new k(c)),!0):!1}_parseTabstopOrVariableName(r){let c;const d=this._token;return this._accept(0)&&(c=this._accept(9,!0)||this._accept(8,!0))?(r.appendChild(/^\d+$/.test(c)?new L(Number(c)):new g(c)),!0):this._backTo(d)}_parseComplexPlaceholder(r){let c;const d=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(8,!0))))return this._backTo(d);const s=new L(Number(c));if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(s),!0;if(!this._parse(s))return r.appendChild(new k("${"+c+":")),s.children.forEach(r.appendChild,r),!0}else if(s.index>0&&this._accept(7)){const l=new _;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(l),this._accept(4)))return r.appendChild(s),!0}return this._backTo(d),!1}}else return this._accept(6)?this._parseTransform(s)?(r.appendChild(s),!0):(this._backTo(d),!1):this._accept(4)?(r.appendChild(s),!0):this._backTo(d)}_parseChoiceElement(r){const c=this._token,d=[];for(;!(this._token.type===2||this._token.type===7);){let a;if((a=this._accept(5,!0))?a=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||a:a=this._accept(void 0,!0),!a)return this._backTo(c),!1;d.push(a)}return d.length===0?(this._backTo(c),!1):(r.appendChild(new k(d.join(""))),!0)}_parseComplexVariable(r){let c;const d=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(9,!0))))return this._backTo(d);const s=new g(c);if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(s),!0;if(!this._parse(s))return r.appendChild(new k("${"+c+":")),s.children.forEach(r.appendChild,r),!0}else return this._accept(6)?this._parseTransform(s)?(r.appendChild(s),!0):(this._backTo(d),!1):this._accept(4)?(r.appendChild(s),!0):this._backTo(d)}_parseTransform(r){const c=new b;let d="",a="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(6,!0)||s,d+=s;continue}if(this._token.type!==14){d+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(5,!0)||this._accept(6,!0)||s,c.appendChild(new k(s));continue}if(!(this._parseFormatString(c)||this._parseAnything(c)))return!1}for(;!this._accept(4);){if(this._token.type!==14){a+=this._accept(void 0,!0);continue}return!1}try{c.regexp=new RegExp(d,a)}catch{return!1}return r.transform=c,!0}_parseFormatString(r){const c=this._token;if(!this._accept(0))return!1;let d=!1;this._accept(3)&&(d=!0);const a=this._accept(8,!0);if(a)if(d){if(this._accept(4))return r.appendChild(new u(Number(a))),!0;if(!this._accept(1))return this._backTo(c),!1}else return r.appendChild(new u(Number(a))),!0;else return this._backTo(c),!1;if(this._accept(6)){const s=this._accept(9,!0);return!s||!this._accept(4)?(this._backTo(c),!1):(r.appendChild(new u(Number(a),s)),!0)}else if(this._accept(11)){const s=this._until(4);if(s)return r.appendChild(new u(Number(a),void 0,s,void 0)),!0}else if(this._accept(12)){const s=this._until(4);if(s)return r.appendChild(new u(Number(a),void 0,void 0,s)),!0}else if(this._accept(13)){const s=this._until(1);if(s){const l=this._until(4);if(l)return r.appendChild(new u(Number(a),void 0,s,l)),!0}}else{const s=this._until(4);if(s)return r.appendChild(new u(Number(a),void 0,void 0,s)),!0}return this._backTo(c),!1}_parseAnything(r){return this._token.type!==14?(r.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=t}),define(se[255],re([1,0,17,60,8]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class I{constructor(b,u){this.leadingLineContent=b,this.characterCountDelta=u}}e.LineContext=I;class L{constructor(b,u,g,n,i,t,o=v.FuzzyScoreOptions.default,r=void 0){this.clipboardText=r,this._snippetCompareFn=L._compareCompletionItems,this._items=b,this._column=u,this._wordDistance=n,this._options=i,this._refilterKind=1,this._lineContext=g,this._fuzzyScoreOptions=o,t==="top"?this._snippetCompareFn=L._compareCompletionItemsSnippetsUp:t==="bottom"&&(this._snippetCompareFn=L._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(b){(this._lineContext.leadingLineContent!==b.leadingLineContent||this._lineContext.characterCountDelta!==b.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<b.characterCountDelta&&this._filteredItems?2:1,this._lineContext=b)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const b=new Set;for(const[u,g]of this._providerInfo)g&&b.add(u);return b}adopt(b){const u=[];for(let g=0;g<this._items.length;)b.has(this._items[g].provider)?g++:(u.push(this._items[g]),this._items[g]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,u}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const b=[],{leadingLineContent:u,characterCountDelta:g}=this._lineContext;let n="",i="";const t=this._refilterKind===1?this._items:this._filteredItems,o=[],r=!this._options.filterGraceful||t.length>2e3?v.fuzzyScore:v.fuzzyScoreGracefulAggressive;for(let c=0;c<t.length;c++){const d=t[c];if(d.isInvalid)continue;this._providerInfo.set(d.provider,Boolean(d.container.incomplete));const a=d.position.column-d.editStart.column,s=a+g-(d.position.column-this._column);if(n.length!==s&&(n=s===0?"":u.slice(-s),i=n.toLowerCase()),d.word=n,s===0)d.score=v.FuzzyScore.Default;else{let l=0;for(;l<a;){const h=n.charCodeAt(l);if(h===32||h===9)l+=1;else break}if(l>=s)d.score=v.FuzzyScore.Default;else if(typeof d.completion.filterText=="string"){const h=r(n,i,l,d.completion.filterText,d.filterTextLow,0,this._fuzzyScoreOptions);if(!h)continue;(0,k.compareIgnoreCase)(d.completion.filterText,d.textLabel)===0?d.score=h:(d.score=(0,v.anyScore)(n,i,l,d.textLabel,d.labelLow,0),d.score[0]=h[0])}else{const h=r(n,i,l,d.textLabel,d.labelLow,0,this._fuzzyScoreOptions);if(!h)continue;d.score=h}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),o.push(d),b.push(d.textLabel.length)}this._filteredItems=o.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:b.length?(0,w.quickSelect)(b.length-.85,b,(c,d)=>c-d):0}}static _compareCompletionItems(b,u){return b.score[0]>u.score[0]?-1:b.score[0]<u.score[0]?1:b.distance<u.distance?-1:b.distance>u.distance?1:b.idx<u.idx?-1:b.idx>u.idx?1:0}static _compareCompletionItemsSnippetsDown(b,u){if(b.completion.kind!==u.completion.kind){if(b.completion.kind===27)return 1;if(u.completion.kind===27)return-1}return L._compareCompletionItems(b,u)}static _compareCompletionItemsSnippetsUp(b,u){if(b.completion.kind!==u.completion.kind){if(b.completion.kind===27)return-1;if(u.completion.kind===27)return 1}return L._compareCompletionItems(b,u)}}e.CompletionModel=L}),define(se[468],re([1,0,17,2,108]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class I{constructor(_,b,u){this._disposables=new v.DisposableStore,this._disposables.add(b.onDidShow(()=>this._onItem(b.getFocusedItem()))),this._disposables.add(b.onDidFocus(this._onItem,this)),this._disposables.add(b.onDidHide(this.reset,this)),this._disposables.add(_.onWillType(g=>{if(this._active&&!b.isFrozen()){const n=g.charCodeAt(g.length-1);this._active.acceptCharacters.has(n)&&_.getOption(0)&&u(this._active.item)}}))}_onItem(_){if(!_||!(0,w.isNonEmptyArray)(_.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===_.item)return;const b=new k.CharacterSet;for(const u of _.item.completion.commitCharacters)u.length>0&&b.add(u.charCodeAt(0));this._active={acceptCharacters:b,item:_}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=I}),define(se[469],re([1,0,2]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class v{constructor(I,L){this._disposables=new w.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(I.onWillType(()=>{if(!this._empty||!I.hasModel())return;const _=I.getSelections(),b=_.length;let u=!1;for(let n=0;n<b;n++)if(!_[n].isEmpty()){u=!0;break}if(!u)return;this._lastOvertyped=[];const g=I.getModel();for(let n=0;n<b;n++){const i=_[n];if(g.getValueLengthInRange(i)>v._maxSelectionLength)return;this._lastOvertyped[n]={value:g.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1})),this._disposables.add(L.onDidCancel(_=>{!this._empty&&!_.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(I){if(!this._empty&&I>=0&&I<this._lastOvertyped.length)return this._lastOvertyped[I]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=v,v._maxSelectionLength=51200}),define(se[256],re([1,0,17,3,254]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class I{static create(_,b){return Se(this,void 0,void 0,function*(){if(!b.getOption(108).localityBonus||!b.hasModel())return I.None;const u=b.getModel(),g=b.getPosition();if(!_.canComputeWordRanges(u.uri))return I.None;const[n]=yield new k.BracketSelectionRangeProvider().provideSelectionRanges(u,[g]);if(n.length===0)return I.None;const i=yield _.computeWordRanges(u.uri,n[0].range);if(!i)return I.None;const t=u.getWordUntilPosition(g);return delete i[t.word],new class extends I{distance(o,r){if(!g.equals(b.getPosition()))return 0;if(r.kind===17)return 2<<20;const c=typeof r.label=="string"?r.label:r.label.label,d=i[c];if((0,w.isFalsyOrEmpty)(d))return 2<<20;const a=(0,w.binarySearch)(d,v.Range.fromPositions(o),v.Range.compareRangesUsingStarts),s=a>=0?d[a]:d[Math.max(0,~a-1)];let l=n.length;for(const h of n){if(!v.Range.containsRange(h.range,s))break;l-=1}return l}}})}}e.WordDistance=I,I.None=new class extends I{distance(){return 0}}}),define(se[257],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function w(o){return Array.isArray(o)}e.isFuzzyActionArr=w;function v(o){return!w(o)}e.isFuzzyAction=v;function k(o){return typeof o=="string"}e.isString=k;function I(o){return!k(o)}e.isIAction=I;function L(o){return!o}e.empty=L;function _(o,r){return o.ignoreCase&&r?r.toLowerCase():r}e.fixCase=_;function b(o){return o.replace(/[&<>'"_]/g,"-")}e.sanitize=b;function u(o,r){console.log(`${o.languageId}: ${r}`)}e.log=u;function g(o,r){return new Error(`${o.languageId}: ${r}`)}e.createError=g;function n(o,r,c,d,a){const s=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let l=null;return r.replace(s,function(h,p,S,f,m,C,y,E,T){return L(S)?L(f)?!L(m)&&m<d.length?_(o,d[m]):!L(y)&&o&&typeof o[y]=="string"?o[y]:(l===null&&(l=a.split("."),l.unshift(a)),!L(C)&&C<l.length?_(o,l[C]):""):_(o,c):"$"})}e.substituteMatches=n;function i(o,r){let c=r;for(;c&&c.length>0;){const d=o.tokenizer[c];if(d)return d;const a=c.lastIndexOf(".");a<0?c=null:c=c.substr(0,a)}return null}e.findRules=i;function t(o,r){let c=r;for(;c&&c.length>0;){if(o.stateNames[c])return!0;const a=c.lastIndexOf(".");a<0?c=null:c=c.substr(0,a)}return!1}e.stateExists=t}),define(se[470],re([1,0,257]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function v(o,r){if(!r||!Array.isArray(r))return!1;for(const c of r)if(!o(c))return!1;return!0}function k(o,r){return typeof o=="boolean"?o:r}function I(o,r){return typeof o=="string"?o:r}function L(o){const r={};for(const c of o)r[c]=!0;return r}function _(o,r=!1){r&&(o=o.map(function(d){return d.toLowerCase()}));const c=L(o);return r?function(d){return c[d.toLowerCase()]!==void 0&&c.hasOwnProperty(d.toLowerCase())}:function(d){return c[d]!==void 0&&c.hasOwnProperty(d)}}function b(o,r){r=r.replace(/@@/g,"");let c=0,d;do d=!1,r=r.replace(/@(\w+)/g,function(s,l){d=!0;let h="";if(typeof o[l]=="string")h=o[l];else if(o[l]&&o[l]instanceof RegExp)h=o[l].source;else throw o[l]===void 0?w.createError(o,"language definition does not contain attribute '"+l+"', used at: "+r):w.createError(o,"attribute reference '"+l+"' must be a string, used at: "+r);return w.empty(h)?"":"(?:"+h+")"}),c++;while(d&&c<5);r=r.replace(/\x01/g,"@");const a=(o.ignoreCase?"i":"")+(o.unicode?"u":"");return new RegExp(r,a)}function u(o,r,c,d){if(d<0)return o;if(d<r.length)return r[d];if(d>=100){d=d-100;const a=c.split(".");if(a.unshift(c),d<a.length)return a[d]}return null}function g(o,r,c,d){let a=-1,s=c,l=c.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(a=parseInt(l[3]),l[2]&&(a=a+100)),s=l[4]);let h="~",p=s;!s||s.length===0?(h="!=",p=""):/^\w*$/.test(p)?h="==":(l=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(h=l[1],p=l[2]));let S;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(p)){const f=_(p.split("|"),o.ignoreCase);S=function(m){return h==="~"?f(m):!f(m)}}else if(h==="@"||h==="!@"){const f=o[p];if(!f)throw w.createError(o,"the @ match target '"+p+"' is not defined, in rule: "+r);if(!v(function(C){return typeof C=="string"},f))throw w.createError(o,"the @ match target '"+p+"' must be an array of strings, in rule: "+r);const m=_(f,o.ignoreCase);S=function(C){return h==="@"?m(C):!m(C)}}else if(h==="~"||h==="!~")if(p.indexOf("$")<0){const f=b(o,"^"+p+"$");S=function(m){return h==="~"?f.test(m):!f.test(m)}}else S=function(f,m,C,y){return b(o,"^"+w.substituteMatches(o,p,m,C,y)+"$").test(f)};else if(p.indexOf("$")<0){const f=w.fixCase(o,p);S=function(m){return h==="=="?m===f:m!==f}}else{const f=w.fixCase(o,p);S=function(m,C,y,E,T){const N=w.substituteMatches(o,f,C,y,E);return h==="=="?m===N:m!==N}}return a===-1?{name:c,value:d,test:function(f,m,C,y){return S(f,f,m,C,y)}}:{name:c,value:d,test:function(f,m,C,y){const E=u(f,m,C,a);return S(E||"",f,m,C,y)}}}function n(o,r,c){if(c){if(typeof c=="string")return c;if(c.token||c.token===""){if(typeof c.token!="string")throw w.createError(o,"a 'token' attribute must be of type string, in rule: "+r);{const d={token:c.token};if(c.token.indexOf("$")>=0&&(d.tokenSubst=!0),typeof c.bracket=="string")if(c.bracket==="@open")d.bracket=1;else if(c.bracket==="@close")d.bracket=-1;else throw w.createError(o,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+r);if(c.next){if(typeof c.next!="string")throw w.createError(o,"the next state must be a string value in rule: "+r);{let a=c.next;if(!/^(@pop|@push|@popall)$/.test(a)&&(a[0]==="@"&&(a=a.substr(1)),a.indexOf("$")<0&&!w.stateExists(o,w.substituteMatches(o,a,"",[],""))))throw w.createError(o,"the next state '"+c.next+"' is not defined in rule: "+r);d.next=a}}return typeof c.goBack=="number"&&(d.goBack=c.goBack),typeof c.switchTo=="string"&&(d.switchTo=c.switchTo),typeof c.log=="string"&&(d.log=c.log),typeof c.nextEmbedded=="string"&&(d.nextEmbedded=c.nextEmbedded,o.usesEmbedded=!0),d}}else if(Array.isArray(c)){const d=[];for(let a=0,s=c.length;a<s;a++)d[a]=n(o,r,c[a]);return{group:d}}else if(c.cases){const d=[];for(const s in c.cases)if(c.cases.hasOwnProperty(s)){const l=n(o,r,c.cases[s]);s==="@default"||s==="@"||s===""?d.push({test:void 0,value:l,name:s}):s==="@eos"?d.push({test:function(h,p,S,f){return f},value:l,name:s}):d.push(g(o,r,s,l))}const a=o.defaultToken;return{test:function(s,l,h,p){for(const S of d)if(!S.test||S.test(s,l,h,p))return S.value;return a}}}else throw w.createError(o,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+r)}else return{token:""}}class i{constructor(r){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=r}setRegex(r,c){let d;if(typeof c=="string")d=c;else if(c instanceof RegExp)d=c.source;else throw w.createError(r,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=d.length>0&&d[0]==="^",this.name=this.name+": "+d,this.regex=b(r,"^(?:"+(this.matchOnlyAtLineStart?d.substr(1):d)+")")}setAction(r,c){this.action=n(r,this.name,c)}}function t(o,r){if(!r||typeof r!="object")throw new Error("Monarch: expecting a language definition object");const c={};c.languageId=o,c.includeLF=k(r.includeLF,!1),c.noThrow=!1,c.maxStack=100,c.start=typeof r.start=="string"?r.start:null,c.ignoreCase=k(r.ignoreCase,!1),c.unicode=k(r.unicode,!1),c.tokenPostfix=I(r.tokenPostfix,"."+c.languageId),c.defaultToken=I(r.defaultToken,"source"),c.usesEmbedded=!1;const d=r;d.languageId=o,d.includeLF=c.includeLF,d.ignoreCase=c.ignoreCase,d.unicode=c.unicode,d.noThrow=c.noThrow,d.usesEmbedded=c.usesEmbedded,d.stateNames=r.tokenizer,d.defaultToken=c.defaultToken;function a(l,h,p){for(const S of p){let f=S.include;if(f){if(typeof f!="string")throw w.createError(c,"an 'include' attribute must be a string at: "+l);if(f[0]==="@"&&(f=f.substr(1)),!r.tokenizer[f])throw w.createError(c,"include target '"+f+"' is not defined at: "+l);a(l+"."+f,h,r.tokenizer[f])}else{const m=new i(l);if(Array.isArray(S)&&S.length>=1&&S.length<=3)if(m.setRegex(d,S[0]),S.length>=3)if(typeof S[1]=="string")m.setAction(d,{token:S[1],next:S[2]});else if(typeof S[1]=="object"){const C=S[1];C.next=S[2],m.setAction(d,C)}else throw w.createError(c,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+l);else m.setAction(d,S[1]);else{if(!S.regex)throw w.createError(c,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+l);S.name&&typeof S.name=="string"&&(m.name=S.name),S.matchOnlyAtStart&&(m.matchOnlyAtLineStart=k(S.matchOnlyAtLineStart,!1)),m.setRegex(d,S.regex),m.setAction(d,S.action)}h.push(m)}}}if(!r.tokenizer||typeof r.tokenizer!="object")throw w.createError(c,"a language definition must define the 'tokenizer' attribute as an object");c.tokenizer=[];for(const l in r.tokenizer)if(r.tokenizer.hasOwnProperty(l)){c.start||(c.start=l);const h=r.tokenizer[l];c.tokenizer[l]=new Array,a("tokenizer."+l,c.tokenizer[l],h)}if(c.usesEmbedded=d.usesEmbedded,r.brackets){if(!Array.isArray(r.brackets))throw w.createError(c,"the 'brackets' attribute must be defined as an array")}else r.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(const l of r.brackets){let h=l;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw w.createError(c,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")s.push({token:h.token+c.tokenPostfix,open:w.fixCase(c,h.open),close:w.fixCase(c,h.close)});else throw w.createError(c,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return c.brackets=s,c.noThrow=!0,c}e.compile=t}),define(se[471],re([4,5]),function(G,e){return G.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(se[472],re([4,5]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInput",e)}),define(se[473],re([4,5]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(se[474],re([4,5]),function(G,e){return G.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(se[475],re([4,5]),function(G,e){return G.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(se[476],re([4,5]),function(G,e){return G.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(se[477],re([4,5]),function(G,e){return G.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(se[478],re([4,5]),function(G,e){return G.create("vs/base/browser/ui/tree/abstractTree",e)}),define(se[479],re([4,5]),function(G,e){return G.create("vs/base/common/actions",e)}),define(se[480],re([4,5]),function(G,e){return G.create("vs/base/common/errorMessage",e)}),define(se[481],re([1,0,17,20,480]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function I(u,g){return g&&(u.stack||u.stacktrace)?k.localize(0,null,_(u),L(u.stack)||L(u.stacktrace)):_(u)}function L(u){return Array.isArray(u)?u.join(`
`):u}function _(u){return typeof u.code=="string"&&typeof u.errno=="number"&&typeof u.syscall=="string"?k.localize(1,null,u.message):u.message||k.localize(2,null)}function b(u=null,g=!1){if(!u)return k.localize(3,null);if(Array.isArray(u)){const n=w.coalesce(u),i=b(n[0],g);return n.length>1?k.localize(4,null,i,n.length):i}if(v.isString(u))return u;if(u.detail){const n=u.detail;if(n.error)return I(n.error,g);if(n.exception)return I(n.exception,g)}return u.stack?I(u,g):u.message?u.message:k.localize(5,null)}e.toErrorMessage=b}),define(se[482],re([4,5]),function(G,e){return G.create("vs/base/common/keybindingLabels",e)}),define(se[193],re([1,0,482]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class v{constructor(L,_,b=_){this.modifierLabels=[null],this.modifierLabels[2]=L,this.modifierLabels[1]=_,this.modifierLabels[3]=b}toLabel(L,_,b){if(_.length===0)return null;const u=[];for(let g=0,n=_.length;g<n;g++){const i=_[g],t=b(i);if(t===null)return null;u[g]=k(i,t,this.modifierLabels[L])}return u.join(" ")}}e.ModifierLabelProvider=v,e.UILabelProvider=new v({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:w.localize(0,null),shiftKey:w.localize(1,null),altKey:w.localize(2,null),metaKey:w.localize(3,null),separator:"+"},{ctrlKey:w.localize(4,null),shiftKey:w.localize(5,null),altKey:w.localize(6,null),metaKey:w.localize(7,null),separator:"+"}),e.AriaLabelProvider=new v({ctrlKey:w.localize(8,null),shiftKey:w.localize(9,null),altKey:w.localize(10,null),metaKey:w.localize(11,null),separator:"+"},{ctrlKey:w.localize(12,null),shiftKey:w.localize(13,null),altKey:w.localize(14,null),metaKey:w.localize(15,null),separator:"+"},{ctrlKey:w.localize(16,null),shiftKey:w.localize(17,null),altKey:w.localize(18,null),metaKey:w.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new v({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new v({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function k(I,L,_){if(L===null)return"";const b=[];return I.ctrlKey&&b.push(_.ctrlKey),I.shiftKey&&b.push(_.shiftKey),I.altKey&&b.push(_.altKey),I.metaKey&&b.push(_.metaKey),L!==""&&b.push(L),b.join(_.separator)}}),define(se[483],re([4,5]),function(G,e){return G.create("vs/base/common/platform",e)}),define(se[18],re([1,0,483]),function(G,e,w){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const k="en";let I=!1,L=!1,_=!1,b=!1,u=!1,g=!1,n=!1,i=!1,t=!1,o,r=k,c,d;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let a;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?a=e.globals.vscode.process:typeof process!="undefined"&&(a=process);const s=typeof((v=a==null?void 0:a.versions)===null||v===void 0?void 0:v.electron)=="string",l=s&&(a==null?void 0:a.type)==="renderer";if(typeof navigator=="object"&&!l)d=navigator.userAgent,I=d.indexOf("Windows")>=0,L=d.indexOf("Macintosh")>=0,i=(d.indexOf("Macintosh")>=0||d.indexOf("iPad")>=0||d.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_=d.indexOf("Linux")>=0,g=!0,o=w.getConfiguredDefaultLocale(w.localize(0,null))||k,r=o;else if(typeof a=="object"){I=a.platform==="win32",L=a.platform==="darwin",_=a.platform==="linux",b=_&&!!a.env.SNAP&&!!a.env.SNAP_REVISION,n=s,t=!!a.env.CI||!!a.env.BUILD_ARTIFACTSTAGINGDIRECTORY,o=k,r=k;const m=a.env.VSCODE_NLS_CONFIG;if(m)try{const C=JSON.parse(m),y=C.availableLanguages["*"];o=C.locale,r=y||k,c=C._translationsConfigFile}catch{}u=!0}else console.error("Unable to resolve platform.");let h=0;L?h=1:I?h=3:_&&(h=2),e.isWindows=I,e.isMacintosh=L,e.isLinux=_,e.isNative=u,e.isWeb=g,e.isWebWorker=g&&typeof e.globals.importScripts=="function",e.isIOS=i,e.userAgent=d,e.language=r,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const m=[];e.globals.addEventListener("message",y=>{if(y.data&&y.data.vscodeScheduleAsyncWork)for(let E=0,T=m.length;E<T;E++){const N=m[E];if(N.id===y.data.vscodeScheduleAsyncWork){m.splice(E,1),N.callback();return}}});let C=0;return y=>{const E=++C;m.push({id:E,callback:y}),e.globals.postMessage({vscodeScheduleAsyncWork:E},"*")}}return m=>setTimeout(m)})(),e.OS=L||i?2:I?1:3;let p=!0,S=!1;function f(){if(!S){S=!0;const m=new Uint8Array(2);m[0]=1,m[1]=2,p=new Uint16Array(m.buffer)[0]===(2<<8)+1}return p}e.isLittleEndian=f,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(se[484],re([1,0,18]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let v;if(typeof w.globals.vscode!="undefined"&&typeof w.globals.vscode.process!="undefined"){const k=w.globals.vscode.process;v={get platform(){return k.platform},get arch(){return k.arch},get env(){return k.env},cwd(){return k.cwd()}}}else typeof process!="undefined"?v={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:v={get platform(){return w.isWindows?"win32":w.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=v.cwd,e.env=v.env,e.platform=v.platform}),define(se[90],re([1,0,484]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const v=65,k=97,I=90,L=122,_=46,b=47,u=92,g=58,n=63;class i extends Error{constructor(l,h,p){let S;typeof h=="string"&&h.indexOf("not ")===0?(S="must not be",h=h.replace(/^not /,"")):S="must be";const f=l.indexOf(".")!==-1?"property":"argument";let m=`The "${l}" ${f} ${S} of type ${h}`;m+=`. Received type ${typeof p}`;super(m);this.code="ERR_INVALID_ARG_TYPE"}}function t(s,l){if(typeof s!="string")throw new i(l,"string",s)}function o(s){return s===b||s===u}function r(s){return s===b}function c(s){return s>=v&&s<=I||s>=k&&s<=L}function d(s,l,h,p){let S="",f=0,m=-1,C=0,y=0;for(let E=0;E<=s.length;++E){if(E<s.length)y=s.charCodeAt(E);else{if(p(y))break;y=b}if(p(y)){if(!(m===E-1||C===1))if(C===2){if(S.length<2||f!==2||S.charCodeAt(S.length-1)!==_||S.charCodeAt(S.length-2)!==_){if(S.length>2){const T=S.lastIndexOf(h);T===-1?(S="",f=0):(S=S.slice(0,T),f=S.length-1-S.lastIndexOf(h)),m=E,C=0;continue}else if(S.length!==0){S="",f=0,m=E,C=0;continue}}l&&(S+=S.length>0?`${h}..`:"..",f=2)}else S.length>0?S+=`${h}${s.slice(m+1,E)}`:S=s.slice(m+1,E),f=E-m-1;m=E,C=0}else y===_&&C!==-1?++C:C=-1}return S}function a(s,l){if(l===null||typeof l!="object")throw new i("pathObject","Object",l);const h=l.dir||l.root,p=l.base||`${l.name||""}${l.ext||""}`;return h?h===l.root?`${h}${p}`:`${h}${s}${p}`:p}e.win32={resolve(...s){let l="",h="",p=!1;for(let S=s.length-1;S>=-1;S--){let f;if(S>=0){if(f=s[S],t(f,"path"),f.length===0)continue}else l.length===0?f=w.cwd():(f=w.env[`=${l}`]||w.cwd(),(f===void 0||f.slice(0,2).toLowerCase()!==l.toLowerCase()&&f.charCodeAt(2)===u)&&(f=`${l}\\`));const m=f.length;let C=0,y="",E=!1;const T=f.charCodeAt(0);if(m===1)o(T)&&(C=1,E=!0);else if(o(T))if(E=!0,o(f.charCodeAt(1))){let N=2,F=N;for(;N<m&&!o(f.charCodeAt(N));)N++;if(N<m&&N!==F){const O=f.slice(F,N);for(F=N;N<m&&o(f.charCodeAt(N));)N++;if(N<m&&N!==F){for(F=N;N<m&&!o(f.charCodeAt(N));)N++;(N===m||N!==F)&&(y=`\\\\${O}\\${f.slice(F,N)}`,C=N)}}}else C=1;else c(T)&&f.charCodeAt(1)===g&&(y=f.slice(0,2),C=2,m>2&&o(f.charCodeAt(2))&&(E=!0,C=3));if(y.length>0)if(l.length>0){if(y.toLowerCase()!==l.toLowerCase())continue}else l=y;if(p){if(l.length>0)break}else if(h=`${f.slice(C)}\\${h}`,p=E,E&&l.length>0)break}return h=d(h,!p,"\\",o),p?`${l}\\${h}`:`${l}${h}`||"."},normalize(s){t(s,"path");const l=s.length;if(l===0)return".";let h=0,p,S=!1;const f=s.charCodeAt(0);if(l===1)return r(f)?"\\":s;if(o(f))if(S=!0,o(s.charCodeAt(1))){let C=2,y=C;for(;C<l&&!o(s.charCodeAt(C));)C++;if(C<l&&C!==y){const E=s.slice(y,C);for(y=C;C<l&&o(s.charCodeAt(C));)C++;if(C<l&&C!==y){for(y=C;C<l&&!o(s.charCodeAt(C));)C++;if(C===l)return`\\\\${E}\\${s.slice(y)}\\`;C!==y&&(p=`\\\\${E}\\${s.slice(y,C)}`,h=C)}}}else h=1;else c(f)&&s.charCodeAt(1)===g&&(p=s.slice(0,2),h=2,l>2&&o(s.charCodeAt(2))&&(S=!0,h=3));let m=h<l?d(s.slice(h),!S,"\\",o):"";return m.length===0&&!S&&(m="."),m.length>0&&o(s.charCodeAt(l-1))&&(m+="\\"),p===void 0?S?`\\${m}`:m:S?`${p}\\${m}`:`${p}${m}`},isAbsolute(s){t(s,"path");const l=s.length;if(l===0)return!1;const h=s.charCodeAt(0);return o(h)||l>2&&c(h)&&s.charCodeAt(1)===g&&o(s.charCodeAt(2))},join(...s){if(s.length===0)return".";let l,h;for(let f=0;f<s.length;++f){const m=s[f];t(m,"path"),m.length>0&&(l===void 0?l=h=m:l+=`\\${m}`)}if(l===void 0)return".";let p=!0,S=0;if(typeof h=="string"&&o(h.charCodeAt(0))){++S;const f=h.length;f>1&&o(h.charCodeAt(1))&&(++S,f>2&&(o(h.charCodeAt(2))?++S:p=!1))}if(p){for(;S<l.length&&o(l.charCodeAt(S));)S++;S>=2&&(l=`\\${l.slice(S)}`)}return e.win32.normalize(l)},relative(s,l){if(t(s,"from"),t(l,"to"),s===l)return"";const h=e.win32.resolve(s),p=e.win32.resolve(l);if(h===p||(s=h.toLowerCase(),l=p.toLowerCase(),s===l))return"";let S=0;for(;S<s.length&&s.charCodeAt(S)===u;)S++;let f=s.length;for(;f-1>S&&s.charCodeAt(f-1)===u;)f--;const m=f-S;let C=0;for(;C<l.length&&l.charCodeAt(C)===u;)C++;let y=l.length;for(;y-1>C&&l.charCodeAt(y-1)===u;)y--;const E=y-C,T=m<E?m:E;let N=-1,F=0;for(;F<T;F++){const P=s.charCodeAt(S+F);if(P!==l.charCodeAt(C+F))break;P===u&&(N=F)}if(F!==T){if(N===-1)return p}else{if(E>T){if(l.charCodeAt(C+F)===u)return p.slice(C+F+1);if(F===2)return p.slice(C+F)}m>T&&(s.charCodeAt(S+F)===u?N=F:F===2&&(N=3)),N===-1&&(N=0)}let O="";for(F=S+N+1;F<=f;++F)(F===f||s.charCodeAt(F)===u)&&(O+=O.length===0?"..":"\\..");return C+=N,O.length>0?`${O}${p.slice(C,y)}`:(p.charCodeAt(C)===u&&++C,p.slice(C,y))},toNamespacedPath(s){if(typeof s!="string")return s;if(s.length===0)return"";const l=e.win32.resolve(s);if(l.length<=2)return s;if(l.charCodeAt(0)===u){if(l.charCodeAt(1)===u){const h=l.charCodeAt(2);if(h!==n&&h!==_)return`\\\\?\\UNC\\${l.slice(2)}`}}else if(c(l.charCodeAt(0))&&l.charCodeAt(1)===g&&l.charCodeAt(2)===u)return`\\\\?\\${l}`;return s},dirname(s){t(s,"path");const l=s.length;if(l===0)return".";let h=-1,p=0;const S=s.charCodeAt(0);if(l===1)return o(S)?s:".";if(o(S)){if(h=p=1,o(s.charCodeAt(1))){let C=2,y=C;for(;C<l&&!o(s.charCodeAt(C));)C++;if(C<l&&C!==y){for(y=C;C<l&&o(s.charCodeAt(C));)C++;if(C<l&&C!==y){for(y=C;C<l&&!o(s.charCodeAt(C));)C++;if(C===l)return s;C!==y&&(h=p=C+1)}}}}else c(S)&&s.charCodeAt(1)===g&&(h=l>2&&o(s.charCodeAt(2))?3:2,p=h);let f=-1,m=!0;for(let C=l-1;C>=p;--C)if(o(s.charCodeAt(C))){if(!m){f=C;break}}else m=!1;if(f===-1){if(h===-1)return".";f=h}return s.slice(0,f)},basename(s,l){l!==void 0&&t(l,"ext"),t(s,"path");let h=0,p=-1,S=!0,f;if(s.length>=2&&c(s.charCodeAt(0))&&s.charCodeAt(1)===g&&(h=2),l!==void 0&&l.length>0&&l.length<=s.length){if(l===s)return"";let m=l.length-1,C=-1;for(f=s.length-1;f>=h;--f){const y=s.charCodeAt(f);if(o(y)){if(!S){h=f+1;break}}else C===-1&&(S=!1,C=f+1),m>=0&&(y===l.charCodeAt(m)?--m==-1&&(p=f):(m=-1,p=C))}return h===p?p=C:p===-1&&(p=s.length),s.slice(h,p)}for(f=s.length-1;f>=h;--f)if(o(s.charCodeAt(f))){if(!S){h=f+1;break}}else p===-1&&(S=!1,p=f+1);return p===-1?"":s.slice(h,p)},extname(s){t(s,"path");let l=0,h=-1,p=0,S=-1,f=!0,m=0;s.length>=2&&s.charCodeAt(1)===g&&c(s.charCodeAt(0))&&(l=p=2);for(let C=s.length-1;C>=l;--C){const y=s.charCodeAt(C);if(o(y)){if(!f){p=C+1;break}continue}S===-1&&(f=!1,S=C+1),y===_?h===-1?h=C:m!==1&&(m=1):h!==-1&&(m=-1)}return h===-1||S===-1||m===0||m===1&&h===S-1&&h===p+1?"":s.slice(h,S)},format:a.bind(null,"\\"),parse(s){t(s,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return l;const h=s.length;let p=0,S=s.charCodeAt(0);if(h===1)return o(S)?(l.root=l.dir=s,l):(l.base=l.name=s,l);if(o(S)){if(p=1,o(s.charCodeAt(1))){let N=2,F=N;for(;N<h&&!o(s.charCodeAt(N));)N++;if(N<h&&N!==F){for(F=N;N<h&&o(s.charCodeAt(N));)N++;if(N<h&&N!==F){for(F=N;N<h&&!o(s.charCodeAt(N));)N++;N===h?p=N:N!==F&&(p=N+1)}}}}else if(c(S)&&s.charCodeAt(1)===g){if(h<=2)return l.root=l.dir=s,l;if(p=2,o(s.charCodeAt(2))){if(h===3)return l.root=l.dir=s,l;p=3}}p>0&&(l.root=s.slice(0,p));let f=-1,m=p,C=-1,y=!0,E=s.length-1,T=0;for(;E>=p;--E){if(S=s.charCodeAt(E),o(S)){if(!y){m=E+1;break}continue}C===-1&&(y=!1,C=E+1),S===_?f===-1?f=E:T!==1&&(T=1):f!==-1&&(T=-1)}return C!==-1&&(f===-1||T===0||T===1&&f===C-1&&f===m+1?l.base=l.name=s.slice(m,C):(l.name=s.slice(m,f),l.base=s.slice(m,C),l.ext=s.slice(f,C))),m>0&&m!==p?l.dir=s.slice(0,m-1):l.dir=l.root,l},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...s){let l="",h=!1;for(let p=s.length-1;p>=-1&&!h;p--){const S=p>=0?s[p]:w.cwd();t(S,"path"),S.length!==0&&(l=`${S}/${l}`,h=S.charCodeAt(0)===b)}return l=d(l,!h,"/",r),h?`/${l}`:l.length>0?l:"."},normalize(s){if(t(s,"path"),s.length===0)return".";const l=s.charCodeAt(0)===b,h=s.charCodeAt(s.length-1)===b;return s=d(s,!l,"/",r),s.length===0?l?"/":h?"./":".":(h&&(s+="/"),l?`/${s}`:s)},isAbsolute(s){return t(s,"path"),s.length>0&&s.charCodeAt(0)===b},join(...s){if(s.length===0)return".";let l;for(let h=0;h<s.length;++h){const p=s[h];t(p,"path"),p.length>0&&(l===void 0?l=p:l+=`/${p}`)}return l===void 0?".":e.posix.normalize(l)},relative(s,l){if(t(s,"from"),t(l,"to"),s===l||(s=e.posix.resolve(s),l=e.posix.resolve(l),s===l))return"";const h=1,p=s.length,S=p-h,f=1,m=l.length-f,C=S<m?S:m;let y=-1,E=0;for(;E<C;E++){const N=s.charCodeAt(h+E);if(N!==l.charCodeAt(f+E))break;N===b&&(y=E)}if(E===C)if(m>C){if(l.charCodeAt(f+E)===b)return l.slice(f+E+1);if(E===0)return l.slice(f+E)}else S>C&&(s.charCodeAt(h+E)===b?y=E:E===0&&(y=0));let T="";for(E=h+y+1;E<=p;++E)(E===p||s.charCodeAt(E)===b)&&(T+=T.length===0?"..":"/..");return`${T}${l.slice(f+y)}`},toNamespacedPath(s){return s},dirname(s){if(t(s,"path"),s.length===0)return".";const l=s.charCodeAt(0)===b;let h=-1,p=!0;for(let S=s.length-1;S>=1;--S)if(s.charCodeAt(S)===b){if(!p){h=S;break}}else p=!1;return h===-1?l?"/":".":l&&h===1?"//":s.slice(0,h)},basename(s,l){l!==void 0&&t(l,"ext"),t(s,"path");let h=0,p=-1,S=!0,f;if(l!==void 0&&l.length>0&&l.length<=s.length){if(l===s)return"";let m=l.length-1,C=-1;for(f=s.length-1;f>=0;--f){const y=s.charCodeAt(f);if(y===b){if(!S){h=f+1;break}}else C===-1&&(S=!1,C=f+1),m>=0&&(y===l.charCodeAt(m)?--m==-1&&(p=f):(m=-1,p=C))}return h===p?p=C:p===-1&&(p=s.length),s.slice(h,p)}for(f=s.length-1;f>=0;--f)if(s.charCodeAt(f)===b){if(!S){h=f+1;break}}else p===-1&&(S=!1,p=f+1);return p===-1?"":s.slice(h,p)},extname(s){t(s,"path");let l=-1,h=0,p=-1,S=!0,f=0;for(let m=s.length-1;m>=0;--m){const C=s.charCodeAt(m);if(C===b){if(!S){h=m+1;break}continue}p===-1&&(S=!1,p=m+1),C===_?l===-1?l=m:f!==1&&(f=1):l!==-1&&(f=-1)}return l===-1||p===-1||f===0||f===1&&l===p-1&&l===h+1?"":s.slice(l,p)},format:a.bind(null,"/"),parse(s){t(s,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return l;const h=s.charCodeAt(0)===b;let p;h?(l.root="/",p=1):p=0;let S=-1,f=0,m=-1,C=!0,y=s.length-1,E=0;for(;y>=p;--y){const T=s.charCodeAt(y);if(T===b){if(!C){f=y+1;break}continue}m===-1&&(C=!1,m=y+1),T===_?S===-1?S=y:E!==1&&(E=1):S!==-1&&(E=-1)}if(m!==-1){const T=f===0&&h?1:f;S===-1||E===0||E===1&&S===m-1&&S===f+1?l.base=l.name=s.slice(T,m):(l.name=s.slice(T,S),l.base=s.slice(T,m),l.ext=s.slice(S,m))}return f>0?l.dir=s.slice(0,f-1):h&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=w.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=w.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=w.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=w.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=w.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=w.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=w.platform==="win32"?e.win32.sep:e.posix.sep}),define(se[194],re([1,0,90,18,8]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function I(i){return i===47||i===92}e.isPathSeparator=I;function L(i){return i.replace(/[\\/]/g,w.posix.sep)}e.toSlashes=L;function _(i){return i.indexOf("/")===-1&&(i=L(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=_;function b(i,t=w.posix.sep){if(!i)return"";const o=i.length,r=i.charCodeAt(0);if(I(r)){if(I(i.charCodeAt(1))&&!I(i.charCodeAt(2))){let d=3;const a=d;for(;d<o&&!I(i.charCodeAt(d));d++);if(a!==d&&!I(i.charCodeAt(d+1))){for(d+=1;d<o;d++)if(I(i.charCodeAt(d)))return i.slice(0,d+1).replace(/[\\/]/g,t)}}return t}else if(g(r)&&i.charCodeAt(1)===58)return I(i.charCodeAt(2))?i.slice(0,2)+t:i.slice(0,2);let c=i.indexOf("://");if(c!==-1){for(c+=3;c<o;c++)if(I(i.charCodeAt(c)))return i.slice(0,c+1)}return""}e.getRoot=b;function u(i,t,o,r=w.sep){if(i===t)return!0;if(!i||!t||t.length>i.length)return!1;if(o){if(!(0,k.startsWithIgnoreCase)(i,t))return!1;if(t.length===i.length)return!0;let d=t.length;return t.charAt(t.length-1)===r&&d--,i.charAt(d)===r}return t.charAt(t.length-1)!==r&&(t+=r),i.indexOf(t)===0}e.isEqualOrParent=u;function g(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=g;function n(i,t=v.isWindows){return t?g(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=n}),define(se[485],re([1,0,60,90,18,8]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const L=[void 0,[]];function _(a,s,l=0,h=0){const p=s;return p.values&&p.values.length>1?b(a,p.values,l,h):u(a,s,l,h)}e.scoreFuzzy2=_;function b(a,s,l,h){let p=0;const S=[];for(const f of s){const[m,C]=u(a,f,l,h);if(typeof m!="number")return L;p+=m,S.push(...C)}return[p,n(S)]}function u(a,s,l,h){const p=(0,w.fuzzyScore)(s.original,s.originalLowercase,l,a,a.toLowerCase(),h,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return p?[p[0],(0,w.createMatches)(p)]:L}const g=Object.freeze({score:0});function n(a){const s=a.sort((p,S)=>p.start-S.start),l=[];let h;for(const p of s)!h||!i(h,p)?(h=p,l.push(p)):(h.start=Math.min(h.start,p.start),h.end=Math.max(h.end,p.end));return l}function i(a,s){return!(a.end<s.start||s.end<a.start)}function t(a){return a.startsWith('"')&&a.endsWith('"')}const o=" ";function r(a){typeof a!="string"&&(a="");const s=a.toLowerCase(),{pathNormalized:l,normalized:h,normalizedLowercase:p}=c(a),S=l.indexOf(v.sep)>=0,f=t(a);let m;const C=a.split(o);if(C.length>1)for(const y of C){const E=t(y),{pathNormalized:T,normalized:N,normalizedLowercase:F}=c(y);N&&(m||(m=[]),m.push({original:y,originalLowercase:y.toLowerCase(),pathNormalized:T,normalized:N,normalizedLowercase:F,expectContiguousMatch:E}))}return{original:a,originalLowercase:s,pathNormalized:l,normalized:h,normalizedLowercase:p,values:m,containsPathSeparator:S,expectContiguousMatch:f}}e.prepareQuery=r;function c(a){let s;k.isWindows?s=a.replace(/\//g,v.sep):s=a.replace(/\\/g,v.sep);const l=(0,I.stripWildcards)(s).replace(/\s|"/g,"");return{pathNormalized:s,normalized:l,normalizedLowercase:l.toLowerCase()}}function d(a){return Array.isArray(a)?r(a.map(s=>s.original).join(o)):r(a.original)}e.pieceToQuery=d}),define(se[486],re([1,0,194,18]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function k(L,_=v.isWindows){return(0,w.hasDriveLetter)(L,_)?L.charAt(0).toUpperCase()+L.slice(1):L}e.normalizeDriveLetter=k;let I=Object.create(null)}),define(se[57],re([1,0,18]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const v=w.globals.performance&&typeof w.globals.performance.now=="function";class k{constructor(L){this._highResolution=v&&L,this._startTime=this._now(),this._stopTime=-1}static create(L=!0){return new k(L)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?w.globals.performance.now():Date.now()}}e.StopWatch=k}),define(se[6],re([1,0,14,2,73,57]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.EventDeliveryQueue=e.Emitter=e.Event=void 0;const L=!1,_=!1;var b;(function(p){p.None=()=>v.Disposable.None;function S(Z){if(_){const{onListenerDidAdd:ie}=Z,Q=i.create();let J=0;Z.onListenerDidAdd=()=>{++J==2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Q.print()),ie==null||ie()}}}function f(Z){return(ie,Q=null,J)=>{let de=!1,x;return x=Z(ne=>{if(!de)return x?x.dispose():de=!0,ie.call(Q,ne)},null,J),de&&x.dispose(),x}}p.once=f;function m(Z,ie,Q){return F((J,de=null,x)=>Z(ne=>J.call(de,ie(ne)),null,x),Q)}p.map=m;function C(Z,ie,Q){return F((J,de=null,x)=>Z(ne=>{ie(ne),J.call(de,ne)},null,x),Q)}p.forEach=C;function y(Z,ie,Q){return F((J,de=null,x)=>Z(ne=>ie(ne)&&J.call(de,ne),null,x),Q)}p.filter=y;function E(Z){return Z}p.signal=E;function T(...Z){return(ie,Q=null,J)=>(0,v.combinedDisposable)(...Z.map(de=>de(x=>ie.call(Q,x),null,J)))}p.any=T;function N(Z,ie,Q,J){let de=Q;return m(Z,x=>(de=ie(de,x),de),J)}p.reduce=N;function F(Z,ie){let Q;const J={onFirstListenerAdd(){Q=Z(de.fire,de)},onLastListenerRemove(){Q==null||Q.dispose()}};ie||S(J);const de=new o(J);return ie==null||ie.add(de),de.event}function O(Z,ie,Q=100,J=!1,de,x){let ne,te,q,oe=0;const z={leakWarningThreshold:de,onFirstListenerAdd(){ne=Z($=>{oe++,te=ie(te,$),J&&!q&&(X.fire(te),te=void 0),clearTimeout(q),q=setTimeout(()=>{const H=te;te=void 0,q=void 0,(!J||oe>1)&&X.fire(H),oe=0},Q)})},onLastListenerRemove(){ne.dispose()}};x||S(z);const X=new o(z);return x==null||x.add(X),X.event}p.debounce=O;function P(Z,ie=(J,de)=>J===de,Q){let J=!0,de;return y(Z,x=>{const ne=J||!ie(x,de);return J=!1,de=x,ne},Q)}p.latch=P;function D(Z,ie,Q){return[p.filter(Z,ie,Q),p.filter(Z,J=>!ie(J),Q)]}p.split=D;function M(Z,ie=!1,Q=[]){let J=Q.slice(),de=Z(te=>{J?J.push(te):ne.fire(te)});const x=()=>{J==null||J.forEach(te=>ne.fire(te)),J=null},ne=new o({onFirstListenerAdd(){de||(de=Z(te=>ne.fire(te)))},onFirstListenerDidAdd(){J&&(ie?setTimeout(x):x())},onLastListenerRemove(){de&&de.dispose(),de=null}});return ne.event}p.buffer=M;class R{constructor(ie){this.event=ie,this.disposables=new v.DisposableStore}map(ie){return new R(m(this.event,ie,this.disposables))}forEach(ie){return new R(C(this.event,ie,this.disposables))}filter(ie){return new R(y(this.event,ie,this.disposables))}reduce(ie,Q){return new R(N(this.event,ie,Q,this.disposables))}latch(){return new R(P(this.event,void 0,this.disposables))}debounce(ie,Q=100,J=!1,de){return new R(O(this.event,ie,Q,J,de,this.disposables))}on(ie,Q,J){return this.event(ie,Q,J)}once(ie,Q,J){return f(this.event)(ie,Q,J)}dispose(){this.disposables.dispose()}}function B(Z){return new R(Z)}p.chain=B;function W(Z,ie,Q=J=>J){const J=(...te)=>ne.fire(Q(...te)),de=()=>Z.on(ie,J),x=()=>Z.removeListener(ie,J),ne=new o({onFirstListenerAdd:de,onLastListenerRemove:x});return ne.event}p.fromNodeEventEmitter=W;function V(Z,ie,Q=J=>J){const J=(...te)=>ne.fire(Q(...te)),de=()=>Z.addEventListener(ie,J),x=()=>Z.removeEventListener(ie,J),ne=new o({onFirstListenerAdd:de,onLastListenerRemove:x});return ne.event}p.fromDOMEventEmitter=V;function A(Z){return new Promise(ie=>f(Z)(ie))}p.toPromise=A;function Y(Z,ie){return ie(void 0),Z(Q=>ie(Q))}p.runAndSubscribe=Y;function ee(Z,ie){let Q=null;function J(x){Q==null||Q.dispose(),Q=new v.DisposableStore,ie(x,Q)}J(void 0);const de=Z(x=>J(x));return(0,v.toDisposable)(()=>{de.dispose(),Q==null||Q.dispose()})}p.runAndSubscribeWithStore=ee;class U{constructor(ie,Q){this.obs=ie,this._counter=0,this._hasChanged=!1;const J={onFirstListenerAdd:()=>{ie.addObserver(this)},onLastListenerRemove:()=>{ie.removeObserver(this)}};Q||S(J),this.emitter=new o(J),Q&&Q.add(this.emitter)}beginUpdate(ie){this._counter++}handleChange(ie,Q){this._hasChanged=!0}endUpdate(ie){--this._counter==0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function j(Z,ie){return new U(Z,ie).emitter.event}p.fromObservable=j})(b=e.Event||(e.Event={}));class u{constructor(S){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${S}_${u._idPool++}`}start(S){this._stopWatch=new I.StopWatch(!0),this._listenerCount=S}stop(){if(this._stopWatch){const S=this._stopWatch.elapsed();this._elapsedOverall+=S,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${S.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}u._idPool=0;let g=-1;class n{constructor(S,f=Math.random().toString(18).slice(2,5)){this.customThreshold=S,this.name=f,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(S,f){let m=g;if(typeof this.customThreshold=="number"&&(m=this.customThreshold),m<=0||f<m)return;this._stacks||(this._stacks=new Map);const C=this._stacks.get(S.value)||0;if(this._stacks.set(S.value,C+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=m*.5;let y,E=0;for(const[T,N]of this._stacks)(!y||E<N)&&(y=T,E=N);console.warn(`[${this.name}] potential listener LEAK detected, having ${f} listeners already. MOST frequent listener (${E}):`),console.warn(y)}return()=>{const y=this._stacks.get(S.value)||0;this._stacks.set(S.value,y-1)}}}class i{constructor(S){this.value=S}static create(){var S;return new i((S=new Error().stack)!==null&&S!==void 0?S:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(S,f,m){this.callback=S,this.callbackThis=f,this.stack=m,this.subscription=new v.SafeDisposable}invoke(S){this.callback.call(this.callbackThis,S)}}class o{constructor(S){var f,m;this._disposed=!1,this._options=S,this._leakageMon=g>0?new n(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((f=this._options)===null||f===void 0?void 0:f._profName)?new u(this._options._profName):void 0,this._deliveryQueue=(m=this._options)===null||m===void 0?void 0:m.deliveryQueue}dispose(){var S,f,m,C;if(!this._disposed){if(this._disposed=!0,this._listeners){if(L){const y=Array.from(this._listeners);queueMicrotask(()=>{var E;for(const T of y)T.subscription.isset()&&(T.subscription.unset(),(E=T.stack)===null||E===void 0||E.print())})}this._listeners.clear()}(S=this._deliveryQueue)===null||S===void 0||S.clear(this),(m=(f=this._options)===null||f===void 0?void 0:f.onLastListenerRemove)===null||m===void 0||m.call(f),(C=this._leakageMon)===null||C===void 0||C.dispose()}}get event(){return this._event||(this._event=(S,f,m)=>{var C,y,E;this._listeners||(this._listeners=new k.LinkedList);const T=this._listeners.isEmpty();T&&((C=this._options)===null||C===void 0?void 0:C.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let N,F;this._leakageMon&&this._listeners.size>=30&&(F=i.create(),N=this._leakageMon.check(F,this._listeners.size+1)),L&&(F=F??i.create());const O=new t(S,f,F),P=this._listeners.push(O);T&&((y=this._options)===null||y===void 0?void 0:y.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),((E=this._options)===null||E===void 0?void 0:E.onListenerDidAdd)&&this._options.onListenerDidAdd(this,S,f);const D=O.subscription.set(()=>{N==null||N(),this._disposed||(P(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return m instanceof v.DisposableStore?m.add(D):Array.isArray(m)&&m.push(D),D}),this._event}fire(S){var f,m;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new c);for(const C of this._listeners)this._deliveryQueue.push(this,C,S);(f=this._perfMon)===null||f===void 0||f.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(m=this._perfMon)===null||m===void 0||m.stop()}}}e.Emitter=o;class r{constructor(){this._queue=new k.LinkedList}get size(){return this._queue.size}push(S,f,m){this._queue.push(new d(S,f,m))}clear(S){const f=new k.LinkedList;for(const m of this._queue)m.emitter!==S&&f.push(m);this._queue=f}deliver(){for(;this._queue.size>0;){const S=this._queue.shift();try{S.listener.invoke(S.event)}catch(f){(0,w.onUnexpectedError)(f)}}}}e.EventDeliveryQueue=r;class c extends r{clear(S){this._queue.clear()}}class d{constructor(S,f,m){this.emitter=S,this.listener=f,this.event=m}}class a extends o{constructor(S){super(S);this._isPaused=0,this._eventQueue=new k.LinkedList,this._mergeFn=S==null?void 0:S.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const S=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(S))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(S){this._listeners&&(this._isPaused!==0?this._eventQueue.push(S):super.fire(S))}}e.PauseableEmitter=a;class s extends a{constructor(S){var f;super(S);this._delay=(f=S.delay)!==null&&f!==void 0?f:100}fire(S){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(S)}}e.DebounceEmitter=s;class l{constructor(){this.buffers=[]}wrapEvent(S){return(f,m,C)=>S(y=>{const E=this.buffers[this.buffers.length-1];E?E.push(()=>f.call(m,y)):f.call(m,y)},void 0,C)}bufferEvents(S){const f=[];this.buffers.push(f);const m=S();return this.buffers.pop(),f.forEach(C=>C()),m}}e.EventBufferer=l;class h{constructor(){this.listening=!1,this.inputEvent=b.None,this.inputEventListener=v.Disposable.None,this.emitter=new o({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(S){this.inputEvent=S,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=S(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=h}),define(se[41],re([1,0,6,2]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class k{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}k.INSTANCE=new k;class I extends v.Disposable{constructor(){super();this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(o){var r;(r=this._mediaQueryList)===null||r===void 0||r.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),o&&this._onDidChange.fire()}}class L extends v.Disposable{constructor(){super();this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const o=this._register(new I);this._register(o.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const o=document.createElement("canvas").getContext("2d"),r=window.devicePixelRatio||1,c=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;return r/c}}class _{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,v.markAsSingleton)(new L)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function b(t,o){typeof t=="string"&&(t=window.matchMedia(t)),t.addEventListener("change",o)}e.addMatchMediaChangeListener=b,e.PixelRatio=new _;function u(){return k.INSTANCE.getZoomFactor()}e.getZoomFactor=u;const g=navigator.userAgent;e.isFirefox=g.indexOf("Firefox")>=0,e.isWebKit=g.indexOf("AppleWebKit")>=0,e.isChrome=g.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&g.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=g.indexOf("Electron/")>=0,e.isAndroid=g.indexOf("Android")>=0;let n=!1;if(window.matchMedia){const t=window.matchMedia("(display-mode: standalone)"),o=window.matchMedia("(display-mode: fullscreen)");n=t.matches,b(t,({matches:r})=>{n&&o.matches||(n=r)})}function i(){return n}e.isStandalone=i}),define(se[195],re([1,0,41,18]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:v.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:v.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>v.isNative||w.isStandalone()?0:navigator.keyboard||w.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(se[91],re([1,0,6]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class v{constructor(I,L,_){const b=u=>this.emitter.fire(u);this.emitter=new w.Emitter({onFirstListenerAdd:()=>I.addEventListener(L,b,_),onLastListenerRemove:()=>I.removeEventListener(L,b,_)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=v}),define(se[48],re([1,0,41,59,105,18]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function L(i){if(i.charCode){const o=String.fromCharCode(i.charCode).toUpperCase();return v.KeyCodeUtils.fromString(o)}const t=i.keyCode;if(t===3)return 7;if(w.isFirefox){if(t===59)return 80;if(t===107)return 81;if(t===109)return 83;if(I.isMacintosh&&t===224)return 57}else if(w.isWebKit){if(t===91)return 57;if(I.isMacintosh&&t===93)return 57;if(!I.isMacintosh&&t===92)return 57}return v.EVENT_KEY_CODE_MAP[t]||0}const _=I.isMacintosh?256:2048,b=512,u=1024,g=I.isMacintosh?2048:256;class n{constructor(t){this._standardKeyboardEventBrand=!0;const o=t;this.browserEvent=o,this.target=o.target,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.altKey=o.altKey,this.metaKey=o.metaKey,this.keyCode=L(o),this.code=o.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let o=0;return this.ctrlKey&&(o|=_),this.altKey&&(o|=b),this.shiftKey&&(o|=u),this.metaKey&&(o|=g),o|=t,o}_computeRuntimeKeybinding(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new k.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}}e.StandardKeyboardEvent=n}),define(se[63],re([1,0,41,328,18]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class I{constructor(b){this.timestamp=Date.now(),this.browserEvent=b,this.leftButton=b.button===0,this.middleButton=b.button===1,this.rightButton=b.button===2,this.buttons=b.buttons,this.target=b.target,this.detail=b.detail||1,b.type==="dblclick"&&(this.detail=2),this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,typeof b.pageX=="number"?(this.posx=b.pageX,this.posy=b.pageY):(this.posx=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=b.clientY+document.body.scrollTop+document.documentElement.scrollTop);const u=v.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,b.view);this.posx-=u.left,this.posy-=u.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=I;class L{constructor(b,u=0,g=0){if(this.browserEvent=b||null,this.target=b?b.target||b.targetNode||b.srcElement:null,this.deltaY=g,this.deltaX=u,b){const n=b,i=b;if(typeof n.wheelDeltaY!="undefined")this.deltaY=n.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS!="undefined"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(b.type==="wheel"){const t=b;t.deltaMode===t.DOM_DELTA_LINE?w.isFirefox&&!k.isMacintosh?this.deltaY=-b.deltaY/3:this.deltaY=-b.deltaY:this.deltaY=-b.deltaY/40}if(typeof n.wheelDeltaX!="undefined")w.isSafari&&k.isWindows?this.deltaX=-(n.wheelDeltaX/120):this.deltaX=n.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS!="undefined"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-b.detail/3;else if(b.type==="wheel"){const t=b;t.deltaMode===t.DOM_DELTA_LINE?w.isFirefox&&!k.isMacintosh?this.deltaX=-b.deltaX/3:this.deltaX=-b.deltaX:this.deltaX=-b.deltaX/40}this.deltaY===0&&this.deltaX===0&&b.wheelDelta&&(this.deltaY=b.wheelDelta/120)}}preventDefault(){var b;(b=this.browserEvent)===null||b===void 0||b.preventDefault()}stopPropagation(){var b;(b=this.browserEvent)===null||b===void 0||b.stopPropagation()}}e.StandardWheelEvent=L}),define(se[42],re([1,0,6,2,479]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class I extends v.Disposable{constructor(i,t="",o="",r=!0,c){super();this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=t,this._cssClass=o,this._enabled=r,this._actionCallback=c}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,t){return Se(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=I;class L extends v.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new w.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new w.Emitter),this.onDidRun=this._onDidRun.event}run(i,t){return Se(this,void 0,void 0,function*(){if(!i.enabled)return;this._onBeforeRun.fire({action:i});let o;try{yield this.runAction(i,t)}catch(r){o=r}this._onDidRun.fire({action:i,error:o})})}runAction(i,t){return Se(this,void 0,void 0,function*(){yield i.run(t)})}}e.ActionRunner=L;class _ extends I{constructor(i){super(_.ID,i,i?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=_,_.ID="vs.actions.separator";class b{constructor(i,t,o,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=t,this.class=r,this._actions=o}get actions(){return this._actions}run(){return Se(this,void 0,void 0,function*(){})}}e.SubmenuAction=b;class u extends I{constructor(){super(u.ID,k.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=u,u.ID="vs.actions.empty";function g(n){var i,t;return{id:n.id,label:n.label,class:void 0,enabled:(i=n.enabled)!==null&&i!==void 0?i:!0,checked:(t=n.checked)!==null&&t!==void 0?t:!1,run:()=>Se(this,void 0,void 0,function*(){return n.run()}),tooltip:n.label}}e.toAction=g}),define(se[21],re([1,0,6]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const v=Object.freeze(function(_,b){const u=setTimeout(_.bind(b),0);return{dispose(){clearTimeout(u)}}});var k;(function(_){function b(u){return u===_.None||u===_.Cancelled||u instanceof I?!0:!u||typeof u!="object"?!1:typeof u.isCancellationRequested=="boolean"&&typeof u.onCancellationRequested=="function"}_.isCancellationToken=b,_.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.Event.None}),_.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:v})})(k=e.CancellationToken||(e.CancellationToken={}));class I{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?v:(this._emitter||(this._emitter=new w.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class L{constructor(b){this._token=void 0,this._parentListener=void 0,this._parentListener=b&&b.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new I),this._token}cancel(){this._token?this._token instanceof I&&this._token.cancel():this._token=k.Cancelled}dispose(b=!1){var u;b&&this.cancel(),(u=this._parentListener)===null||u===void 0||u.dispose(),this._token?this._token instanceof I&&this._token.dispose():this._token=k.None}}e.CancellationTokenSource=L});var _t=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],w;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),w={},v("next"),v("throw"),v("return"),w[Symbol.asyncIterator]=function(){return this},w);function v(I){w[I]=G[I]&&function(L){return new Promise(function(_,b){L=G[I](L),k(_,b,L.done,L.value)})}}function k(I,L,_,b){Promise.resolve(b).then(function(u){I({value:u,done:_})},L)}};define(se[10],re([1,0,21,14,6,2,18]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function _(y){return!!y&&typeof y.then=="function"}e.isThenable=_;function b(y){const E=new w.CancellationTokenSource,T=y(E.token),N=new Promise((F,O)=>{const P=E.token.onCancellationRequested(()=>{P.dispose(),E.dispose(),O(new v.CancellationError)});Promise.resolve(T).then(D=>{P.dispose(),E.dispose(),F(D)},D=>{P.dispose(),E.dispose(),O(D)})});return new class{cancel(){E.cancel()}then(F,O){return N.then(F,O)}catch(F){return this.then(void 0,F)}finally(F){return N.finally(F)}}}e.createCancelablePromise=b;function u(y,E,T){return new Promise((N,F)=>{const O=E.onCancellationRequested(()=>{O.dispose(),N(T)});y.then(N,F).finally(()=>O.dispose())})}e.raceCancellation=u;class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(E){if(this.activePromise){if(this.queuedPromiseFactory=E,!this.queuedPromise){const T=()=>{this.queuedPromise=null;const N=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,N};this.queuedPromise=new Promise(N=>{this.activePromise.then(T,T).then(N)})}return new Promise((T,N)=>{this.queuedPromise.then(T,N)})}return this.activePromise=E(),new Promise((T,N)=>{this.activePromise.then(F=>{this.activePromise=null,T(F)},F=>{this.activePromise=null,N(F)})})}}e.Throttler=g;const n=(y,E)=>{let T=!0;const N=setTimeout(()=>{T=!1,E()},y);return{isTriggered:()=>T,dispose:()=>{clearTimeout(N),T=!1}}},i=y=>{let E=!0;return queueMicrotask(()=>{E&&(E=!1,y())}),{isTriggered:()=>E,dispose:()=>{E=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class t{constructor(E){this.defaultDelay=E,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(E,T=this.defaultDelay){this.task=E,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((F,O)=>{this.doResolve=F,this.doReject=O}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const F=this.task;return this.task=null,F()}}));const N=()=>{var F;this.deferred=null,(F=this.doResolve)===null||F===void 0||F.call(this,null)};return this.deferred=T===e.MicrotaskDelay?i(N):n(T,N),this.completionPromise}isTriggered(){var E;return!!((E=this.deferred)===null||E===void 0?void 0:E.isTriggered())}cancel(){var E;this.cancelTimeout(),this.completionPromise&&((E=this.doReject)===null||E===void 0||E.call(this,new v.CancellationError),this.completionPromise=null)}cancelTimeout(){var E;(E=this.deferred)===null||E===void 0||E.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class o{constructor(E){this.delayer=new t(E),this.throttler=new g}trigger(E,T){return this.delayer.trigger(()=>this.throttler.queue(E),T)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=o;function r(y,E){return E?new Promise((T,N)=>{const F=setTimeout(()=>{O.dispose(),T()},y),O=E.onCancellationRequested(()=>{clearTimeout(F),O.dispose(),N(new v.CancellationError)})}):b(T=>r(y,T))}e.timeout=r;function c(y,E=0){const T=setTimeout(y,E);return(0,I.toDisposable)(()=>clearTimeout(T))}e.disposableTimeout=c;function d(y,E=N=>!!N,T=null){let N=0;const F=y.length,O=()=>{if(N>=F)return Promise.resolve(T);const P=y[N++];return Promise.resolve(P()).then(M=>E(M)?Promise.resolve(M):O())};return O()}e.first=d;class a{constructor(E,T){this._token=-1,typeof E=="function"&&typeof T=="number"&&this.setIfNotSet(E,T)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(E,T){this.cancel(),this._token=setTimeout(()=>{this._token=-1,E()},T)}setIfNotSet(E,T){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,E()},T))}}e.TimeoutTimer=a;class s{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(E,T){this.cancel(),this._token=setInterval(()=>{E()},T)}}e.IntervalTimer=s;class l{constructor(E,T){this.timeoutToken=-1,this.runner=E,this.timeout=T,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(E=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,E)}get delay(){return this.timeout}set delay(E){this.timeout=E}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var E;(E=this.runner)===null||E===void 0||E.call(this)}}e.RunOnceScheduler=l,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=y=>{(0,L.setTimeout0)(()=>{if(E)return;const T=Date.now()+15;y(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,T-Date.now())}}))});let E=!1;return{dispose(){E||(E=!0)}}}:e.runWhenIdle=(y,E)=>{const T=requestIdleCallback(y,typeof E=="number"?{timeout:E}:void 0);let N=!1;return{dispose(){N||(N=!0,cancelIdleCallback(T))}}}}();class h{constructor(E){this._didRun=!1,this._executor=()=>{try{this._value=E()}catch(T){this._error=T}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=h;class p{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((E,T)=>{this.completeCallback=E,this.errorCallback=T})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(E){return new Promise(T=>{this.completeCallback(E),this.resolved=!0,T()})}cancel(){new Promise(E=>{this.errorCallback(new v.CancellationError),this.rejected=!0,E()})}}e.DeferredPromise=p;var S;(function(y){function E(N){return Se(this,void 0,void 0,function*(){let F;const O=yield Promise.all(N.map(P=>P.then(D=>D,D=>{F||(F=D)})));if(typeof F!="undefined")throw F;return O})}y.settled=E;function T(N){return new Promise((F,O)=>Se(this,void 0,void 0,function*(){try{yield N(F,O)}catch(P){O(P)}}))}y.withAsyncBody=T})(S=e.Promises||(e.Promises={}));class f{constructor(E){this._state=0,this._results=[],this._error=null,this._onStateChanged=new k.Emitter,queueMicrotask(()=>Se(this,void 0,void 0,function*(){const T={emitOne:N=>this.emitOne(N),emitMany:N=>this.emitMany(N),reject:N=>this.reject(N)};try{yield Promise.resolve(E(T)),this.resolve()}catch(N){this.reject(N)}finally{T.emitOne=void 0,T.emitMany=void 0,T.reject=void 0}}))}static fromArray(E){return new f(T=>{T.emitMany(E)})}static fromPromise(E){return new f(T=>Se(this,void 0,void 0,function*(){T.emitMany(yield E)}))}static fromPromises(E){return new f(T=>Se(this,void 0,void 0,function*(){yield Promise.all(E.map(N=>Se(this,void 0,void 0,function*(){return T.emitOne(yield N)})))}))}static merge(E){return new f(T=>Se(this,void 0,void 0,function*(){yield Promise.all(E.map(N=>{var F,O;return Se(this,void 0,void 0,function*(){var P,D;try{for(F=_t(N);O=yield F.next(),!O.done;){const M=O.value;T.emitOne(M)}}catch(M){P={error:M}}finally{try{O&&!O.done&&(D=F.return)&&(yield D.call(F))}finally{if(P)throw P.error}}})}))}))}[Symbol.asyncIterator](){let E=0;return{next:()=>Se(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(E<this._results.length)return{done:!1,value:this._results[E++]};if(this._state===1)return{done:!0,value:void 0};yield k.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(E,T){return new f(N=>Se(this,void 0,void 0,function*(){var F,O;try{for(var P=_t(E),D;D=yield P.next(),!D.done;){const M=D.value;N.emitOne(T(M))}}catch(M){F={error:M}}finally{try{D&&!D.done&&(O=P.return)&&(yield O.call(P))}finally{if(F)throw F.error}}}))}map(E){return f.map(this,E)}static filter(E,T){return new f(N=>Se(this,void 0,void 0,function*(){var F,O;try{for(var P=_t(E),D;D=yield P.next(),!D.done;){const M=D.value;T(M)&&N.emitOne(M)}}catch(M){F={error:M}}finally{try{D&&!D.done&&(O=P.return)&&(yield O.call(P))}finally{if(F)throw F.error}}}))}filter(E){return f.filter(this,E)}static coalesce(E){return f.filter(E,T=>!!T)}coalesce(){return f.coalesce(this)}static toPromise(E){var T,N,F,O;return Se(this,void 0,void 0,function*(){const P=[];try{for(T=_t(E);N=yield T.next(),!N.done;){const D=N.value;P.push(D)}}catch(D){F={error:D}}finally{try{N&&!N.done&&(O=T.return)&&(yield O.call(T))}finally{if(F)throw F.error}}return P})}toPromise(){return f.toPromise(this)}emitOne(E){this._state===0&&(this._results.push(E),this._onStateChanged.fire())}emitMany(E){this._state===0&&(this._results=this._results.concat(E),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(E){this._state===0&&(this._state=2,this._error=E,this._onStateChanged.fire())}}e.AsyncIterableObject=f,f.EMPTY=f.fromArray([]);class m extends f{constructor(E,T){super(T);this._source=E}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=m;function C(y){const E=new w.CancellationTokenSource,T=y(E.token);return new m(E,N=>Se(this,void 0,void 0,function*(){var F,O;const P=E.token.onCancellationRequested(()=>{P.dispose(),E.dispose(),N.reject(new v.CancellationError)});try{try{for(var D=_t(T),M;M=yield D.next(),!M.done;){const R=M.value;if(E.token.isCancellationRequested)return;N.emitOne(R)}}catch(R){F={error:R}}finally{try{M&&!M.done&&(O=D.return)&&(yield O.call(D))}finally{if(F)throw F.error}}P.dispose(),E.dispose()}catch(R){P.dispose(),E.dispose(),N.reject(R)}}))}e.createCancelableAsyncIterable=C}),define(se[487],re([1,0,10,2]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class k extends v.Disposable{constructor(L,_,b){super();this._visibility=L,this._visibleClassName=_,this._invisibleClassName=b,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new w.TimeoutTimer)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this._updateShouldBeVisible())}setShouldBeVisible(L){this._rawShouldBeVisible=L,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const L=this._applyVisibilitySetting();this._shouldBeVisible!==L&&(this._shouldBeVisible=L,this.ensureVisibility())}setIsNeeded(L){this._isNeeded!==L&&(this._isNeeded=L,this.ensureVisibility())}setDomNode(L){this._domNode=L,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var L;(L=this._domNode)===null||L===void 0||L.setClassName(this._visibleClassName)},0))}_hide(L){var _;this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,(_=this._domNode)===null||_===void 0||_.setClassName(this._invisibleClassName+(L?" fade":"")))}}e.ScrollbarVisibilityController=k}),define(se[196],re([1,0,122,17,10,149,6,55]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function b(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=b;function u(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=u;function g(i){return typeof i.collapsible=="boolean"}class n{constructor(t,o,r,c={}){this.user=t,this.list=o,this.rootRef=[],this.eventBufferer=new L.EventBufferer,this._onDidChangeCollapseState=new L.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new L.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new L.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new k.Delayer(k.MicrotaskDelay),this.collapseByDefault=typeof c.collapseByDefault=="undefined"?!1:c.collapseByDefault,this.filter=c.filter,this.autoExpandSingleChildren=typeof c.autoExpandSingleChildren=="undefined"?!1:c.autoExpandSingleChildren,this.root={parent:void 0,element:r,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,o,r=_.Iterable.empty(),c={}){if(t.length===0)throw new w.TreeError(this.user,"Invalid tree location");c.diffIdentityProvider?this.spliceSmart(c.diffIdentityProvider,t,o,r,c):this.spliceSimple(t,o,r,c)}spliceSmart(t,o,r,c,d,a){var s;c===void 0&&(c=_.Iterable.empty()),a===void 0&&(a=(s=d.diffDepth)!==null&&s!==void 0?s:0);const{parentNode:l}=this.getParentNodeWithListIndex(o);if(!l.lastDiffIds)return this.spliceSimple(o,r,c,d);const h=[...c],p=o[o.length-1],S=new I.LcsDiff({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,p),...h,...l.children.slice(p+r)].map(E=>t.getId(E.element).toString())}).ComputeDiff(!1);if(S.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(o,r,h,d);const f=o.slice(0,-1),m=(E,T,N)=>{if(a>0)for(let F=0;F<N;F++)E--,T--,this.spliceSmart(t,[...f,E,0],Number.MAX_SAFE_INTEGER,h[T].children,d,a-1)};let C=Math.min(l.children.length,p+r),y=h.length;for(const E of S.changes.sort((T,N)=>N.originalStart-T.originalStart))m(C,y,C-(E.originalStart+E.originalLength)),C=E.originalStart,y=E.modifiedStart-p,this.spliceSimple([...f,C],E.originalLength,_.Iterable.slice(h,y,y+E.modifiedLength),d);m(C,y,C)}spliceSimple(t,o,r=_.Iterable.empty(),{onDidCreateNode:c,onDidDeleteNode:d,diffIdentityProvider:a}){const{parentNode:s,listIndex:l,revealed:h,visible:p}=this.getParentNodeWithListIndex(t),S=[],f=_.Iterable.map(r,M=>this.createTreeNode(M,s,s.visible?1:0,h,S,c)),m=t[t.length-1],C=s.children.length>0;let y=0;for(let M=m;M>=0&&M<s.children.length;M--){const R=s.children[M];if(R.visible){y=R.visibleChildIndex;break}}const E=[];let T=0,N=0;for(const M of f)E.push(M),N+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=y+T++);const F=(0,v.splice)(s.children,m,o,E);a?s.lastDiffIds?(0,v.splice)(s.lastDiffIds,m,o,E.map(M=>a.getId(M.element).toString())):s.lastDiffIds=s.children.map(M=>a.getId(M.element).toString()):s.lastDiffIds=void 0;let O=0;for(const M of F)M.visible&&O++;if(O!==0)for(let M=m+E.length;M<s.children.length;M++){const R=s.children[M];R.visible&&(R.visibleChildIndex-=O)}if(s.visibleChildrenCount+=T-O,h&&p){const M=F.reduce((R,B)=>R+(B.visible?B.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(s,N-M),this.list.splice(l,M,S)}if(F.length>0&&d){const M=R=>{d(R),R.children.forEach(M)};F.forEach(M)}this._onDidSplice.fire({insertedNodes:E,deletedNodes:F});const P=s.children.length>0;C!==P&&this.setCollapsible(t.slice(0,-1),P);let D=s;for(;D;){if(D.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}D=D.parent}}rerender(t){if(t.length===0)throw new w.TreeError(this.user,"Invalid tree location");const{node:o,listIndex:r,revealed:c}=this.getTreeNodeWithListIndex(t);o.visible&&c&&this.list.splice(r,1,[o])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:o,visible:r,revealed:c}=this.getTreeNodeWithListIndex(t);return r&&c?o:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,o){const r=this.getTreeNode(t);typeof o=="undefined"&&(o=!r.collapsible);const c={collapsible:o};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,c))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,o,r){const c=this.getTreeNode(t);typeof o=="undefined"&&(o=!c.collapsed);const d={collapsed:o,recursive:r||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,d))}_setCollapseState(t,o){const{node:r,listIndex:c,revealed:d}=this.getTreeNodeWithListIndex(t),a=this._setListNodeCollapseState(r,c,d,o);if(r!==this.root&&this.autoExpandSingleChildren&&a&&!g(o)&&r.collapsible&&!r.collapsed&&!o.recursive){let s=-1;for(let l=0;l<r.children.length;l++)if(r.children[l].visible)if(s>-1){s=-1;break}else s=l;s>-1&&this._setCollapseState([...t,s],o)}return a}_setListNodeCollapseState(t,o,r,c){const d=this._setNodeCollapseState(t,c,!1);if(!r||!t.visible||!d)return d;const a=t.renderNodeCount,s=this.updateNodeAfterCollapseChange(t),l=a-(o===-1?0:1);return this.list.splice(o+1,l,s.slice(1)),d}_setNodeCollapseState(t,o,r){let c;if(t===this.root?c=!1:(g(o)?(c=t.collapsible!==o.collapsible,t.collapsible=o.collapsible):t.collapsible?(c=t.collapsed!==o.collapsed,t.collapsed=o.collapsed):c=!1,c&&this._onDidChangeCollapseState.fire({node:t,deep:r})),!g(o)&&o.recursive)for(const d of t.children)c=this._setNodeCollapseState(d,o,!0)||c;return c}expandTo(t){this.eventBufferer.bufferEvents(()=>{let o=this.getTreeNode(t);for(;o.parent;)o=o.parent,t=t.slice(0,t.length-1),o.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,o=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,o),this.refilterDelayer.cancel()}createTreeNode(t,o,r,c,d,a){const s={parent:o,element:t.element,children:[],depth:o.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed!="undefined",collapsed:typeof t.collapsed=="undefined"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(s,r);s.visibility=l,c&&d.push(s);const h=t.children||_.Iterable.empty(),p=c&&l!==0&&!s.collapsed,S=_.Iterable.map(h,C=>this.createTreeNode(C,s,l,p,d,a));let f=0,m=1;for(const C of S)s.children.push(C),m+=C.renderNodeCount,C.visible&&(C.visibleChildIndex=f++);return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=f,s.visible=l===2?f>0:l===1,s.visible?s.collapsed||(s.renderNodeCount=m):(s.renderNodeCount=0,c&&d.pop()),a==null||a(s),s}updateNodeAfterCollapseChange(t){const o=t.renderNodeCount,r=[];return this._updateNodeAfterCollapseChange(t,r),this._updateAncestorsRenderNodeCount(t.parent,r.length-o),r}_updateNodeAfterCollapseChange(t,o){if(t.visible===!1)return 0;if(o.push(t),t.renderNodeCount=1,!t.collapsed)for(const r of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(r,o);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const o=t.renderNodeCount,r=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,r),this._updateAncestorsRenderNodeCount(t.parent,r.length-o),r}_updateNodeAfterFilterChange(t,o,r,c=!0){let d;if(t!==this.root){if(d=this._filterNode(t,o),d===0)return t.visible=!1,t.renderNodeCount=0,!1;c&&r.push(t)}const a=r.length;t.renderNodeCount=t===this.root?0:1;let s=!1;if(!t.collapsed||d!==0){let l=0;for(const h of t.children)s=this._updateNodeAfterFilterChange(h,d,r,c&&!t.collapsed)||s,h.visible&&(h.visibleChildIndex=l++);t.visibleChildrenCount=l}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=d===2?s:d===1,t.visibility=d),t.visible?t.collapsed||(t.renderNodeCount+=r.length-a):(t.renderNodeCount=0,c&&r.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,o){if(o!==0)for(;t;)t.renderNodeCount+=o,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,o){const r=this.filter?this.filter.filter(t.element,o):1;return typeof r=="boolean"?(t.filterData=void 0,r?1:0):b(r)?(t.filterData=r.data,u(r.visibility)):(t.filterData=void 0,u(r))}hasTreeNode(t,o=this.root){if(!t||t.length===0)return!0;const[r,...c]=t;return r<0||r>o.children.length?!1:this.hasTreeNode(c,o.children[r])}getTreeNode(t,o=this.root){if(!t||t.length===0)return o;const[r,...c]=t;if(r<0||r>o.children.length)throw new w.TreeError(this.user,"Invalid tree location");return this.getTreeNode(c,o.children[r])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:o,listIndex:r,revealed:c,visible:d}=this.getParentNodeWithListIndex(t),a=t[t.length-1];if(a<0||a>o.children.length)throw new w.TreeError(this.user,"Invalid tree location");const s=o.children[a];return{node:s,listIndex:r,revealed:c,visible:d&&s.visible}}getParentNodeWithListIndex(t,o=this.root,r=0,c=!0,d=!0){const[a,...s]=t;if(a<0||a>o.children.length)throw new w.TreeError(this.user,"Invalid tree location");for(let l=0;l<a;l++)r+=o.children[l].renderNodeCount;return c=c&&!o.collapsed,d=d&&o.visible,s.length===0?{parentNode:o,listIndex:r,revealed:c,visible:d}:this.getParentNodeWithListIndex(s,o.children[a],r+1,c,d)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const o=[];let r=t;for(;r.parent;)o.push(r.parent.children.indexOf(r)),r=r.parent;return o.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,v.tail2)(t)[0]}getFirstElementChild(t){const o=this.getTreeNode(t);if(o.children.length!==0)return o.children[0].element}}e.IndexTreeModel=n}),define(se[197],re([1,0,196,122,55]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class I{constructor(_,b,u={}){this.user=_,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new w.IndexTreeModel(_,b,null,u),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,u.sorter&&(this.sorter={compare(g,n){return u.sorter.compare(g.element,n.element)}}),this.identityProvider=u.identityProvider}setChildren(_,b=k.Iterable.empty(),u={}){const g=this.getElementLocation(_);this._setChildren(g,this.preserveCollapseState(b),u)}_setChildren(_,b=k.Iterable.empty(),u){const g=new Set,n=new Set,i=o=>{var r;if(o.element===null)return;const c=o;if(g.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();n.add(d),this.nodesByIdentity.set(d,c)}(r=u.onDidCreateNode)===null||r===void 0||r.call(u,c)},t=o=>{var r;if(o.element===null)return;const c=o;if(g.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();n.has(d)||this.nodesByIdentity.delete(d)}(r=u.onDidDeleteNode)===null||r===void 0||r.call(u,c)};this.model.splice([..._,0],Number.MAX_VALUE,b,Object.assign(Object.assign({},u),{onDidCreateNode:i,onDidDeleteNode:t}))}preserveCollapseState(_=k.Iterable.empty()){return this.sorter&&(_=[..._].sort(this.sorter.compare.bind(this.sorter))),k.Iterable.map(_,b=>{let u=this.nodes.get(b.element);if(!u&&this.identityProvider){const i=this.identityProvider.getId(b.element).toString();u=this.nodesByIdentity.get(i)}if(!u)return Object.assign(Object.assign({},b),{children:this.preserveCollapseState(b.children)});const g=typeof b.collapsible=="boolean"?b.collapsible:u.collapsible,n=typeof b.collapsed!="undefined"?b.collapsed:u.collapsed;return Object.assign(Object.assign({},b),{collapsible:g,collapsed:n,children:this.preserveCollapseState(b.children)})})}rerender(_){const b=this.getElementLocation(_);this.model.rerender(b)}getFirstElementChild(_=null){const b=this.getElementLocation(_);return this.model.getFirstElementChild(b)}has(_){return this.nodes.has(_)}getListIndex(_){const b=this.getElementLocation(_);return this.model.getListIndex(b)}getListRenderCount(_){const b=this.getElementLocation(_);return this.model.getListRenderCount(b)}isCollapsible(_){const b=this.getElementLocation(_);return this.model.isCollapsible(b)}setCollapsible(_,b){const u=this.getElementLocation(_);return this.model.setCollapsible(u,b)}isCollapsed(_){const b=this.getElementLocation(_);return this.model.isCollapsed(b)}setCollapsed(_,b,u){const g=this.getElementLocation(_);return this.model.setCollapsed(g,b,u)}expandTo(_){const b=this.getElementLocation(_);this.model.expandTo(b)}refilter(){this.model.refilter()}getNode(_=null){if(_===null)return this.model.getNode(this.model.rootRef);const b=this.nodes.get(_);if(!b)throw new v.TreeError(this.user,`Tree element not found: ${_}`);return b}getNodeLocation(_){return _.element}getParentNodeLocation(_){if(_===null)throw new v.TreeError(this.user,"Invalid getParentNodeLocation call");const b=this.nodes.get(_);if(!b)throw new v.TreeError(this.user,`Tree element not found: ${_}`);const u=this.model.getNodeLocation(b),g=this.model.getParentNodeLocation(u);return this.model.getNode(g).element}getElementLocation(_){if(_===null)return[];const b=this.nodes.get(_);if(!b)throw new v.TreeError(this.user,`Tree element not found: ${_}`);return this.model.getNodeLocation(b)}}e.ObjectTreeModel=I}),define(se[488],re([1,0,197,122,6,55]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function L(a){const s=[a.element],l=a.incompressible||!1;return{element:{elements:s,incompressible:l},children:I.Iterable.map(I.Iterable.from(a.children),L),collapsible:a.collapsible,collapsed:a.collapsed}}function _(a){const s=[a.element],l=a.incompressible||!1;let h,p;for(;[p,h]=I.Iterable.consume(I.Iterable.from(a.children),2),!(p.length!==1||p[0].incompressible);)a=p[0],s.push(a.element);return{element:{elements:s,incompressible:l},children:I.Iterable.map(I.Iterable.concat(p,h),_),collapsible:a.collapsible,collapsed:a.collapsed}}e.compress=_;function b(a,s=0){let l;return s<a.element.elements.length-1?l=[b(a,s+1)]:l=I.Iterable.map(I.Iterable.from(a.children),h=>b(h,0)),s===0&&a.element.incompressible?{element:a.element.elements[s],children:l,incompressible:!0,collapsible:a.collapsible,collapsed:a.collapsed}:{element:a.element.elements[s],children:l,collapsible:a.collapsible,collapsed:a.collapsed}}function u(a){return b(a,0)}e.decompress=u;function g(a,s,l){return a.element===s?Object.assign(Object.assign({},a),{children:l}):Object.assign(Object.assign({},a),{children:I.Iterable.map(I.Iterable.from(a.children),h=>g(h,s,l))})}const n=a=>({getId(s){return s.elements.map(l=>a.getId(l).toString()).join("\0")}});class i{constructor(s,l,h={}){this.user=s,this.rootRef=null,this.nodes=new Map,this.model=new w.ObjectTreeModel(s,l,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(s,l=I.Iterable.empty(),h){const p=h.diffIdentityProvider&&n(h.diffIdentityProvider);if(s===null){const F=I.Iterable.map(l,this.enabled?_:L);this._setChildren(null,F,{diffIdentityProvider:p,diffDepth:1/0});return}const S=this.nodes.get(s);if(!S)throw new Error("Unknown compressed tree node");const f=this.model.getNode(S),m=this.model.getParentNodeLocation(S),C=this.model.getNode(m),y=u(f),E=g(y,s,l),T=(this.enabled?_:L)(E),N=C.children.map(F=>F===f?T:F);this._setChildren(C.element,N,{diffIdentityProvider:p,diffDepth:f.depth-C.depth})}setCompressionEnabled(s){if(s===this.enabled)return;this.enabled=s;const h=this.model.getNode().children,p=I.Iterable.map(h,u),S=I.Iterable.map(p,s?_:L);this._setChildren(null,S,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(s,l,h){const p=new Set,S=m=>{for(const C of m.element.elements)p.add(C),this.nodes.set(C,m.element)},f=m=>{for(const C of m.element.elements)p.has(C)||this.nodes.delete(C)};this.model.setChildren(s,l,Object.assign(Object.assign({},h),{onDidCreateNode:S,onDidDeleteNode:f}))}has(s){return this.nodes.has(s)}getListIndex(s){const l=this.getCompressedNode(s);return this.model.getListIndex(l)}getListRenderCount(s){const l=this.getCompressedNode(s);return this.model.getListRenderCount(l)}getNode(s){if(typeof s=="undefined")return this.model.getNode();const l=this.getCompressedNode(s);return this.model.getNode(l)}getNodeLocation(s){const l=this.model.getNodeLocation(s);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(s){const l=this.getCompressedNode(s),h=this.model.getParentNodeLocation(l);return h===null?null:h.elements[h.elements.length-1]}getFirstElementChild(s){const l=this.getCompressedNode(s);return this.model.getFirstElementChild(l)}isCollapsible(s){const l=this.getCompressedNode(s);return this.model.isCollapsible(l)}setCollapsible(s,l){const h=this.getCompressedNode(s);return this.model.setCollapsible(h,l)}isCollapsed(s){const l=this.getCompressedNode(s);return this.model.isCollapsed(l)}setCollapsed(s,l,h){const p=this.getCompressedNode(s);return this.model.setCollapsed(p,l,h)}expandTo(s){const l=this.getCompressedNode(s);this.model.expandTo(l)}rerender(s){const l=this.getCompressedNode(s);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(s){if(s===null)return null;const l=this.nodes.get(s);if(!l)throw new v.TreeError(this.user,`Tree element not found: ${s}`);return l}}e.CompressedObjectTreeModel=i;const t=a=>a[a.length-1];e.DefaultElementMapper=t;class o{constructor(s,l){this.unwrapper=s,this.node=l}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(s=>new o(this.unwrapper,s))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function r(a,s){return{splice(l,h,p){s.splice(l,h,p.map(S=>a.map(S)))},updateElementHeight(l,h){s.updateElementHeight(l,h)}}}function c(a,s){return Object.assign(Object.assign({},s),{identityProvider:s.identityProvider&&{getId(l){return s.identityProvider.getId(a(l))}},sorter:s.sorter&&{compare(l,h){return s.sorter.compare(l.elements[0],h.elements[0])}},filter:s.filter&&{filter(l,h){return s.filter.filter(a(l),h)}}})}class d{constructor(s,l,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const p=S=>this.elementMapper(S.elements);this.nodeMapper=new v.WeakMapper(S=>new o(p,S)),this.model=new i(s,r(this.nodeMapper,l),c(p,h))}get onDidSplice(){return k.Event.map(this.model.onDidSplice,({insertedNodes:s,deletedNodes:l})=>({insertedNodes:s.map(h=>this.nodeMapper.map(h)),deletedNodes:l.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return k.Event.map(this.model.onDidChangeCollapseState,({node:s,deep:l})=>({node:this.nodeMapper.map(s),deep:l}))}get onDidChangeRenderNodeCount(){return k.Event.map(this.model.onDidChangeRenderNodeCount,s=>this.nodeMapper.map(s))}setChildren(s,l=I.Iterable.empty(),h={}){this.model.setChildren(s,l,h)}setCompressionEnabled(s){this.model.setCompressionEnabled(s)}has(s){return this.model.has(s)}getListIndex(s){return this.model.getListIndex(s)}getListRenderCount(s){return this.model.getListRenderCount(s)}getNode(s){return this.nodeMapper.map(this.model.getNode(s))}getNodeLocation(s){return s.element}getParentNodeLocation(s){return this.model.getParentNodeLocation(s)}getFirstElementChild(s){const l=this.model.getFirstElementChild(s);return l===null||typeof l=="undefined"?l:this.elementMapper(l.elements)}isCollapsible(s){return this.model.isCollapsible(s)}setCollapsible(s,l){return this.model.setCollapsible(s,l)}isCollapsed(s){return this.model.isCollapsed(s)}setCollapsed(s,l,h){return this.model.setCollapsed(s,l,h)}expandTo(s){return this.model.expandTo(s)}rerender(s){return this.model.rerender(s)}refilter(){return this.model.refilter()}getCompressedTreeNode(s=null){return this.model.getNode(s)}}e.CompressibleObjectTreeModel=d}),define(se[489],re([1,0,10]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const v=new w.IdleValue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}}),k=new w.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),I=new w.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function L(u,g,n=!1){const i=u||"",t=g||"",o=v.value.collator.compare(i,t);return v.value.collatorIsNumeric&&o===0&&i!==t?i<t?-1:1:o}e.compareFileNames=L;function _(u,g,n){const i=u.toLowerCase(),t=g.toLowerCase(),o=b(u,g,n);if(o)return o;const r=i.endsWith(n),c=t.endsWith(n);if(r!==c)return r?-1:1;const d=L(i,t);return d!==0?d:i.localeCompare(t)}e.compareAnything=_;function b(u,g,n){const i=u.toLowerCase(),t=g.toLowerCase(),o=i.startsWith(n),r=t.startsWith(n);if(o!==r)return o?-1:1;if(o&&r){if(i.length<t.length)return-1;if(i.length>t.length)return 1}return 0}e.compareByPrefix=b}),define(se[258],re([1,0,10,194,51,90,18,8]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const b="[/\\\\]",u="[^/\\\\]",g=/\//g;function n(B,W){switch(B){case 0:return"";case 1:return`${u}*?`;default:return`(?:${b}|${u}+${b}${W?`|${b}${u}+`:""})*?`}}function i(B,W){if(!B)return[];const V=[];let A=!1,Y=!1,ee="";for(const U of B){switch(U){case W:if(!A&&!Y){V.push(ee),ee="";continue}break;case"{":A=!0;break;case"}":A=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}ee+=U}return ee&&V.push(ee),V}e.splitGlobAware=i;function t(B){if(!B)return"";let W="";const V=i(B,e.GLOB_SPLIT);if(V.every(A=>A===e.GLOBSTAR))W=".*";else{let A=!1;V.forEach((Y,ee)=>{if(Y===e.GLOBSTAR){if(A)return;W+=n(2,ee===V.length-1)}else{let U=!1,j="",Z=!1,ie="";for(const Q of Y){if(Q!=="}"&&U){j+=Q;continue}if(Z&&(Q!=="]"||!ie)){let J;Q==="-"?J=Q:(Q==="^"||Q==="!")&&!ie?J="^":Q===e.GLOB_SPLIT?J="":J=(0,_.escapeRegExpCharacters)(Q),ie+=J;continue}switch(Q){case"{":U=!0;continue;case"[":Z=!0;continue;case"}":{W+=`(?:${i(j,",").map(x=>t(x)).join("|")})`,U=!1,j="";break}case"]":{W+="["+ie+"]",Z=!1,ie="";break}case"?":W+=u;continue;case"*":W+=n(1);continue;default:W+=(0,_.escapeRegExpCharacters)(Q)}}ee<V.length-1&&(V[ee+1]!==e.GLOBSTAR||ee+2<V.length)&&(W+=b)}A=Y===e.GLOBSTAR})}return W}const o=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,c=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,d=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,a=/^\*\*((\/[\w\.-]+)+)\/?$/,s=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,l=new k.LRUCache(1e4),h=function(){return!1},p=function(){return null};function S(B,W){if(!B)return p;let V;typeof B!="string"?V=B.pattern:V=B,V=V.trim();const A=`${V}_${!!W.trimForExclusions}`;let Y=l.get(A);if(Y)return f(Y,B);let ee;return o.test(V)?Y=C(V.substr(4),V):(ee=r.exec(m(V,W)))?Y=y(ee[1],V):(W.trimForExclusions?d:c).test(V)?Y=E(V,W):(ee=a.exec(m(V,W)))?Y=T(ee[1].substr(1),V,!0):(ee=s.exec(m(V,W)))?Y=T(ee[1],V,!1):Y=N(V),l.set(A,Y),f(Y,B)}function f(B,W){if(typeof W=="string")return B;const V=function(A,Y){return(0,v.isEqualOrParent)(A,W.base,!L.isLinux)?B(A.substr(W.base.length+1),Y):null};return V.allBasenames=B.allBasenames,V.allPaths=B.allPaths,V.basenames=B.basenames,V.patterns=B.patterns,V}function m(B,W){return W.trimForExclusions&&B.endsWith("/**")?B.substr(0,B.length-2):B}function C(B,W){return function(V,A){return typeof V=="string"&&V.endsWith(B)?W:null}}function y(B,W){const V=`/${B}`,A=`\\${B}`,Y=function(U,j){return typeof U!="string"?null:j?j===B?W:null:U===B||U.endsWith(V)||U.endsWith(A)?W:null},ee=[B];return Y.basenames=ee,Y.patterns=[W],Y.allBasenames=ee,Y}function E(B,W){const V=R(B.slice(1,-1).split(",").map(j=>S(j,W)).filter(j=>j!==p),B),A=V.length;if(!A)return p;if(A===1)return V[0];const Y=function(j,Z){for(let ie=0,Q=V.length;ie<Q;ie++)if(V[ie](j,Z))return B;return null},ee=V.find(j=>!!j.allBasenames);ee&&(Y.allBasenames=ee.allBasenames);const U=V.reduce((j,Z)=>Z.allPaths?j.concat(Z.allPaths):j,[]);return U.length&&(Y.allPaths=U),Y}function T(B,W,V){const A=I.sep===I.posix.sep,Y=A?B:B.replace(g,I.sep),ee=I.sep+Y,U=I.posix.sep+B;let j;return V?j=function(Z,ie){return typeof Z=="string"&&(Z===Y||Z.endsWith(ee)||!A&&(Z===B||Z.endsWith(U)))?W:null}:j=function(Z,ie){return typeof Z=="string"&&(Z===Y||!A&&Z===B)?W:null},j.allPaths=[(V?"*/":"./")+B],j}function N(B){try{const W=new RegExp(`^${t(B)}$`);return function(V){return W.lastIndex=0,typeof V=="string"&&W.test(V)?B:null}}catch{return p}}function F(B,W,V){return!B||typeof W!="string"?!1:O(B)(W,void 0,V)}e.match=F;function O(B,W={}){if(!B)return h;if(typeof B=="string"||P(B)){const V=S(B,W);if(V===p)return h;const A=function(Y,ee){return!!V(Y,ee)};return V.allBasenames&&(A.allBasenames=V.allBasenames),V.allPaths&&(A.allPaths=V.allPaths),A}return D(B,W)}e.parse=O;function P(B){const W=B;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=P;function D(B,W){const V=R(Object.getOwnPropertyNames(B).map(j=>M(j,B[j],W)).filter(j=>j!==p)),A=V.length;if(!A)return p;if(!V.some(j=>!!j.requiresSiblings)){if(A===1)return V[0];const j=function(Q,J){let de;for(let x=0,ne=V.length;x<ne;x++){const te=V[x](Q,J);if(typeof te=="string")return te;(0,w.isThenable)(te)&&(de||(de=[]),de.push(te))}return de?(()=>Se(this,void 0,void 0,function*(){for(const x of de){const ne=yield x;if(typeof ne=="string")return ne}return null}))():null},Z=V.find(Q=>!!Q.allBasenames);Z&&(j.allBasenames=Z.allBasenames);const ie=V.reduce((Q,J)=>J.allPaths?Q.concat(J.allPaths):Q,[]);return ie.length&&(j.allPaths=ie),j}const Y=function(j,Z,ie){let Q,J;for(let de=0,x=V.length;de<x;de++){const ne=V[de];ne.requiresSiblings&&ie&&(Z||(Z=(0,I.basename)(j)),Q||(Q=Z.substr(0,Z.length-(0,I.extname)(j).length)));const te=ne(j,Z,Q,ie);if(typeof te=="string")return te;(0,w.isThenable)(te)&&(J||(J=[]),J.push(te))}return J?(()=>Se(this,void 0,void 0,function*(){for(const de of J){const x=yield de;if(typeof x=="string")return x}return null}))():null},ee=V.find(j=>!!j.allBasenames);ee&&(Y.allBasenames=ee.allBasenames);const U=V.reduce((j,Z)=>Z.allPaths?j.concat(Z.allPaths):j,[]);return U.length&&(Y.allPaths=U),Y}function M(B,W,V){if(W===!1)return p;const A=S(B,V);if(A===p)return p;if(typeof W=="boolean")return A;if(W){const Y=W.when;if(typeof Y=="string"){const ee=(U,j,Z,ie)=>{if(!ie||!A(U,j))return null;const Q=Y.replace("$(basename)",Z),J=ie(Q);return(0,w.isThenable)(J)?J.then(de=>de?B:null):J?B:null};return ee.requiresSiblings=!0,ee}}return A}function R(B,W){const V=B.filter(j=>!!j.basenames);if(V.length<2)return B;const A=V.reduce((j,Z)=>{const ie=Z.basenames;return ie?j.concat(ie):j},[]);let Y;if(W){Y=[];for(let j=0,Z=A.length;j<Z;j++)Y.push(W)}else Y=V.reduce((j,Z)=>{const ie=Z.patterns;return ie?j.concat(ie):j},[]);const ee=function(j,Z){if(typeof j!="string")return null;if(!Z){let Q;for(Q=j.length;Q>0;Q--){const J=j.charCodeAt(Q-1);if(J===47||J===92)break}Z=j.substr(Q)}const ie=A.indexOf(Z);return ie!==-1?Y[ie]:null};ee.basenames=A,ee.patterns=Y,ee.allBasenames=A;const U=B.filter(j=>!j.basenames);return U.push(ee),U}}),define(se[162],re([1,0,6,2]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class k{constructor(t,o,r,c,d,a,s){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(o=o|0,r=r|0,c=c|0,d=d|0,a=a|0,s=s|0),this.rawScrollLeft=c,this.rawScrollTop=s,o<0&&(o=0),c+o>r&&(c=r-o),c<0&&(c=0),d<0&&(d=0),s+d>a&&(s=a-d),s<0&&(s=0),this.width=o,this.scrollWidth=r,this.scrollLeft=c,this.height=d,this.scrollHeight=a,this.scrollTop=s}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,o){return new k(this._forceIntegerValues,typeof t.width!="undefined"?t.width:this.width,typeof t.scrollWidth!="undefined"?t.scrollWidth:this.scrollWidth,o?this.rawScrollLeft:this.scrollLeft,typeof t.height!="undefined"?t.height:this.height,typeof t.scrollHeight!="undefined"?t.scrollHeight:this.scrollHeight,o?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new k(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft!="undefined"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop!="undefined"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,o){const r=this.width!==t.width,c=this.scrollWidth!==t.scrollWidth,d=this.scrollLeft!==t.scrollLeft,a=this.height!==t.height,s=this.scrollHeight!==t.scrollHeight,l=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:o,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:c,scrollLeftChanged:d,heightChanged:a,scrollHeightChanged:s,scrollTopChanged:l}}}e.ScrollState=k;class I extends v.Disposable{constructor(t){super();this._scrollableBrand=void 0,this._onScroll=this._register(new w.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new k(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,o){var r;const c=this._state.withScrollDimensions(t,o);this._setState(c,Boolean(this._smoothScrolling)),(r=this._smoothScrolling)===null||r===void 0||r.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const o=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(o,!1)}setScrollPositionSmooth(t,o){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:t.scrollTop};const r=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let c;o?c=new u(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):c=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=c}else{const r=this._state.withScrollPosition(t);this._smoothScrolling=u.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),o=this._state.withScrollPosition(t);if(this._setState(o,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,o){const r=this._state;r.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(r,o)))}}e.Scrollable=I;class L{constructor(t,o,r){this.scrollLeft=t,this.scrollTop=o,this.isDone=r}}e.SmoothScrollingUpdate=L;function _(i,t){const o=t-i;return function(r){return i+o*n(r)}}function b(i,t,o){return function(r){return r<o?i(r/o):t((r-o)/(1-o))}}class u{constructor(t,o,r,c){this.from=t,this.to=o,this.duration=c,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,o,r){if(Math.abs(t-o)>2.5*r){let d,a;return t<o?(d=t+.75*r,a=o-.75*r):(d=t-.75*r,a=o+.75*r),b(_(t,d),_(a,o),.33)}return _(t,o)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const o=(t-this.startTime)/this.duration;if(o<1){const r=this.scrollLeft(o),c=this.scrollTop(o);return new L(r,c,!1)}return new L(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,o,r){return u.start(t,o,r)}static start(t,o,r){r=r+10;const c=Date.now()-10;return new u(t,o,c,r)}}e.SmoothScrollingOperation=u;function g(i){return Math.pow(i,3)}function n(i){return 1-g(1-i)}}),define(se[22],re([1,0,90,18]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const k=/^\w[\w\d+.-]*$/,I=/^\//,L=/^\/\//;function _(f,m){if(!f.scheme&&m)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${f.authority}", path: "${f.path}", query: "${f.query}", fragment: "${f.fragment}"}`);if(f.scheme&&!k.test(f.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(f.path){if(f.authority){if(!I.test(f.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(L.test(f.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function b(f,m){return!f&&!m?"file":f}function u(f,m){switch(f){case"https":case"http":case"file":m?m[0]!==n&&(m=n+m):m=n;break}return m}const g="",n="/",i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class t{constructor(m,C,y,E,T,N=!1){typeof m=="object"?(this.scheme=m.scheme||g,this.authority=m.authority||g,this.path=m.path||g,this.query=m.query||g,this.fragment=m.fragment||g):(this.scheme=b(m,N),this.authority=C||g,this.path=u(this.scheme,y||g),this.query=E||g,this.fragment=T||g,_(this,N))}static isUri(m){return m instanceof t?!0:m?typeof m.authority=="string"&&typeof m.fragment=="string"&&typeof m.path=="string"&&typeof m.query=="string"&&typeof m.scheme=="string"&&typeof m.fsPath=="string"&&typeof m.with=="function"&&typeof m.toString=="function":!1}get fsPath(){return s(this,!1)}with(m){if(!m)return this;let{scheme:C,authority:y,path:E,query:T,fragment:N}=m;return C===void 0?C=this.scheme:C===null&&(C=g),y===void 0?y=this.authority:y===null&&(y=g),E===void 0?E=this.path:E===null&&(E=g),T===void 0?T=this.query:T===null&&(T=g),N===void 0?N=this.fragment:N===null&&(N=g),C===this.scheme&&y===this.authority&&E===this.path&&T===this.query&&N===this.fragment?this:new r(C,y,E,T,N)}static parse(m,C=!1){const y=i.exec(m);return y?new r(y[2]||g,S(y[4]||g),S(y[5]||g),S(y[7]||g),S(y[9]||g),C):new r(g,g,g,g,g)}static file(m){let C=g;if(v.isWindows&&(m=m.replace(/\\/g,n)),m[0]===n&&m[1]===n){const y=m.indexOf(n,2);y===-1?(C=m.substring(2),m=n):(C=m.substring(2,y),m=m.substring(y)||n)}return new r("file",C,m,g,g)}static from(m){const C=new r(m.scheme,m.authority,m.path,m.query,m.fragment);return _(C,!0),C}static joinPath(m,...C){if(!m.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let y;return v.isWindows&&m.scheme==="file"?y=t.file(w.win32.join(s(m,!0),...C)).path:y=w.posix.join(m.path,...C),m.with({path:y})}toString(m=!1){return l(this,m)}toJSON(){return this}static revive(m){if(m){if(m instanceof t)return m;{const C=new r(m);return C._formatted=m.external,C._fsPath=m._sep===o?m.fsPath:null,C}}else return m}}e.URI=t;const o=v.isWindows?1:void 0;class r extends t{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=s(this,!1)),this._fsPath}toString(m=!1){return m?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const m={$mid:1};return this._fsPath&&(m.fsPath=this._fsPath,m._sep=o),this._formatted&&(m.external=this._formatted),this.path&&(m.path=this.path),this.scheme&&(m.scheme=this.scheme),this.authority&&(m.authority=this.authority),this.query&&(m.query=this.query),this.fragment&&(m.fragment=this.fragment),m}}const c={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function d(f,m){let C,y=-1;for(let E=0;E<f.length;E++){const T=f.charCodeAt(E);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||m&&T===47)y!==-1&&(C+=encodeURIComponent(f.substring(y,E)),y=-1),C!==void 0&&(C+=f.charAt(E));else{C===void 0&&(C=f.substr(0,E));const N=c[T];N!==void 0?(y!==-1&&(C+=encodeURIComponent(f.substring(y,E)),y=-1),C+=N):y===-1&&(y=E)}}return y!==-1&&(C+=encodeURIComponent(f.substring(y))),C!==void 0?C:f}function a(f){let m;for(let C=0;C<f.length;C++){const y=f.charCodeAt(C);y===35||y===63?(m===void 0&&(m=f.substr(0,C)),m+=c[y]):m!==void 0&&(m+=f[C])}return m!==void 0?m:f}function s(f,m){let C;return f.authority&&f.path.length>1&&f.scheme==="file"?C=`//${f.authority}${f.path}`:f.path.charCodeAt(0)===47&&(f.path.charCodeAt(1)>=65&&f.path.charCodeAt(1)<=90||f.path.charCodeAt(1)>=97&&f.path.charCodeAt(1)<=122)&&f.path.charCodeAt(2)===58?m?C=f.path.substr(1):C=f.path[1].toLowerCase()+f.path.substr(2):C=f.path,v.isWindows&&(C=C.replace(/\//g,"\\")),C}e.uriToFsPath=s;function l(f,m){const C=m?a:d;let y="",{scheme:E,authority:T,path:N,query:F,fragment:O}=f;if(E&&(y+=E,y+=":"),(T||E==="file")&&(y+=n,y+=n),T){let P=T.indexOf("@");if(P!==-1){const D=T.substr(0,P);T=T.substr(P+1),P=D.indexOf(":"),P===-1?y+=C(D,!1):(y+=C(D.substr(0,P),!1),y+=":",y+=C(D.substr(P+1),!1)),y+="@"}T=T.toLowerCase(),P=T.indexOf(":"),P===-1?y+=C(T,!1):(y+=C(T.substr(0,P),!1),y+=T.substr(P))}if(N){if(N.length>=3&&N.charCodeAt(0)===47&&N.charCodeAt(2)===58){const P=N.charCodeAt(1);P>=65&&P<=90&&(N=`/${String.fromCharCode(P+32)}:${N.substr(3)}`)}else if(N.length>=2&&N.charCodeAt(1)===58){const P=N.charCodeAt(0);P>=65&&P<=90&&(N=`${String.fromCharCode(P+32)}:${N.substr(2)}`)}y+=C(N,!0)}return F&&(y+="?",y+=C(F,!1)),O&&(y+="#",y+=m?O:d(O,!1)),y}function h(f){try{return decodeURIComponent(f)}catch{return f.length>3?f.substr(0,3)+h(f.substr(3)):f}}const p=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(f){return f.match(p)?f.replace(p,m=>h(m)):f}}),define(se[198],re([1,0,123,22]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function k(L){let _=JSON.parse(L);return _=I(_),_}e.parse=k;function I(L,_=0){if(!L||_>200)return L;if(typeof L=="object"){switch(L.$mid){case 1:return v.URI.revive(L);case 2:return new RegExp(L.source,L.flags);case 14:return new Date(L.source)}if(L instanceof w.VSBuffer||L instanceof Uint8Array)return L;if(Array.isArray(L))for(let b=0;b<L.length;++b)L[b]=I(L[b],_+1);else for(const b in L)Object.hasOwnProperty.call(L,b)&&(L[b]=I(L[b],_+1))}return L}e.revive=I}),define(se[52],re([1,0,18,22]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var k;(function(_){_.inMemory="inmemory",_.vscode="vscode",_.internal="private",_.walkThrough="walkThrough",_.walkThroughSnippet="walkThroughSnippet",_.http="http",_.https="https",_.file="file",_.mailto="mailto",_.untitled="untitled",_.data="data",_.command="command",_.vscodeRemote="vscode-remote",_.vscodeRemoteResource="vscode-remote-resource",_.vscodeUserData="vscode-userdata",_.vscodeCustomEditor="vscode-custom-editor",_.vscodeNotebook="vscode-notebook",_.vscodeNotebookCell="vscode-notebook-cell",_.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",_.vscodeNotebookCellOutput="vscode-notebook-cell-output",_.vscodeInteractive="vscode-interactive",_.vscodeInteractiveInput="vscode-interactive-input",_.vscodeSettings="vscode-settings",_.vscodeWorkspaceTrust="vscode-workspace-trust",_.vscodeTerminal="vscode-terminal",_.webviewPanel="webview-panel",_.vscodeWebview="vscode-webview",_.extension="extension",_.vscodeFileResource="vscode-file",_.tmp="tmp",_.vsls="vsls",_.vscodeSourceControl="vscode-scm"})(k=e.Schemas||(e.Schemas={})),e.connectionTokenQueryName="tkn";class I{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${k.vscodeRemoteResource}`}setPreferredWebSchema(b){this._preferredWebSchema=b}rewrite(b){if(this._delegate)return this._delegate(b);const u=b.authority;let g=this._hosts[u];g&&g.indexOf(":")!==-1&&(g=`[${g}]`);const n=this._ports[u],i=this._connectionTokens[u];let t=`path=${encodeURIComponent(b.path)}`;return typeof i=="string"&&(t+=`&${e.connectionTokenQueryName}=${encodeURIComponent(i)}`),v.URI.from({scheme:w.isWeb?this._preferredWebSchema:k.vscodeRemoteResource,authority:`${g}:${n}`,path:this._remoteResourcesPath,query:t})}}e.RemoteAuthorities=new I;class L{asBrowserUri(b,u){const g=this.toUri(b,u);return g.scheme===k.vscodeRemote?e.RemoteAuthorities.rewrite(g):g.scheme===k.file&&(w.isNative||w.isWebWorker&&w.globals.origin===`${k.vscodeFileResource}://${L.FALLBACK_AUTHORITY}`)?g.with({scheme:k.vscodeFileResource,authority:g.authority||L.FALLBACK_AUTHORITY,query:null,fragment:null}):g}toUri(b,u){return v.URI.isUri(b)?b:v.URI.parse(u.toUrl(b))}}L.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new L}),define(se[7],re([1,0,41,195,48,63,14,6,490,2,52,18]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.hookDomPurifyHrefAndSrcSanitizer=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function i(be){for(;be.firstChild;)be.firstChild.remove()}e.clearNode=i;function t(be){var ve;return(ve=be==null?void 0:be.isConnected)!==null&&ve!==void 0?ve:!1}e.isInDOM=t;class o{constructor(ve,Ie,Me,Te){this._node=ve,this._type=Ie,this._handler=Me,this._options=Te||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(be,ve,Ie,Me){return new o(be,ve,Ie,Me)}e.addDisposableListener=r;function c(be){return function(ve){return be(new I.StandardMouseEvent(ve))}}function d(be){return function(ve){return be(new k.StandardKeyboardEvent(ve))}}const a=function(ve,Ie,Me,Te){let Fe=Me;return Ie==="click"||Ie==="mousedown"?Fe=c(Me):(Ie==="keydown"||Ie==="keypress"||Ie==="keyup")&&(Fe=d(Me)),r(ve,Ie,Fe,Te)};e.addStandardDisposableListener=a;const s=function(ve,Ie,Me){const Te=c(Ie);return h(ve,Te,Me)};e.addStandardDisposableGenericMouseDownListener=s;const l=function(ve,Ie,Me){const Te=c(Ie);return p(ve,Te,Me)};e.addStandardDisposableGenericMouseUpListener=l;function h(be,ve,Ie){return r(be,n.isIOS&&v.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,ve,Ie)}e.addDisposableGenericMouseDownListener=h;function p(be,ve,Ie){return r(be,n.isIOS&&v.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,ve,Ie)}e.addDisposableGenericMouseUpListener=p;let S=null;function f(be){if(!S){const ve=Ie=>setTimeout(()=>Ie(new Date().getTime()),0);S=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||ve}return S.call(self,be)}class m{constructor(ve,Ie=0){this._runner=ve,this.priority=Ie,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ve){(0,L.onUnexpectedError)(ve)}}static sort(ve,Ie){return Ie.priority-ve.priority}}(function(){let be=[],ve=null,Ie=!1,Me=!1;const Te=()=>{for(Ie=!1,ve=be,be=[],Me=!0;ve.length>0;)ve.sort(m.sort),ve.shift().execute();Me=!1};e.scheduleAtNextAnimationFrame=(Fe,Pe=0)=>{const We=new m(Fe,Pe);return be.push(We),Ie||(Ie=!0,f(Te)),We},e.runAtThisOrScheduleAtNextAnimationFrame=(Fe,Pe)=>{if(Me){const We=new m(Fe,Pe);return ve.push(We),We}else return(0,e.scheduleAtNextAnimationFrame)(Fe,Pe)}})();function C(be){return document.defaultView.getComputedStyle(be,null)}e.getComputedStyle=C;function y(be){if(be!==document.body)return new T(be.clientWidth,be.clientHeight);if(n.isIOS&&window.visualViewport)return new T(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new T(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new T(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new T(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=y;class E{static convertToPixels(ve,Ie){return parseFloat(Ie)||0}static getDimension(ve,Ie,Me){const Te=C(ve),Fe=Te?Te.getPropertyValue(Ie):"0";return E.convertToPixels(ve,Fe)}static getBorderLeftWidth(ve){return E.getDimension(ve,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ve){return E.getDimension(ve,"border-right-width","borderRightWidth")}static getBorderTopWidth(ve){return E.getDimension(ve,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ve){return E.getDimension(ve,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ve){return E.getDimension(ve,"padding-left","paddingLeft")}static getPaddingRight(ve){return E.getDimension(ve,"padding-right","paddingRight")}static getPaddingTop(ve){return E.getDimension(ve,"padding-top","paddingTop")}static getPaddingBottom(ve){return E.getDimension(ve,"padding-bottom","paddingBottom")}static getMarginLeft(ve){return E.getDimension(ve,"margin-left","marginLeft")}static getMarginTop(ve){return E.getDimension(ve,"margin-top","marginTop")}static getMarginRight(ve){return E.getDimension(ve,"margin-right","marginRight")}static getMarginBottom(ve){return E.getDimension(ve,"margin-bottom","marginBottom")}}class T{constructor(ve,Ie){this.width=ve,this.height=Ie}with(ve=this.width,Ie=this.height){return ve!==this.width||Ie!==this.height?new T(ve,Ie):this}static is(ve){return typeof ve=="object"&&typeof ve.height=="number"&&typeof ve.width=="number"}static lift(ve){return ve instanceof T?ve:new T(ve.width,ve.height)}static equals(ve,Ie){return ve===Ie?!0:!ve||!Ie?!1:ve.width===Ie.width&&ve.height===Ie.height}}e.Dimension=T,T.None=new T(0,0);function N(be){let ve=be.offsetParent,Ie=be.offsetTop,Me=be.offsetLeft;for(;(be=be.parentNode)!==null&&be!==document.body&&be!==document.documentElement;){Ie-=be.scrollTop;const Te=Y(be)?null:C(be);Te&&(Me-=Te.direction!=="rtl"?be.scrollLeft:-be.scrollLeft),be===ve&&(Me+=E.getBorderLeftWidth(be),Ie+=E.getBorderTopWidth(be),Ie+=be.offsetTop,Me+=be.offsetLeft,ve=be.offsetParent)}return{left:Me,top:Ie}}e.getTopLeftOffset=N;function F(be,ve,Ie){typeof ve=="number"&&(be.style.width=`${ve}px`),typeof Ie=="number"&&(be.style.height=`${Ie}px`)}e.size=F;function O(be){const ve=be.getBoundingClientRect();return{left:ve.left+window.scrollX,top:ve.top+window.scrollY,width:ve.width,height:ve.height}}e.getDomNodePagePosition=O;function P(be){let ve=be,Ie=1;do{const Me=C(ve).zoom;Me!=null&&Me!=="1"&&(Ie*=Me),ve=ve.parentElement}while(ve!==null&&ve!==document.documentElement);return Ie}e.getDomNodeZoomLevel=P;function D(be){const ve=E.getMarginLeft(be)+E.getMarginRight(be);return be.offsetWidth+ve}e.getTotalWidth=D;function M(be){const ve=E.getBorderLeftWidth(be)+E.getBorderRightWidth(be),Ie=E.getPaddingLeft(be)+E.getPaddingRight(be);return be.offsetWidth-ve-Ie}e.getContentWidth=M;function R(be){const ve=E.getBorderTopWidth(be)+E.getBorderBottomWidth(be),Ie=E.getPaddingTop(be)+E.getPaddingBottom(be);return be.offsetHeight-ve-Ie}e.getContentHeight=R;function B(be){const ve=E.getMarginTop(be)+E.getMarginBottom(be);return be.offsetHeight+ve}e.getTotalHeight=B;function W(be,ve){for(;be;){if(be===ve)return!0;be=be.parentNode}return!1}e.isAncestor=W;function V(be,ve,Ie){for(;be&&be.nodeType===be.ELEMENT_NODE;){if(be.classList.contains(ve))return be;if(Ie){if(typeof Ie=="string"){if(be.classList.contains(Ie))return null}else if(be===Ie)return null}be=be.parentNode}return null}e.findParentWithClass=V;function A(be,ve,Ie){return!!V(be,ve,Ie)}e.hasParentWithClass=A;function Y(be){return be&&!!be.host&&!!be.mode}e.isShadowRoot=Y;function ee(be){return!!U(be)}e.isInShadowDOM=ee;function U(be){for(;be.parentNode;){if(be===document.body)return null;be=be.parentNode}return Y(be)?be:null}e.getShadowRoot=U;function j(){let be=document.activeElement;for(;be==null?void 0:be.shadowRoot;)be=be.shadowRoot.activeElement;return be}e.getActiveElement=j;function Z(be=document.getElementsByTagName("head")[0]){const ve=document.createElement("style");return ve.type="text/css",ve.media="screen",be.appendChild(ve),ve}e.createStyleSheet=Z;let ie=null;function Q(){return ie||(ie=Z()),ie}function J(be){var ve,Ie;return((ve=be==null?void 0:be.sheet)===null||ve===void 0?void 0:ve.rules)?be.sheet.rules:((Ie=be==null?void 0:be.sheet)===null||Ie===void 0?void 0:Ie.cssRules)?be.sheet.cssRules:[]}function de(be,ve,Ie=Q()){!Ie||!ve||Ie.sheet.insertRule(be+"{"+ve+"}",0)}e.createCSSRule=de;function x(be,ve=Q()){if(!ve)return;const Ie=J(ve),Me=[];for(let Te=0;Te<Ie.length;Te++)Ie[Te].selectorText.indexOf(be)!==-1&&Me.push(Te);for(let Te=Me.length-1;Te>=0;Te--)ve.sheet.deleteRule(Me[Te])}e.removeCSSRulesContainingSelector=x;function ne(be){return typeof HTMLElement=="object"?be instanceof HTMLElement:be&&typeof be=="object"&&be.nodeType===1&&typeof be.nodeName=="string"}e.isHTMLElement=ne,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:w.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:w.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:w.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:(be,ve)=>(be.preventDefault(),ve&&be.stopPropagation(),be)};function te(be){const ve=[];for(let Ie=0;be&&be.nodeType===be.ELEMENT_NODE;Ie++)ve[Ie]=be.scrollTop,be=be.parentNode;return ve}e.saveParentsScrollTop=te;function q(be,ve){for(let Ie=0;be&&be.nodeType===be.ELEMENT_NODE;Ie++)be.scrollTop!==ve[Ie]&&(be.scrollTop=ve[Ie]),be=be.parentNode}e.restoreParentsScrollTop=q;class oe extends u.Disposable{constructor(ve){super();this._onDidFocus=this._register(new _.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new _.Emitter),this.onDidBlur=this._onDidBlur.event;let Ie=oe.hasFocusWithin(ve),Me=!1;const Te=()=>{Me=!1,Ie||(Ie=!0,this._onDidFocus.fire())},Fe=()=>{Ie&&(Me=!0,window.setTimeout(()=>{Me&&(Me=!1,Ie=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{oe.hasFocusWithin(ve)!==Ie&&(Ie?Fe():Te())},this._register(r(ve,e.EventType.FOCUS,Te,!0)),this._register(r(ve,e.EventType.BLUR,Fe,!0)),this._register(r(ve,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(r(ve,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(ve){const Ie=U(ve),Me=Ie?Ie.activeElement:document.activeElement;return W(Me,ve)}}function z(be){return new oe(be)}e.trackFocus=z;function X(be,...ve){if(be.append(...ve),ve.length===1&&typeof ve[0]!="string")return ve[0]}e.append=X;function $(be,ve){return be.insertBefore(ve,be.firstChild),ve}e.prepend=$;function H(be,...ve){be.innerText="",X(be,...ve)}e.reset=H;const K=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ce;(function(be){be.HTML="http://www.w3.org/1999/xhtml",be.SVG="http://www.w3.org/2000/svg"})(ce=e.Namespace||(e.Namespace={}));function le(be,ve,Ie,...Me){const Te=K.exec(ve);if(!Te)throw new Error("Bad use of emmet");Ie=Object.assign({},Ie||{});const Fe=Te[1]||"div";let Pe;return be!==ce.HTML?Pe=document.createElementNS(be,Fe):Pe=document.createElement(Fe),Te[3]&&(Pe.id=Te[3]),Te[4]&&(Pe.className=Te[4].replace(/\./g," ").trim()),Object.keys(Ie).forEach(We=>{const He=Ie[We];typeof He!="undefined"&&(/^on\w+$/.test(We)?Pe[We]=He:We==="selected"?He&&Pe.setAttribute(We,"true"):Pe.setAttribute(We,He))}),Pe.append(...Me),Pe}function he(be,ve,...Ie){return le(ce.HTML,be,ve,...Ie)}e.$=he,he.SVG=function(be,ve,...Ie){return le(ce.SVG,be,ve,...Ie)};function me(...be){for(const ve of be)ve.style.display="",ve.removeAttribute("aria-hidden")}e.show=me;function Ce(...be){for(const ve of be)ve.style.display="none",ve.setAttribute("aria-hidden","true")}e.hide=Ce;function Le(be){const ve=window.devicePixelRatio*be;return Math.max(1,Math.floor(ve))/window.devicePixelRatio}e.computeScreenAwareSize=Le;function ye(be){window.open(be,"_blank","noopener")}e.windowOpenNoOpener=ye;function De(be){const ve=()=>{be(),Ie=(0,e.scheduleAtNextAnimationFrame)(ve)};let Ie=(0,e.scheduleAtNextAnimationFrame)(ve);return(0,u.toDisposable)(()=>Ie.dispose())}e.animate=De,g.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ae(be){return be?`url('${g.FileAccess.asBrowserUri(be).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Ae;function pe(be){return`'${be.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=pe;function ue(be,ve=!1){const Ie=document.createElement("a");return b.addHook("afterSanitizeAttributes",Me=>{for(const Te of["href","src"])if(Me.hasAttribute(Te)){const Fe=Me.getAttribute(Te);if(Te==="href"&&Fe.startsWith("#"))continue;if(Ie.href=Fe,!be.includes(Ie.protocol.replace(/:$/,""))){if(ve&&Te==="src"&&Ie.href.startsWith("data:"))continue;Me.removeAttribute(Te)}}}),(0,u.toDisposable)(()=>{b.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=ue;class ae extends _.Emitter{constructor(){super();this._subscriptions=new u.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(r(window,"keydown",ve=>{if(ve.defaultPrevented)return;const Ie=new k.StandardKeyboardEvent(ve);if(!(Ie.keyCode===6&&ve.repeat)){if(ve.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ve.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ve.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ve.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ie.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ve.altKey,this._keyStatus.ctrlKey=ve.ctrlKey,this._keyStatus.metaKey=ve.metaKey,this._keyStatus.shiftKey=ve.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ve,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(r(window,"keyup",ve=>{ve.defaultPrevented||(!ve.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ve.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ve.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ve.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ve.altKey,this._keyStatus.ctrlKey=ve.ctrlKey,this._keyStatus.metaKey=ve.metaKey,this._keyStatus.shiftKey=ve.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ve,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(r(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mousemove",ve=>{ve.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(r(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return ae.instance||(ae.instance=new ae),ae.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=ae;class ge extends u.Disposable{constructor(ve,Ie){super();this.element=ve,this.callbacks=Ie,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(r(this.element,e.EventType.DRAG_ENTER,ve=>{this.counter++,this.dragStartTime=ve.timeStamp,this.callbacks.onDragEnter(ve)})),this._register(r(this.element,e.EventType.DRAG_OVER,ve=>{var Ie,Me;ve.preventDefault(),(Me=(Ie=this.callbacks).onDragOver)===null||Me===void 0||Me.call(Ie,ve,ve.timeStamp-this.dragStartTime)})),this._register(r(this.element,e.EventType.DRAG_LEAVE,ve=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(ve))})),this._register(r(this.element,e.EventType.DRAG_END,ve=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(ve)})),this._register(r(this.element,e.EventType.DROP,ve=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(ve)}))}}e.DragAndDropObserver=ge;const _e=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function we(be,...ve){let Ie,Me;Array.isArray(ve[0])?(Ie={},Me=ve[0]):(Ie=ve[0]||{},Me=ve[1]);const Te=_e.exec(be);if(!Te||!Te.groups)throw new Error("Bad use of h");const Fe=Te.groups.tag||"div",Pe=document.createElement(Fe);Te.groups.id&&(Pe.id=Te.groups.id),Te.groups.class&&(Pe.className=Te.groups.class.replace(/\./g," ").trim());const We={};if(Te.groups.name&&(We[Te.groups.name]=Pe),Me)for(const He of Me)He instanceof HTMLElement?Pe.appendChild(He):typeof He=="string"?Pe.append(He):(Object.assign(We,He),Pe.appendChild(He.root));for(const[He,Xe]of Object.entries(Ie))if(He==="style")for(const[it,nt]of Object.entries(Xe))Pe.style.setProperty(Ee(it),typeof nt=="number"?nt+"px":""+nt);else He==="tabIndex"?Pe.tabIndex=Xe:Pe.setAttribute(Ee(He),Xe.toString());return We.root=Pe,We}e.h=we;function Ee(be){return be.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(se[199],re([1,0,7]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function v(n,i={}){const t=I(i);return t.textContent=n,t}e.renderText=v;function k(n,i={}){const t=I(i);return _(t,b(n,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),t}e.renderFormattedText=k;function I(n){const i=n.inline?"span":"div",t=document.createElement(i);return n.className&&(t.className=n.className),t}e.createElement=I;class L{constructor(i){this.source=i,this.index=0}eos(){return this.index>=this.source.length}next(){const i=this.peek();return this.advance(),i}peek(){return this.source[this.index]}advance(){this.index++}}function _(n,i,t,o){let r;if(i.type===2)r=document.createTextNode(i.content||"");else if(i.type===3)r=document.createElement("b");else if(i.type===4)r=document.createElement("i");else if(i.type===7&&o)r=document.createElement("code");else if(i.type===5&&t){const c=document.createElement("a");t.disposables.add(w.addStandardDisposableListener(c,"click",d=>{t.callback(String(i.index),d)})),r=c}else i.type===8?r=document.createElement("br"):i.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(i.children)&&i.children.forEach(c=>{_(r,c,t,o)})}function b(n,i){const t={type:1,children:[]};let o=0,r=t;const c=[],d=new L(n);for(;!d.eos();){let a=d.next();const s=a==="\\"&&g(d.peek(),i)!==0;if(s&&(a=d.next()),!s&&u(a,i)&&a===d.peek()){d.advance(),r.type===2&&(r=c.pop());const l=g(a,i);if(r.type===l||r.type===5&&l===6)r=c.pop();else{const h={type:l,children:[]};l===5&&(h.index=o,o++),r.children.push(h),c.push(r),r=h}}else if(a===`
`)r.type===2&&(r=c.pop()),r.children.push({type:8});else if(r.type!==2){const l={type:2,content:a};r.children.push(l),c.push(r),r=l}else r.content+=a}return r.type===2&&(r=c.pop()),c.length,t}function u(n,i){return g(n,i)!==0}function g(n,i){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}}),define(se[134],re([1,0,7,2]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class k{constructor(){this._hooks=new v.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(L,_){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const b=this._onStopCallback;this._onStopCallback=null,L&&b&&b(_)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(L,_,b,u,g){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=u,this._onStopCallback=g;let n=L;try{L.setPointerCapture(_),this._hooks.add((0,v.toDisposable)(()=>{L.releasePointerCapture(_)}))}catch{n=window}this._hooks.add(w.addDisposableListener(n,w.EventType.POINTER_MOVE,i=>{if(i.buttons!==b){this.stopMonitoring(!0);return}i.preventDefault(),this._pointerMoveCallback(i)})),this._hooks.add(w.addDisposableListener(n,w.EventType.POINTER_UP,i=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=k});var ke=this&&this.__decorate||function(G,e,w,v){var k=arguments.length,I=k<3?e:v===null?v=Object.getOwnPropertyDescriptor(e,w):v,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(G,e,w,v);else for(var _=G.length-1;_>=0;_--)(L=G[_])&&(I=(k<3?L(I):k>3?L(e,w,I):L(e,w))||I);return k>3&&I&&Object.defineProperty(e,w,I),I};define(se[64],re([1,0,7,17,104,2]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var L;(function(b){b.Tap="-monaco-gesturetap",b.Change="-monaco-gesturechange",b.Start="-monaco-gesturestart",b.End="-monaco-gesturesend",b.Contextmenu="-monaco-gesturecontextmenu"})(L=e.EventType||(e.EventType={}));class _ extends I.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(w.addDisposableListener(document,"touchstart",u=>this.onTouchStart(u),{passive:!1})),this._register(w.addDisposableListener(document,"touchend",u=>this.onTouchEnd(u))),this._register(w.addDisposableListener(document,"touchmove",u=>this.onTouchMove(u),{passive:!1}))}static addTarget(u){return _.isTouchDevice()?(_.INSTANCE||(_.INSTANCE=new _),_.INSTANCE.targets.push(u),{dispose:()=>{_.INSTANCE.targets=_.INSTANCE.targets.filter(g=>g!==u)}}):I.Disposable.None}static ignoreTarget(u){return _.isTouchDevice()?(_.INSTANCE||(_.INSTANCE=new _),_.INSTANCE.ignoreTargets.push(u),{dispose:()=>{_.INSTANCE.ignoreTargets=_.INSTANCE.ignoreTargets.filter(g=>g!==u)}}):I.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(u){const g=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,i=u.targetTouches.length;n<i;n++){const t=u.targetTouches.item(n);this.activeTouches[t.identifier]={id:t.identifier,initialTarget:t.target,initialTimeStamp:g,initialPageX:t.pageX,initialPageY:t.pageY,rollingTimestamps:[g],rollingPageX:[t.pageX],rollingPageY:[t.pageY]};const o=this.newGestureEvent(L.Start,t.target);o.pageX=t.pageX,o.pageY=t.pageY,this.dispatchEvent(o)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}onTouchEnd(u){const g=Date.now(),n=Object.keys(this.activeTouches).length;for(let i=0,t=u.changedTouches.length;i<t;i++){const o=u.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}const r=this.activeTouches[o.identifier],c=Date.now()-r.initialTimeStamp;if(c<_.HOLD_DELAY&&Math.abs(r.initialPageX-v.tail(r.rollingPageX))<30&&Math.abs(r.initialPageY-v.tail(r.rollingPageY))<30){const d=this.newGestureEvent(L.Tap,r.initialTarget);d.pageX=v.tail(r.rollingPageX),d.pageY=v.tail(r.rollingPageY),this.dispatchEvent(d)}else if(c>=_.HOLD_DELAY&&Math.abs(r.initialPageX-v.tail(r.rollingPageX))<30&&Math.abs(r.initialPageY-v.tail(r.rollingPageY))<30){const d=this.newGestureEvent(L.Contextmenu,r.initialTarget);d.pageX=v.tail(r.rollingPageX),d.pageY=v.tail(r.rollingPageY),this.dispatchEvent(d)}else if(n===1){const d=v.tail(r.rollingPageX),a=v.tail(r.rollingPageY),s=v.tail(r.rollingTimestamps)-r.rollingTimestamps[0],l=d-r.rollingPageX[0],h=a-r.rollingPageY[0],p=this.targets.filter(S=>r.initialTarget instanceof Node&&S.contains(r.initialTarget));this.inertia(p,g,Math.abs(l)/s,l>0?1:-1,d,Math.abs(h)/s,h>0?1:-1,a)}this.dispatchEvent(this.newGestureEvent(L.End,r.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}newGestureEvent(u,g){const n=document.createEvent("CustomEvent");return n.initEvent(u,!1,!0),n.initialTarget=g,n.tapCount=0,n}dispatchEvent(u){if(u.type===L.Tap){const g=new Date().getTime();let n=0;g-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?n=1:n=2,this._lastSetTapCountTime=g,u.tapCount=n}else(u.type===L.Change||u.type===L.Contextmenu)&&(this._lastSetTapCountTime=0);for(let g=0;g<this.ignoreTargets.length;g++)if(u.initialTarget instanceof Node&&this.ignoreTargets[g].contains(u.initialTarget))return;this.targets.forEach(g=>{u.initialTarget instanceof Node&&g.contains(u.initialTarget)&&(g.dispatchEvent(u),this.dispatched=!0)})}inertia(u,g,n,i,t,o,r,c){this.handle=w.scheduleAtNextAnimationFrame(()=>{const d=Date.now(),a=d-g;let s=0,l=0,h=!0;n+=_.SCROLL_FRICTION*a,o+=_.SCROLL_FRICTION*a,n>0&&(h=!1,s=i*n*a),o>0&&(h=!1,l=r*o*a);const p=this.newGestureEvent(L.Change);p.translationX=s,p.translationY=l,u.forEach(S=>S.dispatchEvent(p)),h||this.inertia(u,d,n,i,t+s,o,r,c+l)})}onTouchMove(u){const g=Date.now();for(let n=0,i=u.changedTouches.length;n<i;n++){const t=u.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("end of an UNKNOWN touch",t);continue}const o=this.activeTouches[t.identifier],r=this.newGestureEvent(L.Change,o.initialTarget);r.translationX=t.pageX-v.tail(o.rollingPageX),r.translationY=t.pageY-v.tail(o.rollingPageY),r.pageX=t.pageX,r.pageY=t.pageY,this.dispatchEvent(r),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(t.pageX),o.rollingPageY.push(t.pageY),o.rollingTimestamps.push(g)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}}_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,ke([k.memoize],_,"isTouchDevice",null),e.Gesture=_}),define(se[49],re([1,0,7,18,338]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let I,L,_,b,u;function g(o){I=document.createElement("div"),I.className="monaco-aria-container";const r=()=>{const d=document.createElement("div");return d.className="monaco-alert",d.setAttribute("role","alert"),d.setAttribute("aria-atomic","true"),I.appendChild(d),d};L=r(),_=r();const c=()=>{const d=document.createElement("div");return d.className="monaco-status",d.setAttribute("role","complementary"),d.setAttribute("aria-live","polite"),d.setAttribute("aria-atomic","true"),I.appendChild(d),d};b=c(),u=c(),o.appendChild(I)}e.setARIAContainer=g;function n(o){!I||(L.textContent!==o?(w.clearNode(_),t(L,o)):(w.clearNode(L),t(_,o)))}e.alert=n;function i(o){!I||(v.isMacintosh?n(o):b.textContent!==o?(w.clearNode(u),t(b,o)):(w.clearNode(b),t(u,o)))}e.status=i;function t(o,r){w.clearNode(o),r.length>k&&(r=r.substr(0,k)),o.textContent=r,o.style.visibility="hidden",o.style.visibility="visible"}}),define(se[259],re([1,0,195,7,2,18,148,342]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var _;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(_=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function b(n,i,t){const o=t.mode===_.ALIGN?t.offset:t.offset+t.size,r=t.mode===_.ALIGN?t.offset+t.size:t.offset;return t.position===0?i<=n-o?o:i<=r?r-i:Math.max(n-i,0):i<=r?r-i:i<=n-o?o:0}e.layout=b;class u extends k.Disposable{constructor(i,t){super();this.container=null,this.delegate=null,this.toDisposeOnClean=k.Disposable.None,this.toDisposeOnSetContainer=k.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=v.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,v.hide(this.view),this.setContainer(i,t),this._register((0,k.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,t){var o;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i){if(this.container=i,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=v.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const c=document.createElement("style");c.textContent=g,this.shadowRoot.appendChild(c),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(v.$("slot"))}else this.container.appendChild(this.view);const r=new k.DisposableStore;u.BUBBLE_UP_EVENTS.forEach(c=>{r.add(v.addStandardDisposableListener(this.container,c,d=>{this.onDOMEvent(d,!1)}))}),u.BUBBLE_DOWN_EVENTS.forEach(c=>{r.add(v.addStandardDisposableListener(this.container,c,d=>{this.onDOMEvent(d,!0)},!0))}),this.toDisposeOnSetContainer=r}}show(i){var t,o;this.isVisible()&&this.hide(),v.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",v.show(this.view),this.toDisposeOnClean=i.render(this.view)||k.Disposable.None,this.delegate=i,this.doLayout(),(o=(t=this.delegate).focus)===null||o===void 0||o.call(t)}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(I.isIOS&&w.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let t;if(v.isHTMLElement(i)){const p=v.getDomNodePagePosition(i),S=v.getDomNodeZoomLevel(i);t={top:p.top*S,left:p.left*S,width:p.width*S,height:p.height*S}}else t={top:i.y,left:i.x,width:i.width||1,height:i.height||2};const o=v.getTotalWidth(this.view),r=v.getTotalHeight(this.view),c=this.delegate.anchorPosition||0,d=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let s,l;if(a===0){const p={offset:t.top-window.pageYOffset,size:t.height,position:c===0?0:1},S={offset:t.left,size:t.width,position:d===0?0:1,mode:_.ALIGN};s=b(window.innerHeight,r,p)+window.pageYOffset,L.Range.intersects({start:s,end:s+r},{start:p.offset,end:p.offset+p.size})&&(S.mode=_.AVOID),l=b(window.innerWidth,o,S)}else{const p={offset:t.left,size:t.width,position:d===0?0:1},S={offset:t.top,size:t.height,position:c===0?0:1,mode:_.ALIGN};l=b(window.innerWidth,o,p),L.Range.intersects({start:l,end:l+o},{start:p.offset,end:p.offset+p.size})&&(S.mode=_.AVOID),s=b(window.innerHeight,r,S)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(c===0?"bottom":"top"),this.view.classList.add(d===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=v.getDomNodePagePosition(this.container);this.view.style.top=`${s-(this.useFixedPosition?v.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?v.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(i){const t=this.delegate;this.delegate=null,(t==null?void 0:t.onHide)&&t.onHide(i),this.toDisposeOnClean.dispose(),v.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,document.activeElement):t&&!v.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=u,u.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],u.BUBBLE_DOWN_EVENTS=["click"];const g=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(se[260],re([1,0,7,31,35,8,343]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const L={badgeBackground:v.Color.fromHex("#4D4D4D"),badgeForeground:v.Color.fromHex("#FFFFFF")};class _{constructor(u,g){this.count=0,this.options=g||Object.create(null),(0,k.mixin)(this.options,L,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,w.append)(u,(0,w.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(u){this.count=u,this.render()}setTitleFormat(u){this.titleFormat=u,this.render()}render(){this.element.textContent=(0,I.format)(this.countFormat,this.count),this.element.title=(0,I.format)(this.titleFormat,this.count),this.applyStyles()}style(u){this.badgeBackground=u.badgeBackground,this.badgeForeground=u.badgeForeground,this.badgeBorder=u.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const u=this.badgeBackground?this.badgeBackground.toString():"",g=this.badgeForeground?this.badgeForeground.toString():"",n=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=u,this.element.style.color=g,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}}}e.CountBadge=_}),define(se[491],re([1,0,7,48,64,42,6,230]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class _ extends I.ActionRunner{constructor(g,n){super();this._onDidChangeVisibility=this._register(new L.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,w.append)(g,(0,w.$)(".monaco-dropdown")),this._label=(0,w.append)(this._element,(0,w.$)(".dropdown-label"));let i=n.labelRenderer;i||(i=o=>(o.textContent=n.label||"",null));for(const o of[w.EventType.CLICK,w.EventType.MOUSE_DOWN,k.EventType.Tap])this._register((0,w.addDisposableListener)(this.element,o,r=>w.EventHelper.stop(r,!0)));for(const o of[w.EventType.MOUSE_DOWN,k.EventType.Tap])this._register((0,w.addDisposableListener)(this._label,o,r=>{r instanceof MouseEvent&&(r.detail>1||r.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,w.addDisposableListener)(this._label,w.EventType.KEY_UP,o=>{const r=new v.StandardKeyboardEvent(o);(r.equals(3)||r.equals(10))&&(w.EventHelper.stop(o,!0),this.visible?this.hide():this.show())}));const t=i(this._label);t&&this._register(t),this._register(k.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=_;class b extends _{constructor(g,n){super(g,n);this._actions=[],this._contextMenuProvider=n.contextMenuProvider,this.actions=n.actions||[],this.actionProvider=n.actionProvider,this.menuClassName=n.menuClassName||"",this.menuAsChild=!!n.menuAsChild}set menuOptions(g){this._menuOptions=g}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(g){this._actions=g}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:g=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(g):void 0,getKeyBinding:g=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(g):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=b}),define(se[261],re([1,0,7,10,21,65,107,2,20,475]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function g(t,o){(0,b.isString)(o)?t.title=(0,L.stripIcons)(o):(o==null?void 0:o.markdownNotSupportedFallback)?t.title=o.markdownNotSupportedFallback:t.removeAttribute("title")}e.setupNativeHover=g;class n{constructor(o,r,c){this.hoverDelegate=o,this.target=r,this.fadeInAnimation=c}update(o,r,c){var d;return Se(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let a;if(o===void 0||(0,b.isString)(o)||o instanceof HTMLElement)a=o;else if(!(0,b.isFunction)(o.markdown))a=(d=o.markdown)!==null&&d!==void 0?d:o.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,u.localize)(0,null),r),this._cancellationTokenSource=new k.CancellationTokenSource;const s=this._cancellationTokenSource.token;if(a=yield o.markdown(s),a===void 0&&(a=o.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(a,r,c)})}show(o,r,c){const d=this._hoverWidget;if(this.hasContent(o)){const a=Object.assign({content:o,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!d},c);this._hoverWidget=this.hoverDelegate.showHover(a,r)}d==null||d.dispose()}hasContent(o){return o?(0,I.isMarkdownString)(o)?!!o.value:!0:!1}get isDisposed(){var o;return(o=this._hoverWidget)===null||o===void 0?void 0:o.isDisposed}dispose(){var o,r;(o=this._hoverWidget)===null||o===void 0||o.dispose(),(r=this._cancellationTokenSource)===null||r===void 0||r.dispose(!0),this._cancellationTokenSource=void 0}}function i(t,o,r,c){let d,a;const s=(f,m)=>{var C;f&&(a==null||a.dispose(),a=void 0),m&&(d==null||d.dispose(),d=void 0),(C=t.onDidHideHover)===null||C===void 0||C.call(t)},l=(f,m,C)=>new v.TimeoutTimer(()=>Se(this,void 0,void 0,function*(){(!a||a.isDisposed)&&(a=new n(t,C||o,f>0),yield a.update(r,m,c))}),f),h=()=>{if(d)return;const f=new _.DisposableStore,m=E=>s(!1,E.fromElement===o);f.add(w.addDisposableListener(o,w.EventType.MOUSE_LEAVE,m,!0));const C=()=>s(!0,!0);f.add(w.addDisposableListener(o,w.EventType.MOUSE_DOWN,C,!0));const y={targetElements:[o],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const E=T=>{y.x=T.x+10,T.target instanceof HTMLElement&&T.target.classList.contains("action-label")&&s(!0,!0)};f.add(w.addDisposableListener(o,w.EventType.MOUSE_MOVE,E,!0))}f.add(l(t.delay,!1,y)),d=f},p=w.addDisposableListener(o,w.EventType.MOUSE_OVER,h,!0);return{show:f=>{s(!1,!0),l(0,f)},hide:()=>{s(!0,!0)},update:(f,m)=>Se(this,void 0,void 0,function*(){r=f,yield a==null?void 0:a.update(r,void 0,m)}),dispose:()=>{p.dispose(),s(!0,!0)}}}e.setupCustomHover=i}),define(se[135],re([1,0,41,124,7,64,261,42,2,18,20,471,229]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class i extends b.Disposable{constructor(r,c,d={}){super();this.options=d,this._context=r||this,this._action=c,c instanceof _.Action&&this._register(c.onDidChange(a=>{!this.element||this.handleActionChangeEvent(a)}))}get action(){return this._action}handleActionChangeEvent(r){r.enabled!==void 0&&this.updateEnabled(),r.checked!==void 0&&this.updateChecked(),r.class!==void 0&&this.updateClass(),r.label!==void 0&&(this.updateLabel(),this.updateTooltip()),r.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new _.ActionRunner)),this._actionRunner}set actionRunner(r){this._actionRunner=r}isEnabled(){return this._action.enabled}setActionContext(r){this._context=r}render(r){const c=this.element=r;this._register(I.Gesture.addTarget(r));const d=this.options&&this.options.draggable;d&&(r.draggable=!0,w.isFirefox&&this._register((0,k.addDisposableListener)(r,k.EventType.DRAG_START,a=>{var s;return(s=a.dataTransfer)===null||s===void 0?void 0:s.setData(v.DataTransfers.TEXT,this._action.label)}))),this._register((0,k.addDisposableListener)(c,I.EventType.Tap,a=>this.onClick(a,!0))),this._register((0,k.addDisposableListener)(c,k.EventType.MOUSE_DOWN,a=>{d||k.EventHelper.stop(a,!0),this._action.enabled&&a.button===0&&c.classList.add("active")})),u.isMacintosh&&this._register((0,k.addDisposableListener)(c,k.EventType.CONTEXT_MENU,a=>{a.button===0&&a.ctrlKey===!0&&this.onClick(a)})),this._register((0,k.addDisposableListener)(c,k.EventType.CLICK,a=>{k.EventHelper.stop(a,!0),this.options&&this.options.isMenu||this.onClick(a)})),this._register((0,k.addDisposableListener)(c,k.EventType.DBLCLICK,a=>{k.EventHelper.stop(a,!0)})),[k.EventType.MOUSE_UP,k.EventType.MOUSE_OUT].forEach(a=>{this._register((0,k.addDisposableListener)(c,a,s=>{k.EventHelper.stop(s),c.classList.remove("active")}))})}onClick(r,c=!1){var d;k.EventHelper.stop(r,!0);const a=g.isUndefinedOrNull(this._context)?((d=this.options)===null||d===void 0?void 0:d.useEventAsContext)?r:{preserveFocus:c}:this._context;this.actionRunner.run(this._action,a)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(r){this.element&&(this.element.tabIndex=r?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var r;if(!this.element)return;const c=(r=this.getTooltip())!==null&&r!==void 0?r:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(c):(this.customHover=(0,L.setupCustomHover)(this.options.hoverDelegate,this.element,c),this._store.add(this.customHover))):this.element.title=c}updateAriaLabel(){var r;if(this.element){const c=(r=this.getTooltip())!==null&&r!==void 0?r:"";this.element.setAttribute("aria-label",c)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=i;class t extends i{constructor(r,c,d={}){super(r,c,d);this.options=d,this.options.icon=d.icon!==void 0?d.icon:!1,this.options.label=d.label!==void 0?d.label:!0,this.cssClass=""}render(r){super.render(r),this.element&&(this.label=(0,k.append)(this.element,(0,k.$)("a.action-label"))),this.label&&(this._action.id===_.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,k.append)(this.element,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(r){this.label&&(this.label.tabIndex=r?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let r=null;return this.action.tooltip?r=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(r=this.action.label,this.options.keybinding&&(r=n.localize(0,null,r,this.options.keybinding))),r??void 0}updateClass(){var r;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(r=this.label)===null||r===void 0||r.classList.remove("codicon")}updateEnabled(){var r,c;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(r=this.element)===null||r===void 0||r.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(c=this.element)===null||c===void 0||c.classList.add("disabled"))}updateAriaLabel(){var r;if(this.label){const c=(r=this.getTooltip())!==null&&r!==void 0?r:"";this.label.setAttribute("aria-label",c)}}updateChecked(){this.label&&(this.action.checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=t}),define(se[75],re([1,0,7,48,135,42,6,2,20,229]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class u extends _.Disposable{constructor(n,i={}){var t,o,r,c,d,a;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new L.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new L.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new L.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=i,this._context=(t=i.context)!==null&&t!==void 0?t:null,this._orientation=(o=this.options.orientation)!==null&&o!==void 0?o:0,this._triggerKeys={keyDown:(c=(r=this.options.triggerKeys)===null||r===void 0?void 0:r.keyDown)!==null&&c!==void 0?c:!1,keys:(a=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keys)!==null&&a!==void 0?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new I.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&this.domNode.classList.add("animated");let s,l;switch(this._orientation){case 0:s=[15],l=[17];break;case 1:s=[16],l=[18],this.domNode.className+=" vertical";break}this._register(w.addDisposableListener(this.domNode,w.EventType.KEY_DOWN,h=>{const p=new v.StandardKeyboardEvent(h);let S=!0;const f=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;s&&(p.equals(s[0])||p.equals(s[1]))?S=this.focusPrevious():l&&(p.equals(l[0])||p.equals(l[1]))?S=this.focusNext():p.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():p.equals(14)?S=this.focusFirst():p.equals(13)?S=this.focusLast():p.equals(2)&&f instanceof k.BaseActionViewItem&&f.trapsArrowNavigation?S=this.focusNext():this.isTriggerKeyEvent(p)?this._triggerKeys.keyDown?this.doTrigger(p):this.triggerKeyDown=!0:S=!1,S&&(p.preventDefault(),p.stopPropagation())})),this._register(w.addDisposableListener(this.domNode,w.EventType.KEY_UP,h=>{const p=new v.StandardKeyboardEvent(h);this.isTriggerKeyEvent(p)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(p)),p.preventDefault(),p.stopPropagation()):(p.equals(2)||p.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(w.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(w.getActiveElement()===this.domNode||!w.isAncestor(w.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),n.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(n){if(this.focusable=n,this.focusable){const i=this.viewItems.find(t=>t instanceof k.BaseActionViewItem&&t.isEnabled());i instanceof k.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof k.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(n){let i=!1;return this._triggerKeys.keys.forEach(t=>{i=i||n.equals(t)}),i}updateFocusedItem(){for(let n=0;n<this.actionsList.children.length;n++){const i=this.actionsList.children[n];if(w.isAncestor(w.getActiveElement(),i)){this.focusedItem=n;break}}}get context(){return this._context}set context(n){this._context=n,this.viewItems.forEach(i=>i.setActionContext(n))}get actionRunner(){return this._actionRunner}set actionRunner(n){n&&(this._actionRunner=n,this.viewItems.forEach(i=>i.actionRunner=n))}getContainer(){return this.domNode}push(n,i={}){const t=Array.isArray(n)?n:[n];let o=b.isNumber(i.index)?i.index:null;t.forEach(r=>{const c=document.createElement("li");c.className="action-item",c.setAttribute("role","presentation");let d;this.options.actionViewItemProvider&&(d=this.options.actionViewItemProvider(r)),d||(d=new k.ActionViewItem(this.context,r,Object.assign({hoverDelegate:this.options.hoverDelegate},i))),this.options.allowContextMenu||this.viewItemDisposables.set(d,w.addDisposableListener(c,w.EventType.CONTEXT_MENU,a=>{w.EventHelper.stop(a,!0)})),d.actionRunner=this._actionRunner,d.setActionContext(this.context),d.render(c),this.focusable&&d instanceof k.BaseActionViewItem&&this.viewItems.length===0&&d.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(c),this.viewItems.push(d),this._actionIds.push(r.id)):(this.actionsList.insertBefore(c,this.actionsList.children[o]),this.viewItems.splice(o,0,d),this._actionIds.splice(o,0,r.id),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,_.dispose)(this.viewItems),this.viewItemDisposables.forEach(n=>n.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],w.clearNode(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(n){let i=!1,t;if(n===void 0?i=!0:typeof n=="number"?t=n:typeof n=="boolean"&&(i=n),i&&typeof this.focusedItem=="undefined"){const o=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(n){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(!n&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===I.Separator.ID));return this.updateFocus(),!0}focusPrevious(n){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!n&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===I.Separator.ID));return this.updateFocus(!0),!0}updateFocus(n,i,t=!1){var o;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((o=this.viewItems[this.previouslyFocusedItem])===null||o===void 0||o.blur());const r=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(r){let c=!0;b.isFunction(r.focus)||(c=!1),this.options.focusOnlyEnabledItems&&b.isFunction(r.isEnabled)&&!r.isEnabled()&&(c=!1),r.action.id===I.Separator.ID&&(c=!1),c?(t||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(n),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0)}}doTrigger(n){if(typeof this.focusedItem=="undefined")return;const i=this.viewItems[this.focusedItem];if(i instanceof k.BaseActionViewItem){const t=i._context===null||i._context===void 0?n:i._context;this.run(i._action,t)}}run(n,i){return Se(this,void 0,void 0,function*(){yield this._actionRunner.run(n,i)})}dispose(){(0,_.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=u}),define(se[492],re([1,0,7,135,491,6,230]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class L extends v.BaseActionViewItem{constructor(b,u,g,n=Object.create(null)){super(null,b,n);this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Emitter),this.menuActionsOrProvider=u,this.contextMenuProvider=g,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(b){this.actionItem=b;const u=i=>{this.element=(0,w.append)(i,(0,w.$)("a.action-label"));let t=[];return typeof this.options.classNames=="string"?t=this.options.classNames.split(/\s+/g).filter(o=>!!o):this.options.classNames&&(t=this.options.classNames),t.find(o=>o==="icon")||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},g=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:u,menuAsChild:this.options.menuAsChild,actions:g?this.menuActionsOrProvider:void 0,actionProvider:g?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new k.DropdownMenu(b,n)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var t;(t=this.element)===null||t===void 0||t.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let b=null;return this.action.tooltip?b=this.action.tooltip:this.action.label&&(b=this.action.label),b??void 0}setActionContext(b){super.setActionContext(b),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=b:this.dropdownMenu.menuOptions={context:b})}updateEnabled(){var b,u;const g=!this.action.enabled;(b=this.actionItem)===null||b===void 0||b.classList.toggle("disabled",g),(u=this.element)===null||u===void 0||u.classList.toggle("disabled",g)}}e.DropdownMenuActionViewItem=L}),define(se[136],re([1,0,7,27]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const k=new RegExp(`(\\\\)?\\$\\((${v.CSSIcon.iconNameExpression}(?:${v.CSSIcon.iconModifierExpression})?)\\)`,"g");function I(_){const b=new Array;let u,g=0,n=0;for(;(u=k.exec(_))!==null;){n=u.index||0,b.push(_.substring(g,n)),g=(u.index||0)+u[0].length;const[,i,t]=u;b.push(i?`$(${t})`:L({id:t}))}return g<_.length&&b.push(_.substring(g)),b}e.renderLabelWithIcons=I;function L(_){const b=w.$("span");return b.classList.add(...v.CSSIcon.asClassNameArray(_)),b}e.renderIcon=L}),define(se[493],re([1,0,7,48,64,136,31,6,2,35,339]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const g={buttonBackground:L.Color.fromHex("#0E639C"),buttonHoverBackground:L.Color.fromHex("#006BB3"),buttonSeparator:L.Color.white,buttonForeground:L.Color.white};class n extends b.Disposable{constructor(t,o){super();this._onDidClick=this._register(new _.Emitter),this.options=o||Object.create(null),(0,u.mixin)(this.options,g,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(k.Gesture.addTarget(this._element)),[w.EventType.CLICK,k.EventType.Tap].forEach(r=>{this._register((0,w.addDisposableListener)(this._element,r,c=>{if(!this.enabled){w.EventHelper.stop(c);return}this._onDidClick.fire(c)}))}),this._register((0,w.addDisposableListener)(this._element,w.EventType.KEY_DOWN,r=>{const c=new v.StandardKeyboardEvent(r);let d=!1;this.enabled&&(c.equals(3)||c.equals(10))?(this._onDidClick.fire(r),d=!0):c.equals(9)&&(this._element.blur(),d=!0),d&&w.EventHelper.stop(c,!0)})),this._register((0,w.addDisposableListener)(this._element,w.EventType.MOUSE_OVER,r=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,w.addDisposableListener)(this._element,w.EventType.MOUSE_OUT,r=>{this.applyStyles()})),this.focusTracker=this._register((0,w.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,o;this.options.secondary?(o=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(o=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const r=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=o,this._element.style.backgroundColor=t,this._element.style.borderWidth=r?"1px":"",this._element.style.borderStyle=r?"solid":"",this._element.style.borderColor=r}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,w.reset)(this._element,...(0,I.renderLabelWithIcons)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=n}),define(se[262],re([1,0,7,136,35]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class I{constructor(_,b){var u;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(u=b==null?void 0:b.supportIcons)!==null&&u!==void 0?u:!1,this.domNode=w.append(_,w.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(_,b=[],u="",g){_||(_=""),g&&(_=I.escapeNewLines(_,b)),!(this.didEverRender&&this.text===_&&this.title===u&&k.equals(this.highlights,b))&&(this.text=_,this.title=u,this.highlights=b,this.render())}render(){const _=[];let b=0;for(const u of this.highlights){if(u.end===u.start)continue;if(b<u.start){const i=this.text.substring(b,u.start);_.push(w.$("span",void 0,...this.supportIcons?(0,v.renderLabelWithIcons)(i):[i])),b=u.start}const g=this.text.substring(b,u.end),n=w.$("span.highlight",void 0,...this.supportIcons?(0,v.renderLabelWithIcons)(g):[g]);u.extraClasses&&n.classList.add(...u.extraClasses),_.push(n),b=u.end}if(b<this.text.length){const u=this.text.substring(b);_.push(w.$("span",void 0,...this.supportIcons?(0,v.renderLabelWithIcons)(u):[u]))}w.reset(this.domNode,..._),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(_,b){let u=0,g=0;return _.replace(/\r\n|\r|\n/g,(n,i)=>{g=n===`\r
`?-1:0,i+=u;for(const t of b)t.end<=i||(t.start>=i&&(t.start+=g),t.end>=i&&(t.end+=g));return u+=g,"\u23CE"})}}e.HighlightedLabel=I}),define(se[200],re([1,0,7,262,261,2,35,148,345]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class b{constructor(o){this._element=o}get element(){return this._element}set textContent(o){this.disposed||o===this._textContent||(this._textContent=o,this._element.textContent=o)}set className(o){this.disposed||o===this._className||(this._className=o,this._element.className=o)}set empty(o){this.disposed||o===this._empty||(this._empty=o,this._element.style.marginLeft=o?"0":"")}dispose(){this.disposed=!0}}class u extends I.Disposable{constructor(o,r){super();this.customHovers=new Map,this.domNode=this._register(new b(w.append(o,w.$(".monaco-icon-label")))),this.labelContainer=w.append(this.domNode.element,w.$(".monaco-icon-label-container"));const c=w.append(this.labelContainer,w.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new b(w.append(this.labelContainer,w.$("span.monaco-icon-description-container")))),(r==null?void 0:r.supportHighlights)||(r==null?void 0:r.supportIcons)?this.nameNode=new i(c,!!r.supportIcons):this.nameNode=new g(c),(r==null?void 0:r.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new v.HighlightedLabel(w.append(this.descriptionContainer.element,w.$("span.label-description")),{supportIcons:!!r.supportIcons}):this.descriptionNodeFactory=()=>this._register(new b(w.append(this.descriptionContainer.element,w.$("span.label-description")))),this.hoverDelegate=r==null?void 0:r.hoverDelegate}get element(){return this.domNode.element}setLabel(o,r,c){const d=["monaco-icon-label"],a=["monaco-icon-label-container"];c&&(c.extraClasses&&d.push(...c.extraClasses),c.italic&&d.push("italic"),c.strikethrough&&d.push("strikethrough"),c.disabledCommand&&a.push("disabled")),this.domNode.className=d.join(" "),this.labelContainer.className=a.join(" "),this.setupHover((c==null?void 0:c.descriptionTitle)?this.labelContainer:this.element,c==null?void 0:c.title),this.nameNode.setLabel(o,c),(r||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof v.HighlightedLabel?(this.descriptionNode.set(r||"",c?c.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,c==null?void 0:c.descriptionTitle)):(this.descriptionNode.textContent=r||"",this.setupHover(this.descriptionNode.element,(c==null?void 0:c.descriptionTitle)||""),this.descriptionNode.empty=!r))}setupHover(o,r){const c=this.customHovers.get(o);if(c&&(c.dispose(),this.customHovers.delete(o)),!r){o.removeAttribute("title");return}if(!this.hoverDelegate)(0,k.setupNativeHover)(o,r);else{const d=(0,k.setupCustomHover)(this.hoverDelegate,o,r);d&&this.customHovers.set(o,d)}}dispose(){super.dispose();for(const o of this.customHovers.values())o.dispose();this.customHovers.clear()}}e.IconLabel=u;class g{constructor(o){this.container=o,this.label=void 0,this.singleLabel=void 0}setLabel(o,r){if(!(this.label===o&&(0,L.equals)(this.options,r)))if(this.label=o,this.options=r,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=w.append(this.container,w.$("a.label-name",{id:r==null?void 0:r.domId}))),this.singleLabel.textContent=o;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let c=0;c<o.length;c++){const d=o[c],a=(r==null?void 0:r.domId)&&`${r==null?void 0:r.domId}_${c}`;w.append(this.container,w.$("a.label-name",{id:a,"data-icon-label-count":o.length,"data-icon-label-index":c,role:"treeitem"},d)),c<o.length-1&&w.append(this.container,w.$("span.label-separator",void 0,(r==null?void 0:r.separator)||"/"))}}}}function n(t,o,r){if(!r)return;let c=0;return t.map(d=>{const a={start:c,end:c+d.length},s=r.map(l=>_.Range.intersect(a,l)).filter(l=>!_.Range.isEmpty(l)).map(({start:l,end:h})=>({start:l-c,end:h-c}));return c=a.end+o.length,s})}class i{constructor(o,r){this.container=o,this.supportIcons=r,this.label=void 0,this.singleLabel=void 0}setLabel(o,r){if(!(this.label===o&&(0,L.equals)(this.options,r)))if(this.label=o,this.options=r,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new v.HighlightedLabel(w.append(this.container,w.$("a.label-name",{id:r==null?void 0:r.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(o,r==null?void 0:r.matches,void 0,r==null?void 0:r.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const c=(r==null?void 0:r.separator)||"/",d=n(o,c,r==null?void 0:r.matches);for(let a=0;a<o.length;a++){const s=o[a],l=d?d[a]:void 0,h=(r==null?void 0:r.domId)&&`${r==null?void 0:r.domId}_${a}`,p=w.$("a.label-name",{id:h,"data-icon-label-count":o.length,"data-icon-label-index":a,role:"treeitem"});new v.HighlightedLabel(w.append(this.container,p),{supportIcons:this.supportIcons}).set(s,l,void 0,r==null?void 0:r.labelEscapeNewLines),a<o.length-1&&w.append(p,w.$("span.label-separator",void 0,c))}}}}}),define(se[494],re([1,0,7,193,35,477,347]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const L=w.$;class _{constructor(u,g,n){this.os=g,this.keyElements=new Set,this.options=n||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=w.append(u,L(".monaco-keybinding")),this.didEverRender=!1,u.appendChild(this.domNode)}get element(){return this.domNode}set(u,g){this.didEverRender&&this.keybinding===u&&_.areSame(this.matches,g)||(this.keybinding=u,this.matches=g,this.render())}render(){if(this.clear(),this.keybinding){const[u,g]=this.keybinding.getParts();u&&this.renderPart(this.domNode,u,this.matches?this.matches.firstPart:null),g&&(w.append(this.domNode,L("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,g,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){w.clearNode(this.domNode),this.keyElements.clear()}renderPart(u,g,n){const i=v.UILabelProvider.modifierLabels[this.os];g.ctrlKey&&this.renderKey(u,i.ctrlKey,Boolean(n==null?void 0:n.ctrlKey),i.separator),g.shiftKey&&this.renderKey(u,i.shiftKey,Boolean(n==null?void 0:n.shiftKey),i.separator),g.altKey&&this.renderKey(u,i.altKey,Boolean(n==null?void 0:n.altKey),i.separator),g.metaKey&&this.renderKey(u,i.metaKey,Boolean(n==null?void 0:n.metaKey),i.separator);const t=g.keyLabel;t&&this.renderKey(u,t,Boolean(n==null?void 0:n.keyCode),"")}renderKey(u,g,n,i){w.append(u,this.createKeyElement(g,n?".highlight":"")),i&&w.append(u,L("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(u){w.append(u,this.createKeyElement((0,I.localize)(0,null)))}createKeyElement(u,g=""){const n=L("span.monaco-keybinding-key"+g,void 0,u);return this.keyElements.add(n),n}style(u){this.labelBackground=u.keybindingLabelBackground,this.labelForeground=u.keybindingLabelForeground,this.labelBorder=u.keybindingLabelBorder,this.labelBottomBorder=u.keybindingLabelBottomBorder,this.labelShadow=u.keybindingLabelShadow,this.applyStyles()}applyStyles(){var u;if(this.element){for(const g of this.keyElements)this.labelBackground&&(g.style.backgroundColor=(u=this.labelBackground)===null||u===void 0?void 0:u.toString()),this.labelBorder&&(g.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(g.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(g.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(u,g){return u===g||!u&&!g?!0:!!u&&!!g&&(0,k.equals)(u.firstPart,g.firstPart)&&(0,k.equals)(u.chordPart,g.chordPart)}}e.KeybindingLabel=_}),define(se[495],re([1,0,7]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function v(I){var L;try{(L=I.parentElement)===null||L===void 0||L.removeChild(I)}catch{}}class k{constructor(L){this.renderers=L,this.cache=new Map}alloc(L){let _=this.getTemplateCache(L).pop();if(!_){const b=(0,w.$)(".monaco-list-row"),g=this.getRenderer(L).renderTemplate(b);_={domNode:b,templateId:L,templateData:g}}return _}release(L){!L||this.releaseRow(L)}releaseRow(L){const{domNode:_,templateId:b}=L;_&&(_.classList.remove("scrolling"),v(_)),this.getTemplateCache(b).push(L)}getTemplateCache(L){let _=this.cache.get(L);return _||(_=[],this.cache.set(L,_)),_}dispose(){this.cache.forEach((L,_)=>{for(const b of L)this.getRenderer(_).disposeTemplate(b.templateData),b.templateData=null}),this.cache.clear()}getRenderer(L){const _=this.renderers.get(L);if(!_)throw new Error(`No renderer found for ${L}`);return _}}e.RowCache=k}),define(se[496],re([1,0,7,10,31,2,35,349]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const _="done",b="active",u="infinite",g="infinite-long-running",n="discrete",i={progressBarBackground:k.Color.fromHex("#0E70C0")};class t extends I.Disposable{constructor(r,c){super();this.options=c||Object.create(null),(0,L.mixin)(this.options,i,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new v.RunOnceScheduler(()=>(0,w.show)(this.element),0)),this.longRunningScheduler=this._register(new v.RunOnceScheduler(()=>this.infiniteLongRunning(),t.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(r)}create(r){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),r.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(b,u,g,n),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(r){return this.element.classList.add(_),this.element.classList.contains(u)?(this.bit.style.opacity="0",r?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",r?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(n,_,g),this.element.classList.add(b,u),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(g)}getContainer(){return this.element}style(r){this.progressBarBackground=r.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const r=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=r}}}e.ProgressBar=t,t.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(se[137],re([1,0,7,91,64,10,104,6,2,18,350]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const g=!1;var n;(function(h){h.North="north",h.South="south",h.East="east",h.West="west"})(n=e.OrthogonalEdge||(e.OrthogonalEdge={}));let i=4;const t=new _.Emitter;let o=300;const r=new _.Emitter;class c{constructor(){this.disposables=new b.DisposableStore}get onPointerMove(){return this.disposables.add(new v.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new v.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}ke([L.memoize],c.prototype,"onPointerMove",null),ke([L.memoize],c.prototype,"onPointerUp",null);class d{constructor(p){this.el=p,this.disposables=new b.DisposableStore}get onPointerMove(){return this.disposables.add(new v.DomEmitter(this.el,k.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new v.DomEmitter(this.el,k.EventType.End)).event}dispose(){this.disposables.dispose()}}ke([L.memoize],d.prototype,"onPointerMove",null),ke([L.memoize],d.prototype,"onPointerUp",null);class a{constructor(p){this.factory=p}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}ke([L.memoize],a.prototype,"onPointerMove",null),ke([L.memoize],a.prototype,"onPointerUp",null);const s="pointer-events-disabled";class l extends b.Disposable{constructor(p,S,f){super();this.hoverDelay=o,this.hoverDelayer=this._register(new I.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new _.Emitter),this._onDidStart=this._register(new _.Emitter),this._onDidChange=this._register(new _.Emitter),this._onDidReset=this._register(new _.Emitter),this._onDidEnd=this._register(new _.Emitter),this.orthogonalStartSashDisposables=this._register(new b.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new b.DisposableStore),this.orthogonalEndSashDisposables=this._register(new b.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new b.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,w.append)(p,(0,w.$)(".monaco-sash")),f.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${f.orthogonalEdge}`),u.isMacintosh&&this.el.classList.add("mac");const m=this._register(new v.DomEmitter(this.el,"mousedown")).event;this._register(m(O=>this.onPointerStart(O,new c),this));const C=this._register(new v.DomEmitter(this.el,"dblclick")).event;this._register(C(this.onPointerDoublePress,this));const y=this._register(new v.DomEmitter(this.el,"mouseenter")).event;this._register(y(()=>l.onMouseEnter(this)));const E=this._register(new v.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>l.onMouseLeave(this))),this._register(k.Gesture.addTarget(this.el));const T=_.Event.map(this._register(new v.DomEmitter(this.el,k.EventType.Start)).event,O=>{var P;return Object.assign(Object.assign({},O),{target:(P=O.initialTarget)!==null&&P!==void 0?P:null})});this._register(T(O=>this.onPointerStart(O,new d(this.el)),this));const N=this._register(new v.DomEmitter(this.el,k.EventType.Tap)).event,F=_.Event.map(_.Event.filter(_.Event.debounce(N,(O,P)=>{var D;return{event:P,count:((D=O==null?void 0:O.count)!==null&&D!==void 0?D:0)+1}},250),({count:O})=>O===2),({event:O})=>{var P;return Object.assign(Object.assign({},O),{target:(P=O.initialTarget)!==null&&P!==void 0?P:null})});this._register(F(this.onPointerDoublePress,this)),typeof f.size=="number"?(this.size=f.size,f.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=i,this._register(t.event(O=>{this.size=O,this.layout()}))),this._register(r.event(O=>this.hoverDelay=O)),this.layoutProvider=S,this.orthogonalStartSash=f.orthogonalStartSash,this.orthogonalEndSash=f.orthogonalEndSash,this.orientation=f.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",g),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(p){this._state!==p&&(this.el.classList.toggle("disabled",p===0),this.el.classList.toggle("minimum",p===1),this.el.classList.toggle("maximum",p===2),this._state=p,this.onDidEnablementChange.fire(p))}set orthogonalStartSash(p){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),p){const S=f=>{this.orthogonalStartDragHandleDisposables.clear(),f!==0&&(this._orthogonalStartDragHandle=(0,w.append)(this.el,(0,w.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,b.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new v.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>l.onMouseEnter(p),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new v.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>l.onMouseLeave(p),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(p.onDidEnablementChange.event(S,this)),S(p.state)}this._orthogonalStartSash=p}set orthogonalEndSash(p){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),p){const S=f=>{this.orthogonalEndDragHandleDisposables.clear(),f!==0&&(this._orthogonalEndDragHandle=(0,w.append)(this.el,(0,w.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,b.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new v.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>l.onMouseEnter(p),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new v.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>l.onMouseLeave(p),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(p.onDidEnablementChange.event(S,this)),S(p.state)}this._orthogonalEndSash=p}onPointerStart(p,S){w.EventHelper.stop(p);let f=!1;if(!p.__orthogonalSashEvent){const M=this.getOrthogonalSash(p);M&&(f=!0,p.__orthogonalSashEvent=!0,M.onPointerStart(p,new a(S)))}if(this.linkedSash&&!p.__linkedSashEvent&&(p.__linkedSashEvent=!0,this.linkedSash.onPointerStart(p,new a(S))),!this.state)return;const m=document.getElementsByTagName("iframe");for(const M of m)M.classList.add(s);const C=p.pageX,y=p.pageY,E=p.altKey,T={startX:C,currentX:C,startY:y,currentY:y,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(T);const N=(0,w.createStyleSheet)(this.el),F=()=>{let M="";f?M="all-scroll":this.orientation===1?this.state===1?M="s-resize":this.state===2?M="n-resize":M=u.isMacintosh?"row-resize":"ns-resize":this.state===1?M="e-resize":this.state===2?M="w-resize":M=u.isMacintosh?"col-resize":"ew-resize",N.textContent=`* { cursor: ${M} !important; }`},O=new b.DisposableStore;F(),f||this.onDidEnablementChange.event(F,null,O);const P=M=>{w.EventHelper.stop(M,!1);const R={startX:C,currentX:M.pageX,startY:y,currentY:M.pageY,altKey:E};this._onDidChange.fire(R)},D=M=>{w.EventHelper.stop(M,!1),this.el.removeChild(N),this.el.classList.remove("active"),this._onDidEnd.fire(),O.dispose();for(const R of m)R.classList.remove(s)};S.onPointerMove(P,null,O),S.onPointerUp(D,null,O),O.add(S)}onPointerDoublePress(p){const S=this.getOrthogonalSash(p);S&&S._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(p,S=!1){p.el.classList.contains("active")?(p.hoverDelayer.cancel(),p.el.classList.add("hover")):p.hoverDelayer.trigger(()=>p.el.classList.add("hover"),p.hoverDelay).then(void 0,()=>{}),!S&&p.linkedSash&&l.onMouseEnter(p.linkedSash,!0)}static onMouseLeave(p,S=!1){p.hoverDelayer.cancel(),p.el.classList.remove("hover"),!S&&p.linkedSash&&l.onMouseLeave(p.linkedSash,!0)}clearSashHoverState(){l.onMouseLeave(this)}layout(){if(this.orientation===0){const p=this.layoutProvider;this.el.style.left=p.getVerticalSashLeft(this)-this.size/2+"px",p.getVerticalSashTop&&(this.el.style.top=p.getVerticalSashTop(this)+"px"),p.getVerticalSashHeight&&(this.el.style.height=p.getVerticalSashHeight(this)+"px")}else{const p=this.layoutProvider;this.el.style.top=p.getHorizontalSashTop(this)-this.size/2+"px",p.getHorizontalSashLeft&&(this.el.style.left=p.getHorizontalSashLeft(this)+"px"),p.getHorizontalSashWidth&&(this.el.style.width=p.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(p){if(!(!p.target||!(p.target instanceof HTMLElement))&&p.target.classList.contains("orthogonal-drag-handle"))return p.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=l}),define(se[263],re([1,0,7,137,6,2]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class L{constructor(){this._onDidWillResize=new k.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new k.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new I.DisposableStore,this._size=new w.Dimension(0,0),this._minSize=new w.Dimension(0,0),this._maxSize=new w.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new v.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new v.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new v.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:v.OrthogonalEdge.North}),this._southSash=new v.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:v.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let b,u=0,g=0;this._sashListener.add(k.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{b===void 0&&(this._onDidWillResize.fire(),b=this._size,u=0,g=0)})),this._sashListener.add(k.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{b!==void 0&&(b=void 0,u=0,g=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{b&&(g=n.currentX-n.startX,this.layout(b.height+u,b.width+g),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{b&&(g=-(n.currentX-n.startX),this.layout(b.height+u,b.width+g),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{b&&(u=-(n.currentY-n.startY),this.layout(b.height+u,b.width+g),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{b&&(u=n.currentY-n.startY,this.layout(b.height+u,b.width+g),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(k.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(k.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(b,u,g,n){this._northSash.state=b?3:0,this._eastSash.state=u?3:0,this._southSash.state=g?3:0,this._westSash.state=n?3:0}layout(b=this.size.height,u=this.size.width){const{height:g,width:n}=this._minSize,{height:i,width:t}=this._maxSize;b=Math.max(g,Math.min(i,b)),u=Math.max(n,Math.min(t,u));const o=new w.Dimension(u,b);w.Dimension.equals(o,this._size)||(this.domNode.style.height=b+"px",this.domNode.style.width=u+"px",this._size=o,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(b){this._maxSize=b}get maxSize(){return this._maxSize}set minSize(b){this._minSize=b}get minSize(){return this._minSize}set preferredSize(b){this._preferredSize=b}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=L}),define(se[68],re([1,0,7,48,63,64,2]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class _ extends L.Disposable{onclick(u,g){this._register(w.addDisposableListener(u,w.EventType.CLICK,n=>g(new k.StandardMouseEvent(n))))}onmousedown(u,g){this._register(w.addDisposableListener(u,w.EventType.MOUSE_DOWN,n=>g(new k.StandardMouseEvent(n))))}onmouseover(u,g){this._register(w.addDisposableListener(u,w.EventType.MOUSE_OVER,n=>g(new k.StandardMouseEvent(n))))}onmouseleave(u,g){this._register(w.addDisposableListener(u,w.EventType.MOUSE_LEAVE,n=>g(new k.StandardMouseEvent(n))))}onkeydown(u,g){this._register(w.addDisposableListener(u,w.EventType.KEY_DOWN,n=>g(new v.StandardKeyboardEvent(n))))}onkeyup(u,g){this._register(w.addDisposableListener(u,w.EventType.KEY_UP,n=>g(new v.StandardKeyboardEvent(n))))}oninput(u,g){this._register(w.addDisposableListener(u,w.EventType.INPUT,g))}onblur(u,g){this._register(w.addDisposableListener(u,w.EventType.BLUR,g))}onfocus(u,g){this._register(w.addDisposableListener(u,w.EventType.FOCUS,g))}ignoreGesture(u){I.Gesture.ignoreTarget(u)}}e.Widget=_}),define(se[201],re([1,0,134,68,10,7]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class L extends v.Widget{constructor(b){super();this._onActivate=b.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=b.bgWidth+"px",this.bgDomNode.style.height=b.bgHeight+"px",typeof b.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof b.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof b.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof b.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=b.className,this.domNode.classList.add(...b.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof b.top!="undefined"&&(this.domNode.style.top=b.top+"px"),typeof b.left!="undefined"&&(this.domNode.style.left=b.left+"px"),typeof b.bottom!="undefined"&&(this.domNode.style.bottom=b.bottom+"px"),typeof b.right!="undefined"&&(this.domNode.style.right=b.right+"px"),this._pointerMoveMonitor=this._register(new w.GlobalPointerMoveMonitor),this._register(I.addStandardDisposableListener(this.bgDomNode,I.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._register(I.addStandardDisposableListener(this.domNode,I.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._pointerdownRepeatTimer=this._register(new k.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new k.TimeoutTimer)}_arrowPointerDown(b){if(!b.target||!(b.target instanceof Element))return;const u=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(u,200),this._pointerMoveMonitor.startMonitoring(b.target,b.pointerId,b.buttons,g=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),b.preventDefault()}}e.ScrollbarArrow=L}),define(se[264],re([1,0,7,33,134,201,487,68,18]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const u=140;class g extends _.Widget{constructor(i){super();this._lazyRender=i.lazyRender,this._host=i.host,this._scrollable=i.scrollable,this._scrollByPage=i.scrollByPage,this._scrollbarState=i.scrollbarState,this._visibilityController=this._register(new L.ScrollbarVisibilityController(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,v.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(w.addDisposableListener(this.domNode.domNode,w.EventType.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(i){const t=this._register(new I.ScrollbarArrow(i));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(i,t,o,r){this.slider=(0,v.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(i),this.slider.setLeft(t),typeof o=="number"&&this.slider.setWidth(o),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(w.addDisposableListener(this.slider.domNode,w.EventType.POINTER_DOWN,c=>{c.button===0&&(c.preventDefault(),this._sliderPointerDown(c))})),this.onclick(this.slider.domNode,c=>{c.leftButton&&c.stopPropagation()})}_onElementSize(i){return this._scrollbarState.setVisibleSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(i){return this._scrollbarState.setScrollSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(i){return this._scrollbarState.setScrollPosition(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(i){i.target===this.domNode.domNode&&this._onPointerDown(i)}delegatePointerDown(i){const t=this.domNode.domNode.getClientRects()[0].top,o=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),c=this._sliderPointerPosition(i);o<=c&&c<=r?i.button===0&&(i.preventDefault(),this._sliderPointerDown(i)):this._onPointerDown(i)}_onPointerDown(i){let t,o;if(i.target===this.domNode.domNode&&typeof i.offsetX=="number"&&typeof i.offsetY=="number")t=i.offsetX,o=i.offsetY;else{const c=w.getDomNodePagePosition(this.domNode.domNode);t=i.pageX-c.left,o=i.pageY-c.top}const r=this._pointerDownRelativePosition(t,o);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),i.button===0&&(i.preventDefault(),this._sliderPointerDown(i))}_sliderPointerDown(i){if(!i.target||!(i.target instanceof Element))return;const t=this._sliderPointerPosition(i),o=this._sliderOrthogonalPointerPosition(i),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,c=>{const d=this._sliderOrthogonalPointerPosition(c),a=Math.abs(d-o);if(b.isWindows&&a>u){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const l=this._sliderPointerPosition(c)-t;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(l))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(i){const t={};this.writeScrollPosition(t,i),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(i){this._updateScrollbarSize(i),this._scrollbarState.setScrollbarSize(i),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=g}),define(se[497],re([1,0,63,264,201,225,27]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class _ extends v.AbstractScrollbar{constructor(u,g,n){const i=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:n,scrollbarState:new I.ScrollbarState(g.horizontalHasArrows?g.arrowSize:0,g.horizontal===2?0:g.horizontalScrollbarSize,g.vertical===2?0:g.verticalScrollbarSize,i.width,i.scrollWidth,t.scrollLeft),visibility:g.horizontal,extraScrollbarClassName:"horizontal",scrollable:u,scrollByPage:g.scrollByPage});if(g.horizontalHasArrows){const o=(g.arrowSize-k.ARROW_IMG_SIZE)/2,r=(g.horizontalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonLeft,top:r,left:o,bottom:void 0,right:void 0,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonRight,top:r,left:void 0,bottom:void 0,right:o,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((g.horizontalScrollbarSize-g.horizontalSliderSize)/2),0,void 0,g.horizontalSliderSize)}_updateSlider(u,g){this.slider.setWidth(u),this.slider.setLeft(g)}_renderDomNode(u,g){this.domNode.setWidth(u),this.domNode.setHeight(g),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(u.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,g){return u}_sliderPointerPosition(u){return u.pageX}_sliderOrthogonalPointerPosition(u){return u.pageY}_updateScrollbarSize(u){this.slider.setHeight(u)}writeScrollPosition(u,g){u.scrollLeft=g}updateOptions(u){this.updateScrollbarSize(u.horizontal===2?0:u.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._visibilityController.setVisibility(u.horizontal),this._scrollByPage=u.scrollByPage}}e.HorizontalScrollbar=_}),define(se[498],re([1,0,63,264,201,225,27]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class _ extends v.AbstractScrollbar{constructor(u,g,n){const i=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:n,scrollbarState:new I.ScrollbarState(g.verticalHasArrows?g.arrowSize:0,g.vertical===2?0:g.verticalScrollbarSize,0,i.height,i.scrollHeight,t.scrollTop),visibility:g.vertical,extraScrollbarClassName:"vertical",scrollable:u,scrollByPage:g.scrollByPage});if(g.verticalHasArrows){const o=(g.arrowSize-k.ARROW_IMG_SIZE)/2,r=(g.verticalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonUp,top:o,left:r,bottom:void 0,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonDown,top:void 0,left:r,bottom:o,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((g.verticalScrollbarSize-g.verticalSliderSize)/2),g.verticalSliderSize,void 0)}_updateSlider(u,g){this.slider.setHeight(u),this.slider.setTop(g)}_renderDomNode(u,g){this.domNode.setWidth(g),this.domNode.setHeight(u),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(u.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,g){return g}_sliderPointerPosition(u){return u.pageY}_sliderOrthogonalPointerPosition(u){return u.pageX}_updateScrollbarSize(u){this.slider.setWidth(u)}writeScrollPosition(u,g){u.scrollTop=g}updateOptions(u){this.updateScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(u.vertical),this._scrollByPage=u.scrollByPage}}e.VerticalScrollbar=_}),define(se[76],re([1,0,41,7,33,63,497,498,68,10,6,2,18,162,351]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const o=500,r=50,c=!0;class d{constructor(m,C,y){this.timestamp=m,this.deltaX=C,this.deltaY=y,this.score=0}}class a{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let m=1,C=0,y=1,E=this._rear;do{const T=E===this._front?m:Math.pow(2,-y);if(m-=T,C+=this._memory[E].score*T,E===this._front)break;E=(this._capacity+E-1)%this._capacity,y++}while(!0);return C<=.5}accept(m,C,y){const E=new d(m,C,y);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(m){if(Math.abs(m.deltaX)>0&&Math.abs(m.deltaY)>0)return 1;let C=.5;const y=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(m.deltaX)||!this._isAlmostInt(m.deltaY))&&(C+=.25),Math.min(Math.max(C,0),1)}_isAlmostInt(m){return Math.abs(Math.round(m)-m)<.01}}e.MouseWheelClassifier=a,a.INSTANCE=new a;class s extends b.Widget{constructor(m,C,y){super();this._onScroll=this._register(new g.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new g.Emitter),m.style.overflow="hidden",this._options=S(C),this._scrollable=y,this._register(this._scrollable.onScroll(T=>{this._onWillScroll.fire(T),this._onDidScroll(T),this._onScroll.fire(T)}));const E={onMouseWheel:T=>this._onMouseWheel(T),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new _.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new L.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(m),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,T=>this._onMouseOver(T)),this.onmouseleave(this._listenOnDomNode,T=>this._onMouseLeave(T)),this._hideTimeout=this._register(new u.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,n.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(m){this._verticalScrollbar.delegatePointerDown(m)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(m){this._scrollable.setScrollDimensions(m,!1)}updateClassName(m){this._options.className=m,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(m){typeof m.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=m.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof m.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=m.mouseWheelScrollSensitivity),typeof m.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=m.fastScrollSensitivity),typeof m.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=m.scrollPredominantAxis),typeof m.horizontal!="undefined"&&(this._options.horizontal=m.horizontal),typeof m.vertical!="undefined"&&(this._options.vertical=m.vertical),typeof m.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=m.horizontalScrollbarSize),typeof m.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=m.verticalScrollbarSize),typeof m.scrollByPage!="undefined"&&(this._options.scrollByPage=m.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(m){if(this._mouseWheelToDispose.length>0!==m&&(this._mouseWheelToDispose=(0,n.dispose)(this._mouseWheelToDispose),m)){const y=E=>{this._onMouseWheel(new I.StandardWheelEvent(E))};this._mouseWheelToDispose.push(v.addDisposableListener(this._listenOnDomNode,v.EventType.MOUSE_WHEEL,y,{passive:!1}))}}_onMouseWheel(m){const C=a.INSTANCE;if(c){const T=window.devicePixelRatio/(0,w.getZoomFactor)();i.isWindows||i.isLinux?C.accept(Date.now(),m.deltaX/T,m.deltaY/T):C.accept(Date.now(),m.deltaX,m.deltaY)}let y=!1;if(m.deltaY||m.deltaX){let T=m.deltaY*this._options.mouseWheelScrollSensitivity,N=m.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(T)>=Math.abs(N)?N=0:T=0),this._options.flipAxes&&([T,N]=[N,T]);const F=!i.isMacintosh&&m.browserEvent&&m.browserEvent.shiftKey;(this._options.scrollYToX||F)&&!N&&(N=T,T=0),m.browserEvent&&m.browserEvent.altKey&&(N=N*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const O=this._scrollable.getFutureScrollPosition();let P={};if(T){const D=r*T,M=O.scrollTop-(D<0?Math.floor(D):Math.ceil(D));this._verticalScrollbar.writeScrollPosition(P,M)}if(N){const D=r*N,M=O.scrollLeft-(D<0?Math.floor(D):Math.ceil(D));this._horizontalScrollbar.writeScrollPosition(P,M)}P=this._scrollable.validateScrollPosition(P),(O.scrollLeft!==P.scrollLeft||O.scrollTop!==P.scrollTop)&&(c&&this._options.mouseWheelSmoothScroll&&C.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(P):this._scrollable.setScrollPositionNow(P),y=!0)}let E=y;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(m.preventDefault(),m.stopPropagation())}_onDidScroll(m){this._shouldRender=this._horizontalScrollbar.onDidScroll(m)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(m)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const m=this._scrollable.getCurrentScrollPosition(),C=m.scrollTop>0,y=m.scrollLeft>0,E=y?" left":"",T=C?" top":"",N=y||C?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${T}`),this._topLeftShadowDomNode.setClassName(`shadow${N}${T}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(m){this._mouseIsOver=!1,this._hide()}_onMouseOver(m){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),o)}}e.AbstractScrollableElement=s;class l extends s{constructor(m,C){C=C||{},C.mouseWheelSmoothScroll=!1;const y=new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>v.scheduleAtNextAnimationFrame(E)});super(m,C,y);this._register(y)}setScrollPosition(m){this._scrollable.setScrollPositionNow(m)}}e.ScrollableElement=l;class h extends s{constructor(m,C,y){super(m,C,y)}setScrollPosition(m){m.reuseAnimation?this._scrollable.setScrollPositionSmooth(m,m.reuseAnimation):this._scrollable.setScrollPositionNow(m)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class p extends s{constructor(m,C){C=C||{},C.mouseWheelSmoothScroll=!1;const y=new t.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>v.scheduleAtNextAnimationFrame(E)});super(m,C,y);this._register(y),this._element=m,this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)}),this.scanDomNode()}setScrollPosition(m){this._scrollable.setScrollPositionNow(m)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=p;function S(f){const m={lazyRender:typeof f.lazyRender!="undefined"?f.lazyRender:!1,className:typeof f.className!="undefined"?f.className:"",useShadows:typeof f.useShadows!="undefined"?f.useShadows:!0,handleMouseWheel:typeof f.handleMouseWheel!="undefined"?f.handleMouseWheel:!0,flipAxes:typeof f.flipAxes!="undefined"?f.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof f.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?f.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof f.alwaysConsumeMouseWheel!="undefined"?f.alwaysConsumeMouseWheel:!1,scrollYToX:typeof f.scrollYToX!="undefined"?f.scrollYToX:!1,mouseWheelScrollSensitivity:typeof f.mouseWheelScrollSensitivity!="undefined"?f.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof f.fastScrollSensitivity!="undefined"?f.fastScrollSensitivity:5,scrollPredominantAxis:typeof f.scrollPredominantAxis!="undefined"?f.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof f.mouseWheelSmoothScroll!="undefined"?f.mouseWheelSmoothScroll:!0,arrowSize:typeof f.arrowSize!="undefined"?f.arrowSize:11,listenOnDomNode:typeof f.listenOnDomNode!="undefined"?f.listenOnDomNode:null,horizontal:typeof f.horizontal!="undefined"?f.horizontal:1,horizontalScrollbarSize:typeof f.horizontalScrollbarSize!="undefined"?f.horizontalScrollbarSize:10,horizontalSliderSize:typeof f.horizontalSliderSize!="undefined"?f.horizontalSliderSize:0,horizontalHasArrows:typeof f.horizontalHasArrows!="undefined"?f.horizontalHasArrows:!1,vertical:typeof f.vertical!="undefined"?f.vertical:1,verticalScrollbarSize:typeof f.verticalScrollbarSize!="undefined"?f.verticalScrollbarSize:10,verticalHasArrows:typeof f.verticalHasArrows!="undefined"?f.verticalHasArrows:!1,verticalSliderSize:typeof f.verticalSliderSize!="undefined"?f.verticalSliderSize:0,scrollByPage:typeof f.scrollByPage!="undefined"?f.scrollByPage:!1};return m.horizontalSliderSize=typeof f.horizontalSliderSize!="undefined"?f.horizontalSliderSize:m.horizontalScrollbarSize,m.verticalSliderSize=typeof f.verticalSliderSize!="undefined"?f.verticalSliderSize:m.verticalScrollbarSize,i.isMacintosh&&(m.className+=" mac"),m}}),define(se[265],re([1,0,7,48,76,2,344]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const L=w.$;class _ extends I.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new k.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=_;class b extends I.Disposable{constructor(g,n,i){super();this.actionContainer=w.append(g,L("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=w.append(this.actionContainer,L("a.action")),this.action.setAttribute("role","button"),n.iconClass&&w.append(this.action,L(`span.icon.${n.iconClass}`));const t=w.append(this.action,L("span"));t.textContent=i?`${n.label} (${i})`:n.label,this._register(w.addDisposableListener(this.actionContainer,w.EventType.CLICK,o=>{o.stopPropagation(),o.preventDefault(),n.run(this.actionContainer)})),this._register(w.addDisposableListener(this.actionContainer,w.EventType.KEY_UP,o=>{new v.StandardKeyboardEvent(o).equals(3)&&(o.stopPropagation(),o.preventDefault(),n.run(this.actionContainer))})),this.setEnabled(!0)}static render(g,n,i){return new b(g,n,i)}setEnabled(g){g?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=b}),define(se[266],re([1,0,7,91,199,75,49,76,68,31,6,335,35,476,346]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const o=w.$,r={inputBackground:u.Color.fromHex("#3C3C3C"),inputForeground:u.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:u.Color.fromHex("#55AAFF"),inputValidationInfoBackground:u.Color.fromHex("#063B49"),inputValidationWarningBorder:u.Color.fromHex("#B89500"),inputValidationWarningBackground:u.Color.fromHex("#352A05"),inputValidationErrorBorder:u.Color.fromHex("#BE1100"),inputValidationErrorBackground:u.Color.fromHex("#5A1D1D")};class c extends b.Widget{constructor(s,l,h){var p;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new g.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new g.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=l,this.options=h||Object.create(null),(0,i.mixin)(this.options,r,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(p=this.options.tooltip)!==null&&p!==void 0?p:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=w.append(s,o(".monaco-inputbox.idle"));const S=this.options.flexibleHeight?"textarea":"input",f=w.append(this.element,o(".ibwrapper"));if(this.input=w.append(f,o(S+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=w.append(f,o("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new _.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),w.append(s,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(y=>this.input.scrollTop=y.scrollTop));const m=this._register(new v.DomEmitter(document,"selectionchange")),C=g.Event.filter(m.event,()=>{const y=document.getSelection();return(y==null?void 0:y.anchorNode)===f});this._register(C(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new I.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(s){this.placeholder=s,this.input.setAttribute("placeholder",s)}setTooltip(s){this.tooltip=s,this.input.title=s}setAriaLabel(s){this.ariaLabel=s,s?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(s){this.input.value!==s&&(this.input.value=s,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:w.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(s=null){this.input.select(),s&&(this.input.setSelectionRange(s.start,s.end),s.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return w.getTotalWidth(this.input)}set width(s){if(this.options.flexibleHeight&&this.options.flexibleWidth){let l=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,p=parseFloat(this.mirror.style.paddingRight||"")||0;l=h+p}this.input.style.width=s-l+"px"}else this.input.style.width=s+"px";this.mirror&&(this.mirror.style.width=s+"px")}set paddingRight(s){this.input.style.width=`calc(100% - ${s}px)`,this.mirror&&(this.mirror.style.paddingRight=s+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const s=this.cachedContentHeight,l=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:s,height:l}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(s,l){this.message=s,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(s.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||l)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let s=null;return this.validation&&(s=this.validation(this.value),s?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(s)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),s==null?void 0:s.type}stylesForType(s){switch(s){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(s){switch(s){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let s;const l=()=>s.style.width=w.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:p=>{if(!this.message)return null;s=w.append(p,o(".monaco-inputbox-container")),l();const S={inline:!0,className:"monaco-inputbox-message"},f=this.message.formatContent?(0,k.renderFormattedText)(this.message.content,S):(0,k.renderText)(this.message.content,S);f.classList.add(this.classForType(this.message.type));const m=this.stylesForType(this.message.type);return f.style.backgroundColor=m.background?m.background.toString():"",f.style.color=m.foreground?m.foreground.toString():"",f.style.border=m.border?`1px solid ${m.border}`:"",w.append(s,f),null},onHide:()=>{this.state="closed"},layout:l});let h;this.message.type===3?h=t.localize(0,null,this.message.content):this.message.type===2?h=t.localize(1,null,this.message.content):h=t.localize(2,null,this.message.content),L.alert(h),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const s=this.value,h=s.charCodeAt(s.length-1)===10?" ":"";(s+h).replace(/\u000c/g,"")?this.mirror.textContent=s+h:this.mirror.innerText="\xA0",this.layout()}style(s){this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const s=this.inputBackground?this.inputBackground.toString():"",l=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=s,this.element.style.color=l,this.input.style.backgroundColor="inherit",this.input.style.color=l,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const s=this.cachedContentHeight;this.cachedContentHeight=w.getTotalHeight(this.mirror),s!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(s){const l=this.inputElement,h=l.selectionStart,p=l.selectionEnd,S=l.value;h!==null&&p!==null&&(this.value=S.substr(0,h)+s+S.substr(p),l.setSelectionRange(h+1,h+1),this.layout())}dispose(){var s;this._hideMessage(),this.message=null,(s=this.actionbar)===null||s===void 0||s.dispose(),super.dispose()}}e.InputBox=c;class d extends c{constructor(s,l,h){const p=t.localize(3,null),S=` or \u21C5 ${p}`,f=` (\u21C5 ${p})`;super(s,l,h);this._onDidFocus=this._register(new g.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new g.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new n.HistoryNavigator(h.history,100);const m=()=>{if(h.showHistoryHint&&h.showHistoryHint()&&!this.placeholder.endsWith(S)&&!this.placeholder.endsWith(f)&&this.history.getHistory().length){const C=this.placeholder.endsWith(")")?S:f,y=this.placeholder+C;h.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=y:this.setPlaceHolder(y)}};this.observer=new MutationObserver((C,y)=>{C.forEach(E=>{E.target.textContent||m()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>m()),this.onblur(this.input,()=>{const C=y=>{if(this.placeholder.endsWith(y)){const E=this.placeholder.slice(0,this.placeholder.length-y.length);return h.showPlaceholderOnFocus?this.placeholder=E:this.setPlaceHolder(E),!0}else return!1};C(f)||C(S)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let s=this.getNextValue();s&&(s=s===this.value?this.getNextValue():s),s&&(this.value=s,L.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let s=this.getPreviousValue();s&&(s=s===this.value?this.getPreviousValue():s),s&&(this.value=s,L.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let s=this.history.current();return s||(s=this.history.last(),this.history.next()),s}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=d}),define(se[202],re([1,0,41,124,7,91,64,76,17,10,104,6,2,148,162,336,495]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const d={CurrentDragAndDropData:void 0},a={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(m){return[m]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class s{constructor(C){this.elements=C}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=s;class l{constructor(C){this.elements=C}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class h{constructor(){this.types=[],this.files=[]}update(C){if(C.types&&this.types.splice(0,this.types.length,...C.types),C.files){this.files.splice(0,this.files.length);for(let y=0;y<C.files.length;y++){const E=C.files.item(y);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function p(m,C){return Array.isArray(m)&&Array.isArray(C)?(0,b.equals)(m,C):m===C}class S{constructor(C){(C==null?void 0:C.getSetSize)?this.getSetSize=C.getSetSize.bind(C):this.getSetSize=(y,E,T)=>T,(C==null?void 0:C.getPosInSet)?this.getPosInSet=C.getPosInSet.bind(C):this.getPosInSet=(y,E)=>E+1,(C==null?void 0:C.getRole)?this.getRole=C.getRole.bind(C):this.getRole=y=>"listitem",(C==null?void 0:C.isChecked)?this.isChecked=C.isChecked.bind(C):this.isChecked=y=>{}}}class f{constructor(C,y,E,T=a){var N,F,O,P,D,M,R,B,W,V;if(this.virtualDelegate=y,this.domId=`list_id_${++f.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new u.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=i.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=i.Disposable.None,this.onDragLeaveTimeout=i.Disposable.None,this.disposables=new i.DisposableStore,this._onDidChangeContentHeight=new n.Emitter,this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new r.RangeMap;for(const Y of E)this.renderers.set(Y.templateId,Y);this.cache=this.disposables.add(new c.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(N=T.horizontalScrolling)!==null&&N!==void 0?N:a.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof T.additionalScrollHeight=="undefined"?0:T.additionalScrollHeight,this.accessibilityProvider=new S(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((F=T.transformOptimization)!==null&&F!==void 0?F:a.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(L.Gesture.addTarget(this.rowsContainer)),this.scrollable=new o.Scrollable({forceIntegerValues:!0,smoothScrollDuration:((O=T.smoothScrolling)!==null&&O!==void 0?O:!1)?125:0,scheduleAtNextAnimationFrame:Y=>(0,k.scheduleAtNextAnimationFrame)(Y)}),this.scrollableElement=this.disposables.add(new _.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(P=T.alwaysConsumeMouseWheel)!==null&&P!==void 0?P:a.alwaysConsumeMouseWheel,horizontal:1,vertical:(D=T.verticalScrollMode)!==null&&D!==void 0?D:a.verticalScrollMode,useShadows:(M=T.useShadows)!==null&&M!==void 0?M:a.useShadows,mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),C.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,L.EventType.Change,Y=>this.onTouchChange(Y))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",Y=>Y.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",Y=>this.onDragOver(this.toDragEvent(Y)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",Y=>this.onDrop(this.toDragEvent(Y)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",Y=>this.onDragLeave(this.toDragEvent(Y)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",Y=>this.onDragEnd(Y))),this.setRowLineHeight=(R=T.setRowLineHeight)!==null&&R!==void 0?R:a.setRowLineHeight,this.setRowHeight=(B=T.setRowHeight)!==null&&B!==void 0?B:a.setRowHeight,this.supportDynamicHeights=(W=T.supportDynamicHeights)!==null&&W!==void 0?W:a.supportDynamicHeights,this.dnd=(V=T.dnd)!==null&&V!==void 0?V:a.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(C){if(C!==this._horizontalScrolling){if(C&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=C,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const y of this.items)this.measureItemWidth(y);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(C){C.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=C.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),C.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(C.smoothScrolling?125:0),C.horizontalScrolling!==void 0&&(this.horizontalScrolling=C.horizontalScrolling),C.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:C.mouseWheelScrollSensitivity}),C.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:C.fastScrollSensitivity})}splice(C,y,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(C,y,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(C,y,E=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:C,end:C+y},F=t.Range.intersect(T,N),O=new Map;for(let Q=F.end-1;Q>=F.start;Q--){const J=this.items[Q];if(J.dragStartDisposable.dispose(),J.checkedDisposable.dispose(),J.row){let de=O.get(J.templateId);de||(de=[],O.set(J.templateId,de));const x=this.renderers.get(J.templateId);x&&x.disposeElement&&x.disposeElement(J.element,Q,J.row.templateData,J.size),de.push(J.row)}J.row=null}const P={start:C+y,end:this.items.length},D=t.Range.intersect(P,T),M=t.Range.relativeComplement(P,T),R=E.map(Q=>({id:String(this.itemId++),element:Q,templateId:this.virtualDelegate.getTemplateId(Q),size:this.virtualDelegate.getHeight(Q),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Q),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:i.Disposable.None,checkedDisposable:i.Disposable.None}));let B;C===0&&y>=this.items.length?(this.rangeMap=new r.RangeMap,this.rangeMap.splice(0,0,R),B=this.items,this.items=R):(this.rangeMap.splice(C,y,R),B=this.items.splice(C,y,...R));const W=E.length-y,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),A=(0,r.shift)(D,W),Y=t.Range.intersect(V,A);for(let Q=Y.start;Q<Y.end;Q++)this.updateItemInDOM(this.items[Q],Q);const ee=t.Range.relativeComplement(A,V);for(const Q of ee)for(let J=Q.start;J<Q.end;J++)this.removeItemFromDOM(J);const U=M.map(Q=>(0,r.shift)(Q,W)),Z=[{start:C,end:C+E.length},...U].map(Q=>t.Range.intersect(V,Q)),ie=this.getNextToLastElement(Z);for(const Q of Z)for(let J=Q.start;J<Q.end;J++){const de=this.items[J],x=O.get(de.templateId),ne=x==null?void 0:x.pop();this.insertItemInDOM(J,ie,ne)}for(const Q of O.values())for(const J of Q)this.cache.release(J);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),B.map(Q=>Q.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let C=0;for(const y of this.items)typeof y.width!="undefined"&&(C=Math.max(C,y.width));this.scrollWidth=C,this.scrollableElement.setScrollDimensions({scrollWidth:C===0?0:C+10})}rerender(){if(!!this.supportDynamicHeights){for(const C of this.items)C.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(C){return this.items[C].element}domElement(C){const y=this.items[C].row;return y&&y.domNode}elementHeight(C){return this.items[C].size}elementTop(C){return this.rangeMap.positionAt(C)}indexAt(C){return this.rangeMap.indexAt(C)}indexAfter(C){return this.rangeMap.indexAfter(C)}layout(C,y){const E={height:typeof C=="number"?C:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof y!="undefined"&&(this.renderWidth=y,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof y=="number"?y:(0,k.getContentWidth)(this.domNode)})}render(C,y,E,T,N,F=!1){const O=this.getRenderRange(y,E),P=t.Range.relativeComplement(O,C),D=t.Range.relativeComplement(C,O),M=this.getNextToLastElement(P);if(F){const R=t.Range.intersect(C,O);for(let B=R.start;B<R.end;B++)this.updateItemInDOM(this.items[B],B)}for(const R of P)for(let B=R.start;B<R.end;B++)this.insertItemInDOM(B,M);for(const R of D)for(let B=R.start;B<R.end;B++)this.removeItemFromDOM(B);T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${y}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=y,this.lastRenderHeight=E}insertItemInDOM(C,y,E){const T=this.items[C];T.row||(T.row=E??this.cache.alloc(T.templateId));const N=this.accessibilityProvider.getRole(T.element)||"listitem";T.row.domNode.setAttribute("role",N);const F=this.accessibilityProvider.isChecked(T.element);if(typeof F=="boolean")T.row.domNode.setAttribute("aria-checked",String(!!F));else if(F){const D=M=>T.row.domNode.setAttribute("aria-checked",String(!!M));D(F.value),T.checkedDisposable=F.onDidChange(D)}T.row.domNode.parentElement||(y?this.rowsContainer.insertBefore(T.row.domNode,y):this.rowsContainer.appendChild(T.row.domNode)),this.updateItemInDOM(T,C);const O=this.renderers.get(T.templateId);if(!O)throw new Error(`No renderer found for template id ${T.templateId}`);O==null||O.renderElement(T.element,C,T.row.templateData,T.size);const P=this.dnd.getDragURI(T.element);T.dragStartDisposable.dispose(),T.row.domNode.draggable=!!P,P&&(T.dragStartDisposable=(0,k.addDisposableListener)(T.row.domNode,"dragstart",D=>this.onDragStart(T.element,P,D))),this.horizontalScrolling&&(this.measureItemWidth(T),this.eventuallyUpdateScrollWidth())}measureItemWidth(C){if(!C.row||!C.row.domNode)return;C.row.domNode.style.width=w.isFirefox?"-moz-fit-content":"fit-content",C.width=(0,k.getContentWidth)(C.row.domNode);const y=window.getComputedStyle(C.row.domNode);y.paddingLeft&&(C.width+=parseFloat(y.paddingLeft)),y.paddingRight&&(C.width+=parseFloat(y.paddingRight)),C.row.domNode.style.width=""}updateItemInDOM(C,y){C.row.domNode.style.top=`${this.elementTop(y)}px`,this.setRowHeight&&(C.row.domNode.style.height=`${C.size}px`),this.setRowLineHeight&&(C.row.domNode.style.lineHeight=`${C.size}px`),C.row.domNode.setAttribute("data-index",`${y}`),C.row.domNode.setAttribute("data-last-element",y===this.length-1?"true":"false"),C.row.domNode.setAttribute("data-parity",y%2==0?"even":"odd"),C.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(C.element,y,this.length))),C.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(C.element,y))),C.row.domNode.setAttribute("id",this.getElementDomId(y)),C.row.domNode.classList.toggle("drop-target",C.dropTarget)}removeItemFromDOM(C){const y=this.items[C];if(y.dragStartDisposable.dispose(),y.checkedDisposable.dispose(),y.row){const E=this.renderers.get(y.templateId);E&&E.disposeElement&&E.disposeElement(y.element,C,y.row.templateData,y.size),this.cache.release(y.row),y.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(C,y){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:C,reuseAnimation:y})}get scrollTop(){return this.getScrollTop()}set scrollTop(C){this.setScrollTop(C)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"click")).event,C=>this.toMouseEvent(C),this.disposables)}get onMouseDblClick(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"dblclick")).event,C=>this.toMouseEvent(C),this.disposables)}get onMouseMiddleClick(){return n.Event.filter(n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"auxclick")).event,C=>this.toMouseEvent(C),this.disposables),C=>C.browserEvent.button===1,this.disposables)}get onMouseDown(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"mousedown")).event,C=>this.toMouseEvent(C),this.disposables)}get onMouseOver(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"mouseover")).event,C=>this.toMouseEvent(C),this.disposables)}get onContextMenu(){return n.Event.any(n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"contextmenu")).event,C=>this.toMouseEvent(C),this.disposables),n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,L.EventType.Contextmenu)).event,C=>this.toGestureEvent(C),this.disposables))}get onTouchStart(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"touchstart")).event,C=>this.toTouchEvent(C),this.disposables)}get onTap(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.rowsContainer,L.EventType.Tap)).event,C=>this.toGestureEvent(C),this.disposables)}toMouseEvent(C){const y=this.getItemIndexFromEventTarget(C.target||null),E=typeof y=="undefined"?void 0:this.items[y],T=E&&E.element;return{browserEvent:C,index:y,element:T}}toTouchEvent(C){const y=this.getItemIndexFromEventTarget(C.target||null),E=typeof y=="undefined"?void 0:this.items[y],T=E&&E.element;return{browserEvent:C,index:y,element:T}}toGestureEvent(C){const y=this.getItemIndexFromEventTarget(C.initialTarget||null),E=typeof y=="undefined"?void 0:this.items[y],T=E&&E.element;return{browserEvent:C,index:y,element:T}}toDragEvent(C){const y=this.getItemIndexFromEventTarget(C.target||null),E=typeof y=="undefined"?void 0:this.items[y],T=E&&E.element;return{browserEvent:C,index:y,element:T}}onScroll(C){try{const y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(y,C.scrollTop,C.height,C.scrollLeft,C.scrollWidth),this.supportDynamicHeights&&this._rerender(C.scrollTop,C.height,C.inSmoothScrolling)}catch(y){throw console.error("Got bad scroll event:",C),y}}onTouchChange(C){C.preventDefault(),C.stopPropagation(),this.scrollTop-=C.translationY}onDragStart(C,y,E){var T,N;if(!E.dataTransfer)return;const F=this.dnd.getDragElements(C);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(v.DataTransfers.TEXT,y),E.dataTransfer.setDragImage){let O;this.dnd.getDragLabel&&(O=this.dnd.getDragLabel(F,E)),typeof O=="undefined"&&(O=String(F.length));const P=(0,k.$)(".monaco-drag-image");P.textContent=O,document.body.appendChild(P),E.dataTransfer.setDragImage(P,-10,-10),setTimeout(()=>document.body.removeChild(P),0)}this.currentDragData=new s(F),d.CurrentDragAndDropData=new l(F),(N=(T=this.dnd).onDragStart)===null||N===void 0||N.call(T,this.currentDragData,E)}onDragOver(C){var y;if(C.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),d.CurrentDragAndDropData&&d.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(C.browserEvent),!C.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(d.CurrentDragAndDropData)this.currentDragData=d.CurrentDragAndDropData;else{if(!C.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const E=this.dnd.onDragOver(this.currentDragData,C.element,C.index,C.browserEvent);if(this.canDrop=typeof E=="boolean"?E:E.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;C.browserEvent.dataTransfer.dropEffect=typeof E!="boolean"&&E.effect===0?"copy":"move";let T;if(typeof E!="boolean"&&E.feedback?T=E.feedback:typeof C.index=="undefined"?T=[-1]:T=[C.index],T=(0,b.distinct)(T).filter(N=>N>=-1&&N<this.length).sort((N,F)=>N-F),T=T[0]===-1?[-1]:T,p(this.currentDragFeedback,T))return!0;if(this.currentDragFeedback=T,this.currentDragFeedbackDisposable.dispose(),T[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,i.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const N of T){const F=this.items[N];F.dropTarget=!0,(y=F.row)===null||y===void 0||y.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,i.toDisposable)(()=>{var N;for(const F of T){const O=this.items[F];O.dropTarget=!1,(N=O.row)===null||N===void 0||N.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(C){var y,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,u.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(y=this.dnd).onDragLeave)===null||E===void 0||E.call(y,this.currentDragData,C.element,C.index,C.browserEvent))}onDrop(C){if(!this.canDrop)return;const y=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,d.CurrentDragAndDropData=void 0,!(!y||!C.browserEvent.dataTransfer)&&(C.browserEvent.preventDefault(),y.update(C.browserEvent.dataTransfer),this.dnd.drop(y,C.element,C.index,C.browserEvent))}onDragEnd(C){var y,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,d.CurrentDragAndDropData=void 0,(E=(y=this.dnd).onDragEnd)===null||E===void 0||E.call(y,C)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=i.Disposable.None}setupDragAndDropScrollTopAnimation(C){if(!this.dragOverAnimationDisposable){const y=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)(this.animateDragAndDropScrollTop.bind(this,y))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,u.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=C.pageY}animateDragAndDropScrollTop(C){if(this.dragOverMouseY===void 0)return;const y=this.dragOverMouseY-C,E=this.renderHeight-35;y<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(y-35))):y>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(y-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(C){const y=this.scrollableElement.getDomNode();let E=C;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&y.contains(E);){const T=E.getAttribute("data-index");if(T){const N=Number(T);if(!isNaN(N))return N}E=E.parentElement}}getRenderRange(C,y){return{start:this.rangeMap.indexAt(C),end:this.rangeMap.indexAfter(C+y-1)}}_rerender(C,y,E){const T=this.getRenderRange(C,y);let N,F;C===this.elementTop(T.start)?(N=T.start,F=0):T.end-T.start>1&&(N=T.start+1,F=this.elementTop(N)-C);let O=0;for(;;){const P=this.getRenderRange(C,y);let D=!1;for(let M=P.start;M<P.end;M++){const R=this.probeDynamicHeight(M);R!==0&&this.rangeMap.splice(M,1,[this.items[M]]),O+=R,D=D||R!==0}if(!D){O!==0&&this.eventuallyUpdateScrollDimensions();const M=t.Range.relativeComplement(T,P);for(const B of M)for(let W=B.start;W<B.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const R=t.Range.relativeComplement(P,T);for(const B of R)for(let W=B.start;W<B.end;W++){const V=W+1,A=V<this.items.length?this.items[V].row:null,Y=A?A.domNode:null;this.insertItemInDOM(W,Y)}for(let B=P.start;B<P.end;B++)this.items[B].row&&this.updateItemInDOM(this.items[B],B);if(typeof N=="number"){const B=this.scrollable.getFutureScrollPosition().scrollTop-C,W=this.elementTop(N)-F+B;this.setScrollTop(W,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(C){var y,E,T;const N=this.items[C];if(this.virtualDelegate.getDynamicHeight){const D=this.virtualDelegate.getDynamicHeight(N.element);if(D!==null){const M=N.size;return N.size=D,N.lastDynamicHeightWidth=this.renderWidth,D-M}}if(!N.hasDynamicHeight||N.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(N.element))return 0;const F=N.size;if(!this.setRowHeight&&N.row){const D=N.row.domNode.offsetHeight;return N.size=D,N.lastDynamicHeightWidth=this.renderWidth,D-F}const O=this.cache.alloc(N.templateId);O.domNode.style.height="",this.rowsContainer.appendChild(O.domNode);const P=this.renderers.get(N.templateId);return P&&(P.renderElement(N.element,C,O.templateData,void 0),(y=P.disposeElement)===null||y===void 0||y.call(P,N.element,C,O.templateData,void 0)),N.size=O.domNode.offsetHeight,(T=(E=this.virtualDelegate).setDynamicHeight)===null||T===void 0||T.call(E,N.element,N.size),N.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(O.domNode),this.cache.release(O),N.size-F}getNextToLastElement(C){const y=C[C.length-1];if(!y)return null;const E=this.items[y.end];return!E||!E.row?null:E.row.domNode}getElementDomId(C){return`${this.domId}_${C}`}dispose(){var C;if(this.items){for(const y of this.items)if(y.row){const E=this.renderers.get(y.row.templateId);E&&((C=E.disposeElement)===null||C===void 0||C.call(E,y.element,-1,y.row.templateData,void 0),E.disposeTemplate(y.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,i.dispose)(this.disposables)}}f.InstanceCount=0,ke([g.memoize],f.prototype,"onMouseClick",null),ke([g.memoize],f.prototype,"onMouseDblClick",null),ke([g.memoize],f.prototype,"onMouseMiddleClick",null),ke([g.memoize],f.prototype,"onMouseDown",null),ke([g.memoize],f.prototype,"onMouseOver",null),ke([g.memoize],f.prototype,"onContextMenu",null),ke([g.memoize],f.prototype,"onTouchStart",null),ke([g.memoize],f.prototype,"onTap",null),e.ListView=f}),define(se[114],re([1,0,7,91,48,64,49,330,17,10,31,104,6,60,2,125,35,18,20,329,202,232]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class h{constructor(x){this.trait=x,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(x){return x}renderElement(x,ne,te){const q=this.renderedElements.findIndex(oe=>oe.templateData===te);if(q>=0){const oe=this.renderedElements[q];this.trait.unrender(te),oe.index=ne}else{const oe={index:ne,templateData:te};this.renderedElements.push(oe)}this.trait.renderIndex(ne,te)}splice(x,ne,te){const q=[];for(const oe of this.renderedElements)oe.index<x?q.push(oe):oe.index>=x+ne&&q.push({index:oe.index+te-ne,templateData:oe.templateData});this.renderedElements=q}renderIndexes(x){for(const{index:ne,templateData:te}of this.renderedElements)x.indexOf(ne)>-1&&this.trait.renderIndex(ne,te)}disposeTemplate(x){const ne=this.renderedElements.findIndex(te=>te.templateData===x);ne<0||this.renderedElements.splice(ne,1)}}class p{constructor(x){this._trait=x,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new h(this)}splice(x,ne,te){var q;ne=Math.max(0,Math.min(ne,this.length-x));const oe=te.length-ne,z=x+ne,X=[...this.sortedIndexes.filter(H=>H<x),...te.map((H,K)=>H?K+x:-1).filter(H=>H!==-1),...this.sortedIndexes.filter(H=>H>=z).map(H=>H+oe)],$=this.length+oe;if(this.sortedIndexes.length>0&&X.length===0&&$>0){const H=(q=this.sortedIndexes.find(K=>K>=x))!==null&&q!==void 0?q:$-1;X.push(Math.min(H,$-1))}this.renderer.splice(x,ne,te.length),this._set(X,X),this.length=$}renderIndex(x,ne){ne.classList.toggle(this._trait,this.contains(x))}unrender(x){x.classList.remove(this._trait)}set(x,ne){return this._set(x,[...x].sort(j),ne)}_set(x,ne,te){const q=this.indexes,oe=this.sortedIndexes;this.indexes=x,this.sortedIndexes=ne;const z=ee(oe,x);return this.renderer.renderIndexes(z),this._onChange.fire({indexes:x,browserEvent:te}),q}get(){return this.indexes}contains(x){return(0,b.binarySearch)(this.sortedIndexes,x,j)>=0}dispose(){(0,o.dispose)(this._onChange)}}ke([n.memoize],p.prototype,"renderer",null);class S extends p{constructor(x){super("selected");this.setAriaSelected=x}renderIndex(x,ne){super.renderIndex(x,ne),this.setAriaSelected&&(this.contains(x)?ne.setAttribute("aria-selected","true"):ne.setAttribute("aria-selected","false"))}}class f{constructor(x,ne,te){this.trait=x,this.view=ne,this.identityProvider=te}splice(x,ne,te){if(!this.identityProvider)return this.trait.splice(x,ne,te.map(()=>!1));const q=this.trait.get().map(z=>this.identityProvider.getId(this.view.element(z)).toString()),oe=te.map(z=>q.indexOf(this.identityProvider.getId(z).toString())>-1);this.trait.splice(x,ne,oe)}}function m(de){return de.tagName==="INPUT"||de.tagName==="TEXTAREA"}e.isInputElement=m;function C(de){return de.classList.contains("monaco-editor")?!0:de.classList.contains("monaco-list")||!de.parentElement?!1:C(de.parentElement)}e.isMonacoEditor=C;function y(de){return de.tagName==="A"&&de.classList.contains("monaco-button")||de.tagName==="DIV"&&de.classList.contains("monaco-button-dropdown")?!0:de.classList.contains("monaco-list")||!de.parentElement?!1:y(de.parentElement)}e.isButton=y;class E{constructor(x,ne,te){this.list=x,this.view=ne,this.disposables=new o.DisposableStore,this.multipleSelectionDisposables=new o.DisposableStore,this.onKeyDown.filter(q=>q.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(q=>q.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(q=>q.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(q=>q.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(q=>q.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(q=>q.keyCode===9).on(this.onEscape,this,this.disposables),te.multipleSelectionSupport!==!1&&this.onKeyDown.filter(q=>(d.isMacintosh?q.metaKey:q.ctrlKey)&&q.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(i.Event.chain(this.disposables.add(new v.DomEmitter(this.view.domNode,"keydown")).event).filter(x=>!m(x.target)).map(x=>new k.StandardKeyboardEvent(x)))}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),x.multipleSelectionSupport&&this.onKeyDown.filter(ne=>(d.isMacintosh?ne.metaKey:ne.ctrlKey)&&ne.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection(this.list.getFocus(),x.browserEvent)}onUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPrevious(1,!1,x.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNext(1,!1,x.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onPageUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPreviousPage(x.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onPageDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNextPage(x.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onCtrlA(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection((0,b.range)(this.list.length),x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(x){this.list.getSelection().length&&(x.preventDefault(),x.stopPropagation(),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}ke([n.memoize],E.prototype,"onKeyDown",null);var T;(function(de){de[de.Automatic=0]="Automatic",de[de.Trigger=1]="Trigger"})(T=e.TypeNavigationMode||(e.TypeNavigationMode={}));var N;(function(de){de[de.Idle=0]="Idle",de[de.Typing=1]="Typing"})(N||(N={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(de){return de.ctrlKey||de.metaKey||de.altKey?!1:de.keyCode>=31&&de.keyCode<=56||de.keyCode>=21&&de.keyCode<=30||de.keyCode>=93&&de.keyCode<=102||de.keyCode>=80&&de.keyCode<=90}};class F{constructor(x,ne,te,q,oe){this.list=x,this.view=ne,this.keyboardNavigationLabelProvider=te,this.keyboardNavigationEventFilter=q,this.delegate=oe,this.enabled=!1,this.state=N.Idle,this.mode=T.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new o.DisposableStore,this.disposables=new o.DisposableStore,this.updateOptions(x.options)}updateOptions(x){var ne,te;((ne=x.typeNavigationEnabled)!==null&&ne!==void 0?ne:!0)?this.enable():this.disable(),this.mode=(te=x.typeNavigationMode)!==null&&te!==void 0?te:T.Automatic}enable(){if(this.enabled)return;let x=!1;const ne=this.enabledDisposables.add(i.Event.chain(this.enabledDisposables.add(new v.DomEmitter(this.view.domNode,"keydown")).event)).filter(oe=>!m(oe.target)).filter(()=>this.mode===T.Automatic||this.triggered).map(oe=>new k.StandardKeyboardEvent(oe)).filter(oe=>x||this.keyboardNavigationEventFilter(oe)).filter(oe=>this.delegate.mightProducePrintableCharacter(oe)).forEach(oe=>w.EventHelper.stop(oe,!0)).map(oe=>oe.browserEvent.key).event,te=i.Event.debounce(ne,()=>null,800,void 0,void 0,this.enabledDisposables);i.Event.reduce(i.Event.any(ne,te),(oe,z)=>z===null?null:(oe||"")+z,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),te(this.onClear,this,this.enabledDisposables),ne(()=>x=!0,void 0,this.enabledDisposables),te(()=>x=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var x;const ne=this.list.getFocus();if(ne.length>0&&ne[0]===this.previouslyFocused){const te=(x=this.list.options.accessibilityProvider)===null||x===void 0?void 0:x.getAriaLabel(this.list.element(ne[0]));te&&(0,L.alert)(te)}this.previouslyFocused=-1}onInput(x){if(!x){this.state=N.Idle,this.triggered=!1;return}const ne=this.list.getFocus(),te=ne.length>0?ne[0]:0,q=this.state===N.Idle?1:0;this.state=N.Typing;for(let oe=0;oe<this.list.length;oe++){const z=(te+oe+q)%this.list.length,X=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(z)),$=X&&X.toString();if(typeof $=="undefined"||(0,t.matchesPrefix)(x,$)){this.previouslyFocused=te,this.list.setFocus([z]),this.list.reveal(z);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class O{constructor(x,ne){this.list=x,this.view=ne,this.disposables=new o.DisposableStore,this.disposables.add(i.Event.chain(this.disposables.add(new v.DomEmitter(ne.domNode,"keydown")).event)).filter(q=>!m(q.target)).map(q=>new k.StandardKeyboardEvent(q)).filter(q=>q.keyCode===2&&!q.ctrlKey&&!q.metaKey&&!q.shiftKey&&!q.altKey).on(this.onTab,this,this.disposables)}onTab(x){if(x.target!==this.view.domNode)return;const ne=this.list.getFocus();if(ne.length===0)return;const te=this.view.domElement(ne[0]);if(!te)return;const q=te.querySelector("[tabIndex]");if(!q||!(q instanceof HTMLElement)||q.tabIndex===-1)return;const oe=window.getComputedStyle(q);oe.visibility==="hidden"||oe.display==="none"||(x.preventDefault(),x.stopPropagation(),q.focus())}dispose(){this.disposables.dispose()}}function P(de){return d.isMacintosh?de.browserEvent.metaKey:de.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=P;function D(de){return de.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=D;function M(de){return de instanceof MouseEvent&&de.button===2}const R={isSelectionSingleChangeEvent:P,isSelectionRangeChangeEvent:D};class B{constructor(x){this.list=x,this.disposables=new o.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,x.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R),this.mouseSupport=typeof x.options.mouseSupport=="undefined"||!!x.options.mouseSupport,this.mouseSupport&&(x.onMouseDown(this.onMouseDown,this,this.disposables),x.onContextMenu(this.onContextMenu,this,this.disposables),x.onMouseDblClick(this.onDoubleClick,this,this.disposables),x.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(I.Gesture.addTarget(x.getHTMLElement()))),i.Event.any(x.onMouseClick,x.onMouseMiddleClick,x.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,x.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R))}isSelectionSingleChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(x):!1}isSelectionRangeChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(x):!1}isSelectionChangeEvent(x){return this.isSelectionSingleChangeEvent(x)||this.isSelectionRangeChangeEvent(x)}onMouseDown(x){C(x.browserEvent.target)||document.activeElement!==x.browserEvent.target&&this.list.domFocus()}onContextMenu(x){if(C(x.browserEvent.target))return;const ne=typeof x.index=="undefined"?[]:[x.index];this.list.setFocus(ne,x.browserEvent)}onViewPointer(x){if(!this.mouseSupport||m(x.browserEvent.target)||C(x.browserEvent.target))return;const ne=x.index;if(typeof ne=="undefined"){this.list.setFocus([],x.browserEvent),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(x))return this.changeSelection(x);if(this.isSelectionChangeEvent(x))return this.changeSelection(x);this.list.setFocus([ne],x.browserEvent),this.list.setAnchor(ne),M(x.browserEvent)||this.list.setSelection([ne],x.browserEvent),this._onPointer.fire(x)}onDoubleClick(x){if(m(x.browserEvent.target)||C(x.browserEvent.target)||this.isSelectionChangeEvent(x))return;const ne=this.list.getFocus();this.list.setSelection(ne,x.browserEvent)}changeSelection(x){const ne=x.index;let te=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(x)){if(typeof te=="undefined"){const K=this.list.getFocus()[0];te=K??ne,this.list.setAnchor(te)}const q=Math.min(te,ne),oe=Math.max(te,ne),z=(0,b.range)(q,oe+1),X=this.list.getSelection(),$=Y(ee(X,[te]),te);if($.length===0)return;const H=ee(z,U(X,$));this.list.setSelection(H,x.browserEvent),this.list.setFocus([ne],x.browserEvent)}else if(this.isSelectionSingleChangeEvent(x)){const q=this.list.getSelection(),oe=q.filter(z=>z!==ne);this.list.setFocus([ne]),this.list.setAnchor(ne),q.length===oe.length?this.list.setSelection([...oe,ne],x.browserEvent):this.list.setSelection(oe,x.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=B;class W{constructor(x,ne){this.styleElement=x,this.selectorSuffix=ne}style(x){const ne=this.selectorSuffix&&`.${this.selectorSuffix}`,te=[];x.listBackground&&(x.listBackground.isOpaque()?te.push(`.monaco-list${ne} .monaco-list-rows { background: ${x.listBackground}; }`):d.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),x.listFocusBackground&&(te.push(`.monaco-list${ne}:focus .monaco-list-row.focused { background-color: ${x.listFocusBackground}; }`),te.push(`.monaco-list${ne}:focus .monaco-list-row.focused:hover { background-color: ${x.listFocusBackground}; }`)),x.listFocusForeground&&te.push(`.monaco-list${ne}:focus .monaco-list-row.focused { color: ${x.listFocusForeground}; }`),x.listActiveSelectionBackground&&(te.push(`.monaco-list${ne}:focus .monaco-list-row.selected { background-color: ${x.listActiveSelectionBackground}; }`),te.push(`.monaco-list${ne}:focus .monaco-list-row.selected:hover { background-color: ${x.listActiveSelectionBackground}; }`)),x.listActiveSelectionForeground&&te.push(`.monaco-list${ne}:focus .monaco-list-row.selected { color: ${x.listActiveSelectionForeground}; }`),x.listActiveSelectionIconForeground&&te.push(`.monaco-list${ne}:focus .monaco-list-row.selected .codicon { color: ${x.listActiveSelectionIconForeground}; }`),x.listFocusAndSelectionOutline&&te.push(`.monaco-list${ne}:focus .monaco-list-row.selected { outline-color: ${x.listFocusAndSelectionOutline} !important; }`),x.listFocusAndSelectionBackground&&te.push(`
				.monaco-drag-image,
				.monaco-list${ne}:focus .monaco-list-row.selected.focused { background-color: ${x.listFocusAndSelectionBackground}; }
			`),x.listFocusAndSelectionForeground&&te.push(`
				.monaco-drag-image,
				.monaco-list${ne}:focus .monaco-list-row.selected.focused { color: ${x.listFocusAndSelectionForeground}; }
			`),x.listInactiveFocusForeground&&(te.push(`.monaco-list${ne} .monaco-list-row.focused { color:  ${x.listInactiveFocusForeground}; }`),te.push(`.monaco-list${ne} .monaco-list-row.focused:hover { color:  ${x.listInactiveFocusForeground}; }`)),x.listInactiveSelectionIconForeground&&te.push(`.monaco-list${ne} .monaco-list-row.focused .codicon { color:  ${x.listInactiveSelectionIconForeground}; }`),x.listInactiveFocusBackground&&(te.push(`.monaco-list${ne} .monaco-list-row.focused { background-color:  ${x.listInactiveFocusBackground}; }`),te.push(`.monaco-list${ne} .monaco-list-row.focused:hover { background-color:  ${x.listInactiveFocusBackground}; }`)),x.listInactiveSelectionBackground&&(te.push(`.monaco-list${ne} .monaco-list-row.selected { background-color:  ${x.listInactiveSelectionBackground}; }`),te.push(`.monaco-list${ne} .monaco-list-row.selected:hover { background-color:  ${x.listInactiveSelectionBackground}; }`)),x.listInactiveSelectionForeground&&te.push(`.monaco-list${ne} .monaco-list-row.selected { color: ${x.listInactiveSelectionForeground}; }`),x.listHoverBackground&&te.push(`.monaco-list${ne}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${x.listHoverBackground}; }`),x.listHoverForeground&&te.push(`.monaco-list${ne} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${x.listHoverForeground}; }`),x.listSelectionOutline&&te.push(`.monaco-list${ne} .monaco-list-row.selected { outline: 1px dotted ${x.listSelectionOutline}; outline-offset: -1px; }`),x.listFocusOutline&&te.push(`
				.monaco-drag-image,
				.monaco-list${ne}:focus .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${ne}.last-focused .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
			`),x.listInactiveFocusOutline&&te.push(`.monaco-list${ne} .monaco-list-row.focused { outline: 1px dotted ${x.listInactiveFocusOutline}; outline-offset: -1px; }`),x.listHoverOutline&&te.push(`.monaco-list${ne} .monaco-list-row:hover { outline: 1px dashed ${x.listHoverOutline}; outline-offset: -1px; }`),x.listDropBackground&&te.push(`
				.monaco-list${ne}.drop-target,
				.monaco-list${ne} .monaco-list-rows.drop-target,
				.monaco-list${ne} .monaco-list-row.drop-target { background-color: ${x.listDropBackground} !important; color: inherit !important; }
			`),x.tableColumnsBorder&&te.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${x.tableColumnsBorder};
			}`),x.tableOddRowsBackgroundColor&&te.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${x.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=te.join(`
`)}}e.DefaultStyleController=W;const V={listFocusBackground:g.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:g.Color.fromHex("#0E639C"),listActiveSelectionForeground:g.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listFocusAndSelectionOutline:g.Color.fromHex("#90C2F9"),listFocusAndSelectionBackground:g.Color.fromHex("#094771"),listFocusAndSelectionForeground:g.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:g.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listHoverBackground:g.Color.fromHex("#2A2D2E"),listDropBackground:g.Color.fromHex("#383B3D"),treeIndentGuidesStroke:g.Color.fromHex("#a9a9a9"),tableColumnsBorder:g.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:g.Color.fromHex("#cccccc").transparent(.04)},A={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function Y(de,x){const ne=de.indexOf(x);if(ne===-1)return[];const te=[];let q=ne-1;for(;q>=0&&de[q]===x-(ne-q);)te.push(de[q--]);for(te.reverse(),q=ne;q<de.length&&de[q]===x+(q-ne);)te.push(de[q++]);return te}function ee(de,x){const ne=[];let te=0,q=0;for(;te<de.length||q<x.length;)if(te>=de.length)ne.push(x[q++]);else if(q>=x.length)ne.push(de[te++]);else if(de[te]===x[q]){ne.push(de[te]),te++,q++;continue}else de[te]<x[q]?ne.push(de[te++]):ne.push(x[q++]);return ne}function U(de,x){const ne=[];let te=0,q=0;for(;te<de.length||q<x.length;)if(te>=de.length)ne.push(x[q++]);else if(q>=x.length)ne.push(de[te++]);else if(de[te]===x[q]){te++,q++;continue}else de[te]<x[q]?ne.push(de[te++]):q++;return ne}const j=(de,x)=>de-x;class Z{constructor(x,ne){this._templateId=x,this.renderers=ne}get templateId(){return this._templateId}renderTemplate(x){return this.renderers.map(ne=>ne.renderTemplate(x))}renderElement(x,ne,te,q){let oe=0;for(const z of this.renderers)z.renderElement(x,ne,te[oe++],q)}disposeElement(x,ne,te,q){var oe;let z=0;for(const X of this.renderers)(oe=X.disposeElement)===null||oe===void 0||oe.call(X,x,ne,te[z],q),z+=1}disposeTemplate(x){let ne=0;for(const te of this.renderers)te.disposeTemplate(x[ne++])}}class ie{constructor(x){this.accessibilityProvider=x,this.templateId="a18n"}renderTemplate(x){return x}renderElement(x,ne,te){const q=this.accessibilityProvider.getAriaLabel(x);q?te.setAttribute("aria-label",q):te.removeAttribute("aria-label");const oe=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(x);typeof oe=="number"?te.setAttribute("aria-level",`${oe}`):te.removeAttribute("aria-level")}disposeTemplate(x){}}class Q{constructor(x,ne){this.list=x,this.dnd=ne}getDragElements(x){const ne=this.list.getSelectedElements();return ne.indexOf(x)>-1?ne:[x]}getDragURI(x){return this.dnd.getDragURI(x)}getDragLabel(x,ne){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(x,ne)}onDragStart(x,ne){var te,q;(q=(te=this.dnd).onDragStart)===null||q===void 0||q.call(te,x,ne)}onDragOver(x,ne,te,q){return this.dnd.onDragOver(x,ne,te,q)}onDragLeave(x,ne,te,q){var oe,z;(z=(oe=this.dnd).onDragLeave)===null||z===void 0||z.call(oe,x,ne,te,q)}onDragEnd(x){var ne,te;(te=(ne=this.dnd).onDragEnd)===null||te===void 0||te.call(ne,x)}drop(x,ne,te,q){this.dnd.drop(x,ne,te,q)}}class J{constructor(x,ne,te,q,oe=A){var z,X,$,H;this.user=x,this._options=oe,this.focus=new p("focused"),this.anchor=new p("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new o.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const K=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(z=this._options.accessibilityProvider)===null||z===void 0?void 0:z.getWidgetRole():"list";this.selection=new S(K!=="listbox"),(0,c.mixin)(oe,V,!1);const ce=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=oe.accessibilityProvider,this.accessibilityProvider&&(ce.push(new ie(this.accessibilityProvider)),($=(X=this.accessibilityProvider).onDidChangeActiveDescendant)===null||$===void 0||$.call(X,this.onDidChangeActiveDescendant,this,this.disposables)),q=q.map(he=>new Z(he.templateId,[...ce,he]));const le=Object.assign(Object.assign({},oe),{dnd:oe.dnd&&new Q(this,oe.dnd)});if(this.view=new l.ListView(ne,te,q,le),this.view.domNode.setAttribute("role",K),oe.styleController)this.styleController=oe.styleController(this.view.domId);else{const he=(0,w.createStyleSheet)(this.view.domNode);this.styleController=new W(he,this.view.domId)}if(this.spliceable=new _.CombinedSpliceable([new f(this.focus,this.view,oe.identityProvider),new f(this.selection,this.view,oe.identityProvider),new f(this.anchor,this.view,oe.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new O(this,this.view)),(typeof oe.keyboardSupport!="boolean"||oe.keyboardSupport)&&(this.keyboardController=new E(this,this.view,oe),this.disposables.add(this.keyboardController)),oe.keyboardNavigationLabelProvider){const he=oe.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new F(this,this.view,oe.keyboardNavigationLabelProvider,(H=oe.keyboardNavigationEventFilter)!==null&&H!==void 0?H:()=>!0,he),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(oe),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),x=>this.toListEvent(x),this.disposables)}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),x=>this.toListEvent(x),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let x=!1;const ne=this.disposables.add(i.Event.chain(this.disposables.add(new v.DomEmitter(this.view.domNode,"keydown")).event)).map(oe=>new k.StandardKeyboardEvent(oe)).filter(oe=>x=oe.keyCode===58||oe.shiftKey&&oe.keyCode===68).map(oe=>w.EventHelper.stop(oe,!0)).filter(()=>!1).event,te=this.disposables.add(i.Event.chain(this.disposables.add(new v.DomEmitter(this.view.domNode,"keyup")).event)).forEach(()=>x=!1).map(oe=>new k.StandardKeyboardEvent(oe)).filter(oe=>oe.keyCode===58||oe.shiftKey&&oe.keyCode===68).map(oe=>w.EventHelper.stop(oe,!0)).map(({browserEvent:oe})=>{const z=this.getFocus(),X=z.length?z[0]:void 0,$=typeof X!="undefined"?this.view.element(X):void 0,H=typeof X!="undefined"?this.view.domElement(X):this.view.domNode;return{index:X,element:$,anchor:H,browserEvent:oe}}).event,q=this.disposables.add(i.Event.chain(this.view.onContextMenu)).filter(oe=>!x).map(({element:oe,index:z,browserEvent:X})=>({element:oe,index:z,anchor:{x:X.pageX+1,y:X.pageY},browserEvent:X})).event;return i.Event.any(ne,te,q)}get onKeyDown(){return this.disposables.add(new v.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new v.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(x){return new B(this)}updateOptions(x={}){var ne,te;this._options=Object.assign(Object.assign({},this._options),x),(ne=this.typeNavigationController)===null||ne===void 0||ne.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(x),(te=this.keyboardController)===null||te===void 0||te.updateOptions(x),this.view.updateOptions(x)}get options(){return this._options}splice(x,ne,te=[]){if(x<0||x>this.view.length)throw new s.ListError(this.user,`Invalid start index: ${x}`);if(ne<0)throw new s.ListError(this.user,`Invalid delete count: ${ne}`);ne===0&&te.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(x,ne,te))}rerender(){this.view.rerender()}element(x){return this.view.element(x)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(x){this.view.setScrollTop(x)}get ariaLabel(){return this._ariaLabel}set ariaLabel(x){this._ariaLabel=x,this.view.domNode.setAttribute("aria-label",x)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(x,ne){this.view.layout(x,ne)}setSelection(x,ne){for(const te of x)if(te<0||te>=this.length)throw new s.ListError(this.user,`Invalid index ${te}`);this.selection.set(x,ne)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(x=>this.view.element(x))}setAnchor(x){if(typeof x=="undefined"){this.anchor.set([]);return}if(x<0||x>=this.length)throw new s.ListError(this.user,`Invalid index ${x}`);this.anchor.set([x])}getAnchor(){return(0,b.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const x=this.getAnchor();return typeof x=="undefined"?void 0:this.element(x)}setFocus(x,ne){for(const te of x)if(te<0||te>=this.length)throw new s.ListError(this.user,`Invalid index ${te}`);this.focus.set(x,ne)}focusNext(x=1,ne=!1,te,q){if(this.length===0)return;const oe=this.focus.get(),z=this.findNextIndex(oe.length>0?oe[0]+x:0,ne,q);z>-1&&this.setFocus([z],te)}focusPrevious(x=1,ne=!1,te,q){if(this.length===0)return;const oe=this.focus.get(),z=this.findPreviousIndex(oe.length>0?oe[0]-x:0,ne,q);z>-1&&this.setFocus([z],te)}focusNextPage(x,ne){return Se(this,void 0,void 0,function*(){let te=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);te=te===0?0:te-1;const q=this.getFocus()[0];if(q!==te&&(q===void 0||te>q)){const oe=this.findPreviousIndex(te,!1,ne);oe>-1&&q!==oe?this.setFocus([oe],x):this.setFocus([te],x)}else{const oe=this.view.getScrollTop();let z=oe+this.view.renderHeight;te>q&&(z-=this.view.elementHeight(te)),this.view.setScrollTop(z),this.view.getScrollTop()!==oe&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusNextPage(x,ne))}})}focusPreviousPage(x,ne){return Se(this,void 0,void 0,function*(){let te;const q=this.view.getScrollTop();q===0?te=this.view.indexAt(q):te=this.view.indexAfter(q-1);const oe=this.getFocus()[0];if(oe!==te&&(oe===void 0||oe>=te)){const z=this.findNextIndex(te,!1,ne);z>-1&&oe!==z?this.setFocus([z],x):this.setFocus([te],x)}else{const z=q;this.view.setScrollTop(q-this.view.renderHeight),this.view.getScrollTop()!==z&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusPreviousPage(x,ne))}})}focusLast(x,ne){if(this.length===0)return;const te=this.findPreviousIndex(this.length-1,!1,ne);te>-1&&this.setFocus([te],x)}focusFirst(x,ne){this.focusNth(0,x,ne)}focusNth(x,ne,te){if(this.length===0)return;const q=this.findNextIndex(x,!1,te);q>-1&&this.setFocus([q],ne)}findNextIndex(x,ne=!1,te){for(let q=0;q<this.length;q++){if(x>=this.length&&!ne)return-1;if(x=x%this.length,!te||te(this.element(x)))return x;x++}return-1}findPreviousIndex(x,ne=!1,te){for(let q=0;q<this.length;q++){if(x<0&&!ne)return-1;if(x=(this.length+x%this.length)%this.length,!te||te(this.element(x)))return x;x--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(x=>this.view.element(x))}reveal(x,ne){if(x<0||x>=this.length)throw new s.ListError(this.user,`Invalid index ${x}`);const te=this.view.getScrollTop(),q=this.view.elementTop(x),oe=this.view.elementHeight(x);if((0,a.isNumber)(ne)){const z=oe-this.view.renderHeight;this.view.setScrollTop(z*(0,r.clamp)(ne,0,1)+q)}else{const z=q+oe,X=te+this.view.renderHeight;q<te&&z>=X||(q<te||z>=X&&oe>=this.view.renderHeight?this.view.setScrollTop(q):z>=X&&this.view.setScrollTop(z-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(x){return this.view.getElementDomId(x)}style(x){this.styleController.style(x)}toListEvent({indexes:x,browserEvent:ne}){return{indexes:x,elements:x.map(te=>this.view.element(te)),browserEvent:ne}}_onFocusChange(){const x=this.focus.get();this.view.domNode.classList.toggle("element-focused",x.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var x;const ne=this.focus.get();if(ne.length>0){let te;((x=this.accessibilityProvider)===null||x===void 0?void 0:x.getActiveDescendantId)&&(te=this.accessibilityProvider.getActiveDescendantId(this.view.element(ne[0]))),this.view.domNode.setAttribute("aria-activedescendant",te||this.view.getElementDomId(ne[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const x=this.selection.get();this.view.domNode.classList.toggle("selection-none",x.length===0),this.view.domNode.classList.toggle("selection-single",x.length===1),this.view.domNode.classList.toggle("selection-multiple",x.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}ke([n.memoize],J.prototype,"onDidChangeFocus",null),ke([n.memoize],J.prototype,"onDidChangeSelection",null),ke([n.memoize],J.prototype,"onContextMenu",null),ke([n.memoize],J.prototype,"onKeyDown",null),ke([n.memoize],J.prototype,"onDidFocus",null),e.List=J}),define(se[499],re([1,0,17,21,6,2,114,232]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class _{constructor(i,t){this.renderer=i,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(i){return{data:this.renderer.renderTemplate(i),disposable:I.Disposable.None}}renderElement(i,t,o,r){var c;if((c=o.disposable)===null||c===void 0||c.dispose(),!o.data)return;const d=this.modelProvider();if(d.isResolved(i))return this.renderer.renderElement(d.get(i),i,o.data,r);const a=new v.CancellationTokenSource,s=d.resolve(i,a.token);o.disposable={dispose:()=>a.cancel()},this.renderer.renderPlaceholder(i,o.data),s.then(l=>this.renderer.renderElement(l,i,o.data,r))}disposeTemplate(i){i.disposable&&(i.disposable.dispose(),i.disposable=void 0),i.data&&(this.renderer.disposeTemplate(i.data),i.data=void 0)}}class b{constructor(i,t){this.modelProvider=i,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(i){const t=this.modelProvider();return t.isResolved(i)?this.accessibilityProvider.getAriaLabel(t.get(i)):null}}function u(n,i){return Object.assign(Object.assign({},i),{accessibilityProvider:i.accessibilityProvider&&new b(n,i.accessibilityProvider)})}class g{constructor(i,t,o,r,c={}){const d=()=>this.model,a=r.map(s=>new _(s,d));this.list=new L.List(i,t,o,a,u(d,c))}updateOptions(i){this.list.updateOptions(i)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return k.Event.map(this.list.onMouseDblClick,({element:i,index:t,browserEvent:o})=>({element:i===void 0?void 0:this._model.get(i),index:t,browserEvent:o}))}get onPointer(){return k.Event.map(this.list.onPointer,({element:i,index:t,browserEvent:o})=>({element:i===void 0?void 0:this._model.get(i),index:t,browserEvent:o}))}get onDidChangeSelection(){return k.Event.map(this.list.onDidChangeSelection,({elements:i,indexes:t,browserEvent:o})=>({elements:i.map(r=>this._model.get(r)),indexes:t,browserEvent:o}))}get model(){return this._model}set model(i){this._model=i,this.list.splice(0,this.list.length,(0,w.range)(i.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(i=>this.model.get(i))}style(i){this.list.style(i)}dispose(){this.list.dispose()}}e.PagedList=g}),define(se[500],re([1,0,41,64,7,48,63,75,135,126,259,76,42,10,27,107,2,18,8]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var s;(function(C){C[C.Right=0]="Right",C[C.Left=1]="Left"})(s=e.Direction||(e.Direction={}));class l extends _.ActionBar{constructor(y,E,T={}){y.classList.add("monaco-menu-container"),y.setAttribute("role","presentation");const N=document.createElement("div");N.classList.add("monaco-menu"),N.setAttribute("role","presentation");super(N,{orientation:1,actionViewItemProvider:P=>this.doGetActionViewItem(P,T,F),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...d.isMacintosh||d.isLinux?[10]:[]],keyDown:!0}});this.menuElement=N,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new c.DisposableStore),this.initializeOrUpdateStyleSheet(y,{}),this._register(v.Gesture.addTarget(N)),(0,k.addDisposableListener)(N,k.EventType.KEY_DOWN,P=>{new I.StandardKeyboardEvent(P).equals(2)&&P.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add((0,k.addDisposableListener)(N,k.EventType.KEY_DOWN,P=>{const D=P.key.toLocaleLowerCase();if(this.mnemonics.has(D)){k.EventHelper.stop(P,!0);const M=this.mnemonics.get(D);if(M.length===1&&(M[0]instanceof p&&M[0].container&&this.focusItemByElement(M[0].container),M[0].onClick(P)),M.length>1){const R=M.shift();R&&R.container&&(this.focusItemByElement(R.container),M.push(R)),this.mnemonics.set(D,M)}}})),d.isLinux&&this._register((0,k.addDisposableListener)(N,k.EventType.KEY_DOWN,P=>{const D=new I.StandardKeyboardEvent(P);D.equals(14)||D.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),k.EventHelper.stop(P,!0)):(D.equals(13)||D.equals(12))&&(this.focusedItem=0,this.focusPrevious(),k.EventHelper.stop(P,!0))})),this._register((0,k.addDisposableListener)(this.domNode,k.EventType.MOUSE_OUT,P=>{const D=P.relatedTarget;(0,k.isAncestor)(D,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),P.stopPropagation())})),this._register((0,k.addDisposableListener)(this.actionsList,k.EventType.MOUSE_OVER,P=>{let D=P.target;if(!(!D||!(0,k.isAncestor)(D,this.actionsList)||D===this.actionsList)){for(;D.parentElement!==this.actionsList&&D.parentElement!==null;)D=D.parentElement;if(D.classList.contains("action-item")){const M=this.focusedItem;this.setFocusedItem(D),M!==this.focusedItem&&this.updateFocus()}}})),this._register(v.Gesture.addTarget(this.actionsList)),this._register((0,k.addDisposableListener)(this.actionsList,v.EventType.Tap,P=>{let D=P.initialTarget;if(!(!D||!(0,k.isAncestor)(D,this.actionsList)||D===this.actionsList)){for(;D.parentElement!==this.actionsList&&D.parentElement!==null;)D=D.parentElement;if(D.classList.contains("action-item")){const M=this.focusedItem;this.setFocusedItem(D),M!==this.focusedItem&&this.updateFocus()}}}));const F={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new n.DomScrollableElement(N,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const O=this.scrollableElement.getDomNode();O.style.position="",this._register((0,k.addDisposableListener)(N,v.EventType.Change,P=>{k.EventHelper.stop(P,!0);const D=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:D-P.translationY})})),this._register((0,k.addDisposableListener)(O,k.EventType.MOUSE_UP,P=>{P.preventDefault()})),N.style.maxHeight=`${Math.max(10,window.innerHeight-y.getBoundingClientRect().top-35)}px`,E=E.filter(P=>{var D;return((D=T.submenuIds)===null||D===void 0?void 0:D.has(P.id))?(console.warn(`Found submenu cycle: ${P.id}`),!1):!0}),this.push(E,{icon:!0,label:!0,isMenu:!0}),y.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(P=>!(P instanceof S)).forEach((P,D,M)=>{P.updatePositionInSet(D+1,M.length)})}initializeOrUpdateStyleSheet(y,E){this.styleSheet||((0,k.isInShadowDOM)(y)?this.styleSheet=(0,k.createStyleSheet)(y):(l.globalStyleSheet||(l.globalStyleSheet=(0,k.createStyleSheet)()),this.styleSheet=l.globalStyleSheet)),this.styleSheet.textContent=m(E,(0,k.isInShadowDOM)(y))}style(y){const E=this.getContainer();this.initializeOrUpdateStyleSheet(E,y);const T=y.foregroundColor?`${y.foregroundColor}`:"",N=y.backgroundColor?`${y.backgroundColor}`:"",F=y.borderColor?`1px solid ${y.borderColor}`:"",O="5px",P=y.shadowColor?`0 2px 8px ${y.shadowColor}`:"";E.style.outline=F,E.style.borderRadius=O,E.style.color=T,E.style.backgroundColor=N,E.style.boxShadow=P,this.viewItems&&this.viewItems.forEach(D=>{(D instanceof h||D instanceof S)&&D.style(y)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(y){const E=this.focusedItem;this.setFocusedItem(y),E!==this.focusedItem&&this.updateFocus()}setFocusedItem(y){for(let E=0;E<this.actionsList.children.length;E++){const T=this.actionsList.children[E];if(y===T){this.focusedItem=E;break}}}updateFocus(y){super.updateFocus(y,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(y,E,T){if(y instanceof i.Separator)return new S(E.context,y,{icon:!0});if(y instanceof i.SubmenuAction){const N=new p(y,y.actions,T,Object.assign(Object.assign({},E),{submenuIds:new Set([...E.submenuIds||[],y.id])}));if(E.enableMnemonics){const F=N.getMnemonic();if(F&&N.isEnabled()){let O=[];this.mnemonics.has(F)&&(O=this.mnemonics.get(F)),O.push(N),this.mnemonics.set(F,O)}}return N}else{const N={enableMnemonics:E.enableMnemonics,useEventAsContext:E.useEventAsContext};if(E.getKeyBinding){const O=E.getKeyBinding(y);if(O){const P=O.getLabel();P&&(N.keybinding=P)}}const F=new h(E.context,y,N);if(E.enableMnemonics){const O=F.getMnemonic();if(O&&F.isEnabled()){let P=[];this.mnemonics.has(O)&&(P=this.mnemonics.get(O)),P.push(F),this.mnemonics.set(O,P)}}return F}}}e.Menu=l;class h extends b.BaseActionViewItem{constructor(y,E,T={}){T.isMenu=!0;super(E,E,T);if(this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){const N=this.action.label;if(N){const F=e.MENU_MNEMONIC_REGEX.exec(N);F&&(this.mnemonic=(F[1]?F[1]:F[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new t.RunOnceScheduler(()=>{!this.element||(this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_UP,N=>{if(k.EventHelper.stop(N,!0),w.isFirefox){if(new L.StandardMouseEvent(N).rightButton)return;this.onClick(N)}else setTimeout(()=>{this.onClick(N)},0)})),this._register((0,k.addDisposableListener)(this.element,k.EventType.CONTEXT_MENU,N=>{k.EventHelper.stop(N,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(y){super.render(y),!!this.element&&(this.container=y,this.item=(0,k.append)(this.element,(0,k.$)("a.action-menu-item")),this._action.id===i.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,k.append)(this.item,(0,k.$)("span.menu-item-check"+o.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,k.append)(this.item,(0,k.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,k.append)(this.item,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){var y;super.focus(),(y=this.item)===null||y===void 0||y.focus(),this.applyStyle()}updatePositionInSet(y,E){this.item&&(this.item.setAttribute("aria-posinset",`${y}`),this.item.setAttribute("aria-setsize",`${E}`))}updateLabel(){var y;if(!!this.label&&this.options.label){(0,k.clearNode)(this.label);let E=(0,r.stripIcons)(this.action.label);if(E){const T=f(E);this.options.enableMnemonics||(E=T),this.label.setAttribute("aria-label",T.replace(/&&/g,"&"));const N=e.MENU_MNEMONIC_REGEX.exec(E);if(N){E=a.escape(E),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let F=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);for(;F&&F[1];)F=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);const O=P=>P.replace(/&amp;&amp;/g,"&amp;");F?this.label.append(a.ltrim(O(E.substr(0,F.index))," "),(0,k.$)("u",{"aria-hidden":"true"},F[3]),a.rtrim(O(E.substr(F.index+F[0].length))," ")):this.label.innerText=O(E).trim(),(y=this.item)===null||y===void 0||y.setAttribute("aria-keyshortcuts",(N[1]?N[1]:N[3]).toLocaleLowerCase())}else this.label.innerText=E.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const y=this.action.checked;this.item.classList.toggle("checked",!!y),y!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",y?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const y=this.element&&this.element.classList.contains("focused"),E=y&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=y&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,N=y&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",F=y&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=E?E.toString():"",this.item.style.backgroundColor=T?T.toString():"",this.item.style.outline=N,this.item.style.outlineOffset=F),this.check&&(this.check.style.color=E?E.toString():"")}style(y){this.menuStyle=y,this.applyStyle()}}class p extends h{constructor(y,E,T,N){super(y,y,N);this.submenuActions=E,this.parentData=T,this.submenuOptions=N,this.mysubmenu=null,this.submenuDisposables=this._register(new c.DisposableStore),this.mouseOver=!1,this.expandDirection=N&&N.expandDirection!==void 0?N.expandDirection:s.Right,this.showScheduler=new t.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new t.RunOnceScheduler(()=>{this.element&&!(0,k.isAncestor)((0,k.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(y){super.render(y),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,k.append)(this.item,(0,k.$)("span.submenu-indicator"+o.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,k.addDisposableListener)(this.element,k.EventType.KEY_UP,E=>{const T=new I.StandardKeyboardEvent(E);(T.equals(17)||T.equals(3))&&(k.EventHelper.stop(E,!0),this.createSubmenu(!0))})),this._register((0,k.addDisposableListener)(this.element,k.EventType.KEY_DOWN,E=>{const T=new I.StandardKeyboardEvent(E);(0,k.getActiveElement)()===this.item&&(T.equals(17)||T.equals(3))&&k.EventHelper.stop(E,!0)})),this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_OVER,E=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_LEAVE,E=>{this.mouseOver=!1})),this._register((0,k.addDisposableListener)(this.element,k.EventType.FOCUS_OUT,E=>{this.element&&!(0,k.isAncestor)((0,k.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(y){k.EventHelper.stop(y,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(y){if(this.parentData.submenu&&(y||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(y,E,T,N){const F={top:0,left:0};return F.left=(0,g.layout)(y.width,E.width,{position:N===s.Right?0:1,offset:T.left,size:T.width}),F.left>=T.left&&F.left<T.left+T.width&&(T.left+10+E.width<=y.width&&(F.left=T.left+10),T.top+=10,T.height=0),F.top=(0,g.layout)(y.height,E.height,{position:0,offset:T.top,size:0}),F.top+E.height===T.top&&F.top+T.height+E.height<=y.height&&(F.top+=T.height),F}createSubmenu(y=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,k.append)(this.element,(0,k.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const E=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(E.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new l(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new i.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const N=this.element.getBoundingClientRect(),F={top:N.top-T,left:N.left,height:N.height+2*T,width:N.width},O=this.submenuContainer.getBoundingClientRect(),{top:P,left:D}=this.calculateSubmenuMenuLayout(new k.Dimension(window.innerWidth,window.innerHeight),k.Dimension.lift(O),F,this.expandDirection);this.submenuContainer.style.left=`${D-O.left}px`,this.submenuContainer.style.top=`${P-O.top}px`,this.submenuDisposables.add((0,k.addDisposableListener)(this.submenuContainer,k.EventType.KEY_UP,M=>{new I.StandardKeyboardEvent(M).equals(15)&&(k.EventHelper.stop(M,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,k.addDisposableListener)(this.submenuContainer,k.EventType.KEY_DOWN,M=>{new I.StandardKeyboardEvent(M).equals(15)&&k.EventHelper.stop(M,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(y),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(y){var E;this.item&&((E=this.item)===null||E===void 0||E.setAttribute("aria-expanded",y))}applyStyle(){var y;if(super.applyStyle(),!this.menuStyle)return;const T=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=T?`${T}`:""),(y=this.parentData.submenu)===null||y===void 0||y.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class S extends b.ActionViewItem{style(y){this.label&&(this.label.style.borderBottomColor=y.separatorColor?`${y.separatorColor}`:"")}}function f(C){const y=e.MENU_MNEMONIC_REGEX,E=y.exec(C);if(!E)return C;const T=!E[1];return C.replace(y,T?"$2$3":"").trim()}e.cleanMnemonic=f;function m(C,y){let E=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${(0,u.formatRule)(o.Codicon.menuSelection)}
${(0,u.formatRule)(o.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(y){E+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const T=C.scrollbarShadow;T&&(E+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${T} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${T} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${T} 6px 6px 6px -6px inset;
				}
			`);const N=C.scrollbarSliderBackground;N&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${N};
				}
			`);const F=C.scrollbarSliderHoverBackground;F&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${F};
				}
			`);const O=C.scrollbarSliderActiveBackground;O&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${O};
				}
			`)}return E}}),define(se[267],re([1,0,7,137,76,17,31,6,2,125,162,20,352]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:L.Color.transparent};class t{constructor(l,h,p,S){this.container=l,this.view=h,this.disposable=S,this._cachedVisibleSize=void 0,typeof p=="number"?(this._size=p,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=p.cachedVisibleSize)}set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(l,h){var p,S;l!==this.visible&&(l?(this.size=(0,u.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof h=="number"?h:this.size,this.size=0),this.container.classList.toggle("visible",l),(S=(p=this.view).setVisible)===null||S===void 0||S.call(p,l))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}layout(l,h){this.layoutContainer(l),this.view.layout(this.size,l,h)}dispose(){return this.disposable.dispose(),this.view}}class o extends t{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class r extends t{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var c;(function(s){s[s.Idle=0]="Idle",s[s.Busy=1]="Busy"})(c||(c={}));var d;(function(s){s.Distribute={type:"distribute"};function l(p){return{type:"split",index:p}}s.Split=l;function h(p){return{type:"invisible",cachedVisibleSize:p}}s.Invisible=h})(d=e.Sizing||(e.Sizing={}));class a extends b.Disposable{constructor(l,h={}){var p,S,f,m,C;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=c.Idle,this._onDidSashChange=this._register(new _.Emitter),this._onDidSashReset=this._register(new _.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(p=h.orientation)!==null&&p!==void 0?p:0,this.inverseAltBehavior=(S=h.inverseAltBehavior)!==null&&S!==void 0?S:!1,this.proportionalLayout=(f=h.proportionalLayout)!==null&&f!==void 0?f:!0,this.getSashOrthogonalSize=h.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,w.append)(this.el,(0,w.$)(".sash-container")),this.viewContainer=(0,w.$)(".split-view-container"),this.scrollable=new g.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:w.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new k.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(m=h.scrollbarVisibility)!==null&&m!==void 0?m:1:2,horizontal:this.orientation===1?(C=h.scrollbarVisibility)!==null&&C!==void 0?C:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(y=>{this.viewContainer.scrollTop=y.scrollTop,this.viewContainer.scrollLeft=y.scrollLeft})),(0,w.append)(this.el,this.scrollableElement.getDomNode()),this.style(h.styles||i),h.descriptor&&(this.size=h.descriptor.size,h.descriptor.views.forEach((y,E)=>{const T=n.isUndefined(y.visible)||y.visible?y.size:{type:"invisible",cachedVisibleSize:y.size},N=y.view;this.doAddView(N,T,E,!0)}),this.contentSize=this.viewItems.reduce((y,E)=>y+E.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(l){for(const h of this.sashItems)h.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}set orthogonalEndSash(l){for(const h of this.sashItems)h.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,h,p=this.viewItems.length,S){this.doAddView(l,h,p,S)}layout(l,h){const p=Math.max(this.size,this.contentSize);if(this.size=l,this.layoutContext=h,this.proportions)for(let S=0;S<this.viewItems.length;S++){const f=this.viewItems[S];f.size=(0,u.clamp)(Math.round(this.proportions[S]*l),f.minimumSize,f.maximumSize)}else{const S=(0,I.range)(this.viewItems.length),f=S.filter(C=>this.viewItems[C].priority===1),m=S.filter(C=>this.viewItems[C].priority===2);this.resize(this.viewItems.length-1,l-p,void 0,f,m)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(l=>l.size/this.contentSize))}onSashStart({sash:l,start:h,alt:p}){for(const C of this.viewItems)C.enabled=!1;const S=this.sashItems.findIndex(C=>C.sash===l),f=(0,b.combinedDisposable)((0,w.addDisposableListener)(document.body,"keydown",C=>m(this.sashDragState.current,C.altKey)),(0,w.addDisposableListener)(document.body,"keyup",()=>m(this.sashDragState.current,!1))),m=(C,y)=>{const E=this.viewItems.map(P=>P.size);let T=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(y=!y),y)if(S===this.sashItems.length-1){const D=this.viewItems[S];T=(D.minimumSize-D.size)/2,N=(D.maximumSize-D.size)/2}else{const D=this.viewItems[S+1];T=(D.size-D.maximumSize)/2,N=(D.size-D.minimumSize)/2}let F,O;if(!y){const P=(0,I.range)(S,-1),D=(0,I.range)(S+1,this.viewItems.length),M=P.reduce((U,j)=>U+(this.viewItems[j].minimumSize-E[j]),0),R=P.reduce((U,j)=>U+(this.viewItems[j].viewMaximumSize-E[j]),0),B=D.length===0?Number.POSITIVE_INFINITY:D.reduce((U,j)=>U+(E[j]-this.viewItems[j].minimumSize),0),W=D.length===0?Number.NEGATIVE_INFINITY:D.reduce((U,j)=>U+(E[j]-this.viewItems[j].viewMaximumSize),0),V=Math.max(M,W),A=Math.min(B,R),Y=this.findFirstSnapIndex(P),ee=this.findFirstSnapIndex(D);if(typeof Y=="number"){const U=this.viewItems[Y],j=Math.floor(U.viewMinimumSize/2);F={index:Y,limitDelta:U.visible?V-j:V+j,size:U.size}}if(typeof ee=="number"){const U=this.viewItems[ee],j=Math.floor(U.viewMinimumSize/2);O={index:ee,limitDelta:U.visible?A+j:A-j,size:U.size}}}this.sashDragState={start:C,current:C,index:S,sizes:E,minDelta:T,maxDelta:N,alt:y,snapBefore:F,snapAfter:O,disposable:f}};m(h,p)}onSashChange({current:l}){const{index:h,start:p,sizes:S,alt:f,minDelta:m,maxDelta:C,snapBefore:y,snapAfter:E}=this.sashDragState;this.sashDragState.current=l;const T=l-p,N=this.resize(h,T,S,void 0,void 0,m,C,y,E);if(f){const F=h===this.sashItems.length-1,O=this.viewItems.map(W=>W.size),P=F?h:h+1,D=this.viewItems[P],M=D.size-D.maximumSize,R=D.size-D.minimumSize,B=F?h-1:h+1;this.resize(B,-N,O,void 0,void 0,M,R)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const h of this.viewItems)h.enabled=!0}onViewChange(l,h){const p=this.viewItems.indexOf(l);p<0||p>=this.viewItems.length||(h=typeof h=="number"?h:l.size,h=(0,u.clamp)(h,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&p>0?(this.resize(p-1,Math.floor((l.size-h)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=h,this.relayout([p],void 0)))}resizeView(l,h){if(this.state!==c.Idle)throw new Error("Cant modify splitview");if(this.state=c.Busy,l<0||l>=this.viewItems.length)return;const p=(0,I.range)(this.viewItems.length).filter(C=>C!==l),S=[...p.filter(C=>this.viewItems[C].priority===1),l],f=p.filter(C=>this.viewItems[C].priority===2),m=this.viewItems[l];h=Math.round(h),h=(0,u.clamp)(h,m.minimumSize,Math.min(m.maximumSize,this.size)),m.size=h,this.relayout(S,f),this.state=c.Idle}distributeViewSizes(){const l=[];let h=0;for(const C of this.viewItems)C.maximumSize-C.minimumSize>0&&(l.push(C),h+=C.size);const p=Math.floor(h/l.length);for(const C of l)C.size=(0,u.clamp)(p,C.minimumSize,C.maximumSize);const S=(0,I.range)(this.viewItems.length),f=S.filter(C=>this.viewItems[C].priority===1),m=S.filter(C=>this.viewItems[C].priority===2);this.relayout(f,m)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,h,p=this.viewItems.length,S){if(this.state!==c.Idle)throw new Error("Cant modify splitview");this.state=c.Busy;const f=(0,w.$)(".split-view-view");p===this.viewItems.length?this.viewContainer.appendChild(f):this.viewContainer.insertBefore(f,this.viewContainer.children.item(p));const m=l.onDidChange(F=>this.onViewChange(T,F)),C=(0,b.toDisposable)(()=>this.viewContainer.removeChild(f)),y=(0,b.combinedDisposable)(m,C);let E;typeof h=="number"?E=h:h.type==="split"?E=this.getViewSize(h.index)/2:h.type==="invisible"?E={cachedVisibleSize:h.cachedVisibleSize}:E=l.minimumSize;const T=this.orientation===0?new o(f,l,E,y):new r(f,l,E,y);if(this.viewItems.splice(p,0,T),this.viewItems.length>1){const F={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},O=this.orientation===0?new v.Sash(this.sashContainer,{getHorizontalSashTop:U=>this.getSashPosition(U),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},F),{orientation:1})):new v.Sash(this.sashContainer,{getVerticalSashLeft:U=>this.getSashPosition(U),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},F),{orientation:0})),P=this.orientation===0?U=>({sash:O,start:U.startY,current:U.currentY,alt:U.altKey}):U=>({sash:O,start:U.startX,current:U.currentX,alt:U.altKey}),M=_.Event.map(O.onDidStart,P)(this.onSashStart,this),B=_.Event.map(O.onDidChange,P)(this.onSashChange,this),V=_.Event.map(O.onDidEnd,()=>this.sashItems.findIndex(U=>U.sash===O))(this.onSashEnd,this),A=O.onDidReset(()=>{const U=this.sashItems.findIndex(J=>J.sash===O),j=(0,I.range)(U,-1),Z=(0,I.range)(U+1,this.viewItems.length),ie=this.findFirstSnapIndex(j),Q=this.findFirstSnapIndex(Z);typeof ie=="number"&&!this.viewItems[ie].visible||typeof Q=="number"&&!this.viewItems[Q].visible||this._onDidSashReset.fire(U)}),Y=(0,b.combinedDisposable)(M,B,V,A,O),ee={sash:O,disposable:Y};this.sashItems.splice(p-1,0,ee)}f.appendChild(l.element);let N;typeof h!="number"&&h.type==="split"&&(N=[h.index]),S||this.relayout([p],N),this.state=c.Idle,!S&&typeof h!="number"&&h.type==="distribute"&&this.distributeViewSizes()}relayout(l,h){const p=this.viewItems.reduce((S,f)=>S+f.size,0);this.resize(this.viewItems.length-1,this.size-p,void 0,l,h),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,h,p=this.viewItems.map(T=>T.size),S,f,m=Number.NEGATIVE_INFINITY,C=Number.POSITIVE_INFINITY,y,E){if(l<0||l>=this.viewItems.length)return 0;const T=(0,I.range)(l,-1),N=(0,I.range)(l+1,this.viewItems.length);if(f)for(const ee of f)(0,I.pushToStart)(T,ee),(0,I.pushToStart)(N,ee);if(S)for(const ee of S)(0,I.pushToEnd)(T,ee),(0,I.pushToEnd)(N,ee);const F=T.map(ee=>this.viewItems[ee]),O=T.map(ee=>p[ee]),P=N.map(ee=>this.viewItems[ee]),D=N.map(ee=>p[ee]),M=T.reduce((ee,U)=>ee+(this.viewItems[U].minimumSize-p[U]),0),R=T.reduce((ee,U)=>ee+(this.viewItems[U].maximumSize-p[U]),0),B=N.length===0?Number.POSITIVE_INFINITY:N.reduce((ee,U)=>ee+(p[U]-this.viewItems[U].minimumSize),0),W=N.length===0?Number.NEGATIVE_INFINITY:N.reduce((ee,U)=>ee+(p[U]-this.viewItems[U].maximumSize),0),V=Math.max(M,W,m),A=Math.min(B,R,C);let Y=!1;if(y){const ee=this.viewItems[y.index],U=h>=y.limitDelta;Y=U!==ee.visible,ee.setVisible(U,y.size)}if(!Y&&E){const ee=this.viewItems[E.index],U=h<E.limitDelta;Y=U!==ee.visible,ee.setVisible(U,E.size)}if(Y)return this.resize(l,h,p,S,f,m,C);h=(0,u.clamp)(h,V,A);for(let ee=0,U=h;ee<F.length;ee++){const j=F[ee],Z=(0,u.clamp)(O[ee]+U,j.minimumSize,j.maximumSize);U-=Z-O[ee],j.size=Z}for(let ee=0,U=h;ee<P.length;ee++){const j=P[ee],Z=(0,u.clamp)(D[ee]-U,j.minimumSize,j.maximumSize);U+=Z-D[ee],j.size=Z}return h}distributeEmptySpace(l){const h=this.viewItems.reduce((C,y)=>C+y.size,0);let p=this.size-h;const S=(0,I.range)(this.viewItems.length-1,-1),f=S.filter(C=>this.viewItems[C].priority===1),m=S.filter(C=>this.viewItems[C].priority===2);for(const C of m)(0,I.pushToStart)(S,C);for(const C of f)(0,I.pushToEnd)(S,C);typeof l=="number"&&(0,I.pushToEnd)(S,l);for(let C=0;p!==0&&C<S.length;C++){const y=this.viewItems[S[C]],E=(0,u.clamp)(y.size+p,y.minimumSize,y.maximumSize);p-=E-y.size,y.size=E}}layoutViews(){this.contentSize=this.viewItems.reduce((h,p)=>h+p.size,0);let l=0;for(const h of this.viewItems)h.layout(l,this.layoutContext),l+=h.size;this.sashItems.forEach(h=>h.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let l=!1;const h=this.viewItems.map(y=>l=y.size-y.minimumSize>0||l);l=!1;const p=this.viewItems.map(y=>l=y.maximumSize-y.size>0||l),S=[...this.viewItems].reverse();l=!1;const f=S.map(y=>l=y.size-y.minimumSize>0||l).reverse();l=!1;const m=S.map(y=>l=y.maximumSize-y.size>0||l).reverse();let C=0;for(let y=0;y<this.sashItems.length;y++){const{sash:E}=this.sashItems[y];C+=this.viewItems[y].size;const N=!(h[y]&&m[y+1]),F=!(p[y]&&f[y+1]);if(N&&F){const O=(0,I.range)(y,-1),P=(0,I.range)(y+1,this.viewItems.length),D=this.findFirstSnapIndex(O),M=this.findFirstSnapIndex(P),R=typeof D=="number"&&!this.viewItems[D].visible,B=typeof M=="number"&&!this.viewItems[M].visible;R&&f[y]&&(C>0||this.startSnappingEnabled)?E.state=1:B&&h[y]&&(C<this.contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else N&&!F?E.state=1:!N&&F?E.state=2:E.state=3}}getSashPosition(l){let h=0;for(let p=0;p<this.sashItems.length;p++)if(h+=this.viewItems[p].size,this.sashItems[p].sash===l)return h;return 0}findFirstSnapIndex(l){for(const h of l){const p=this.viewItems[h];if(!!p.visible&&p.snap)return h}for(const h of l){const p=this.viewItems[h];if(p.visible&&p.maximumSize-p.minimumSize>0)return;if(!p.visible&&p.snap)return h}}dispose(){super.dispose(),(0,b.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(l=>l.disposable.dispose()),this.sashItems=[]}}e.SplitView=a}),define(se[501],re([1,0,7,114,267,6,2,353]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class _{constructor(i,t,o){this.columns=i,this.getColumnSize=o,this.templateId=_.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(c=>[c.templateId,c]));this.renderers=[];for(const c of i){const d=r.get(c.templateId);if(!d)throw new Error(`Table cell renderer for template id ${c.templateId} not found.`);this.renderers.push(d)}}renderTemplate(i){const t=(0,w.append)(i,(0,w.$)(".monaco-table-tr")),o=[],r=[];for(let d=0;d<this.columns.length;d++){const a=this.renderers[d],s=(0,w.append)(t,(0,w.$)(".monaco-table-td",{"data-col-index":d}));s.style.width=`${this.getColumnSize(d)}px`,o.push(s),r.push(a.renderTemplate(s))}const c={container:i,cellContainers:o,cellTemplateData:r};return this.renderedTemplates.add(c),c}renderElement(i,t,o,r){for(let c=0;c<this.columns.length;c++){const a=this.columns[c].project(i);this.renderers[c].renderElement(a,t,o.cellTemplateData[c],r)}}disposeElement(i,t,o,r){for(let c=0;c<this.columns.length;c++){const d=this.renderers[c];if(d.disposeElement){const s=this.columns[c].project(i);d.disposeElement(s,t,o.cellTemplateData[c],r)}}}disposeTemplate(i){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(i.cellTemplateData[t]);(0,w.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,t){for(const{cellContainers:o}of this.renderedTemplates)o[i].style.width=`${t}px`}}_.TemplateId="row";function b(n){return{getHeight(i){return n.getHeight(i)},getTemplateId(){return _.TemplateId}}}class u{constructor(i,t){this.column=i,this.index=t,this._onDidLayout=new I.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,w.$)(".monaco-table-th",{"data-col-index":t,title:i.tooltip},i.label)}get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:I.Event.None}layout(i){this._onDidLayout.fire([this.index,i])}}class g{constructor(i,t,o,r,c,d){this.virtualDelegate=o,this.domId=`table_id_${++g.InstanceCount}`,this.disposables=new L.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,w.append)(t,(0,w.$)(`.monaco-table.${this.domId}`));const a=r.map((h,p)=>new u(h,p)),s={size:a.reduce((h,p)=>h+p.column.weight,0),views:a.map(h=>({size:h.column.weight,view:h}))};this.splitview=this.disposables.add(new k.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:s})),this.splitview.el.style.height=`${o.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${o.headerRowHeight}px`;const l=new _(r,c,h=>this.splitview.getViewSize(h));this.list=this.disposables.add(new v.List(i,this.domNode,b(o),[l],d)),I.Event.any(...a.map(h=>h.onDidLayout))(([h,p])=>l.layoutColumn(h,p),null,this.disposables),this.splitview.onDidSashReset(h=>{const p=r.reduce((f,m)=>f+m.weight,0),S=r[h].weight/p*this.cachedWidth;this.splitview.resizeView(h,S)},null,this.disposables),this.styleElement=(0,w.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(i){this.list.updateOptions(i)}splice(i,t,o=[]){this.list.splice(i,t,o)}getHTMLElement(){return this.domNode}style(i){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=g,g.InstanceCount=0}),define(se[163],re([1,0,68,27,31,6,354]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=void 0;const L={inputActiveOptionBorder:k.Color.fromHex("#007ACC00"),inputActiveOptionForeground:k.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:k.Color.fromHex("#0E639C50")};class _ extends w.Widget{constructor(u){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new I.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},L),u),this._checked=this._opts.isChecked;const g=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,g.push(...v.CSSIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&g.push(...this._opts.actionClassName.split(" ")),this._checked&&g.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...g),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,n=>{if(n.keyCode===10||n.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),n.preventDefault(),n.stopPropagation();return}this._onKeyDown.fire(n)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(u){this._checked=u,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(u){u.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=u.inputActiveOptionBorder),u.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=u.inputActiveOptionForeground),u.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=u.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=_}),define(se[268],re([1,0,163,27,473]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const I=k.localize(0,null),L=k.localize(1,null),_=k.localize(2,null);class b extends w.Toggle{constructor(i){super({icon:v.Codicon.caseSensitive,title:I+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=b;class u extends w.Toggle{constructor(i){super({icon:v.Codicon.wholeWord,title:L+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=u;class g extends w.Toggle{constructor(i){super({icon:v.Codicon.regex,title:_+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=g}),define(se[203],re([1,0,7,268,266,68,6,472,2,231]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const u=_.localize(0,null);class g extends I.Widget{constructor(i,t,o,r){super();this._showOptionButtons=o,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new b.DisposableStore,this.additionalToggles=[],this._onDidOptionChange=this._register(new L.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new L.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new L.Emitter),this._onKeyUp=this._register(new L.Emitter),this._onCaseSensitiveKeyDown=this._register(new L.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new L.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||u,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const c=r.appendCaseSensitiveLabel||"",d=r.appendWholeWordsLabel||"",a=r.appendRegexLabel||"",s=r.history||[],l=!!r.flexibleHeight,h=!!r.flexibleWidth,p=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:r.showHistoryHint,flexibleHeight:l,flexibleWidth:h,flexibleMaxHeight:p})),this.regex=this._register(new v.RegexToggle({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(f=>{this._onRegexKeyDown.fire(f)})),this.wholeWords=this._register(new v.WholeWordsToggle({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new v.CaseSensitiveToggle({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(f=>{this._onCaseSensitiveKeyDown.fire(f)}));const S=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){const m=S.indexOf(document.activeElement);if(m>=0){let C=-1;f.equals(17)?C=(m+1)%S.length:f.equals(15)&&(m===0?C=S.length-1:C=m-1),f.equals(9)?(S[m].blur(),this.inputBox.focus()):C>=0&&S[C].focus(),w.EventHelper.stop(f,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none"),this.setAdditionalToggles(r==null?void 0:r.additionalToggles),this.domNode.appendChild(this.controls),i==null||i.appendChild(this.domNode),this._register(w.addDisposableListener(this.inputBox.inputElement,"compositionstart",f=>{this.imeSessionInProgress=!0})),this._register(w.addDisposableListener(this.inputBox.inputElement,"compositionend",f=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const i of this.additionalToggles)i.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const i of this.additionalToggles)i.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new b.DisposableStore;for(const t of i??[])this.additionalTogglesDisposables.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.add(t.onChange(o=>{this._onDidOptionChange.fire(o),!o&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((t,o)=>t+o.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);for(const o of this.additionalToggles)o.style(i);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=g}),define(se[502],re([1,0,7,163,266,68,27,6,474,231]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseToggle=void 0;const u=b.localize(0,null),g=b.localize(1,null);class n extends v.Toggle{constructor(o){super({icon:L.Codicon.preserveCase,title:g+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.PreserveCaseToggle=n;class i extends I.Widget{constructor(o,r,c,d){super();this._showOptionButtons=c,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new _.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new _.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new _.Emitter),this._onInput=this._register(new _.Emitter),this._onKeyUp=this._register(new _.Emitter),this._onPreserveCaseKeyDown=this._register(new _.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=r,this.placeholder=d.placeholder||"",this.validation=d.validation,this.label=d.label||u,this.inputActiveOptionBorder=d.inputActiveOptionBorder,this.inputActiveOptionForeground=d.inputActiveOptionForeground,this.inputActiveOptionBackground=d.inputActiveOptionBackground,this.inputBackground=d.inputBackground,this.inputForeground=d.inputForeground,this.inputBorder=d.inputBorder,this.inputValidationInfoBorder=d.inputValidationInfoBorder,this.inputValidationInfoBackground=d.inputValidationInfoBackground,this.inputValidationInfoForeground=d.inputValidationInfoForeground,this.inputValidationWarningBorder=d.inputValidationWarningBorder,this.inputValidationWarningBackground=d.inputValidationWarningBackground,this.inputValidationWarningForeground=d.inputValidationWarningForeground,this.inputValidationErrorBorder=d.inputValidationErrorBorder,this.inputValidationErrorBackground=d.inputValidationErrorBackground,this.inputValidationErrorForeground=d.inputValidationErrorForeground;const a=d.appendPreserveCaseLabel||"",s=d.history||[],l=!!d.flexibleHeight,h=!!d.flexibleWidth,p=d.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:d.showHistoryHint,flexibleHeight:l,flexibleWidth:h,flexibleMaxHeight:p})),this.preserveCase=this._register(new n({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(m=>{this._onPreserveCaseKeyDown.fire(m)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const S=[this.preserveCase.domNode];this.onkeydown(this.domNode,m=>{if(m.equals(15)||m.equals(17)||m.equals(9)){const C=S.indexOf(document.activeElement);if(C>=0){let y=-1;m.equals(17)?y=(C+1)%S.length:m.equals(15)&&(C===0?y=S.length-1:y=C-1),m.equals(9)?(S[C].blur(),this.inputBox.focus()):y>=0&&S[y].focus(),w.EventHelper.stop(m,!0)}}});const f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.preserveCase.domNode),this.domNode.appendChild(f),o==null||o.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,m=>this._onKeyDown.fire(m)),this.onkeyup(this.inputBox.inputElement,m=>this._onKeyUp.fire(m)),this.oninput(this.inputBox.inputElement,m=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,m=>this._onMouseDown.fire(m))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(o){o?this.enable():this.disable()}style(o){this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const o={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(o);const r={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(r)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(o){this.preserveCase.checked=o}focusOnPreserve(){this.preserveCase.focus()}validate(){var o;(o=this.inputBox)===null||o===void 0||o.validate()}set width(o){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=o,this.domNode.style.width=o+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(se[164],re([1,0,7,91,48,75,203,202,114,163,196,122,42,17,10,27,331,6,60,2,125,20,478,355]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMode=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class S extends _.ElementsDragAndDropData{constructor(U){super(U.elements.map(j=>j.element));this.data=U}}function f(ee){return ee instanceof _.ElementsDragAndDropData?new S(ee):ee}class m{constructor(U,j){this.modelProvider=U,this.dnd=j,this.autoExpandDisposable=s.Disposable.None}getDragURI(U){return this.dnd.getDragURI(U.element)}getDragLabel(U,j){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(U.map(Z=>Z.element),j)}onDragStart(U,j){var Z,ie;(ie=(Z=this.dnd).onDragStart)===null||ie===void 0||ie.call(Z,f(U),j)}onDragOver(U,j,Z,ie,Q=!0){const J=this.dnd.onDragOver(f(U),j&&j.element,Z,ie),de=this.autoExpandNode!==j;if(de&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=j),typeof j=="undefined")return J;if(de&&typeof J!="boolean"&&J.autoExpand&&(this.autoExpandDisposable=(0,o.disposableTimeout)(()=>{const oe=this.modelProvider(),z=oe.getNodeLocation(j);oe.isCollapsed(z)&&oe.setCollapsed(z,!1),this.autoExpandNode=void 0},500)),typeof J=="boolean"||!J.accept||typeof J.bubble=="undefined"||J.feedback){if(!Q){const oe=typeof J=="boolean"?J:J.accept,z=typeof J=="boolean"?void 0:J.effect;return{accept:oe,effect:z,feedback:[Z]}}return J}if(J.bubble===1){const oe=this.modelProvider(),z=oe.getNodeLocation(j),X=oe.getParentNodeLocation(z),$=oe.getNode(X),H=X&&oe.getListIndex(X);return this.onDragOver(U,$,H,ie,!1)}const x=this.modelProvider(),ne=x.getNodeLocation(j),te=x.getListIndex(ne),q=x.getListRenderCount(ne);return Object.assign(Object.assign({},J),{feedback:(0,t.range)(te,te+q)})}drop(U,j,Z,ie){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(f(U),j&&j.element,Z,ie)}onDragEnd(U){var j,Z;(Z=(j=this.dnd).onDragEnd)===null||Z===void 0||Z.call(j,U)}}function C(ee,U){return U&&Object.assign(Object.assign({},U),{identityProvider:U.identityProvider&&{getId(j){return U.identityProvider.getId(j.element)}},dnd:U.dnd&&new m(ee,U.dnd),multipleSelectionController:U.multipleSelectionController&&{isSelectionSingleChangeEvent(j){return U.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},j),{element:j.element}))},isSelectionRangeChangeEvent(j){return U.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},j),{element:j.element}))}},accessibilityProvider:U.accessibilityProvider&&Object.assign(Object.assign({},U.accessibilityProvider),{getSetSize(j){const Z=ee(),ie=Z.getNodeLocation(j),Q=Z.getParentNodeLocation(ie);return Z.getNode(Q).visibleChildrenCount},getPosInSet(j){return j.visibleChildIndex+1},isChecked:U.accessibilityProvider&&U.accessibilityProvider.isChecked?j=>U.accessibilityProvider.isChecked(j.element):void 0,getRole:U.accessibilityProvider&&U.accessibilityProvider.getRole?j=>U.accessibilityProvider.getRole(j.element):()=>"treeitem",getAriaLabel(j){return U.accessibilityProvider.getAriaLabel(j.element)},getWidgetAriaLabel(){return U.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:U.accessibilityProvider&&U.accessibilityProvider.getWidgetRole?()=>U.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:U.accessibilityProvider&&U.accessibilityProvider.getAriaLevel?j=>U.accessibilityProvider.getAriaLevel(j.element):j=>j.depth,getActiveDescendantId:U.accessibilityProvider.getActiveDescendantId&&(j=>U.accessibilityProvider.getActiveDescendantId(j.element))}),keyboardNavigationLabelProvider:U.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},U.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(j){return U.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(j.element)}})})}class y{constructor(U){this.delegate=U}getHeight(U){return this.delegate.getHeight(U.element)}getTemplateId(U){return this.delegate.getTemplateId(U.element)}hasDynamicHeight(U){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(U.element)}setDynamicHeight(U,j){var Z,ie;(ie=(Z=this.delegate).setDynamicHeight)===null||ie===void 0||ie.call(Z,U.element,j)}}e.ComposedTreeDelegate=y;var E;(function(ee){ee.None="none",ee.OnHover="onHover",ee.Always="always"})(E=e.RenderIndentGuides||(e.RenderIndentGuides={}));class T{constructor(U,j=[]){this._elements=j,this.disposables=new s.DisposableStore,this.onDidChange=d.Event.forEach(U,Z=>this._elements=Z,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}class N{constructor(U,j,Z,ie,Q={}){var J;this.renderer=U,this.modelProvider=j,this.activeNodes=ie,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=N.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new c.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=s.Disposable.None,this.disposables=new s.DisposableStore,this.templateId=U.templateId,this.updateOptions(Q),d.Event.map(Z,de=>de.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(J=U.onDidChangeTwistieState)===null||J===void 0||J.call(U,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(U={}){if(typeof U.indent!="undefined"&&(this.indent=(0,l.clamp)(U.indent,0,40)),typeof U.renderIndentGuides!="undefined"){const j=U.renderIndentGuides!==E.None;if(j!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=j,this.indentGuidesDisposable.dispose(),j)){const Z=new s.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Z),this.indentGuidesDisposable=Z,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof U.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=U.hideTwistiesOfChildlessElements)}renderTemplate(U){const j=(0,w.append)(U,(0,w.$)(".monaco-tl-row")),Z=(0,w.append)(j,(0,w.$)(".monaco-tl-indent")),ie=(0,w.append)(j,(0,w.$)(".monaco-tl-twistie")),Q=(0,w.append)(j,(0,w.$)(".monaco-tl-contents")),J=this.renderer.renderTemplate(Q);return{container:U,indent:Z,twistie:ie,indentGuidesDisposable:s.Disposable.None,templateData:J}}renderElement(U,j,Z,ie){typeof ie=="number"&&(this.renderedNodes.set(U,{templateData:Z,height:ie}),this.renderedElements.set(U.element,U));const Q=N.DefaultIndent+(U.depth-1)*this.indent;Z.twistie.style.paddingLeft=`${Q}px`,Z.indent.style.width=`${Q+this.indent-16}px`,this.renderTwistie(U,Z),typeof ie=="number"&&this.renderIndentGuides(U,Z),this.renderer.renderElement(U,j,Z.templateData,ie)}disposeElement(U,j,Z,ie){var Q,J;Z.indentGuidesDisposable.dispose(),(J=(Q=this.renderer).disposeElement)===null||J===void 0||J.call(Q,U,j,Z.templateData,ie),typeof ie=="number"&&(this.renderedNodes.delete(U),this.renderedElements.delete(U.element))}disposeTemplate(U){this.renderer.disposeTemplate(U.templateData)}onDidChangeTwistieState(U){const j=this.renderedElements.get(U);!j||this.onDidChangeNodeTwistieState(j)}onDidChangeNodeTwistieState(U){const j=this.renderedNodes.get(U);!j||(this.renderTwistie(U,j.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(U,j.templateData))}renderTwistie(U,j){j.twistie.classList.remove(...r.Codicon.treeItemExpanded.classNamesArray);let Z=!1;this.renderer.renderTwistie&&(Z=this.renderer.renderTwistie(U.element,j.twistie)),U.collapsible&&(!this.hideTwistiesOfChildlessElements||U.visibleChildrenCount>0)?(Z||j.twistie.classList.add(...r.Codicon.treeItemExpanded.classNamesArray),j.twistie.classList.add("collapsible"),j.twistie.classList.toggle("collapsed",U.collapsed)):j.twistie.classList.remove("collapsible","collapsed"),U.collapsible?j.container.setAttribute("aria-expanded",String(!U.collapsed)):j.container.removeAttribute("aria-expanded")}renderIndentGuides(U,j){if((0,w.clearNode)(j.indent),j.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Z=new s.DisposableStore,ie=this.modelProvider();let Q=U;for(;;){const J=ie.getNodeLocation(Q),de=ie.getParentNodeLocation(J);if(!de)break;const x=ie.getNode(de),ne=(0,w.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(x)&&ne.classList.add("active"),j.indent.childElementCount===0?j.indent.appendChild(ne):j.indent.insertBefore(ne,j.indent.firstElementChild),this.renderedIndentGuides.add(x,ne),Z.add((0,s.toDisposable)(()=>this.renderedIndentGuides.delete(x,ne))),Q=x}j.indentGuidesDisposable=Z}_onDidChangeActiveNodes(U){if(!this.shouldRenderIndentGuides)return;const j=new Set,Z=this.modelProvider();U.forEach(ie=>{const Q=Z.getNodeLocation(ie);try{const J=Z.getParentNodeLocation(Q);ie.collapsible&&ie.children.length>0&&!ie.collapsed?j.add(ie):J&&j.add(Z.getNode(J))}catch{}}),this.activeIndentNodes.forEach(ie=>{j.has(ie)||this.renderedIndentGuides.forEach(ie,Q=>Q.classList.remove("active"))}),j.forEach(ie=>{this.activeIndentNodes.has(ie)||this.renderedIndentGuides.forEach(ie,Q=>Q.classList.add("active"))}),this.activeIndentNodes=j}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,s.dispose)(this.disposables)}}N.DefaultIndent=8;class F{constructor(U,j,Z){this.tree=U,this.keyboardNavigationLabelProvider=j,this._filter=Z,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new s.DisposableStore,U.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(U,j){let Z=1;if(this._filter){const J=this._filter.filter(U,j);if(typeof J=="boolean"?Z=J?1:0:(0,g.isFilterResult)(J)?Z=(0,g.getVisibleState)(J.visibility):Z=J,Z===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:a.FuzzyScore.Default,visibility:Z};const ie=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(U),Q=Array.isArray(ie)?ie:[ie];for(const J of Q){const de=J&&J.toString();if(typeof de=="undefined")return{data:a.FuzzyScore.Default,visibility:Z};const x=(0,a.fuzzyScore)(this._pattern,this._lowercasePattern,0,de,de.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(x)return this._matchCount++,Q.length===1?{data:x,visibility:Z}:{data:{label:de,score:x},visibility:Z}}return this.tree.findMode===P.Filter?2:{data:a.FuzzyScore.Default,visibility:Z}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,s.dispose)(this.disposables)}}class O extends u.Toggle{constructor(U){var j;super({icon:r.Codicon.listFilter,title:(0,p.localize)(0,null),isChecked:(j=U==null?void 0:U.isChecked)!==null&&j!==void 0?j:!1,inputActiveOptionBorder:U==null?void 0:U.inputActiveOptionBorder,inputActiveOptionForeground:U==null?void 0:U.inputActiveOptionForeground,inputActiveOptionBackground:U==null?void 0:U.inputActiveOptionBackground})}}e.ModeToggle=O;var P;(function(ee){ee[ee.Highlight=0]="Highlight",ee[ee.Filter=1]="Filter"})(P=e.TreeFindMode||(e.TreeFindMode={}));class D extends s.Disposable{constructor(U,j,Z,ie,Q){super();this.tree=j,this.elements=(0,w.h)(".monaco-tree-type-filter",[(0,w.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,w.h)(".monaco-tree-type-filter-input@findInput"),(0,w.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this._onDidDisable=new d.Emitter,U.appendChild(this.elements.root),this._register((0,s.toDisposable)(()=>U.removeChild(this.elements.root))),this.modeToggle=this._register(new O(Object.assign(Object.assign({},Q),{isChecked:ie===P.Filter}))),this.onDidChangeMode=d.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?P.Filter:P.Highlight,this._store),this.findInput=this._register(new L.FindInput(this.elements.findInput,Z,!1,{label:(0,p.localize)(3,null),additionalToggles:[this.modeToggle]})),this.actionbar=this._register(new I.ActionBar(this.elements.actionbar)),this.mode=ie;const J=this._register(new v.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),de=this._register(d.Event.chain(J.event)).map(q=>new k.StandardKeyboardEvent(q)).event;this._register(de(q=>{switch(q.keyCode){case 18:q.preventDefault(),q.stopPropagation(),this.tree.domFocus();return}}));const x=this._register(new i.Action("close",(0,p.localize)(4,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(x,{icon:!0,label:!1});const ne=this._register(new v.DomEmitter(this.elements.grab,"mousedown"));this._register(ne.event(q=>{const oe=new s.DisposableStore,z=oe.add(new v.DomEmitter(window,"mousemove")),X=oe.add(new v.DomEmitter(window,"mouseup")),$=this.right,H=q.pageX;this.elements.grab.classList.add("grabbing");const K=ce=>{const le=ce.pageX-H;this.right=$-le,this.layout()};oe.add(z.event(K)),oe.add(X.event(ce=>{K(ce),this.elements.grab.classList.remove("grabbing"),oe.dispose()}))}));const te=this._register(d.Event.chain(this._register(new v.DomEmitter(this.elements.grab,"keydown")).event)).map(q=>new k.StandardKeyboardEvent(q)).event;this._register(te(q=>{let oe;q.keyCode===15?oe=Number.POSITIVE_INFINITY:q.keyCode===17?oe=0:q.keyCode===10&&(oe=this.right===0?Number.POSITIVE_INFINITY:0),oe!==void 0&&(q.preventDefault(),q.stopPropagation(),this.right=oe,this.layout())})),this.onDidChangeValue=this.findInput.onDidChange,this.style(Q??{})}set mode(U){this.modeToggle.checked=U===P.Filter,this.findInput.inputBox.setPlaceHolder(U===P.Filter?(0,p.localize)(1,null):(0,p.localize)(2,null))}style(U){this.findInput.style(U),U.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=U.listFilterWidgetBackground.toString()),U.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${U.listFilterWidgetShadow}`)}layout(U=this.width){this.width=U,this.right=(0,l.clamp)(this.right,0,Math.max(0,U-212)),this.elements.root.style.right=`${this.right}px`}showMessage(U){this.findInput.showMessage(U)}clearMessage(){this.findInput.clearMessage()}dispose(){const U=Object.create(null,{dispose:{get:()=>super.dispose}});return Se(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield(0,o.timeout)(300),U.dispose.call(this)})}}class M{constructor(U,j,Z,ie,Q){var J;this.tree=U,this.view=Z,this.filter=ie,this.contextViewProvider=Q,this._pattern="",this.width=0,this._onDidChangeMode=new d.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new d.Emitter,this._onDidChangeOpenState=new d.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new s.DisposableStore,this.disposables=new s.DisposableStore,this._mode=(J=U.options.defaultFindMode)!==null&&J!==void 0?J:P.Highlight,j.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(U){U!==this._mode&&(this._mode=U,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(U))}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var U,j;const Z=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Z?(U=this.widget)===null||U===void 0||U.showMessage({type:2,content:(0,p.localize)(5,null)}):(j=this.widget)===null||j===void 0||j.clearMessage()}shouldAllowFocus(U){return!this.widget||!this.pattern||this._mode===P.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!a.FuzzyScore.isDefault(U.filterData)}style(U){var j;this.styles=U,(j=this.widget)===null||j===void 0||j.style(U)}layout(U){var j;this.width=U,(j=this.widget)===null||j===void 0||j.layout(U)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function R(ee){let U=n.TreeMouseEventTarget.Unknown;return(0,w.hasParentWithClass)(ee.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?U=n.TreeMouseEventTarget.Twistie:(0,w.hasParentWithClass)(ee.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?U=n.TreeMouseEventTarget.Element:(0,w.hasParentWithClass)(ee.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(U=n.TreeMouseEventTarget.Filter),{browserEvent:ee.browserEvent,element:ee.element?ee.element.element:null,target:U}}function B(ee,U){U(ee),ee.children.forEach(j=>B(j,U))}class W{constructor(U,j){this.getFirstViewElementWithTrait=U,this.identityProvider=j,this.nodes=[],this._onDidChange=new d.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(U,j){!(j==null?void 0:j.__forceEvent)&&(0,t.equals)(this.nodes,U)||this._set(U,!1,j)}_set(U,j,Z){if(this.nodes=[...U],this.elements=void 0,this._nodeSet=void 0,!j){const ie=this;this._onDidChange.fire({get elements(){return ie.get()},browserEvent:Z})}}get(){return this.elements||(this.elements=this.nodes.map(U=>U.element)),[...this.elements]}getNodes(){return this.nodes}has(U){return this.nodeSet.has(U)}onDidModelSplice({insertedNodes:U,deletedNodes:j}){if(!this.identityProvider){const x=this.createNodeSet(),ne=te=>x.delete(te);j.forEach(te=>B(te,ne)),this.set([...x.values()]);return}const Z=new Set,ie=x=>Z.add(this.identityProvider.getId(x.element).toString());j.forEach(x=>B(x,ie));const Q=new Map,J=x=>Q.set(this.identityProvider.getId(x.element).toString(),x);U.forEach(x=>B(x,J));const de=[];for(const x of this.nodes){const ne=this.identityProvider.getId(x.element).toString();if(!Z.has(ne))de.push(x);else{const q=Q.get(ne);q&&de.push(q)}}if(this.nodes.length>0&&de.length===0){const x=this.getFirstViewElementWithTrait();x&&de.push(x)}this._set(de,!0)}createNodeSet(){const U=new Set;for(const j of this.nodes)U.add(j);return U}}class V extends b.MouseController{constructor(U,j){super(U);this.tree=j}onViewPointer(U){if((0,b.isButton)(U.browserEvent.target)||(0,b.isInputElement)(U.browserEvent.target)||(0,b.isMonacoEditor)(U.browserEvent.target))return;const j=U.element;if(!j)return super.onViewPointer(U);if(this.isSelectionRangeChangeEvent(U)||this.isSelectionSingleChangeEvent(U))return super.onViewPointer(U);const Z=U.browserEvent.target,ie=Z.classList.contains("monaco-tl-twistie")||Z.classList.contains("monaco-icon-label")&&Z.classList.contains("folder-icon")&&U.browserEvent.offsetX<16;let Q=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Q=this.tree.expandOnlyOnTwistieClick(j.element):Q=!!this.tree.expandOnlyOnTwistieClick,Q&&!ie&&U.browserEvent.detail!==2)return super.onViewPointer(U);if(!this.tree.expandOnDoubleClick&&U.browserEvent.detail===2)return super.onViewPointer(U);if(j.collapsible){const J=this.tree.model,de=J.getNodeLocation(j),x=U.browserEvent.altKey;if(this.tree.setFocus([de]),J.setCollapsed(de,void 0,x),Q&&ie)return}super.onViewPointer(U)}onDoubleClick(U){U.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(U)}}class A extends b.List{constructor(U,j,Z,ie,Q,J,de,x){super(U,j,Z,ie,x);this.focusTrait=Q,this.selectionTrait=J,this.anchorTrait=de}createMouseController(U){return new V(this,U.tree)}splice(U,j,Z=[]){if(super.splice(U,j,Z),Z.length===0)return;const ie=[],Q=[];let J;Z.forEach((de,x)=>{this.focusTrait.has(de)&&ie.push(U+x),this.selectionTrait.has(de)&&Q.push(U+x),this.anchorTrait.has(de)&&(J=U+x)}),ie.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...ie])),Q.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...Q])),typeof J=="number"&&super.setAnchor(J)}setFocus(U,j,Z=!1){super.setFocus(U,j),Z||this.focusTrait.set(U.map(ie=>this.element(ie)),j)}setSelection(U,j,Z=!1){super.setSelection(U,j),Z||this.selectionTrait.set(U.map(ie=>this.element(ie)),j)}setAnchor(U,j=!1){super.setAnchor(U),j||(typeof U=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(U)]))}}class Y{constructor(U,j,Z,ie,Q={}){var J;this._user=U,this._options=Q,this.eventBufferer=new d.EventBufferer,this.onDidChangeFindOpenState=d.Event.None,this.disposables=new s.DisposableStore,this._onWillRefilter=new d.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new d.Emitter;const de=new y(Z),x=new d.Relay,ne=new d.Relay,te=this.disposables.add(new T(ne.event));this.renderers=ie.map(z=>new N(z,()=>this.model,x.event,te,Q));for(const z of this.renderers)this.disposables.add(z);let q;Q.keyboardNavigationLabelProvider&&(q=new F(this,Q.keyboardNavigationLabelProvider,Q.filter),Q=Object.assign(Object.assign({},Q),{filter:q}),this.disposables.add(q)),this.focus=new W(()=>this.view.getFocusedElements()[0],Q.identityProvider),this.selection=new W(()=>this.view.getSelectedElements()[0],Q.identityProvider),this.anchor=new W(()=>this.view.getAnchorElement(),Q.identityProvider),this.view=new A(U,j,de,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},C(()=>this.model,Q)),{tree:this})),this.model=this.createModel(U,this.view,Q),x.input=this.model.onDidChangeCollapseState;const oe=d.Event.forEach(this.model.onDidSplice,z=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(z),this.selection.onDidModelSplice(z)})},this.disposables);if(oe(()=>null,null,this.disposables),ne.input=d.Event.chain(d.Event.any(oe,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const z=new Set;for(const X of this.focus.getNodes())z.add(X);for(const X of this.selection.getNodes())z.add(X);return[...z.values()]}).event,Q.keyboardSupport!==!1){const z=d.Event.chain(this.view.onKeyDown).filter(X=>!(0,b.isInputElement)(X.target)).map(X=>new k.StandardKeyboardEvent(X));z.filter(X=>X.keyCode===15).on(this.onLeftArrow,this,this.disposables),z.filter(X=>X.keyCode===17).on(this.onRightArrow,this,this.disposables),z.filter(X=>X.keyCode===10).on(this.onSpace,this,this.disposables)}((J=Q.findWidgetEnabled)!==null&&J!==void 0?J:!0)&&Q.keyboardNavigationLabelProvider&&Q.contextViewProvider?(this.findController=new M(this,this.model,this.view,q,Q.contextViewProvider),this.focusNavigationFilter=z=>this.findController.shouldAllowFocus(z),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=d.Event.None,this.styleElement=(0,w.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===E.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return d.Event.filter(d.Event.map(this.view.onMouseDblClick,R),U=>U.target!==n.TreeMouseEventTarget.Filter)}get onPointer(){return d.Event.map(this.view.onPointer,R)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return d.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var U,j;return(j=(U=this.findController)===null||U===void 0?void 0:U.mode)!==null&&j!==void 0?j:P.Highlight}set findMode(U){this.findController&&(this.findController.mode=U)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(U={}){this._options=Object.assign(Object.assign({},this._options),U);for(const j of this.renderers)j.updateOptions(U);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===E.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(U){this.view.scrollTop=U}domFocus(){this.view.domFocus()}layout(U,j){var Z;this.view.layout(U,j),(0,h.isNumber)(j)&&((Z=this.findController)===null||Z===void 0||Z.layout(j))}style(U){var j;const Z=`.${this.view.domId}`,ie=[];U.treeIndentGuidesStroke&&(ie.push(`.monaco-list${Z}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Z}.always .monaco-tl-indent > .indent-guide  { border-color: ${U.treeIndentGuidesStroke.transparent(.4)}; }`),ie.push(`.monaco-list${Z} .monaco-tl-indent > .indent-guide.active { border-color: ${U.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=ie.join(`
`),(j=this.findController)===null||j===void 0||j.style(U),this.view.style(U)}getParentElement(U){const j=this.model.getParentNodeLocation(U);return this.model.getNode(j).element}getFirstElementChild(U){return this.model.getFirstElementChild(U)}getNode(U){return this.model.getNode(U)}collapse(U,j=!1){return this.model.setCollapsed(U,!0,j)}expand(U,j=!1){return this.model.setCollapsed(U,!1,j)}isCollapsible(U){return this.model.isCollapsible(U)}setCollapsible(U,j){return this.model.setCollapsible(U,j)}isCollapsed(U){return this.model.isCollapsed(U)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(U,j){const Z=U.map(Q=>this.model.getNode(Q));this.selection.set(Z,j);const ie=U.map(Q=>this.model.getListIndex(Q)).filter(Q=>Q>-1);this.view.setSelection(ie,j,!0)}getSelection(){return this.selection.get()}setFocus(U,j){const Z=U.map(Q=>this.model.getNode(Q));this.focus.set(Z,j);const ie=U.map(Q=>this.model.getListIndex(Q)).filter(Q=>Q>-1);this.view.setFocus(ie,j,!0)}getFocus(){return this.focus.get()}reveal(U,j){this.model.expandTo(U);const Z=this.model.getListIndex(U);Z!==-1&&this.view.reveal(Z,j)}onLeftArrow(U){U.preventDefault(),U.stopPropagation();const j=this.view.getFocusedElements();if(j.length===0)return;const Z=j[0],ie=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(ie,!0)){const J=this.model.getParentNodeLocation(ie);if(!J)return;const de=this.model.getListIndex(J);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(U){U.preventDefault(),U.stopPropagation();const j=this.view.getFocusedElements();if(j.length===0)return;const Z=j[0],ie=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(ie,!1)){if(!Z.children.some(x=>x.visible))return;const[J]=this.view.getFocus(),de=J+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(U){U.preventDefault(),U.stopPropagation();const j=this.view.getFocusedElements();if(j.length===0)return;const Z=j[0],ie=this.model.getNodeLocation(Z),Q=U.browserEvent.altKey;this.model.setCollapsed(ie,void 0,Q)}dispose(){(0,s.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=Y}),define(se[503],re([1,0,164,197]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class k extends w.AbstractTree{constructor(L,_,b,u,g,n={}){super(L,_,b,u,n);this.user=L,this.dataSource=g,this.identityProvider=n.identityProvider}createModel(L,_,b){return new v.ObjectTreeModel(L,_,b)}}e.DataTree=k}),define(se[269],re([1,0,164,488,197,104,55]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class _ extends w.AbstractTree{constructor(i,t,o,r,c={}){super(i,t,o,r,c);this.user=i}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(i,t=L.Iterable.empty(),o){this.model.setChildren(i,t,o)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,t,o){return new k.ObjectTreeModel(i,t,o)}}e.ObjectTree=_;class b{constructor(i,t){this._compressedTreeNodeProvider=i,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(i){const t=this.renderer.renderTemplate(i);return{compressedTreeNode:void 0,data:t}}renderElement(i,t,o,r){const c=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element);c.element.elements.length===1?(o.compressedTreeNode=void 0,this.renderer.renderElement(i,t,o.data,r)):(o.compressedTreeNode=c,this.renderer.renderCompressedElements(c,t,o.data,r))}disposeElement(i,t,o,r){var c,d,a,s;o.compressedTreeNode?(d=(c=this.renderer).disposeCompressedElements)===null||d===void 0||d.call(c,o.compressedTreeNode,t,o.data,r):(s=(a=this.renderer).disposeElement)===null||s===void 0||s.call(a,i,t,o.data,r)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,t):!1}}ke([I.memoize],b.prototype,"compressedTreeNodeProvider",null);function u(n,i){return i&&Object.assign(Object.assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let o;try{o=n().getCompressedTreeNode(t)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return o.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(o.element.elements)}}})}class g extends _{constructor(i,t,o,r,c={}){const d=()=>this,a=r.map(s=>new b(d,s));super(i,t,o,a,u(d,c))}setChildren(i,t=L.Iterable.empty(),o){this.model.setChildren(i,t,o)}createModel(i,t,o){return new v.CompressibleObjectTreeModel(i,t,o)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=g}),define(se[504],re([1,0,202,164,196,269,122,10,27,14,6,55,2,20]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function o(O){return Object.assign(Object.assign({},O),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function r(O,P){return P.parent?P.parent===O?!0:r(O,P.parent):!1}function c(O,P){return O===P||r(O,P)||r(P,O)}class d{constructor(P){this.node=P}get element(){return this.node.element.element}get children(){return this.node.children.map(P=>new d(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class a{constructor(P,D,M){this.renderer=P,this.nodeMapper=D,this.onDidChangeTwistieState=M,this.renderedNodes=new Map,this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,D,M,R){this.renderer.renderElement(this.nodeMapper.map(P),D,M.templateData,R)}renderTwistie(P,D){return P.slow?(D.classList.add(...b.Codicon.treeItemLoading.classNamesArray),!0):(D.classList.remove(...b.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(P,D,M,R){var B,W;(W=(B=this.renderer).disposeElement)===null||W===void 0||W.call(B,this.nodeMapper.map(P),D,M.templateData,R)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear()}}function s(O){return{browserEvent:O.browserEvent,elements:O.elements.map(P=>P.element)}}function l(O){return{browserEvent:O.browserEvent,element:O.element&&O.element.element,target:O.target}}class h extends w.ElementsDragAndDropData{constructor(P){super(P.elements.map(D=>D.element));this.data=P}}function p(O){return O instanceof w.ElementsDragAndDropData?new h(O):O}class S{constructor(P){this.dnd=P}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,D){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(M=>M.element),D)}onDragStart(P,D){var M,R;(R=(M=this.dnd).onDragStart)===null||R===void 0||R.call(M,p(P),D)}onDragOver(P,D,M,R,B=!0){return this.dnd.onDragOver(p(P),D&&D.element,M,R)}drop(P,D,M,R){this.dnd.drop(p(P),D&&D.element,M,R)}onDragEnd(P){var D,M;(M=(D=this.dnd).onDragEnd)===null||M===void 0||M.call(D,P)}}function f(O){return O&&Object.assign(Object.assign({},O),{collapseByDefault:!0,identityProvider:O.identityProvider&&{getId(P){return O.identityProvider.getId(P.element)}},dnd:O.dnd&&new S(O.dnd),multipleSelectionController:O.multipleSelectionController&&{isSelectionSingleChangeEvent(P){return O.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))},isSelectionRangeChangeEvent(P){return O.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))}},accessibilityProvider:O.accessibilityProvider&&Object.assign(Object.assign({},O.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:O.accessibilityProvider.getRole?P=>O.accessibilityProvider.getRole(P.element):()=>"treeitem",isChecked:O.accessibilityProvider.isChecked?P=>{var D;return!!((D=O.accessibilityProvider)===null||D===void 0?void 0:D.isChecked(P.element))}:void 0,getAriaLabel(P){return O.accessibilityProvider.getAriaLabel(P.element)},getWidgetAriaLabel(){return O.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:O.accessibilityProvider.getWidgetRole?()=>O.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:O.accessibilityProvider.getAriaLevel&&(P=>O.accessibilityProvider.getAriaLevel(P.element)),getActiveDescendantId:O.accessibilityProvider.getActiveDescendantId&&(P=>O.accessibilityProvider.getActiveDescendantId(P.element))}),filter:O.filter&&{filter(P,D){return O.filter.filter(P.element,D)}},keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(P){return O.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof O.expandOnlyOnTwistieClick=="undefined"?void 0:typeof O.expandOnlyOnTwistieClick!="function"?O.expandOnlyOnTwistieClick:P=>O.expandOnlyOnTwistieClick(P.element),additionalScrollHeight:O.additionalScrollHeight})}function m(O,P){P(O),O.children.forEach(D=>m(D,P))}class C{constructor(P,D,M,R,B,W={}){this.user=P,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new g.Emitter,this._onDidChangeNodeSlowState=new g.Emitter,this.nodeMapper=new L.WeakMapper(V=>new d(V)),this.disposables=new i.DisposableStore,this.identityProvider=W.identityProvider,this.autoExpandSingleChildren=typeof W.autoExpandSingleChildren=="undefined"?!1:W.autoExpandSingleChildren,this.sorter=W.sorter,this.collapseByDefault=W.collapseByDefault,this.tree=this.createTree(P,D,M,R,W),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=o({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return g.Event.map(this.tree.onDidChangeFocus,s)}get onDidChangeSelection(){return g.Event.map(this.tree.onDidChangeSelection,s)}get onMouseDblClick(){return g.Event.map(this.tree.onMouseDblClick,l)}get onPointer(){return g.Event.map(this.tree.onPointer,l)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(P,D,M,R,B){const W=new v.ComposedTreeDelegate(M),V=R.map(Y=>new a(Y,this.nodeMapper,this._onDidChangeNodeSlowState.event)),A=f(B)||{};return new I.ObjectTree(P,D,W,V,A)}updateOptions(P={}){this.tree.updateOptions(P)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(P){this.tree.scrollTop=P}domFocus(){this.tree.domFocus()}layout(P,D){this.tree.layout(P,D)}style(P){this.tree.style(P)}getInput(){return this.root.element}setInput(P,D){return Se(this,void 0,void 0,function*(){this.refreshPromises.forEach(R=>R.cancel()),this.refreshPromises.clear(),this.root.element=P;const M=D&&{viewState:D,focus:[],selection:[]};yield this._updateChildren(P,!0,!1,M),M&&(this.tree.setFocus(M.focus),this.tree.setSelection(M.selection)),D&&typeof D.scrollTop=="number"&&(this.scrollTop=D.scrollTop)})}_updateChildren(P=this.root.element,D=!0,M=!1,R,B){return Se(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(P);if(yield this.refreshAndRenderNode(W,D,R,B),M)try{this.tree.rerender(W)}catch{}})}rerender(P){if(P===void 0||P===this.root.element){this.tree.rerender();return}const D=this.getDataNode(P);this.tree.rerender(D)}getNode(P=this.root.element){const D=this.getDataNode(P),M=this.tree.getNode(D===this.root?null:D);return this.nodeMapper.map(M)}collapse(P,D=!1){const M=this.getDataNode(P);return this.tree.collapse(M===this.root?null:M,D)}expand(P,D=!1){return Se(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const M=this.getDataNode(P);if(this.tree.hasElement(M)&&!this.tree.isCollapsible(M)||(M.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),M!==this.root&&!M.refreshPromise&&!this.tree.isCollapsed(M)))return!1;const R=this.tree.expand(M===this.root?null:M,D);return M.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),R})}setSelection(P,D){const M=P.map(R=>this.getDataNode(R));this.tree.setSelection(M,D)}getSelection(){return this.tree.getSelection().map(D=>D.element)}setFocus(P,D){const M=P.map(R=>this.getDataNode(R));this.tree.setFocus(M,D)}getFocus(){return this.tree.getFocus().map(D=>D.element)}reveal(P,D){this.tree.reveal(this.getDataNode(P),D)}getParentElement(P){const D=this.tree.getParentElement(this.getDataNode(P));return D&&D.element}getFirstElementChild(P=this.root.element){const D=this.getDataNode(P),M=this.tree.getFirstElementChild(D===this.root?null:D);return M&&M.element}getDataNode(P){const D=this.nodes.get(P===this.root.element?null:P);if(!D)throw new L.TreeError(this.user,`Data tree node not found: ${P}`);return D}refreshAndRenderNode(P,D,M,R){return Se(this,void 0,void 0,function*(){yield this.refreshNode(P,D,M),this.render(P,M,R)})}refreshNode(P,D,M){return Se(this,void 0,void 0,function*(){let R;if(this.subTreeRefreshPromises.forEach((B,W)=>{!R&&c(W,P)&&(R=B.then(()=>this.refreshNode(P,D,M)))}),R)return R;if(P!==this.root&&this.tree.getNode(P).collapsed){P.hasChildren=!!this.dataSource.hasChildren(P.element),P.stale=!0;return}return this.doRefreshSubTree(P,D,M)})}doRefreshSubTree(P,D,M){return Se(this,void 0,void 0,function*(){let R;P.refreshPromise=new Promise(B=>R=B),this.subTreeRefreshPromises.set(P,P.refreshPromise),P.refreshPromise.finally(()=>{P.refreshPromise=void 0,this.subTreeRefreshPromises.delete(P)});try{const B=yield this.doRefreshNode(P,D,M);P.stale=!1,yield _.Promises.settled(B.map(W=>this.doRefreshSubTree(W,D,M)))}finally{R()}})}doRefreshNode(P,D,M){return Se(this,void 0,void 0,function*(){P.hasChildren=!!this.dataSource.hasChildren(P.element);let R;if(!P.hasChildren)R=Promise.resolve(n.Iterable.empty());else{const B=this.doGetChildren(P);if((0,t.isIterable)(B))R=Promise.resolve(B);else{const W=(0,_.timeout)(800);W.then(()=>{P.slow=!0,this._onDidChangeNodeSlowState.fire(P)},V=>null),R=B.finally(()=>W.cancel())}}try{const B=yield R;return this.setChildren(P,B,D,M)}catch(B){if(P!==this.root&&this.tree.hasElement(P)&&this.tree.collapse(P),(0,u.isCancellationError)(B))return[];throw B}finally{P.slow&&(P.slow=!1,this._onDidChangeNodeSlowState.fire(P))}})}doGetChildren(P){let D=this.refreshPromises.get(P);if(D)return D;const M=this.dataSource.getChildren(P.element);return(0,t.isIterable)(M)?this.processChildren(M):(D=(0,_.createCancelablePromise)(()=>Se(this,void 0,void 0,function*(){return this.processChildren(yield M)})),this.refreshPromises.set(P,D),D.finally(()=>{this.refreshPromises.delete(P)}))}_onDidChangeCollapseState({node:P,deep:D}){P.element!==null&&!P.collapsed&&P.element.stale&&(D?this.collapse(P.element.element):this.refreshAndRenderNode(P.element,!1).catch(u.onUnexpectedError))}setChildren(P,D,M,R){const B=[...D];if(P.children.length===0&&B.length===0)return[];const W=new Map,V=new Map;for(const ee of P.children)if(W.set(ee.element,ee),this.identityProvider){const U=this.tree.isCollapsed(ee);V.set(ee.id,{node:ee,collapsed:U})}const A=[],Y=B.map(ee=>{const U=!!this.dataSource.hasChildren(ee);if(!this.identityProvider){const Q=o({element:ee,parent:P,hasChildren:U});return U&&this.collapseByDefault&&!this.collapseByDefault(ee)&&(Q.collapsedByDefault=!1,A.push(Q)),Q}const j=this.identityProvider.getId(ee).toString(),Z=V.get(j);if(Z){const Q=Z.node;return W.delete(Q.element),this.nodes.delete(Q.element),this.nodes.set(ee,Q),Q.element=ee,Q.hasChildren=U,M?Z.collapsed?(Q.children.forEach(J=>m(J,de=>this.nodes.delete(de.element))),Q.children.splice(0,Q.children.length),Q.stale=!0):A.push(Q):U&&this.collapseByDefault&&!this.collapseByDefault(ee)&&(Q.collapsedByDefault=!1,A.push(Q)),Q}const ie=o({element:ee,parent:P,id:j,hasChildren:U});return R&&R.viewState.focus&&R.viewState.focus.indexOf(j)>-1&&R.focus.push(ie),R&&R.viewState.selection&&R.viewState.selection.indexOf(j)>-1&&R.selection.push(ie),R&&R.viewState.expanded&&R.viewState.expanded.indexOf(j)>-1?A.push(ie):U&&this.collapseByDefault&&!this.collapseByDefault(ee)&&(ie.collapsedByDefault=!1,A.push(ie)),ie});for(const ee of W.values())m(ee,U=>this.nodes.delete(U.element));for(const ee of Y)this.nodes.set(ee.element,ee);return P.children.splice(0,P.children.length,...Y),P!==this.root&&this.autoExpandSingleChildren&&Y.length===1&&A.length===0&&(Y[0].collapsedByDefault=!1,A.push(Y[0])),A}render(P,D,M){const R=P.children.map(W=>this.asTreeElement(W,D)),B=M&&Object.assign(Object.assign({},M),{diffIdentityProvider:M.diffIdentityProvider&&{getId(W){return M.diffIdentityProvider.getId(W.element)}}});this.tree.setChildren(P===this.root?null:P,R,B),P!==this.root&&this.tree.setCollapsible(P,P.hasChildren),this._onDidRender.fire()}asTreeElement(P,D){if(P.stale)return{element:P,collapsible:P.hasChildren,collapsed:!0};let M;return D&&D.viewState.expanded&&P.id&&D.viewState.expanded.indexOf(P.id)>-1?M=!1:M=P.collapsedByDefault,P.collapsedByDefault=void 0,{element:P,children:P.hasChildren?n.Iterable.map(P.children,R=>this.asTreeElement(R,D)):[],collapsible:P.hasChildren,collapsed:M}}processChildren(P){return this.sorter&&(P=[...P].sort(this.sorter.compare.bind(this.sorter))),P}dispose(){this.disposables.dispose()}}e.AsyncDataTree=C;class y{constructor(P){this.node=P}get element(){return{elements:this.node.element.elements.map(P=>P.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(P=>new y(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class E{constructor(P,D,M,R){this.renderer=P,this.nodeMapper=D,this.compressibleNodeMapperProvider=M,this.onDidChangeTwistieState=R,this.renderedNodes=new Map,this.disposables=[],this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,D,M,R){this.renderer.renderElement(this.nodeMapper.map(P),D,M.templateData,R)}renderCompressedElements(P,D,M,R){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(P),D,M.templateData,R)}renderTwistie(P,D){return P.slow?(D.classList.add(...b.Codicon.treeItemLoading.classNamesArray),!0):(D.classList.remove(...b.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(P,D,M,R){var B,W;(W=(B=this.renderer).disposeElement)===null||W===void 0||W.call(B,this.nodeMapper.map(P),D,M.templateData,R)}disposeCompressedElements(P,D,M,R){var B,W;(W=(B=this.renderer).disposeCompressedElements)===null||W===void 0||W.call(B,this.compressibleNodeMapperProvider().map(P),D,M.templateData,R)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function T(O){const P=O&&f(O);return P&&Object.assign(Object.assign({},P),{keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(D){return O.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(D.map(M=>M.element))}})})}class N extends C{constructor(P,D,M,R,B,W,V={}){super(P,D,M,B,W,V);this.compressionDelegate=R,this.compressibleNodeMapper=new L.WeakMapper(A=>new y(A)),this.filter=V.filter}createTree(P,D,M,R,B){const W=new v.ComposedTreeDelegate(M),V=R.map(Y=>new E(Y,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),A=T(B)||{};return new I.CompressibleObjectTree(P,D,W,V,A)}asTreeElement(P,D){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(P.element)},super.asTreeElement(P,D))}updateOptions(P={}){this.tree.updateOptions(P)}render(P,D){if(!this.identityProvider)return super.render(P,D);const M=j=>this.identityProvider.getId(j).toString(),R=j=>{const Z=new Set;for(const ie of j){const Q=this.tree.getCompressedTreeNode(ie===this.root?null:ie);if(!!Q.element)for(const J of Q.element.elements)Z.add(M(J.element))}return Z},B=R(this.tree.getSelection()),W=R(this.tree.getFocus());super.render(P,D);const V=this.getSelection();let A=!1;const Y=this.getFocus();let ee=!1;const U=j=>{const Z=j.element;if(Z)for(let ie=0;ie<Z.elements.length;ie++){const Q=M(Z.elements[ie].element),J=Z.elements[Z.elements.length-1].element;B.has(Q)&&V.indexOf(J)===-1&&(V.push(J),A=!0),W.has(Q)&&Y.indexOf(J)===-1&&(Y.push(J),ee=!0)}j.children.forEach(U)};U(this.tree.getCompressedTreeNode(P===this.root?null:P)),A&&this.setSelection(V),ee&&this.setFocus(Y)}processChildren(P){return this.filter&&(P=n.Iterable.filter(P,D=>{const M=this.filter.filter(D,1),R=F(M);if(R===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return R===1})),super.processChildren(P)}}e.CompressibleAsyncDataTree=N;function F(O){return typeof O=="boolean"?O?1:0:(0,k.isFilterResult)(O)?(0,k.getVisibleState)(O.visibility):(0,k.getVisibleState)(O)}}),define(se[43],re([1,0,194,52,90,18,8,22]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function b(n){return(0,_.uriToFsPath)(n,!0)}e.originalFSPath=b;class u{constructor(i){this._ignorePathCasing=i}compare(i,t,o=!1){return i===t?0:(0,L.compare)(this.getComparisonKey(i,o),this.getComparisonKey(t,o))}isEqual(i,t,o=!1){return i===t?!0:!i||!t?!1:this.getComparisonKey(i,o)===this.getComparisonKey(t,o)}getComparisonKey(i,t=!1){return i.with({path:this._ignorePathCasing(i)?i.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(i,t,o=!1){if(i.scheme===t.scheme){if(i.scheme===v.Schemas.file)return w.isEqualOrParent(b(i),b(t),this._ignorePathCasing(i))&&i.query===t.query&&(o||i.fragment===t.fragment);if((0,e.isEqualAuthority)(i.authority,t.authority))return w.isEqualOrParent(i.path,t.path,this._ignorePathCasing(i),"/")&&i.query===t.query&&(o||i.fragment===t.fragment)}return!1}joinPath(i,...t){return _.URI.joinPath(i,...t)}basenameOrAuthority(i){return(0,e.basename)(i)||i.authority}basename(i){return k.posix.basename(i.path)}extname(i){return k.posix.extname(i.path)}dirname(i){if(i.path.length===0)return i;let t;return i.scheme===v.Schemas.file?t=_.URI.file(k.dirname(b(i))).path:(t=k.posix.dirname(i.path),i.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),t="/")),i.with({path:t})}normalizePath(i){if(!i.path.length)return i;let t;return i.scheme===v.Schemas.file?t=_.URI.file(k.normalize(b(i))).path:t=k.posix.normalize(i.path),i.with({path:t})}relativePath(i,t){if(i.scheme!==t.scheme||!(0,e.isEqualAuthority)(i.authority,t.authority))return;if(i.scheme===v.Schemas.file){const c=k.relative(b(i),b(t));return I.isWindows?w.toSlashes(c):c}let o=i.path||"/";const r=t.path||"/";if(this._ignorePathCasing(i)){let c=0;for(const d=Math.min(o.length,r.length);c<d&&!(o.charCodeAt(c)!==r.charCodeAt(c)&&o.charAt(c).toLowerCase()!==r.charAt(c).toLowerCase());c++);o=r.substr(0,c)+o.substr(c)}return k.posix.relative(o,r)}resolvePath(i,t){if(i.scheme===v.Schemas.file){const o=_.URI.file(k.resolve(b(i),t));return i.with({authority:o.authority,path:o.path})}return t=w.toPosixPath(t),i.with({path:k.posix.resolve(i.path,t)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,t){return i===t||i!==void 0&&t!==void 0&&(0,L.equalsIgnoreCase)(i,t)}hasTrailingPathSeparator(i,t=k.sep){if(i.scheme===v.Schemas.file){const o=b(i);return o.length>w.getRoot(o).length&&o[o.length-1]===t}else{const o=i.path;return o.length>1&&o.charCodeAt(o.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,t=k.sep){return(0,e.hasTrailingPathSeparator)(i,t)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,t=k.sep){let o=!1;if(i.scheme===v.Schemas.file){const r=b(i);o=r!==void 0&&r.length===w.getRoot(r).length&&r[r.length-1]===t}else{t="/";const r=i.path;o=r.length===1&&r.charCodeAt(r.length-1)===47}return!o&&!(0,e.hasTrailingPathSeparator)(i,t)?i.with({path:i.path+"/"}):i}}e.ExtUri=u,e.extUri=new u(()=>!1),e.extUriBiasedIgnorePathCase=new u(n=>n.scheme===v.Schemas.file?!I.isLinux:!0),e.extUriIgnorePathCase=new u(n=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var g;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function i(t){const o=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(d=>{const[a,s]=d.split(":");a&&s&&o.set(a,s)});const c=t.path.substring(0,t.path.indexOf(";"));return c&&o.set(n.META_DATA_MIME,c),o}n.parseMetaData=i})(g=e.DataUri||(e.DataUri={}))}),define(se[505],re([1,0,7,490,91,199,63,136,14,6,65,107,146,2,333,198,52,35,43,8,22]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function h(C,y={},E={}){var T;const N=new t.DisposableStore;let F=!1;const O=(0,I.createElement)(y),P=function(Y){let ee;try{ee=(0,r.parse)(decodeURIComponent(Y))}catch{}return ee?(ee=(0,d.cloneAndChange)(ee,U=>{if(C.uris&&C.uris[U])return l.URI.revive(C.uris[U])}),encodeURIComponent(JSON.stringify(ee))):Y},D=function(Y,ee){const U=C.uris&&C.uris[Y];let j=l.URI.revive(U);return ee?Y.startsWith(c.Schemas.data+":")?Y:(j||(j=l.URI.parse(Y)),c.FileAccess.asBrowserUri(j).toString(!0)):!j||l.URI.parse(Y).toString()===j.toString()?Y:(j.query&&(j=j.with({query:P(j.query)})),j.toString())},M=new o.marked.Renderer;M.image=(Y,ee,U)=>{let j=[],Z=[];return Y&&({href:Y,dimensions:j}=(0,g.parseHrefAndDimensions)(Y),Z.push(`src="${(0,g.escapeDoubleQuotes)(Y)}"`)),U&&Z.push(`alt="${(0,g.escapeDoubleQuotes)(U)}"`),ee&&Z.push(`title="${(0,g.escapeDoubleQuotes)(ee)}"`),j.length&&(Z=Z.concat(j)),"<img "+Z.join(" ")+">"},M.link=(Y,ee,U)=>typeof Y!="string"?"":(Y===U&&(U=(0,g.removeMarkdownEscapes)(U)),ee=typeof ee=="string"?(0,g.escapeDoubleQuotes)((0,g.removeMarkdownEscapes)(ee)):"",Y=(0,g.removeMarkdownEscapes)(Y),Y=Y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${Y}" title="${ee||Y}">${U}</a>`),M.paragraph=Y=>`<p>${Y}</p>`;const R=[];if(y.codeBlockRenderer&&(M.code=(Y,ee)=>{const U=i.defaultGenerator.nextId(),j=y.codeBlockRenderer(p(ee),Y);return R.push(j.then(Z=>[U,Z])),`<div class="code" data-code="${U}">${(0,s.escape)(Y)}</div>`}),y.actionHandler){const Y=y.actionHandler.disposables.add(new k.DomEmitter(O,"click")),ee=y.actionHandler.disposables.add(new k.DomEmitter(O,"auxclick"));y.actionHandler.disposables.add(u.Event.any(Y.event,ee.event)(U=>{const j=new L.StandardMouseEvent(U);if(!j.leftButton&&!j.middleButton)return;let Z=j.target;if(!(Z.tagName!=="A"&&(Z=Z.parentElement,!Z||Z.tagName!=="A")))try{let ie=Z.dataset.href;ie&&(C.baseUri&&(ie=S(l.URI.from(C.baseUri),ie)),y.actionHandler.callback(ie,j))}catch(ie){(0,b.onUnexpectedError)(ie)}finally{j.preventDefault()}}))}C.supportHtml||(E.sanitizer=Y=>(C.isTrusted?Y.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Y:"",E.sanitize=!0,E.silent=!0),E.renderer=M;let B=(T=C.value)!==null&&T!==void 0?T:"";B.length>1e5&&(B=`${B.substr(0,1e5)}\u2026`),C.supportThemeIcons&&(B=(0,n.markdownEscapeEscapedIcons)(B));let W=o.marked.parse(B,E);C.supportThemeIcons&&(W=(0,_.renderLabelWithIcons)(W).map(ee=>typeof ee=="string"?ee:ee.outerHTML).join(""));const A=new DOMParser().parseFromString(f(C,W),"text/html");if(A.body.querySelectorAll("img").forEach(Y=>{const ee=Y.getAttribute("src");if(ee){let U=ee;try{C.baseUri&&(U=S(l.URI.from(C.baseUri),U))}catch{}Y.src=D(U,!0)}}),A.body.querySelectorAll("a").forEach(Y=>{const ee=Y.getAttribute("href");if(Y.setAttribute("href",""),!ee||/^data:|javascript:/i.test(ee)||/^command:/i.test(ee)&&!C.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ee))Y.replaceWith(...Y.childNodes);else{let U=D(ee,!1);C.baseUri&&(U=S(l.URI.from(C.baseUri),ee)),Y.dataset.href=U}}),O.innerHTML=f(C,A.body.innerHTML),R.length>0&&Promise.all(R).then(Y=>{var ee,U;if(F)return;const j=new Map(Y),Z=O.querySelectorAll("div[data-code]");for(const ie of Z){const Q=j.get((ee=ie.dataset.code)!==null&&ee!==void 0?ee:"");Q&&w.reset(ie,Q)}(U=y.asyncRenderCallback)===null||U===void 0||U.call(y)}),y.asyncRenderCallback)for(const Y of O.getElementsByTagName("img")){const ee=N.add(w.addDisposableListener(Y,"load",()=>{ee.dispose(),y.asyncRenderCallback()}))}return{element:O,dispose:()=>{F=!0,N.dispose()}}}e.renderMarkdown=h;function p(C){if(!C)return"";const y=C.split(/[\s+|:|,|\{|\?]/,1);return y.length?y[0]:C}function S(C,y){return/^\w[\w\d+.-]*:/.test(y)?y:C.path.endsWith("/")?(0,a.resolvePath)(C,y).toString():(0,a.resolvePath)((0,a.dirname)(C),y).toString()}function f(C,y){const{config:E,allowedSchemes:T}=m(C);v.addHook("uponSanitizeAttribute",(F,O)=>{if(O.attrName==="style"||O.attrName==="class"){if(F.tagName==="SPAN"){if(O.attrName==="style"){O.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(O.attrValue);return}else if(O.attrName==="class"){O.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(O.attrValue);return}}O.keepAttr=!1;return}});const N=w.hookDomPurifyHrefAndSrcSanitizer(T);try{return v.sanitize(y,Object.assign(Object.assign({},E),{RETURN_TRUSTED_TYPE:!0}))}finally{v.removeHook("uponSanitizeAttribute"),N.dispose()}}function m(C){const y=[c.Schemas.http,c.Schemas.https,c.Schemas.mailto,c.Schemas.data,c.Schemas.file,c.Schemas.vscodeFileResource,c.Schemas.vscodeRemote,c.Schemas.vscodeRemoteResource];return C.isTrusted&&y.push(c.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:y}}}),define(se[270],re([1,0,14,6,2,35,18,8]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const b="$initialize";let u=!1;function g(S){!L.isWeb||(u||(u=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(S.message))}e.logOnceWebWorkerWarning=g;class n{constructor(f,m,C,y){this.vsWorker=f,this.req=m,this.method=C,this.args=y,this.type=0}}class i{constructor(f,m,C,y){this.vsWorker=f,this.seq=m,this.res=C,this.err=y,this.type=1}}class t{constructor(f,m,C,y){this.vsWorker=f,this.req=m,this.eventName=C,this.arg=y,this.type=2}}class o{constructor(f,m,C){this.vsWorker=f,this.req=m,this.event=C,this.type=3}}class r{constructor(f,m){this.vsWorker=f,this.req=m,this.type=4}}class c{constructor(f){this._workerId=-1,this._handler=f,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(f){this._workerId=f}sendMessage(f,m){const C=String(++this._lastSentReq);return new Promise((y,E)=>{this._pendingReplies[C]={resolve:y,reject:E},this._send(new n(this._workerId,C,f,m))})}listen(f,m){let C=null;const y=new v.Emitter({onFirstListenerAdd:()=>{C=String(++this._lastSentReq),this._pendingEmitters.set(C,y),this._send(new t(this._workerId,C,f,m))},onLastListenerRemove:()=>{this._pendingEmitters.delete(C),this._send(new r(this._workerId,C)),C=null}});return y.event}handleMessage(f){!f||!f.vsWorker||this._workerId!==-1&&f.vsWorker!==this._workerId||this._handleMessage(f)}_handleMessage(f){switch(f.type){case 1:return this._handleReplyMessage(f);case 0:return this._handleRequestMessage(f);case 2:return this._handleSubscribeEventMessage(f);case 3:return this._handleEventMessage(f);case 4:return this._handleUnsubscribeEventMessage(f)}}_handleReplyMessage(f){if(!this._pendingReplies[f.seq]){console.warn("Got reply to unknown seq");return}const m=this._pendingReplies[f.seq];if(delete this._pendingReplies[f.seq],f.err){let C=f.err;f.err.$isError&&(C=new Error,C.name=f.err.name,C.message=f.err.message,C.stack=f.err.stack),m.reject(C);return}m.resolve(f.res)}_handleRequestMessage(f){const m=f.req;this._handler.handleMessage(f.method,f.args).then(y=>{this._send(new i(this._workerId,m,y,void 0))},y=>{y.detail instanceof Error&&(y.detail=(0,w.transformErrorForSerialization)(y.detail)),this._send(new i(this._workerId,m,void 0,(0,w.transformErrorForSerialization)(y)))})}_handleSubscribeEventMessage(f){const m=f.req,C=this._handler.handleEvent(f.eventName,f.arg)(y=>{this._send(new o(this._workerId,m,y))});this._pendingEvents.set(m,C)}_handleEventMessage(f){if(!this._pendingEmitters.has(f.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(f.req).fire(f.event)}_handleUnsubscribeEventMessage(f){if(!this._pendingEvents.has(f.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(f.req).dispose(),this._pendingEvents.delete(f.req)}_send(f){const m=[];if(f.type===0)for(let C=0;C<f.args.length;C++)f.args[C]instanceof ArrayBuffer&&m.push(f.args[C]);else f.type===1&&f.res instanceof ArrayBuffer&&m.push(f.res);this._handler.sendMessage(f,m)}}class d extends k.Disposable{constructor(f,m,C){super();let y=null;this._worker=this._register(f.create("vs/base/common/worker/simpleWorker",O=>{this._protocol.handleMessage(O)},O=>{y==null||y(O)})),this._protocol=new c({sendMessage:(O,P)=>{this._worker.postMessage(O,P)},handleMessage:(O,P)=>{if(typeof C[O]!="function")return Promise.reject(new Error("Missing method "+O+" on main thread host."));try{return Promise.resolve(C[O].apply(C,P))}catch(D){return Promise.reject(D)}},handleEvent:(O,P)=>{if(s(O)){const D=C[O].call(C,P);if(typeof D!="function")throw new Error(`Missing dynamic event ${O} on main thread host.`);return D}if(a(O)){const D=C[O];if(typeof D!="function")throw new Error(`Missing event ${O} on main thread host.`);return D}throw new Error(`Malformed event name ${O}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;typeof L.globals.require!="undefined"&&typeof L.globals.require.getConfig=="function"?E=L.globals.require.getConfig():typeof L.globals.requirejs!="undefined"&&(E=L.globals.requirejs.s.contexts._.config);const T=(0,I.getAllMethodNames)(C);this._onModuleLoaded=this._protocol.sendMessage(b,[this._worker.getId(),JSON.parse(JSON.stringify(E)),m,T]);const N=(O,P)=>this._request(O,P),F=(O,P)=>this._protocol.listen(O,P);this._lazyProxy=new Promise((O,P)=>{y=P,this._onModuleLoaded.then(D=>{O(l(D,N,F))},D=>{P(D),this._onError("Worker failed to load "+m,D)})})}getProxyObject(){return this._lazyProxy}_request(f,m){return new Promise((C,y)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(f,m).then(C,y)},y)})}_onError(f,m){console.error(f),console.info(m)}}e.SimpleWorkerClient=d;function a(S){return S[0]==="o"&&S[1]==="n"&&_.isUpperAsciiLetter(S.charCodeAt(2))}function s(S){return/^onDynamic/.test(S)&&_.isUpperAsciiLetter(S.charCodeAt(9))}function l(S,f,m){const C=T=>function(){const N=Array.prototype.slice.call(arguments,0);return f(T,N)},y=T=>function(N){return m(T,N)},E={};for(const T of S){if(s(T)){E[T]=y(T);continue}if(a(T)){E[T]=m(T,void 0);continue}E[T]=C(T)}return E}class h{constructor(f,m){this._requestHandlerFactory=m,this._requestHandler=null,this._protocol=new c({sendMessage:(C,y)=>{f(C,y)},handleMessage:(C,y)=>this._handleMessage(C,y),handleEvent:(C,y)=>this._handleEvent(C,y)})}onmessage(f){this._protocol.handleMessage(f)}_handleMessage(f,m){if(f===b)return this.initialize(m[0],m[1],m[2],m[3]);if(!this._requestHandler||typeof this._requestHandler[f]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+f));try{return Promise.resolve(this._requestHandler[f].apply(this._requestHandler,m))}catch(C){return Promise.reject(C)}}_handleEvent(f,m){if(!this._requestHandler)throw new Error("Missing requestHandler");if(s(f)){const C=this._requestHandler[f].call(this._requestHandler,m);if(typeof C!="function")throw new Error(`Missing dynamic event ${f} on request handler.`);return C}if(a(f)){const C=this._requestHandler[f];if(typeof C!="function")throw new Error(`Missing event ${f} on request handler.`);return C}throw new Error(`Malformed event name ${f}`)}initialize(f,m,C,y){this._protocol.setWorkerId(f);const N=l(y,(F,O)=>this._protocol.sendMessage(F,O),(F,O)=>this._protocol.listen(F,O));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(N),Promise.resolve((0,I.getAllMethodNames)(this._requestHandler))):(m&&(typeof m.baseUrl!="undefined"&&delete m.baseUrl,typeof m.paths!="undefined"&&typeof m.paths.vs!="undefined"&&delete m.paths.vs,typeof m.trustedTypesPolicy!==void 0&&delete m.trustedTypesPolicy,m.catchError=!0,L.globals.require.config(m)),new Promise((F,O)=>{(L.globals.require||G)([C],D=>{if(this._requestHandler=D.create(N),!this._requestHandler){O(new Error("No RequestHandler!"));return}F((0,I.getAllMethodNames)(this._requestHandler))},O)}))}}e.SimpleWorkerServer=h;function p(S){return new h(S,null)}e.create=p}),define(se[506],re([1,0,18,270]),function(G,e,w,v){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const I=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("defaultWorkerFactory",{createScriptURL:n=>n});function L(n){if(w.globals.MonacoEnvironment){if(typeof w.globals.MonacoEnvironment.getWorker=="function")return w.globals.MonacoEnvironment.getWorker("workerMain.js",n);if(typeof w.globals.MonacoEnvironment.getWorkerUrl=="function"){const i=w.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",n);return new Worker(I?I.createScriptURL(i):i,{name:n})}}if(typeof G=="function"){const i=G.toUrl("vs/base/worker/workerMain.js"),t=_(i,n);return new Worker(I?I.createScriptURL(t):t,{name:n})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function _(n,i){if(/^((http:)|(https:)|(file:))/.test(n)&&n.substring(0,self.origin.length)!==self.origin){const t="vs/base/worker/defaultWorkerFactory.js",o=G.toUrl(t).slice(0,-t.length),r=`/*${i}*/self.MonacoEnvironment={baseUrl: '${o}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${n}') ?? '${n}');/*${i}*/`,c=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(c)}return n+"#"+i}e.getWorkerBootstrapUrl=_;function b(n){return typeof n.then=="function"}class u{constructor(i,t,o,r,c){this.id=t;const d=L(o);b(d)?this.worker=d:this.worker=Promise.resolve(d),this.postMessage(i,[]),this.worker.then(a=>{a.onmessage=function(s){r(s.data)},a.onmessageerror=c,typeof a.addEventListener=="function"&&a.addEventListener("error",c)})}getId(){return this.id}postMessage(i,t){var o;(o=this.worker)===null||o===void 0||o.then(r=>r.postMessage(i,t))}dispose(){var i;(i=this.worker)===null||i===void 0||i.then(t=>t.terminate()),this.worker=null}}class g{constructor(i){this._label=i,this._webWorkerFailedBeforeError=!1}create(i,t,o){const r=++g.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new u(i,r,this._label||"anonymous"+r,t,c=>{(0,v.logOnceWebWorkerWarning)(c),this._webWorkerFailedBeforeError=c,o(c)})}}e.DefaultWorkerFactory=g,g.LAST_WORKER_ID=0}),define(se[507],re([1,0,7,48,63,203,2,82,152]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const b=w.$;class u extends L.Disposable{constructor(n){super();this.parent=n,this.onKeyDown=i=>w.addDisposableListener(this.findInput.inputBox.inputElement,w.EventType.KEY_DOWN,t=>{i(new v.StandardKeyboardEvent(t))}),this.onMouseDown=i=>w.addDisposableListener(this.findInput.inputBox.inputElement,w.EventType.MOUSE_DOWN,t=>{i(new k.StandardMouseEvent(t))}),this.onDidChange=i=>this.findInput.onDidChange(i),this.container=w.append(this.parent,b(".quick-input-box")),this.findInput=this._register(new I.FindInput(this.container,void 0,!1,{label:""}))}get value(){return this.findInput.getValue()}set value(n){this.findInput.setValue(n)}select(n=null){this.findInput.inputBox.select(n)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(n){this.findInput.inputBox.setPlaceHolder(n)}get ariaLabel(){return this.findInput.inputBox.getAriaLabel()}set ariaLabel(n){this.findInput.inputBox.setAriaLabel(n)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(n){this.findInput.inputBox.inputElement.type=n?"password":"text"}setAttribute(n,i){this.findInput.inputBox.inputElement.setAttribute(n,i)}removeAttribute(n){this.findInput.inputBox.inputElement.removeAttribute(n)}showDecoration(n){n===_.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:n===_.default.Info?1:n===_.default.Warning?2:3,content:""})}stylesForType(n){return this.findInput.inputBox.stylesForType(n===_.default.Info?1:n===_.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}style(n){this.findInput.style(n)}}e.QuickInputBox=u}),define(se[271],re([1,0,7,146,152]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const k={},I=new v.IdGenerator("quick-input-button-icon-");function L(_){if(!_)return;let b;const u=_.dark.toString();return k[u]?b=k[u]:(b=I.nextId(),w.createCSSRule(`.${b}, .hc-light .${b}`,`background-image: ${w.asCSSUrl(_.light||_.dark)}`),w.createCSSRule(`.vs-dark .${b}, .hc-black .${b}`,`background-image: ${w.asCSSUrl(_.dark)}`),k[u]=b),b}e.getIconClass=L}),define(se[508],re([1,0,10,6,2,20]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=void 0;var L;(function(u){u[u.None=0]="None",u[u.Initialized=1]="Initialized",u[u.Closed=2]="Closed"})(L=e.StorageState||(e.StorageState={}));class _ extends k.Disposable{constructor(g,n=Object.create(null)){super();this.database=g,this.options=n,this._onDidChangeStorage=this._register(new v.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=L.None,this.cache=new Map,this.flushDelayer=new w.ThrottledDelayer(_.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(g=>this.onDidChangeItemsExternal(g)))}onDidChangeItemsExternal(g){var n,i;(n=g.changed)===null||n===void 0||n.forEach((t,o)=>this.accept(o,t)),(i=g.deleted)===null||i===void 0||i.forEach(t=>this.accept(t,void 0))}accept(g,n){if(this.state===L.Closed)return;let i=!1;(0,I.isUndefinedOrNull)(n)?i=this.cache.delete(g):this.cache.get(g)!==n&&(this.cache.set(g,n),i=!0),i&&this._onDidChangeStorage.fire(g)}get(g,n){const i=this.cache.get(g);return(0,I.isUndefinedOrNull)(i)?n:i}getBoolean(g,n){const i=this.get(g);return(0,I.isUndefinedOrNull)(i)?n:i==="true"}getNumber(g,n){const i=this.get(g);return(0,I.isUndefinedOrNull)(i)?n:parseInt(i,10)}set(g,n){return Se(this,void 0,void 0,function*(){if(this.state===L.Closed)return;if((0,I.isUndefinedOrNull)(n))return this.delete(g);const i=String(n);if(this.cache.get(g)!==i)return this.cache.set(g,i),this.pendingInserts.set(g,i),this.pendingDeletes.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}delete(g){return Se(this,void 0,void 0,function*(){if(!(this.state===L.Closed||!this.cache.delete(g)))return this.pendingDeletes.has(g)||this.pendingDeletes.add(g),this.pendingInserts.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Se(this,void 0,void 0,function*(){if(!this.hasPending)return;const g={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(g).finally(()=>{var n;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(n=this.whenFlushedCallbacks.pop())===null||n===void 0||n()})})}doFlush(g){return Se(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),g)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=_,_.DEFAULT_FLUSH_DELAY=100;class b{constructor(){this.onDidChangeItemsExternal=v.Event.None,this.items=new Map}updateItems(g){var n,i;return Se(this,void 0,void 0,function*(){(n=g.insert)===null||n===void 0||n.forEach((t,o)=>this.items.set(o,t)),(i=g.delete)===null||i===void 0||i.forEach(t=>this.items.delete(t))})}}e.InMemoryStorageDatabase=b}),define(se[272],re([1,0,2,6]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class k extends w.Disposable{constructor(L,_){super();this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=L,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,_)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,_){let b=0,u=0;_?(b=_.width,u=_.height):this._referenceDomElement&&(b=this._referenceDomElement.clientWidth,u=this._referenceDomElement.clientHeight),b=Math.max(5,b),u=Math.max(5,u),(this._width!==b||this._height!==u)&&(this._width=b,this._height=u,L&&this._onDidChange.fire())}}e.ElementSizeObserver=k}),define(se[273],re([1,0,6]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class v{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new w.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(I){this._tabFocus!==I&&(this._tabFocus=I,this._onDidChangeTabFocus.fire(this._tabFocus))}}e.TabFocus=new v}),define(se[204],re([1,0,41,7,91,48,10,6,2,99,8,235,23]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var t;(function(s){s.Tap="-monaco-textarea-synthetic-tap"})(t=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class o{constructor(){this._lastState=null}set(l,h){this._lastState={lastCopiedValue:l,data:h}}get(l){return this._lastState&&this._lastState.lastCopiedValue===l?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=o,o.INSTANCE=new o;class r{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(l){l=l||"";const h={text:l,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=l.length,h}}class c extends b.Disposable{constructor(l,h,p,S){super();this._host=l,this._textArea=h,this._OS=p,this._browser=S,this._onFocus=this._register(new _.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new _.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new _.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new _.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new _.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new _.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new _.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new _.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new _.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new _.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new _.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new L.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new L.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=n.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let f=null;this._register(this._textArea.onKeyDown(m=>{const C=new I.StandardKeyboardEvent(m);(C.keyCode===109||this._currentComposition&&C.keyCode===1)&&C.stopPropagation(),C.equals(9)&&C.preventDefault(),f=C,this._onKeyDown.fire(C)})),this._register(this._textArea.onKeyUp(m=>{const C=new I.StandardKeyboardEvent(m);this._onKeyUp.fire(C)})),this._register(this._textArea.onCompositionStart(m=>{n._debugComposition&&console.log("[compositionstart]",m);const C=new r;if(this._currentComposition){this._currentComposition=C;return}if(this._currentComposition=C,this._OS===2&&f&&f.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===m.data&&(f.code==="ArrowRight"||f.code==="ArrowLeft")){n._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",m),C.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:m.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:m.data});return}this._onCompositionStart.fire({data:m.data})})),this._register(this._textArea.onCompositionUpdate(m=>{n._debugComposition&&console.log("[compositionupdate]",m);const C=this._currentComposition;if(!C)return;if(this._browser.isAndroid){const E=n.TextAreaState.readFromTextArea(this._textArea),T=n.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(T),this._onCompositionUpdate.fire(m);return}const y=C.handleCompositionUpdate(m.data);this._textAreaState=n.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(y),this._onCompositionUpdate.fire(m)})),this._register(this._textArea.onCompositionEnd(m=>{n._debugComposition&&console.log("[compositionend]",m);const C=this._currentComposition;if(!C)return;if(this._currentComposition=null,this._browser.isAndroid){const E=n.TextAreaState.readFromTextArea(this._textArea),T=n.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(T),this._onCompositionEnd.fire();return}const y=C.handleCompositionUpdate(m.data);this._textAreaState=n.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(y),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(m=>{if(n._debugComposition&&console.log("[input]",m),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const C=n.TextAreaState.readFromTextArea(this._textArea),y=n.TextAreaState.deduceInput(this._textAreaState,C,this._OS===2);y.replacePrevCharCnt===0&&y.text.length===1&&g.isHighSurrogate(y.text.charCodeAt(0))||(this._textAreaState=C,(y.text!==""||y.replacePrevCharCnt!==0||y.replaceNextCharCnt!==0||y.positionDelta!==0)&&this._onType.fire(y))})),this._register(this._textArea.onCut(m=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(m),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(m=>{this._ensureClipboardGetsEditorSelection(m)})),this._register(this._textArea.onPaste(m=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),m.preventDefault(),!m.clipboardData)return;let[C,y]=d.getTextData(m.clipboardData);!C||(y=y||o.INSTANCE.get(C),this._onPaste.fire({text:C,metadata:y}))})),this._register(this._textArea.onFocus(()=>{const m=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!m&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let l=0;return v.addDisposableListener(document,"selectionchange",h=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const p=Date.now(),S=p-l;if(l=p,S<5)return;const f=p-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),f<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const m=this._textArea.getValue();if(this._textAreaState.value!==m)return;const C=this._textArea.getSelectionStart(),y=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===C&&this._textAreaState.selectionEnd===y)return;const E=this._textAreaState.deduceEditorPosition(C),T=this._host.deduceModelPosition(E[0],E[1],E[2]),N=this._textAreaState.deduceEditorPosition(y),F=this._host.deduceModelPosition(N[0],N[1],N[2]),O=new i.Selection(T.lineNumber,T.column,F.lineNumber,F.column);this._onSelectionChangeRequest.fire(O)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(l){this._hasFocus!==l&&(this._hasFocus=l,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(l,h){this._hasFocus||(h=h.collapseSelection()),h.writeToTextArea(l,this._textArea,this._hasFocus),this._textAreaState=h}writeScreenReaderContent(l){this._currentComposition||this._setAndWriteTextAreaState(l,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(l){const h=this._host.getDataToCopy(),p={version:1,isFromEmptySelection:h.isFromEmptySelection,multicursorText:h.multicursorText,mode:h.mode};o.INSTANCE.set(this._browser.isFirefox?h.text.replace(/\r\n/g,`
`):h.text,p),l.preventDefault(),l.clipboardData&&d.setTextData(l.clipboardData,h.text,h.html,p)}}e.TextAreaInput=c;class d{static getTextData(l){const h=l.getData(u.Mimes.text);let p=null;const S=l.getData("vscode-editor-data");if(typeof S=="string")try{p=JSON.parse(S),p.version!==1&&(p=null)}catch{}return h.length===0&&p===null&&l.files.length>0?[Array.prototype.slice.call(l.files,0).map(m=>m.name).join(`
`),null]:[h,p]}static setTextData(l,h,p,S){l.setData(u.Mimes.text,h),typeof p=="string"&&l.setData("text/html",p),l.setData("vscode-editor-data",JSON.stringify(S))}}class a extends b.Disposable{constructor(l){super();this._actual=l,this.onKeyDown=this._register(new k.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new k.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new k.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new k.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new k.DomEmitter(this._actual,"compositionend")).event,this.onInput=this._register(new k.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new k.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new k.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new k.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new k.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new k.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new _.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(v.addDisposableListener(this._actual,t.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const l=v.getShadowRoot(this._actual);return l?l.activeElement===this._actual:v.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(l){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(l,h){const p=this._actual;p.value!==h&&(this.setIgnoreSelectionChangeTime("setValue"),p.value=h)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(l,h,p){const S=this._actual;let f=null;const m=v.getShadowRoot(S);m?f=m.activeElement:f=document.activeElement;const C=f===S,y=S.selectionStart,E=S.selectionEnd;if(C&&y===h&&E===p){w.isFirefox&&window.parent!==window&&S.focus();return}if(C){this.setIgnoreSelectionChangeTime("setSelectionRange"),S.setSelectionRange(h,p),w.isFirefox&&window.parent!==window&&S.focus();return}try{const T=v.saveParentsScrollTop(S);this.setIgnoreSelectionChangeTime("setSelectionRange"),S.focus(),S.setSelectionRange(h,p),v.restoreParentsScrollTop(S,T)}catch{}}}e.TextAreaWrapper=a}),define(se[509],re([1,0,7,33,47]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class I{constructor(g,n){this._coordinateBrand=void 0,this.top=g,this.left=n}}class L extends k.ViewPart{constructor(g,n){super(g);this._viewDomNode=n,this._widgets={},this.domNode=(0,v.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,v.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].onConfigurationChanged(g);return!0}onDecorationsChanged(g){return!0}onFlushed(g){return!0}onLineMappingChanged(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].onLineMappingChanged(g);return!0}onLinesChanged(g){return!0}onLinesDeleted(g){return!0}onLinesInserted(g){return!0}onScrollChanged(g){return!0}onZonesChanged(g){return!0}addWidget(g){const n=new _(this._context,this._viewDomNode,g);this._widgets[n.id]=n,n.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n.domNode):this.domNode.appendChild(n.domNode),this.setShouldRender()}setWidgetPosition(g,n,i,t){this._widgets[g.getId()].setPosition(n,i,t),this.setShouldRender()}removeWidget(g){const n=g.getId();if(this._widgets.hasOwnProperty(n)){const i=this._widgets[n];delete this._widgets[n];const t=i.domNode.domNode;t.parentNode.removeChild(t),t.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(g){return this._widgets.hasOwnProperty(g)?this._widgets[g].suppressMouseDown:!1}onBeforeRender(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].onBeforeRender(g)}prepareRender(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].prepareRender(g)}render(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].render(g)}}e.ViewContentWidgets=L;class _{constructor(g,n,i){this._context=g,this._viewDomNode=n,this._actual=i,this.domNode=(0,v.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const t=this._context.configuration.options,o=t.get(133);this._fixedOverflowWidgets=t.get(37),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=t.get(60),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(g){const n=this._context.configuration.options;if(this._lineHeight=n.get(60),g.hasChanged(133)){const i=n.get(133);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(g){this._setPosition(this._range,this._affinity)}_setPosition(g,n){var i;if(this._range=g,this._viewRange=null,this._affinity=n,this._range){const t=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(t,(i=this._affinity)!==null&&i!==void 0?i:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(g,n,i){this._setPosition(g,i),this._preference=n,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(g,n,i,t,o){const r=g.top,c=r,d=n.top+this._lineHeight,a=o.viewportHeight-d,s=r-t,l=c>=t,h=d,p=a>=t;let S=g.left,f=n.left;return S+i>o.scrollLeft+o.viewportWidth&&(S=o.scrollLeft+o.viewportWidth-i),f+i>o.scrollLeft+o.viewportWidth&&(f=o.scrollLeft+o.viewportWidth-i),S<o.scrollLeft&&(S=o.scrollLeft),f<o.scrollLeft&&(f=o.scrollLeft),{fitsAbove:l,aboveTop:s,aboveLeft:S,fitsBelow:p,belowTop:h,belowLeft:f}}_layoutHorizontalSegmentInPage(g,n,i,t){const o=Math.max(0,n.left-t),r=Math.min(n.left+n.width+t,g.width);let c=n.left+i-window.scrollX;if(c+t>r){const d=c-(r-t);c-=d,i-=d}if(c<o){const d=c-o;c-=d,i-=d}return[i,c]}_layoutBoxInPage(g,n,i,t,o){const r=g.top-t,c=n.top+this._lineHeight,d=w.getDomNodePagePosition(this._viewDomNode.domNode),a=d.top+r-window.scrollY,s=d.top+c-window.scrollY,l=w.getClientArea(document.body),[h,p]=this._layoutHorizontalSegmentInPage(l,d,g.left-o.scrollLeft+this._contentLeft,i),[S,f]=this._layoutHorizontalSegmentInPage(l,d,n.left-o.scrollLeft+this._contentLeft,i),m=22,C=22,y=a>=m,E=s+t<=l.height-C;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(a,m),aboveLeft:p,fitsBelow:E,belowTop:s,belowLeft:f}:{fitsAbove:y,aboveTop:r,aboveLeft:h,fitsBelow:E,belowTop:c,belowLeft:S}}_prepareRenderWidgetAtExactPositionOverflowing(g){return new I(g.top,g.left+this._contentLeft)}_getTopAndBottomLeft(g){if(!this._viewRange)return[null,null];const n=g.linesVisibleRangesForRange(this._viewRange,!1);if(!n||n.length===0)return[null,null];let i=n[0],t=n[0];for(const l of n)l.lineNumber<i.lineNumber&&(i=l),l.lineNumber>t.lineNumber&&(t=l);let o=1073741824;for(const l of i.ranges)l.left<o&&(o=l.left);let r=1073741824;for(const l of t.ranges)l.left<r&&(r=l.left);const c=g.getVerticalOffsetForLineNumber(i.lineNumber)-g.scrollTop,d=new I(c,o),a=g.getVerticalOffsetForLineNumber(t.lineNumber)-g.scrollTop,s=new I(a,r);return[d,s]}_prepareRenderWidget(g){if(!this._preference||this._preference.length===0)return null;const[n,i]=this._getTopAndBottomLeft(g);if(!n||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=b(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{const c=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(c.width),this._cachedDomNodeOffsetHeight=Math.round(c.height)}}let t;this.allowEditorOverflow?t=this._layoutBoxInPage(n,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g):t=this._layoutBoxInViewport(n,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g);for(let o=1;o<=2;o++)for(const r of this._preference)if(r===1){if(!t)return null;if(o===2||t.fitsAbove)return{coordinate:new I(t.aboveTop,t.aboveLeft),position:1}}else if(r===2){if(!t)return null;if(o===2||t.fitsBelow)return{coordinate:new I(t.belowTop,t.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(n),position:0}:{coordinate:n,position:0};return null}onBeforeRender(g){!this._viewRange||!this._preference||this._viewRange.endLineNumber<g.startLineNumber||this._viewRange.startLineNumber>g.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(g){this._renderData=this._prepareRenderWidget(g)}render(g){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+g.scrollTop-g.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,this._renderData.position)}}function b(u,g,...n){try{return u.call(g,...n)}catch{return null}}}),define(se[274],re([1,0,97,6,2,35,3]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const _={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class b extends k.Disposable{constructor(g,n={}){super();this._onDidUpdate=this._register(new v.Emitter),this._editor=g,this._options=I.mixin(n,_,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(g){this.ranges=[],g&&g.forEach(n=>{!this._options.ignoreCharChanges&&n.charChanges?n.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new L.Range(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):n.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new L.Range(n.modifiedStartLineNumber,1,n.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new L.Range(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber+1,1)})}),this.ranges.sort((n,i)=>L.Range.compareRangesUsingStarts(n.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(g){let n=!1;const i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let t=0,o=this.ranges.length;t<o&&!n;t++){const r=this.ranges[t].range;i.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=t+(g?0:-1),n=!0)}n||(this.nextIdx=g?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(g,n){if(w.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(g):g?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const t=i.range.getStartPosition();this._editor.setPosition(t),this._editor.revealRangeInCenter(i.range,n)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(g=0){this._move(!0,g)}previous(g=0){this._move(!1,g)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=b}),define(se[165],re([1,0,6]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new w.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(v){v=Math.min(Math.max(-5,v),20),this._zoomLevel!==v&&(this._zoomLevel=v,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(se[92],re([1,0,8,18,123]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let I;function L(){return I||(I=new TextDecoder("UTF-16LE")),I}let _;function b(){return _||(_=new TextDecoder("UTF-16BE")),_}let u;function g(){return u||(u=v.isLittleEndian()?L():b()),u}e.getPlatformTextDecoder=g,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=r=>new t(r),e.decodeUTF16LE=n):(e.createStringBuilder=r=>new o,e.decodeUTF16LE=i);function n(r,c,d){const a=new Uint16Array(r.buffer,c,d);return d>0&&(a[0]===65279||a[0]===65534)?i(r,c,d):L().decode(a)}function i(r,c,d){const a=[];let s=0;for(let l=0;l<d;l++){const h=k.readUInt16LE(r,c);c+=2,a[s++]=String.fromCharCode(h)}return a.join("")}class t{constructor(c){this._capacity=c|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const c=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return g().decode(c)}_flushBuffer(){const c=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[c]:this._completedStrings[this._completedStrings.length]=c}write1(c){const d=this._capacity-this._bufferLength;d<=1&&(d===0||w.isHighSurrogate(c))&&this._flushBuffer(),this._buffer[this._bufferLength++]=c}appendASCII(c){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=c}appendASCIIString(c){const d=c.length;if(this._bufferLength+d>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=c;return}for(let a=0;a<d;a++)this._buffer[this._bufferLength++]=c.charCodeAt(a)}}class o{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(c){this._pieces[this._piecesLen++]=String.fromCharCode(c)}appendASCII(c){this._pieces[this._piecesLen++]=String.fromCharCode(c)}appendASCIIString(c){this._pieces[this._piecesLen++]=c}}}),define(se[510],re([1,0,92,8,66,101,246]),function(G,e,w,v,k,I,L){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const b=(_=window.trustedTypes)===null||_===void 0?void 0:_.createPolicy("domLineBreaksComputer",{createHTML:r=>r});class u{static create(){return new u}constructor(){}createLineBreaksComputer(c,d,a,s){const l=[],h=[];return{addRequest:(p,S,f)=>{l.push(p),h.push(S)},finalize:()=>g(l,c,d,a,s,h)}}}e.DOMLineBreaksComputerFactory=u;function g(r,c,d,a,s,l){var h;function p(V){const A=l[V];if(A){const Y=I.LineInjectedText.applyInjectedText(r[V],A),ee=A.map(j=>j.options),U=A.map(j=>j.column-1);return new L.ModelLineProjectionData(U,ee,[Y.length],[],0)}else return null}if(a===-1){const V=[];for(let A=0,Y=r.length;A<Y;A++)V[A]=p(A);return V}const S=Math.round(a*c.typicalHalfwidthCharacterWidth),m=Math.round(d*(s===3?2:s===2?1:0)),C=Math.ceil(c.spaceWidth*m),y=document.createElement("div");(0,k.applyFontInfo)(y,c);const E=(0,w.createStringBuilder)(1e4),T=[],N=[],F=[],O=[],P=[];for(let V=0;V<r.length;V++){const A=I.LineInjectedText.applyInjectedText(r[V],l[V]);let Y=0,ee=0,U=S;if(s!==0)if(Y=v.firstNonWhitespaceIndex(A),Y===-1)Y=0;else{for(let Q=0;Q<Y;Q++)ee+=A.charCodeAt(Q)===9?d-ee%d:1;const ie=Math.ceil(c.spaceWidth*ee);ie+c.typicalFullwidthCharacterWidth>S?(Y=0,ee=0):U=S-ie}const j=A.substr(Y),Z=n(j,ee,d,U,E,C);T[V]=Y,N[V]=ee,F[V]=j,O[V]=Z[0],P[V]=Z[1]}const D=E.build(),M=(h=b==null?void 0:b.createHTML(D))!==null&&h!==void 0?h:D;y.innerHTML=M,y.style.position="absolute",y.style.top="10000",y.style.wordWrap="break-word",document.body.appendChild(y);const R=document.createRange(),B=Array.prototype.slice.call(y.children,0),W=[];for(let V=0;V<r.length;V++){const A=B[V],Y=i(R,A,F[V],O[V]);if(Y===null){W[V]=p(V);continue}const ee=T[V],U=N[V]+m,j=P[V],Z=[];for(let de=0,x=Y.length;de<x;de++)Z[de]=j[Y[de]];if(ee!==0)for(let de=0,x=Y.length;de<x;de++)Y[de]+=ee;let ie,Q;const J=l[V];J?(ie=J.map(de=>de.options),Q=J.map(de=>de.column-1)):(ie=null,Q=null),W[V]=new L.ModelLineProjectionData(Q,ie,Y,Z,U)}return document.body.removeChild(y),W}function n(r,c,d,a,s,l){if(l!==0){const y=String(l);s.appendASCIIString('<div style="text-indent: -'),s.appendASCIIString(y),s.appendASCIIString("px; padding-left: "),s.appendASCIIString(y),s.appendASCIIString("px; box-sizing: border-box; width:")}else s.appendASCIIString('<div style="width:');s.appendASCIIString(String(a)),s.appendASCIIString('px;">');const h=r.length;let p=c,S=0;const f=[],m=[];let C=0<h?r.charCodeAt(0):0;s.appendASCIIString("<span>");for(let y=0;y<h;y++){y!==0&&y%16384==0&&s.appendASCIIString("</span><span>"),f[y]=S,m[y]=p;const E=C;C=y+1<h?r.charCodeAt(y+1):0;let T=1,N=1;switch(E){case 9:T=d-p%d,N=T;for(let F=1;F<=T;F++)F<T?s.write1(160):s.appendASCII(32);break;case 32:C===32?s.write1(160):s.appendASCII(32);break;case 60:s.appendASCIIString("&lt;");break;case 62:s.appendASCIIString("&gt;");break;case 38:s.appendASCIIString("&amp;");break;case 0:s.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:s.write1(65533);break;default:v.isFullWidthCharacter(E)&&N++,E<32?s.write1(9216+E):s.write1(E)}S+=T,p+=N}return s.appendASCIIString("</span>"),f[r.length]=S,m[r.length]=p,s.appendASCIIString("</div>"),[f,m]}function i(r,c,d,a){if(d.length<=1)return null;const s=Array.prototype.slice.call(c.children,0),l=[];try{t(r,s,a,0,null,d.length-1,null,l)}catch(h){return console.log(h),null}return l.length===0?null:(l.push(d.length),l)}function t(r,c,d,a,s,l,h,p){if(a===l||(s=s||o(r,c,d[a],d[a+1]),h=h||o(r,c,d[l],d[l+1]),Math.abs(s[0].top-h[0].top)<=.1))return;if(a+1===l){p.push(l);return}const S=a+(l-a)/2|0,f=o(r,c,d[S],d[S+1]);t(r,c,d,a,s,S,f,p),t(r,c,d,S,f,l,h,p)}function o(r,c,d,a){return r.setStart(c[d/16384|0].firstChild,d%16384),r.setEnd(c[a/16384|0].firstChild,a%16384),r.getClientRects()}}),define(se[205],re([1,0,33,92]),function(G,e,w,v){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class I{constructor(u){this._createLine=u,this._set(1,[])}flush(){this._set(1,[])}_set(u,g){this._lines=g,this._rendLineNumberStart=u}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(u){const g=u-this._rendLineNumberStart;if(g<0||g>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[g]}onLinesDeleted(u,g){if(this.getCount()===0)return null;const n=this.getStartLineNumber(),i=this.getEndLineNumber();if(g<n){const c=g-u+1;return this._rendLineNumberStart-=c,null}if(u>i)return null;let t=0,o=0;for(let c=n;c<=i;c++){const d=c-this._rendLineNumberStart;u<=c&&c<=g&&(o===0?(t=d,o=1):o++)}if(u<n){let c=0;g<n?c=g-u+1:c=n-u,this._rendLineNumberStart-=c}return this._lines.splice(t,o)}onLinesChanged(u,g){const n=u+g-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let o=!1;for(let r=u;r<=n;r++)r>=i&&r<=t&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(u,g){if(this.getCount()===0)return null;const n=g-u+1,i=this.getStartLineNumber(),t=this.getEndLineNumber();if(u<=i)return this._rendLineNumberStart+=n,null;if(u>t)return null;if(n+u>t)return this._lines.splice(u-this._rendLineNumberStart,t-u+1);const o=[];for(let s=0;s<n;s++)o[s]=this._createLine();const r=u-this._rendLineNumberStart,c=this._lines.slice(0,r),d=this._lines.slice(r,this._lines.length-n),a=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=c.concat(o).concat(d),a}onTokensChanged(u){if(this.getCount()===0)return!1;const g=this.getStartLineNumber(),n=this.getEndLineNumber();let i=!1;for(let t=0,o=u.length;t<o;t++){const r=u[t];if(r.toLineNumber<g||r.fromLineNumber>n)continue;const c=Math.max(g,r.fromLineNumber),d=Math.min(n,r.toLineNumber);for(let a=c;a<=d;a++){const s=a-this._rendLineNumberStart;this._lines[s].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=I;class L{constructor(u){this._host=u,this.domNode=this._createDomNode(),this._linesCollection=new I(()=>this._host.createVisibleLine())}_createDomNode(){const u=(0,w.createFastDomNode)(document.createElement("div"));return u.setClassName("view-layer"),u.setPosition("absolute"),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u}onConfigurationChanged(u){return!!u.hasChanged(133)}onFlushed(u){return this._linesCollection.flush(),!0}onLinesChanged(u){return this._linesCollection.onLinesChanged(u.fromLineNumber,u.count)}onLinesDeleted(u){const g=this._linesCollection.onLinesDeleted(u.fromLineNumber,u.toLineNumber);if(g)for(let n=0,i=g.length;n<i;n++){const t=g[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(u){const g=this._linesCollection.onLinesInserted(u.fromLineNumber,u.toLineNumber);if(g)for(let n=0,i=g.length;n<i;n++){const t=g[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(u){return u.scrollTopChanged}onTokensChanged(u){return this._linesCollection.onTokensChanged(u.ranges)}onZonesChanged(u){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(u){return this._linesCollection.getLine(u)}renderLines(u){const g=this._linesCollection._get(),n=new _(this.domNode.domNode,this._host,u),i={rendLineNumberStart:g.rendLineNumberStart,lines:g.lines,linesLength:g.lines.length},t=n.render(i,u.startLineNumber,u.endLineNumber,u.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=L;class _{constructor(u,g,n){this.domNode=u,this.host=g,this.viewportData=n}render(u,g,n,i){const t={rendLineNumberStart:u.rendLineNumberStart,lines:u.lines.slice(0),linesLength:u.linesLength};if(t.rendLineNumberStart+t.linesLength-1<g||n<t.rendLineNumberStart){t.rendLineNumberStart=g,t.linesLength=n-g+1,t.lines=[];for(let o=g;o<=n;o++)t.lines[o-g]=this.host.createVisibleLine();return this._finishRendering(t,!0,i),t}if(this._renderUntouchedLines(t,Math.max(g-t.rendLineNumberStart,0),Math.min(n-t.rendLineNumberStart,t.linesLength-1),i,g),t.rendLineNumberStart>g){const o=g,r=Math.min(n,t.rendLineNumberStart-1);o<=r&&(this._insertLinesBefore(t,o,r,i,g),t.linesLength+=r-o+1)}else if(t.rendLineNumberStart<g){const o=Math.min(t.linesLength,g-t.rendLineNumberStart);o>0&&(this._removeLinesBefore(t,o),t.linesLength-=o)}if(t.rendLineNumberStart=g,t.rendLineNumberStart+t.linesLength-1<n){const o=t.rendLineNumberStart+t.linesLength,r=n;o<=r&&(this._insertLinesAfter(t,o,r,i,g),t.linesLength+=r-o+1)}else if(t.rendLineNumberStart+t.linesLength-1>n){const o=Math.max(0,n-t.rendLineNumberStart+1),c=t.linesLength-1-o+1;c>0&&(this._removeLinesAfter(t,c),t.linesLength-=c)}return this._finishRendering(t,!1,i),t}_renderUntouchedLines(u,g,n,i,t){const o=u.rendLineNumberStart,r=u.lines;for(let c=g;c<=n;c++){const d=o+c;r[c].layoutLine(d,i[d-t])}}_insertLinesBefore(u,g,n,i,t){const o=[];let r=0;for(let c=g;c<=n;c++)o[r++]=this.host.createVisibleLine();u.lines=o.concat(u.lines)}_removeLinesBefore(u,g){for(let n=0;n<g;n++){const i=u.lines[n].getDomNode();i&&this.domNode.removeChild(i)}u.lines.splice(0,g)}_insertLinesAfter(u,g,n,i,t){const o=[];let r=0;for(let c=g;c<=n;c++)o[r++]=this.host.createVisibleLine();u.lines=u.lines.concat(o)}_removeLinesAfter(u,g){const n=u.linesLength-g;for(let i=0;i<g;i++){const t=u.lines[n+i].getDomNode();t&&this.domNode.removeChild(t)}u.lines.splice(n,g)}_finishRenderingNewLines(u,g,n,i){_._ttPolicy&&(n=_._ttPolicy.createHTML(n));const t=this.domNode.lastChild;g||!t?this.domNode.innerHTML=n:t.insertAdjacentHTML("afterend",n);let o=this.domNode.lastChild;for(let r=u.linesLength-1;r>=0;r--){const c=u.lines[r];i[r]&&(c.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(u,g,n){const i=document.createElement("div");_._ttPolicy&&(g=_._ttPolicy.createHTML(g)),i.innerHTML=g;for(let t=0;t<u.linesLength;t++){const o=u.lines[t];if(n[t]){const r=i.firstChild,c=o.getDomNode();c.parentNode.replaceChild(r,c),o.setDomNode(r)}}}_finishRendering(u,g,n){const i=_._sb,t=u.linesLength,o=u.lines,r=u.rendLineNumberStart,c=[];{i.reset();let d=!1;for(let a=0;a<t;a++){const s=o[a];c[a]=!1,!(s.getDomNode()||!s.renderLine(a+r,n[a],this.viewportData,i))&&(c[a]=!0,d=!0)}d&&this._finishRenderingNewLines(u,g,i.build(),c)}{i.reset();let d=!1;const a=[];for(let s=0;s<t;s++){const l=o[s];a[s]=!1,!(c[s]||!l.renderLine(s+r,n[s],this.viewportData,i))&&(a[s]=!0,d=!0)}d&&this._finishRenderingInvalidLines(u,i.build(),a)}}}_._ttPolicy=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("editorViewLayer",{createHTML:b=>b}),_._sb=(0,v.createStringBuilder)(1e5)}),define(se[511],re([1,0,33,66,205,47]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class L extends I.ViewPart{constructor(n){super(n);this._visibleLines=new k.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let n=0,i=this._dynamicOverlays.length;n<i;n++)if(this._dynamicOverlays[n].shouldRender())return!0;return!1}dispose(){super.dispose();for(let n=0,i=this._dynamicOverlays.length;n<i;n++)this._dynamicOverlays[n].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new _(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(n){this._dynamicOverlays.push(n)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n);const i=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=i;o<=t;o++)this._visibleLines.getVisibleLine(o).onConfigurationChanged(n);return!0}onFlushed(n){return this._visibleLines.onFlushed(n)}onFocusChanged(n){return this._isFocused=n.isFocused,!0}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onScrollChanged(n){return this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._visibleLines.onZonesChanged(n)}prepareRender(n){const i=this._dynamicOverlays.filter(t=>t.shouldRender());for(let t=0,o=i.length;t<o;t++){const r=i[t];r.prepareRender(n),r.onDidRender()}}render(n){this._viewOverlaysRender(n),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(n){this._visibleLines.renderLines(n.viewportData)}}e.ViewOverlays=L;class _{constructor(n,i){this._configuration=n,this._lineHeight=this._configuration.options.get(60),this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(n){this._domNode=(0,w.createFastDomNode)(n)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(n){this._lineHeight=this._configuration.options.get(60)}renderLine(n,i,t,o){let r="";for(let c=0,d=this._dynamicOverlays.length;c<d;c++)r+=this._dynamicOverlays[c].render(t.startLineNumber,n);return this._renderedContent===r?!1:(this._renderedContent=r,o.appendASCIIString('<div style="position:absolute;top:'),o.appendASCIIString(String(i)),o.appendASCIIString("px;width:100%;height:"),o.appendASCIIString(String(this._lineHeight)),o.appendASCIIString('px;">'),o.appendASCIIString(r),o.appendASCIIString("</div>"),!0)}layoutLine(n,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=_;class b extends L{constructor(n){super(n);const t=this._context.configuration.options.get(133);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(n){const t=this._context.configuration.options.get(133);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(n)||!0}onScrollChanged(n){return super.onScrollChanged(n)||n.scrollWidthChanged}_viewOverlaysRender(n){super._viewOverlaysRender(n),this.domNode.setWidth(Math.max(n.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=b;class u extends L{constructor(n){super(n);const i=this._context.configuration.options,t=i.get(133);this._contentLeft=t.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,v.applyFontInfo)(this.domNode,i.get(45))}onConfigurationChanged(n){const i=this._context.configuration.options;(0,v.applyFontInfo)(this.domNode,i.get(45));const t=i.get(133);return this._contentLeft=t.contentLeft,super.onConfigurationChanged(n)||!0}onScrollChanged(n){return super.onScrollChanged(n)||n.scrollHeightChanged}_viewOverlaysRender(n){super._viewOverlaysRender(n);const i=Math.min(n.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=u}),define(se[275],re([1,0,123,92]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function k(b){return b.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class I{constructor(u,g,n,i){this.oldPosition=u,this.oldText=g,this.newPosition=n,this.newText=i}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${k(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${k(this.oldText)}")`:`(replace@${this.oldPosition} "${k(this.oldText)}" with "${k(this.newText)}")`}static _writeStringSize(u){return 4+2*u.length}static _writeString(u,g,n){const i=g.length;w.writeUInt32BE(u,i,n),n+=4;for(let t=0;t<i;t++)w.writeUInt16LE(u,g.charCodeAt(t),n),n+=2;return n}static _readString(u,g){const n=w.readUInt32BE(u,g);return g+=4,(0,v.decodeUTF16LE)(u,g,n)}writeSize(){return 4+4+I._writeStringSize(this.oldText)+I._writeStringSize(this.newText)}write(u,g){return w.writeUInt32BE(u,this.oldPosition,g),g+=4,w.writeUInt32BE(u,this.newPosition,g),g+=4,g=I._writeString(u,this.oldText,g),g=I._writeString(u,this.newText,g),g}static read(u,g,n){const i=w.readUInt32BE(u,g);g+=4;const t=w.readUInt32BE(u,g);g+=4;const o=I._readString(u,g);g+=I._writeStringSize(o);const r=I._readString(u,g);return g+=I._writeStringSize(r),n.push(new I(i,o,t,r)),g}}e.TextChange=I;function L(b,u){return b===null||b.length===0?u:new _(b,u).compress()}e.compressConsecutiveTextChanges=L;class _{constructor(u,g){this._prevEdits=u,this._currEdits=g,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let u=0,g=0,n=this._getPrev(u),i=this._getCurr(g);for(;u<this._prevLen||g<this._currLen;){if(n===null){this._acceptCurr(i),i=this._getCurr(++g);continue}if(i===null){this._acceptPrev(n),n=this._getPrev(++u);continue}if(i.oldEnd<=n.newPosition){this._acceptCurr(i),i=this._getCurr(++g);continue}if(n.newEnd<=i.oldPosition){this._acceptPrev(n),n=this._getPrev(++u);continue}if(i.oldPosition<n.newPosition){const[d,a]=_._splitCurr(i,n.newPosition-i.oldPosition);this._acceptCurr(d),i=a;continue}if(n.newPosition<i.oldPosition){const[d,a]=_._splitPrev(n,i.oldPosition-n.newPosition);this._acceptPrev(d),n=a;continue}let r,c;if(i.oldEnd===n.newEnd)r=n,c=i,n=this._getPrev(++u),i=this._getCurr(++g);else if(i.oldEnd<n.newEnd){const[d,a]=_._splitPrev(n,i.oldLength);r=d,c=i,n=a,i=this._getCurr(++g)}else{const[d,a]=_._splitCurr(i,n.newLength);r=n,c=d,n=this._getPrev(++u),i=a}this._result[this._resultLen++]=new I(r.oldPosition,r.oldText,c.newPosition,c.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=c.newLength-c.oldLength}const t=_._merge(this._result);return _._removeNoOps(t)}_acceptCurr(u){this._result[this._resultLen++]=_._rebaseCurr(this._prevDeltaOffset,u),this._currDeltaOffset+=u.newLength-u.oldLength}_getCurr(u){return u<this._currLen?this._currEdits[u]:null}_acceptPrev(u){this._result[this._resultLen++]=_._rebasePrev(this._currDeltaOffset,u),this._prevDeltaOffset+=u.newLength-u.oldLength}_getPrev(u){return u<this._prevLen?this._prevEdits[u]:null}static _rebaseCurr(u,g){return new I(g.oldPosition-u,g.oldText,g.newPosition,g.newText)}static _rebasePrev(u,g){return new I(g.oldPosition,g.oldText,g.newPosition+u,g.newText)}static _splitPrev(u,g){const n=u.newText.substr(0,g),i=u.newText.substr(g);return[new I(u.oldPosition,u.oldText,u.newPosition,n),new I(u.oldEnd,"",u.newPosition+g,i)]}static _splitCurr(u,g){const n=u.oldText.substr(0,g),i=u.oldText.substr(g);return[new I(u.oldPosition,n,u.newPosition,u.newText),new I(u.oldPosition+g,i,u.newEnd,"")]}static _merge(u){if(u.length===0)return u;const g=[];let n=0,i=u[0];for(let t=1;t<u.length;t++){const o=u[t];i.oldEnd===o.oldPosition?i=new I(i.oldPosition,i.oldText+o.oldText,i.newPosition,i.newText+o.newText):(g[n++]=i,i=o)}return g[n++]=i,g}static _removeNoOps(u){if(u.length===0)return u;const g=[];let n=0;for(let i=0;i<u.length;i++){const t=u[i];t.oldText!==t.newText&&(g[n++]=t)}return g}}}),define(se[512],re([1,0,258,90]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function k(I,L,_,b,u,g){if(Array.isArray(I)){let n=0;for(const i of I){const t=k(i,L,_,b,u,g);if(t===10)return t;t>n&&(n=t)}return n}else{if(typeof I=="string")return b?I==="*"?5:I===_?10:0:0;if(I){const{language:n,pattern:i,scheme:t,hasAccessToAllModels:o,notebookType:r}=I;if(!b&&!o)return 0;r&&u&&(L=u);let c=0;if(t)if(t===L.scheme)c=10;else if(t==="*")c=5;else return 0;if(n)if(n===_)c=10;else if(n==="*")c=Math.max(c,5);else return 0;if(r)if(r===g)c=10;else if(r==="*"&&g!==void 0)c=Math.max(c,5);else return 0;if(i){let d;if(typeof i=="string"?d=i:d=Object.assign(Object.assign({},i),{base:(0,v.normalize)(i.base)}),d===L.fsPath||(0,w.match)(d,L.fsPath))c=10;else return 0}return c}else return 0}}e.score=k}),define(se[513],re([1,0,6,2,46,512]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function L(u){return typeof u=="string"?!1:Array.isArray(u)?u.every(L):!!u.exclusive}class _{constructor(g,n,i,t){this.uri=g,this.languageId=n,this.notebookUri=i,this.notebookType=t}equals(g){var n,i;return this.notebookType===g.notebookType&&this.languageId===g.languageId&&this.uri.toString()===g.uri.toString()&&((n=this.notebookUri)===null||n===void 0?void 0:n.toString())===((i=g.notebookUri)===null||i===void 0?void 0:i.toString())}}class b{constructor(g){this._notebookInfoResolver=g,this._clock=0,this._entries=[],this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event}register(g,n){let i={selector:g,provider:n,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,v.toDisposable)(()=>{if(i){const t=this._entries.indexOf(i);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(g){return this.all(g).length>0}all(g){if(!g)return[];this._updateScores(g);const n=[];for(const i of this._entries)i._score>0&&n.push(i.provider);return n}ordered(g){const n=[];return this._orderedForEach(g,i=>n.push(i.provider)),n}orderedGroups(g){const n=[];let i,t;return this._orderedForEach(g,o=>{i&&t===o._score?i.push(o.provider):(t=o._score,i=[o.provider],n.push(i))}),n}_orderedForEach(g,n){this._updateScores(g);for(const i of this._entries)i._score>0&&n(i)}_updateScores(g){var n,i;const t=(n=this._notebookInfoResolver)===null||n===void 0?void 0:n.call(this,g.uri),o=t?new _(g.uri,g.getLanguageId(),t.uri,t.type):new _(g.uri,g.getLanguageId(),void 0,void 0);if(!((i=this._lastCandidate)===null||i===void 0?void 0:i.equals(o))){this._lastCandidate=o;for(const r of this._entries)if(r._score=(0,I.score)(r.selector,o.uri,o.languageId,(0,k.shouldSynchronizeModel)(g),o.notebookUri,o.notebookType),L(r.selector)&&r._score>0){for(const c of this._entries)c._score=0;r._score=1e3;break}this._entries.sort(b._compareByScoreAndTime)}}static _compareByScoreAndTime(g,n){return g._score<n._score?1:g._score>n._score?-1:g._time<n._time?1:g._time>n._time?-1:0}}e.LanguageFeatureRegistry=b}),define(se[206],re([1,0,8,92,3]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class I{constructor(l,h,p,S,f,m){this._richEditBracketBrand=void 0,this.languageId=l,this.index=h,this.open=p,this.close=S,this.forwardRegex=f,this.reversedRegex=m,this._openSet=I._toSet(this.open),this._closeSet=I._toSet(this.close)}isOpen(l){return this._openSet.has(l)}isClose(l){return this._closeSet.has(l)}static _toSet(l){const h=new Set;for(const p of l)h.add(p);return h}}e.RichEditBracket=I;function L(s){const l=s.length;s=s.map(m=>[m[0].toLowerCase(),m[1].toLowerCase()]);const h=[];for(let m=0;m<l;m++)h[m]=m;const p=(m,C)=>{const[y,E]=m,[T,N]=C;return y===T||y===N||E===T||E===N},S=(m,C)=>{const y=Math.min(m,C),E=Math.max(m,C);for(let T=0;T<l;T++)h[T]===E&&(h[T]=y)};for(let m=0;m<l;m++){const C=s[m];for(let y=m+1;y<l;y++){const E=s[y];p(C,E)&&S(h[m],h[y])}}const f=[];for(let m=0;m<l;m++){const C=[],y=[];for(let E=0;E<l;E++)if(h[E]===m){const[T,N]=s[E];C.push(T),y.push(N)}C.length>0&&f.push({open:C,close:y})}return f}class _{constructor(l,h){this._richEditBracketsBrand=void 0;const p=L(h);this.brackets=p.map((S,f)=>new I(l,f,S.open,S.close,n(S.open,S.close,p,f),i(S.open,S.close,p,f))),this.forwardRegex=t(this.brackets),this.reversedRegex=o(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const S of this.brackets){for(const f of S.open)this.textIsBracket[f]=S,this.textIsOpenBracket[f]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,f.length);for(const f of S.close)this.textIsBracket[f]=S,this.textIsOpenBracket[f]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,f.length)}}}e.RichEditBrackets=_;function b(s,l,h,p){for(let S=0,f=l.length;S<f;S++){if(S===h)continue;const m=l[S];for(const C of m.open)C.indexOf(s)>=0&&p.push(C);for(const C of m.close)C.indexOf(s)>=0&&p.push(C)}}function u(s,l){return s.length-l.length}function g(s){if(s.length<=1)return s;const l=[],h=new Set;for(const p of s)h.has(p)||(l.push(p),h.add(p));return l}function n(s,l,h,p){let S=[];S=S.concat(s),S=S.concat(l);for(let f=0,m=S.length;f<m;f++)b(S[f],h,p,S);return S=g(S),S.sort(u),S.reverse(),c(S)}function i(s,l,h,p){let S=[];S=S.concat(s),S=S.concat(l);for(let f=0,m=S.length;f<m;f++)b(S[f],h,p,S);return S=g(S),S.sort(u),S.reverse(),c(S.map(d))}function t(s){let l=[];for(const h of s){for(const p of h.open)l.push(p);for(const p of h.close)l.push(p)}return l=g(l),c(l)}function o(s){let l=[];for(const h of s){for(const p of h.open)l.push(p);for(const p of h.close)l.push(p)}return l=g(l),c(l.map(d))}function r(s){const l=/^[\w ]+$/.test(s);return s=w.escapeRegExpCharacters(s),l?`\\b${s}\\b`:s}function c(s){const l=`(${s.map(r).join(")|(")})`;return w.createRegExp(l,!0)}const d=function(){function s(p){if(v.hasTextDecoder){const S=new Uint16Array(p.length);let f=0;for(let m=p.length-1;m>=0;m--)S[f++]=p.charCodeAt(m);return v.getPlatformTextDecoder().decode(S)}else{const S=[];let f=0;for(let m=p.length-1;m>=0;m--)S[f++]=p.charAt(m);return S.join("")}}let l=null,h=null;return function(S){return l!==S&&(l=S,h=s(l)),h}}();class a{static _findPrevBracketInText(l,h,p,S){const f=p.match(l);if(!f)return null;const m=p.length-(f.index||0),C=f[0].length,y=S+m;return new k.Range(h,y-C+1,h,y+1)}static findPrevBracketInRange(l,h,p,S,f){const C=d(p).substring(p.length-f,p.length-S);return this._findPrevBracketInText(l,h,C,S)}static findNextBracketInText(l,h,p,S){const f=p.match(l);if(!f)return null;const m=f.index||0,C=f[0].length;if(C===0)return null;const y=S+m;return new k.Range(h,y+1,h,y+1+C)}static findNextBracketInRange(l,h,p,S,f){const m=p.substring(S,f);return this.findNextBracketInText(l,h,m,S)}}e.BracketsUtils=a}),define(se[514],re([1,0,17,111,206]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class I{constructor(_){this._richEditBrackets=_}getElectricCharacters(){const _=[];if(this._richEditBrackets)for(const b of this._richEditBrackets.brackets)for(const u of b.close){const g=u.charAt(u.length-1);_.push(g)}return(0,w.distinct)(_)}onElectricCharacter(_,b,u){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const g=b.findTokenIndexAtOffset(u-1);if((0,v.ignoreBracketsInToken)(b.getStandardTokenType(g)))return null;const n=this._richEditBrackets.reversedRegex,i=b.getLineContent().substring(0,u-1)+_,t=k.BracketsUtils.findPrevBracketInRange(n,1,i,0,i.length);if(!t)return null;const o=i.substring(t.startColumn-1,t.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[o])return null;const c=b.getActualLineContentBefore(t.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:o}:null}}e.BracketElectricCharacterSupport=I}),define(se[515],re([1,0,6,2,3,437,240,242,87,241,112,186,17]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class t extends v.Disposable{constructor(l,h){super();if(this.textModel=l,this.getLanguageConfiguration=h,this.didChangeEmitter=new w.Emitter,this.denseKeyProvider=new g.DenseKeyProvider,this.brackets=new _.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,l.tokenization.backgroundTokenizationState===0){const p=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),S=new n.FastTokenizer(this.textModel.getValue(),p);this.initialAstWithoutTokens=(0,u.parseDocument)(S,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else l.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):l.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(l){return this.brackets.didLanguageChange(l)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const l=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,l||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:l}){const h=l.map(p=>new L.TextEditInfo((0,b.toLength)(p.fromLineNumber-1,0),(0,b.toLength)(p.toLineNumber,0),(0,b.toLength)(p.toLineNumber-p.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(h,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(l){const h=l.changes.map(p=>{const S=k.Range.lift(p.range);return new L.TextEditInfo((0,b.positionToLength)(S.getStartPosition()),(0,b.positionToLength)(S.getEndPosition()),(0,b.lengthOfString)(p.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(h,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(h,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(l,h,p){const f=!1?h==null?void 0:h.deepClone():h,m=new n.TextBufferTokenizer(this.textModel,this.brackets);return(0,u.parseDocument)(m,l,f,p)}getBracketsInRange(l){const h=(0,b.toLength)(l.startLineNumber-1,l.startColumn-1),p=(0,b.toLength)(l.endLineNumber-1,l.endColumn-1);return new i.CallbackIterable(S=>{const f=this.initialAstWithoutTokens||this.astWithTokens;c(f,b.lengthZero,f.length,h,p,S,0,new Map)})}getBracketPairsInRange(l,h){const p=(0,b.positionToLength)(l.getStartPosition()),S=(0,b.positionToLength)(l.getEndPosition());return new i.CallbackIterable(f=>{const m=this.initialAstWithoutTokens||this.astWithTokens,C=new d(f,h,this.textModel);a(m,b.lengthZero,m.length,p,S,C,0,new Map)})}getFirstBracketAfter(l){const h=this.initialAstWithoutTokens||this.astWithTokens;return r(h,b.lengthZero,h.length,(0,b.positionToLength)(l))}getFirstBracketBefore(l){const h=this.initialAstWithoutTokens||this.astWithTokens;return o(h,b.lengthZero,h.length,(0,b.positionToLength)(l))}}e.BracketPairsTree=t;function o(s,l,h,p){if(s.kind===4||s.kind===2){const S=[];for(const f of s.children)h=(0,b.lengthAdd)(l,f.length),S.push({nodeOffsetStart:l,nodeOffsetEnd:h}),l=h;for(let f=S.length-1;f>=0;f--){const{nodeOffsetStart:m,nodeOffsetEnd:C}=S[f];if((0,b.lengthLessThan)(m,p)){const y=o(s.children[f],m,C,p);if(y)return y}}return null}else{if(s.kind===3)return null;if(s.kind===1){const S=(0,b.lengthsToRange)(l,h);return{bracketInfo:s.bracketInfo,range:S}}}return null}function r(s,l,h,p){if(s.kind===4||s.kind===2){for(const S of s.children){if(h=(0,b.lengthAdd)(l,S.length),(0,b.lengthLessThan)(p,h)){const f=r(S,l,h,p);if(f)return f}l=h}return null}else{if(s.kind===3)return null;if(s.kind===1){const S=(0,b.lengthsToRange)(l,h);return{bracketInfo:s.bracketInfo,range:S}}}return null}function c(s,l,h,p,S,f,m,C){if(m>200)return!0;e:for(;;)switch(s.kind){case 4:{const y=s.childrenLength;for(let E=0;E<y;E++){const T=s.getChild(E);if(!!T){if(h=(0,b.lengthAdd)(l,T.length),(0,b.lengthLessThanEqual)(l,S)&&(0,b.lengthGreaterThanEqual)(h,p)){if((0,b.lengthGreaterThanEqual)(h,S)){s=T;continue e}if(!c(T,l,h,p,S,f,m,C))return!1}l=h}}return!0}case 2:{let y=0;if(C){let T=C.get(s.openingBracket.text);T===void 0&&(T=0),y=T,T++,C.set(s.openingBracket.text,T)}const E=s.childrenLength;for(let T=0;T<E;T++){const N=s.getChild(T);if(!!N){if(h=(0,b.lengthAdd)(l,N.length),(0,b.lengthLessThanEqual)(l,S)&&(0,b.lengthGreaterThanEqual)(h,p)){if((0,b.lengthGreaterThanEqual)(h,S)){s=N,m++;continue e}if(!c(N,l,h,p,S,f,m+1,C))return!1}l=h}}return C==null||C.set(s.openingBracket.text,y),!0}case 3:{const y=(0,b.lengthsToRange)(l,h);return f(new I.BracketInfo(y,m-1,0,!0))}case 1:{const y=(0,b.lengthsToRange)(l,h);return f(new I.BracketInfo(y,m-1,0,!1))}case 0:return!0}}class d{constructor(l,h,p){this.push=l,this.includeMinIndentation=h,this.textModel=p}}function a(s,l,h,p,S,f,m,C){var y;if(m>200)return!0;let E=!0;if(s.kind===2){let T=0;if(C){let O=C.get(s.openingBracket.text);O===void 0&&(O=0),T=O,O++,C.set(s.openingBracket.text,O)}const N=(0,b.lengthAdd)(l,s.openingBracket.length);let F=-1;if(f.includeMinIndentation&&(F=s.computeMinIndentation(l,f.textModel)),E=f.push(new I.BracketPairWithMinIndentationInfo((0,b.lengthsToRange)(l,h),(0,b.lengthsToRange)(l,N),s.closingBracket?(0,b.lengthsToRange)((0,b.lengthAdd)(N,((y=s.child)===null||y===void 0?void 0:y.length)||b.lengthZero),h):void 0,m,T,s,F)),l=N,E&&s.child){const O=s.child;if(h=(0,b.lengthAdd)(l,O.length),(0,b.lengthLessThanEqual)(l,S)&&(0,b.lengthGreaterThanEqual)(h,p)&&(E=a(O,l,h,p,S,f,m+1,C),!E))return!1}C==null||C.set(s.openingBracket.text,T)}else{let T=l;for(const N of s.children){const F=T;if(T=(0,b.lengthAdd)(T,N.length),(0,b.lengthLessThanEqual)(F,S)&&(0,b.lengthLessThanEqual)(p,T)&&(E=a(N,F,T,p,S,f,m,C),!E))return!1}}return E}}),define(se[516],re([1,0,17,6,2,3,111,206,515]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class u extends k.Disposable{constructor(r,c){super();this.textModel=r,this.languageConfigurationService=c,this.bracketPairsTree=this._register(new k.MutableDisposable),this.onDidChangeEmitter=new v.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(d=>{var a;(!d.languageId||((a=this.bracketPairsTree.value)===null||a===void 0?void 0:a.object.didLanguageChange(d.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){const r=5e4*100;return this.textModel.getValueLength()<=r}handleDidChangeOptions(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(r){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleContentChanged(r)}handleDidChangeBackgroundTokenizationState(){var r;(r=this.bracketPairsTree.value)===null||r===void 0||r.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(r){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleDidChangeTokens(r)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const r=new k.DisposableStore;this.bracketPairsTree.value=g(r.add(new b.BracketPairsTree(this.textModel,c=>this.languageConfigurationService.getLanguageConfiguration(c))),r),r.add(this.bracketPairsTree.value.object.onDidChange(c=>this.onDidChangeEmitter.fire(c))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(r){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(r,!1))||w.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(r){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(r,!0))||w.CallbackIterable.empty}getBracketsInRange(r){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketsInRange(r))||w.CallbackIterable.empty}findMatchingBracketUp(r,c,d){const a=this.textModel.validatePosition(c),s=this.textModel.getLanguageIdAtPosition(a.lineNumber,a.column);if(this.canBuildAST){const l=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(r);if(!l)return null;const h=this.getBracketPairsInRange(I.Range.fromPositions(c,c)).findLast(p=>l.closes(p.openingBracketInfo));return h?h.openingBracketRange:null}else{const l=r.toLowerCase(),h=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!h)return null;const p=h.textIsBracket[l];return p?t(this._findMatchingBracketUp(p,a,n(d))):null}}matchBracket(r,c){if(this.canBuildAST){const d=this.getBracketPairsInRange(I.Range.fromPositions(r,r)).filter(a=>a.closingBracketRange!==void 0&&(a.openingBracketRange.containsPosition(r)||a.closingBracketRange.containsPosition(r))).findLastMaxBy((0,w.compareBy)(a=>a.openingBracketRange.containsPosition(r)?a.openingBracketRange:a.closingBracketRange,I.Range.compareRangesUsingStarts));return d?[d.openingBracketRange,d.closingBracketRange]:null}else{const d=n(c);return this._matchBracket(this.textModel.validatePosition(r),d)}}_establishBracketSearchOffsets(r,c,d,a){const s=c.getCount(),l=c.getLanguageId(a);let h=Math.max(0,r.column-1-d.maxBracketLength);for(let S=a-1;S>=0;S--){const f=c.getEndOffset(S);if(f<=h)break;if((0,L.ignoreBracketsInToken)(c.getStandardTokenType(S))||c.getLanguageId(S)!==l){h=f;break}}let p=Math.min(c.getLineContent().length,r.column-1+d.maxBracketLength);for(let S=a+1;S<s;S++){const f=c.getStartOffset(S);if(f>=p)break;if((0,L.ignoreBracketsInToken)(c.getStandardTokenType(S))||c.getLanguageId(S)!==l){p=f;break}}return{searchStartOffset:h,searchEndOffset:p}}_matchBracket(r,c){const d=r.lineNumber,a=this.textModel.tokenization.getLineTokens(d),s=this.textModel.getLineContent(d),l=a.findTokenIndexAtOffset(r.column-1);if(l<0)return null;const h=this.languageConfigurationService.getLanguageConfiguration(a.getLanguageId(l)).brackets;if(h&&!(0,L.ignoreBracketsInToken)(a.getStandardTokenType(l))){let{searchStartOffset:p,searchEndOffset:S}=this._establishBracketSearchOffsets(r,a,h,l),f=null;for(;;){const m=_.BracketsUtils.findNextBracketInRange(h.forwardRegex,d,s,p,S);if(!m)break;if(m.startColumn<=r.column&&r.column<=m.endColumn){const C=s.substring(m.startColumn-1,m.endColumn-1).toLowerCase(),y=this._matchFoundBracket(m,h.textIsBracket[C],h.textIsOpenBracket[C],c);if(y){if(y instanceof i)return null;f=y}}p=m.endColumn-1}if(f)return f}if(l>0&&a.getStartOffset(l)===r.column-1){const p=l-1,S=this.languageConfigurationService.getLanguageConfiguration(a.getLanguageId(p)).brackets;if(S&&!(0,L.ignoreBracketsInToken)(a.getStandardTokenType(p))){const{searchStartOffset:f,searchEndOffset:m}=this._establishBracketSearchOffsets(r,a,S,p),C=_.BracketsUtils.findPrevBracketInRange(S.reversedRegex,d,s,f,m);if(C&&C.startColumn<=r.column&&r.column<=C.endColumn){const y=s.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),E=this._matchFoundBracket(C,S.textIsBracket[y],S.textIsOpenBracket[y],c);if(E)return E instanceof i?null:E}}}return null}_matchFoundBracket(r,c,d,a){if(!c)return null;const s=d?this._findMatchingBracketDown(c,r.getEndPosition(),a):this._findMatchingBracketUp(c,r.getStartPosition(),a);return s?s instanceof i?s:[r,s]:null}_findMatchingBracketUp(r,c,d){const a=r.languageId,s=r.reversedRegex;let l=-1,h=0;const p=(S,f,m,C)=>{for(;;){if(d&&++h%100==0&&!d())return i.INSTANCE;const y=_.BracketsUtils.findPrevBracketInRange(s,S,f,m,C);if(!y)break;const E=f.substring(y.startColumn-1,y.endColumn-1).toLowerCase();if(r.isOpen(E)?l++:r.isClose(E)&&l--,l===0)return y;C=y.startColumn-1}return null};for(let S=c.lineNumber;S>=1;S--){const f=this.textModel.tokenization.getLineTokens(S),m=f.getCount(),C=this.textModel.getLineContent(S);let y=m-1,E=C.length,T=C.length;S===c.lineNumber&&(y=f.findTokenIndexAtOffset(c.column-1),E=c.column-1,T=c.column-1);let N=!0;for(;y>=0;y--){const F=f.getLanguageId(y)===a&&!(0,L.ignoreBracketsInToken)(f.getStandardTokenType(y));if(F)N?E=f.getStartOffset(y):(E=f.getStartOffset(y),T=f.getEndOffset(y));else if(N&&E!==T){const O=p(S,C,E,T);if(O)return O}N=F}if(N&&E!==T){const F=p(S,C,E,T);if(F)return F}}return null}_findMatchingBracketDown(r,c,d){const a=r.languageId,s=r.forwardRegex;let l=1,h=0;const p=(f,m,C,y)=>{for(;;){if(d&&++h%100==0&&!d())return i.INSTANCE;const E=_.BracketsUtils.findNextBracketInRange(s,f,m,C,y);if(!E)break;const T=m.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(r.isOpen(T)?l++:r.isClose(T)&&l--,l===0)return E;C=E.endColumn-1}return null},S=this.textModel.getLineCount();for(let f=c.lineNumber;f<=S;f++){const m=this.textModel.tokenization.getLineTokens(f),C=m.getCount(),y=this.textModel.getLineContent(f);let E=0,T=0,N=0;f===c.lineNumber&&(E=m.findTokenIndexAtOffset(c.column-1),T=c.column-1,N=c.column-1);let F=!0;for(;E<C;E++){const O=m.getLanguageId(E)===a&&!(0,L.ignoreBracketsInToken)(m.getStandardTokenType(E));if(O)F||(T=m.getStartOffset(E)),N=m.getEndOffset(E);else if(F&&T!==N){const P=p(f,y,T,N);if(P)return P}F=O}if(F&&T!==N){const O=p(f,y,T,N);if(O)return O}}return null}findPrevBracket(r){var c;const d=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketBefore(d))||null;let a=null,s=null,l=null;for(let h=d.lineNumber;h>=1;h--){const p=this.textModel.tokenization.getLineTokens(h),S=p.getCount(),f=this.textModel.getLineContent(h);let m=S-1,C=f.length,y=f.length;if(h===d.lineNumber){m=p.findTokenIndexAtOffset(d.column-1),C=d.column-1,y=d.column-1;const T=p.getLanguageId(m);a!==T&&(a=T,s=this.languageConfigurationService.getLanguageConfiguration(a).brackets,l=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew)}let E=!0;for(;m>=0;m--){const T=p.getLanguageId(m);if(a!==T){if(s&&l&&E&&C!==y){const F=_.BracketsUtils.findPrevBracketInRange(s.reversedRegex,h,f,C,y);if(F)return this._toFoundBracket(l,F);E=!1}a=T,s=this.languageConfigurationService.getLanguageConfiguration(a).brackets,l=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew}const N=!!s&&!(0,L.ignoreBracketsInToken)(p.getStandardTokenType(m));if(N)E?C=p.getStartOffset(m):(C=p.getStartOffset(m),y=p.getEndOffset(m));else if(l&&s&&E&&C!==y){const F=_.BracketsUtils.findPrevBracketInRange(s.reversedRegex,h,f,C,y);if(F)return this._toFoundBracket(l,F)}E=N}if(l&&s&&E&&C!==y){const T=_.BracketsUtils.findPrevBracketInRange(s.reversedRegex,h,f,C,y);if(T)return this._toFoundBracket(l,T)}}return null}findNextBracket(r){var c;const d=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketAfter(d))||null;const a=this.textModel.getLineCount();let s=null,l=null,h=null;for(let p=d.lineNumber;p<=a;p++){const S=this.textModel.tokenization.getLineTokens(p),f=S.getCount(),m=this.textModel.getLineContent(p);let C=0,y=0,E=0;if(p===d.lineNumber){C=S.findTokenIndexAtOffset(d.column-1),y=d.column-1,E=d.column-1;const N=S.getLanguageId(C);s!==N&&(s=N,l=this.languageConfigurationService.getLanguageConfiguration(s).brackets,h=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let T=!0;for(;C<f;C++){const N=S.getLanguageId(C);if(s!==N){if(h&&l&&T&&y!==E){const O=_.BracketsUtils.findNextBracketInRange(l.forwardRegex,p,m,y,E);if(O)return this._toFoundBracket(h,O);T=!1}s=N,l=this.languageConfigurationService.getLanguageConfiguration(s).brackets,h=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const F=!!l&&!(0,L.ignoreBracketsInToken)(S.getStandardTokenType(C));if(F)T||(y=S.getStartOffset(C)),E=S.getEndOffset(C);else if(h&&l&&T&&y!==E){const O=_.BracketsUtils.findNextBracketInRange(l.forwardRegex,p,m,y,E);if(O)return this._toFoundBracket(h,O)}T=F}if(h&&l&&T&&y!==E){const N=_.BracketsUtils.findNextBracketInRange(l.forwardRegex,p,m,y,E);if(N)return this._toFoundBracket(h,N)}}return null}findEnclosingBrackets(r,c){const d=this.textModel.validatePosition(r);if(this.canBuildAST){const y=I.Range.fromPositions(d),E=this.getBracketPairsInRange(I.Range.fromPositions(d,d)).findLast(T=>T.closingBracketRange!==void 0&&T.range.strictContainsRange(y));return E?[E.openingBracketRange,E.closingBracketRange]:null}const a=n(c),s=this.textModel.getLineCount(),l=new Map;let h=[];const p=(y,E)=>{if(!l.has(y)){const T=[];for(let N=0,F=E?E.brackets.length:0;N<F;N++)T[N]=0;l.set(y,T)}h=l.get(y)};let S=0;const f=(y,E,T,N,F)=>{for(;;){if(a&&++S%100==0&&!a())return i.INSTANCE;const O=_.BracketsUtils.findNextBracketInRange(y.forwardRegex,E,T,N,F);if(!O)break;const P=T.substring(O.startColumn-1,O.endColumn-1).toLowerCase(),D=y.textIsBracket[P];if(D&&(D.isOpen(P)?h[D.index]++:D.isClose(P)&&h[D.index]--,h[D.index]===-1))return this._matchFoundBracket(O,D,!1,a);N=O.endColumn-1}return null};let m=null,C=null;for(let y=d.lineNumber;y<=s;y++){const E=this.textModel.tokenization.getLineTokens(y),T=E.getCount(),N=this.textModel.getLineContent(y);let F=0,O=0,P=0;if(y===d.lineNumber){F=E.findTokenIndexAtOffset(d.column-1),O=d.column-1,P=d.column-1;const M=E.getLanguageId(F);m!==M&&(m=M,C=this.languageConfigurationService.getLanguageConfiguration(m).brackets,p(m,C))}let D=!0;for(;F<T;F++){const M=E.getLanguageId(F);if(m!==M){if(C&&D&&O!==P){const B=f(C,y,N,O,P);if(B)return t(B);D=!1}m=M,C=this.languageConfigurationService.getLanguageConfiguration(m).brackets,p(m,C)}const R=!!C&&!(0,L.ignoreBracketsInToken)(E.getStandardTokenType(F));if(R)D||(O=E.getStartOffset(F)),P=E.getEndOffset(F);else if(C&&D&&O!==P){const B=f(C,y,N,O,P);if(B)return t(B)}D=R}if(C&&D&&O!==P){const M=f(C,y,N,O,P);if(M)return t(M)}}return null}_toFoundBracket(r,c){if(!c)return null;let d=this.textModel.getValueInRange(c);d=d.toLowerCase();const a=r.getBracketInfo(d);return a?{range:c,bracketInfo:a}:null}}e.BracketPairsTextModelPart=u;function g(o,r){return{object:o,dispose:()=>r==null?void 0:r.dispose()}}function n(o){if(typeof o=="undefined")return()=>!0;{const r=Date.now();return()=>Date.now()-r<=o}}class i{constructor(){this._searchCanceledBrand=void 0}}i.INSTANCE=new i;function t(o){return o instanceof i?null:o}}),define(se[276],re([1,0,6,8,3,46,245,128,275,2]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class g extends u.Disposable{constructor(i,t,o,r,c,d,a){super();this._onDidChangeContent=this._register(new w.Emitter),this._BOM=t,this._mightContainNonBasicASCII=!d,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=c,this._pieceTree=new L.PieceTreeBase(i,o,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(i){return this._pieceTree.createSnapshot(i?this._BOM:"")}getOffsetAt(i,t){return this._pieceTree.getOffsetAt(i,t)}getPositionAt(i){return this._pieceTree.getPositionAt(i)}getRangeAt(i,t){const o=i+t,r=this.getPositionAt(i),c=this.getPositionAt(o);return new k.Range(r.lineNumber,r.column,c.lineNumber,c.column)}getValueInRange(i,t=0){if(i.isEmpty())return"";const o=this._getEndOfLine(t);return this._pieceTree.getValueInRange(i,o)}getValueLengthInRange(i,t=0){if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;const o=this.getOffsetAt(i.startLineNumber,i.startColumn);return this.getOffsetAt(i.endLineNumber,i.endColumn)-o}getCharacterCountInRange(i,t=0){if(this._mightContainNonBasicASCII){let o=0;const r=i.startLineNumber,c=i.endLineNumber;for(let d=r;d<=c;d++){const a=this.getLineContent(d),s=d===r?i.startColumn-1:0,l=d===c?i.endColumn-1:a.length;for(let h=s;h<l;h++)v.isHighSurrogate(a.charCodeAt(h))?(o=o+1,h=h+1):o=o+1}return o+=this._getEndOfLine(t).length*(c-r),o}return this.getValueLengthInRange(i,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(i){return this._pieceTree.getLineContent(i)}getLineCharCode(i,t){return this._pieceTree.getLineCharCode(i,t)}getLineLength(i){return this._pieceTree.getLineLength(i)}getLineFirstNonWhitespaceColumn(i){const t=v.firstNonWhitespaceIndex(this.getLineContent(i));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(i){const t=v.lastNonWhitespaceIndex(this.getLineContent(i));return t===-1?0:t+2}_getEndOfLine(i){switch(i){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(i){this._pieceTree.setEOL(i)}applyEdits(i,t,o){let r=this._mightContainRTL,c=this._mightContainUnusualLineTerminators,d=this._mightContainNonBasicASCII,a=!0,s=[];for(let C=0;C<i.length;C++){const y=i[C];a&&y._isTracked&&(a=!1);const E=y.range;if(y.text){let P=!0;d||(P=!v.isBasicASCII(y.text),d=P),!r&&P&&(r=v.containsRTL(y.text)),!c&&P&&(c=v.containsUnusualLineTerminators(y.text))}let T="",N=0,F=0,O=0;if(y.text){let P;[N,F,O,P]=(0,_.countEOL)(y.text);const D=this.getEOL();P===0||P===(D===`\r
`?2:1)?T=y.text:T=y.text.replace(/\r\n|\r|\n/g,D)}s[C]={sortIndex:C,identifier:y.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:T,eolCount:N,firstLineLength:F,lastLineLength:O,forceMoveMarkers:Boolean(y.forceMoveMarkers),isAutoWhitespaceEdit:y.isAutoWhitespaceEdit||!1}}s.sort(g._sortOpsAscending);let l=!1;for(let C=0,y=s.length-1;C<y;C++){const E=s[C].range.getEndPosition(),T=s[C+1].range.getStartPosition();if(T.isBeforeOrEqual(E)){if(T.isBefore(E))throw new Error("Overlapping ranges are not allowed!");l=!0}}a&&(s=this._reduceOperations(s));const h=o||t?g._getInverseEditRanges(s):[],p=[];if(t)for(let C=0;C<s.length;C++){const y=s[C],E=h[C];if(y.isAutoWhitespaceEdit&&y.range.isEmpty())for(let T=E.startLineNumber;T<=E.endLineNumber;T++){let N="";T===E.startLineNumber&&(N=this.getLineContent(y.range.startLineNumber),v.firstNonWhitespaceIndex(N)!==-1)||p.push({lineNumber:T,oldContent:N})}}let S=null;if(o){let C=0;S=[];for(let y=0;y<s.length;y++){const E=s[y],T=h[y],N=this.getValueInRange(E.range),F=E.rangeOffset+C;C+=E.text.length-N.length,S[y]={sortIndex:E.sortIndex,identifier:E.identifier,range:T,text:N,textChange:new b.TextChange(E.rangeOffset,N,F,E.text)}}l||S.sort((y,E)=>y.sortIndex-E.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=c,this._mightContainNonBasicASCII=d;const f=this._doApplyEdits(s);let m=null;if(t&&p.length>0){p.sort((C,y)=>y.lineNumber-C.lineNumber),m=[];for(let C=0,y=p.length;C<y;C++){const E=p[C].lineNumber;if(C>0&&p[C-1].lineNumber===E)continue;const T=p[C].oldContent,N=this.getLineContent(E);N.length===0||N===T||v.firstNonWhitespaceIndex(N)!==-1||m.push(E)}}return this._onDidChangeContent.fire(),new I.ApplyEditsResult(S,f,m)}_reduceOperations(i){return i.length<1e3?i:[this._toSingleEditOperation(i)]}_toSingleEditOperation(i){let t=!1;const o=i[0].range,r=i[i.length-1].range,c=new k.Range(o.startLineNumber,o.startColumn,r.endLineNumber,r.endColumn);let d=o.startLineNumber,a=o.startColumn;const s=[];for(let f=0,m=i.length;f<m;f++){const C=i[f],y=C.range;t=t||C.forceMoveMarkers,s.push(this.getValueInRange(new k.Range(d,a,y.startLineNumber,y.startColumn))),C.text.length>0&&s.push(C.text),d=y.endLineNumber,a=y.endColumn}const l=s.join(""),[h,p,S]=(0,_.countEOL)(l);return{sortIndex:0,identifier:i[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:l,eolCount:h,firstLineLength:p,lastLineLength:S,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(i){i.sort(g._sortOpsDescending);const t=[];for(let o=0;o<i.length;o++){const r=i[o],c=r.range.startLineNumber,d=r.range.startColumn,a=r.range.endLineNumber,s=r.range.endColumn;if(c===a&&d===s&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const l=new k.Range(c,d,a,s);t.push({range:l,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(i,t,o,r){return this._pieceTree.findMatchesLineByLine(i,t,o,r)}static _getInverseEditRanges(i){const t=[];let o=0,r=0,c=null;for(let d=0,a=i.length;d<a;d++){const s=i[d];let l,h;c?c.range.endLineNumber===s.range.startLineNumber?(l=o,h=r+(s.range.startColumn-c.range.endColumn)):(l=o+(s.range.startLineNumber-c.range.endLineNumber),h=s.range.startColumn):(l=s.range.startLineNumber,h=s.range.startColumn);let p;if(s.text.length>0){const S=s.eolCount+1;S===1?p=new k.Range(l,h,l,h+s.firstLineLength):p=new k.Range(l,h,l+S-1,s.lastLineLength+1)}else p=new k.Range(l,h,l,h);o=p.endLineNumber,r=p.endColumn,t.push(p),c=s}return t}static _sortOpsAscending(i,t){const o=k.Range.compareRangesUsingEnds(i.range,t.range);return o===0?i.sortIndex-t.sortIndex:o}static _sortOpsDescending(i,t){const o=k.Range.compareRangesUsingEnds(i.range,t.range);return o===0?t.sortIndex-i.sortIndex:-o}}e.PieceTreeTextBuffer=g}),define(se[517],re([1,0,8,245,276]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class I{constructor(b,u,g,n,i,t,o,r,c){this._chunks=b,this._bom=u,this._cr=g,this._lf=n,this._crlf=i,this._containsRTL=t,this._containsUnusualLineTerminators=o,this._isBasicASCII=r,this._normalizeEOL=c}_getEOL(b){const u=this._cr+this._lf+this._crlf,g=this._cr+this._crlf;return u===0?b===1?`
`:`\r
`:g>u/2?`\r
`:`
`}create(b){const u=this._getEOL(b),g=this._chunks;if(this._normalizeEOL&&(u===`\r
`&&(this._cr>0||this._lf>0)||u===`
`&&(this._cr>0||this._crlf>0)))for(let i=0,t=g.length;i<t;i++){const o=g[i].buffer.replace(/\r\n|\r|\n/g,u),r=(0,v.createLineStartsFast)(o);g[i]=new v.StringBuffer(o,r)}const n=new k.PieceTreeTextBuffer(g,this._bom,u,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}e.PieceTreeTextBufferFactory=I;class L{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(b){if(b.length===0)return;this.chunks.length===0&&w.startsWithUTF8BOM(b)&&(this.BOM=w.UTF8_BOM_CHARACTER,b=b.substr(1));const u=b.charCodeAt(b.length-1);u===13||u>=55296&&u<=56319?(this._acceptChunk1(b.substr(0,b.length-1),!1),this._hasPreviousChar=!0,this._previousChar=u):(this._acceptChunk1(b,!1),this._hasPreviousChar=!1,this._previousChar=u)}_acceptChunk1(b,u){!u&&b.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+b):this._acceptChunk2(b))}_acceptChunk2(b){const u=(0,v.createLineStarts)(this._tmpLineStarts,b);this.chunks.push(new v.StringBuffer(b,u.lineStarts)),this.cr+=u.cr,this.lf+=u.lf,this.crlf+=u.crlf,this.isBasicASCII&&(this.isBasicASCII=u.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=w.containsRTL(b)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=w.containsUnusualLineTerminators(b))}finish(b=!0){return this._finish(),new I(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,b)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const b=this.chunks[this.chunks.length-1];b.buffer+=String.fromCharCode(this._previousChar);const u=(0,v.createLineStartsFast)(b.buffer);b.lineStarts=u,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=L}),define(se[518],re([1,0,123,18]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function k(b){for(let u=0,g=b.length;u<g;u+=4){const n=b[u+0],i=b[u+1],t=b[u+2],o=b[u+3];b[u+0]=o,b[u+1]=t,b[u+2]=i,b[u+3]=n}}function I(b){const u=new Uint8Array(b.buffer,b.byteOffset,b.length*4);return v.isLittleEndian()||k(u),w.VSBuffer.wrap(u)}function L(b){const u=new Uint32Array(_(b));let g=0;if(u[g++]=b.id,b.type==="full")u[g++]=1,u[g++]=b.data.length,u.set(b.data,g),g+=b.data.length;else{u[g++]=2,u[g++]=b.deltas.length;for(const n of b.deltas)u[g++]=n.start,u[g++]=n.deleteCount,n.data?(u[g++]=n.data.length,u.set(n.data,g),g+=n.data.length):u[g++]=0}return I(u)}e.encodeSemanticTokensDto=L;function _(b){let u=0;if(u+=1+1,b.type==="full")u+=1+b.data.length;else{u+=1,u+=(1+1+1)*b.deltas.length;for(const g of b.deltas)g.data&&(u+=g.data.length)}return u}}),define(se[519],re([1,0,6,2]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class k{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(_){this._onDidChange.fire({changedLanguages:_,changedColorMap:!1})}register(_,b){return this._map.set(_,b),this.fire([_]),(0,v.toDisposable)(()=>{this._map.get(_)===b&&(this._map.delete(_),this.fire([_]))})}registerFactory(_,b){var u;(u=this._factories.get(_))===null||u===void 0||u.dispose();const g=new I(this,_,b);return this._factories.set(_,g),(0,v.toDisposable)(()=>{const n=this._factories.get(_);!n||n!==g||(this._factories.delete(_),n.dispose())})}getOrCreate(_){return Se(this,void 0,void 0,function*(){const b=this.get(_);if(b)return b;const u=this._factories.get(_);return!u||u.isResolved?null:(yield u.resolve(),this.get(_))})}get(_){return this._map.get(_)||null}isResolved(_){if(this.get(_))return!0;const u=this._factories.get(_);return!!(!u||u.isResolved)}setColorMap(_){this._colorMap=_,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=k;class I extends v.Disposable{constructor(_,b,u){super();this._registry=_,this._languageId=b,this._factory=u,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Se(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Se(this,void 0,void 0,function*(){const _=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,_&&!this._isDisposed&&this._register(this._registry.register(this._languageId,_))})}}}),define(se[28],re([1,0,27,22,3,519]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class L{constructor(s,l,h){this._tokenBrand=void 0,this.offset=s,this.type=l,this.language=h}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=L;class _{constructor(s,l){this._tokenizationResultBrand=void 0,this.tokens=s,this.endState=l}}e.TokenizationResult=_;class b{constructor(s,l){this._encodedTokenizationResultBrand=void 0,this.tokens=s,this.endState=l}}e.EncodedTokenizationResult=b;var u;(function(a){const s=new Map;s.set(0,w.Codicon.symbolMethod),s.set(1,w.Codicon.symbolFunction),s.set(2,w.Codicon.symbolConstructor),s.set(3,w.Codicon.symbolField),s.set(4,w.Codicon.symbolVariable),s.set(5,w.Codicon.symbolClass),s.set(6,w.Codicon.symbolStruct),s.set(7,w.Codicon.symbolInterface),s.set(8,w.Codicon.symbolModule),s.set(9,w.Codicon.symbolProperty),s.set(10,w.Codicon.symbolEvent),s.set(11,w.Codicon.symbolOperator),s.set(12,w.Codicon.symbolUnit),s.set(13,w.Codicon.symbolValue),s.set(15,w.Codicon.symbolEnum),s.set(14,w.Codicon.symbolConstant),s.set(15,w.Codicon.symbolEnum),s.set(16,w.Codicon.symbolEnumMember),s.set(17,w.Codicon.symbolKeyword),s.set(27,w.Codicon.symbolSnippet),s.set(18,w.Codicon.symbolText),s.set(19,w.Codicon.symbolColor),s.set(20,w.Codicon.symbolFile),s.set(21,w.Codicon.symbolReference),s.set(22,w.Codicon.symbolCustomColor),s.set(23,w.Codicon.symbolFolder),s.set(24,w.Codicon.symbolTypeParameter),s.set(25,w.Codicon.account),s.set(26,w.Codicon.issues);function l(S){let f=s.get(S);return f||(console.info("No codicon found for CompletionItemKind "+S),f=w.Codicon.symbolProperty),f}a.toIcon=l;const h=new Map;h.set("method",0),h.set("function",1),h.set("constructor",2),h.set("field",3),h.set("variable",4),h.set("class",5),h.set("struct",6),h.set("interface",7),h.set("module",8),h.set("property",9),h.set("event",10),h.set("operator",11),h.set("unit",12),h.set("value",13),h.set("constant",14),h.set("enum",15),h.set("enum-member",16),h.set("enumMember",16),h.set("keyword",17),h.set("snippet",27),h.set("text",18),h.set("color",19),h.set("file",20),h.set("reference",21),h.set("customcolor",22),h.set("folder",23),h.set("type-parameter",24),h.set("typeParameter",24),h.set("account",25),h.set("issue",26);function p(S,f){let m=h.get(S);return typeof m=="undefined"&&!f&&(m=9),m}a.fromString=p})(u=e.CompletionItemKinds||(e.CompletionItemKinds={}));var g;(function(a){a[a.Automatic=0]="Automatic",a[a.Explicit=1]="Explicit"})(g=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var n;(function(a){a[a.Invoke=1]="Invoke",a[a.TriggerCharacter=2]="TriggerCharacter",a[a.ContentChange=3]="ContentChange"})(n=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var i;(function(a){a[a.Text=0]="Text",a[a.Read=1]="Read",a[a.Write=2]="Write"})(i=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function t(a){return a&&v.URI.isUri(a.uri)&&k.Range.isIRange(a.range)&&(k.Range.isIRange(a.originSelectionRange)||k.Range.isIRange(a.targetSelectionRange))}e.isLocationLink=t;var o;(function(a){const s=new Map;s.set(0,w.Codicon.symbolFile),s.set(1,w.Codicon.symbolModule),s.set(2,w.Codicon.symbolNamespace),s.set(3,w.Codicon.symbolPackage),s.set(4,w.Codicon.symbolClass),s.set(5,w.Codicon.symbolMethod),s.set(6,w.Codicon.symbolProperty),s.set(7,w.Codicon.symbolField),s.set(8,w.Codicon.symbolConstructor),s.set(9,w.Codicon.symbolEnum),s.set(10,w.Codicon.symbolInterface),s.set(11,w.Codicon.symbolFunction),s.set(12,w.Codicon.symbolVariable),s.set(13,w.Codicon.symbolConstant),s.set(14,w.Codicon.symbolString),s.set(15,w.Codicon.symbolNumber),s.set(16,w.Codicon.symbolBoolean),s.set(17,w.Codicon.symbolArray),s.set(18,w.Codicon.symbolObject),s.set(19,w.Codicon.symbolKey),s.set(20,w.Codicon.symbolNull),s.set(21,w.Codicon.symbolEnumMember),s.set(22,w.Codicon.symbolStruct),s.set(23,w.Codicon.symbolEvent),s.set(24,w.Codicon.symbolOperator),s.set(25,w.Codicon.symbolTypeParameter);function l(h){let p=s.get(h);return p||(console.info("No codicon found for SymbolKind "+h),p=w.Codicon.symbolProperty),p}a.toIcon=l})(o=e.SymbolKinds||(e.SymbolKinds={}));class r{constructor(s){this.value=s}}e.FoldingRangeKind=r,r.Comment=new r("comment"),r.Imports=new r("imports"),r.Region=new r("region");var c;(function(a){function s(l){return!l||typeof l!="object"?!1:typeof l.id=="string"&&typeof l.title=="string"}a.is=s})(c=e.Command||(e.Command={}));var d;(function(a){a[a.Type=1]="Type",a[a.Parameter=2]="Parameter"})(d=e.InlayHintKind||(e.InlayHintKind={})),e.TokenizationRegistry=new I.TokenizationRegistry}),define(se[138],re([1,0,28]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(I){return this===I}};function v(I,L){return new w.TokenizationResult([new w.Token(0,"",I)],L)}e.nullTokenize=v;function k(I,L){const _=new Uint32Array(2);return _[0]=0,_[1]=(I<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new w.EncodedTokenizationResult(_,L===null?e.NullState:L)}e.nullTokenizeEncoded=k}),define(se[277],re([1,0,8,83,28,138]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const L={getInitialState:()=>I.NullState,tokenizeEncoded:(g,n,i)=>(0,I.nullTokenizeEncoded)(0,i)};function _(g,n,i){return Se(this,void 0,void 0,function*(){if(!i)return u(n,g.languageIdCodec,L);const t=yield k.TokenizationRegistry.getOrCreate(i);return u(n,g.languageIdCodec,t||L)})}e.tokenizeToString=_;function b(g,n,i,t,o,r,c){let d="<div>",a=t,s=0,l=!0;for(let h=0,p=n.getCount();h<p;h++){const S=n.getEndOffset(h);if(S<=t)continue;let f="";for(;a<S&&a<o;a++){const m=g.charCodeAt(a);switch(m){case 9:{let C=r-(a+s)%r;for(s+=C-1;C>0;)c&&l?(f+="&#160;",l=!1):(f+=" ",l=!0),C--;break}case 60:f+="&lt;",l=!1;break;case 62:f+="&gt;",l=!1;break;case 38:f+="&amp;",l=!1;break;case 0:f+="&#00;",l=!1;break;case 65279:case 8232:case 8233:case 133:f+="\uFFFD",l=!1;break;case 13:f+="&#8203",l=!1;break;case 32:c&&l?(f+="&#160;",l=!1):(f+=" ",l=!0);break;default:f+=String.fromCharCode(m),l=!1}}if(d+=`<span style="${n.getInlineStyle(h,i)}">${f}</span>`,S>o||a>=o)break}return d+="</div>",d}e.tokenizeLineToHTML=b;function u(g,n,i){let t='<div class="monaco-tokenized-source">';const o=w.splitLines(g);let r=i.getInitialState();for(let c=0,d=o.length;c<d;c++){const a=o[c];c>0&&(t+="<br/>");const s=i.tokenizeEncoded(a,!0,r);v.LineTokens.convertToEndOffset(s.tokens,a.length);const h=new v.LineTokens(s.tokens,a,n).inflate();let p=0;for(let S=0,f=h.getCount();S<f;S++){const m=h.getClassName(S),C=h.getEndOffset(S);t+=`<span class="${m}">${w.escape(a.substring(p,C))}</span>`,p=C}r=s.endState}return t+="</div>",t}e._tokenizeToString=u}),define(se[520],re([1,0,17,14,83,28,138,2,57,128,439,10,18]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class t{constructor(s){this._default=s,this._store=[]}get(s){return s<this._store.length?this._store[s]:this._default}set(s,l){for(;s>=this._store.length;)this._store[this._store.length]=this._default;this._store[s]=l}delete(s,l){l===0||s>=this._store.length||this._store.splice(s,l)}insert(s,l){if(l===0||s>=this._store.length)return;const h=[];for(let p=0;p<l;p++)h[p]=this._default;this._store=w.arrayInsert(this._store,s,h)}}class o{constructor(s,l){this.tokenizationSupport=s,this.initialState=l,this._lineBeginState=new t(null),this._lineNeedsTokenization=new t(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(s){this._lineNeedsTokenization.set(s,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,s)}getBeginState(s){return this._lineBeginState.get(s)}setEndState(s,l,h){if(this._lineNeedsTokenization.set(l,!1),this._firstLineNeedsTokenization=l+1,l===s-1)return;const p=this._lineBeginState.get(l+1);if(p===null||!h.equals(p)){this._lineBeginState.set(l+1,h),this.markMustBeTokenized(l+1);return}let S=l+1;for(;S<s&&!this._lineNeedsTokenization.get(S);)S++;this._firstLineNeedsTokenization=S}applyEdits(s,l){this.markMustBeTokenized(s.startLineNumber-1),this._lineBeginState.delete(s.startLineNumber,s.endLineNumber-s.startLineNumber),this._lineNeedsTokenization.delete(s.startLineNumber,s.endLineNumber-s.startLineNumber),this._lineBeginState.insert(s.startLineNumber,l),this._lineNeedsTokenization.insert(s.startLineNumber,l)}}e.TokenizationStateStore=o;class r extends _.Disposable{constructor(s,l,h){super();this._textModel=s,this._tokenizationPart=l,this._languageIdCodec=h,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(I.TokenizationRegistry.onDidChange(p=>{const S=this._textModel.getLanguageId();p.changedLanguages.indexOf(S)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(s){if(s.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let l=0,h=s.changes.length;l<h;l++){const p=s.changes[l],[S]=(0,u.countEOL)(p.text);this._tokenizationStateStore.applyEdits(p.range,S)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(s){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[s,l]=c(this._textModel,this._tokenizationPart);s&&l?this._tokenizationStateStore=new o(s,l):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,n.runWhenIdle)(s=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(s)}))}_backgroundTokenizeWithDeadline(s){const l=Date.now()+s.timeRemaining(),h=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<l?(0,i.setTimeout0)(h):this._beginBackgroundTokenization())};h()}_backgroundTokenizeForAtLeast1ms(){const s=this._textModel.getLineCount(),l=new g.ContiguousMultilineTokensBuilder,h=b.StopWatch.create(!1);do if(h.elapsed()>1||this._tokenizeOneInvalidLine(l)>=s)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(l.finalize(),this._isTokenizationComplete())}tokenizeViewport(s,l){const h=new g.ContiguousMultilineTokensBuilder;this._tokenizeViewport(h,s,l),this._tokenizationPart.setTokens(h.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(s){const l=new g.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(l,s),this._tokenizationPart.setTokens(l.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(s,l){if(!this._tokenizationStateStore)return 0;this.forceTokenization(s.lineNumber);const h=this._tokenizationStateStore.getBeginState(s.lineNumber-1);if(!h)return 0;const p=this._textModel.getLanguageId(),S=this._textModel.getLineContent(s.lineNumber),f=S.substring(0,s.column-1)+l+S.substring(s.column-1),m=d(this._languageIdCodec,p,this._tokenizationStateStore.tokenizationSupport,f,!0,h),C=new k.LineTokens(m.tokens,f,this._languageIdCodec);if(C.getCount()===0)return 0;const y=C.findTokenIndexAtOffset(s.column-1);return C.getStandardTokenType(y)}tokenizeLineWithEdit(s,l,h){const p=s.lineNumber,S=s.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(p);const f=this._tokenizationStateStore.getBeginState(p-1);if(!f)return null;const m=this._textModel.getLineContent(p),C=m.substring(0,S-1)+h+m.substring(S-1+l),y=this._textModel.getLanguageIdAtPosition(p,0),E=d(this._languageIdCodec,y,this._tokenizationStateStore.tokenizationSupport,C,!0,f);return new k.LineTokens(E.tokens,C,this._languageIdCodec)}isCheapToTokenize(s){if(!this._tokenizationStateStore)return!0;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return s>l?!1:s<l||this._textModel.getLineLength(s)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(s){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(s,l),l}_updateTokensUntilLine(s,l){if(!this._tokenizationStateStore)return;const h=this._textModel.getLanguageId(),p=this._textModel.getLineCount(),S=l-1;for(let f=this._tokenizationStateStore.invalidLineStartIndex;f<=S;f++){const m=this._textModel.getLineContent(f+1),C=this._tokenizationStateStore.getBeginState(f),y=d(this._languageIdCodec,h,this._tokenizationStateStore.tokenizationSupport,m,!0,C);s.add(f+1,y.tokens),this._tokenizationStateStore.setEndState(p,f,y.endState),f=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(s,l,h){if(!this._tokenizationStateStore||h<=this._tokenizationStateStore.invalidLineStartIndex)return;if(l<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(s,h);return}let p=this._textModel.getLineFirstNonWhitespaceColumn(l);const S=[];let f=null;for(let y=l-1;p>1&&y>=1;y--){const E=this._textModel.getLineFirstNonWhitespaceColumn(y);if(E!==0&&E<p&&(S.push(this._textModel.getLineContent(y)),p=E,f=this._tokenizationStateStore.getBeginState(y-1),f))break}f||(f=this._tokenizationStateStore.initialState);const m=this._textModel.getLanguageId();let C=f;for(let y=S.length-1;y>=0;y--)C=d(this._languageIdCodec,m,this._tokenizationStateStore.tokenizationSupport,S[y],!1,C).endState;for(let y=l;y<=h;y++){const E=this._textModel.getLineContent(y),T=d(this._languageIdCodec,m,this._tokenizationStateStore.tokenizationSupport,E,!0,C);s.add(y,T.tokens),this._tokenizationStateStore.markMustBeTokenized(y-1),C=T.endState}}}e.TextModelTokenization=r;function c(a,s){if(a.isTooLargeForTokenization())return[null,null];const l=I.TokenizationRegistry.get(s.getLanguageId());if(!l)return[null,null];let h;try{h=l.getInitialState()}catch(p){return(0,v.onUnexpectedError)(p),[null,null]}return[l,h]}function d(a,s,l,h,p,S){let f=null;if(l)try{f=l.tokenizeEncoded(h,p,S.clone())}catch(m){(0,v.onUnexpectedError)(m)}return f||(f=(0,L.nullTokenizeEncoded)(a.encodeLanguageId(s),S)),k.LineTokens.convertToEndOffset(f.tokens,h.length),f}}),define(se[521],re([1,0,6,11,130,244,520,441,443]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class u extends I.TextModelPart{constructor(n,i,t,o,r){super();this._languageService=n,this._languageConfigurationService=i,this._textModel=t,this.bracketPairsTextModelPart=o,this._languageId=r,this._onDidChangeLanguage=this._register(new w.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new w.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new w.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new w.Emitter),this._tokens=new _.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new b.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new L.TextModelTokenization(t,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(c=>{c.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(n,i,t,o,r){this._tokens.acceptEdit(n,t,o),this._semanticTokens.acceptEdit(n,t,o,r,i.length>0?i.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(n){this._tokenization.handleDidChangeContent(n)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(n){if(this._backgroundTokenizationState===2)return;const i=n?2:1;this._backgroundTokenizationState!==i&&(this._backgroundTokenizationState=i,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(n,i=!1){if(n.length!==0){const t=[];for(let o=0,r=n.length;o<r;o++){const c=n[o];let d=0,a=0,s=!1;for(let l=c.startLineNumber;l<=c.endLineNumber;l++)s?(this._tokens.setTokens(this._languageId,l-1,this._textModel.getLineLength(l),c.getLineTokens(l),!1),a=l):this._tokens.setTokens(this._languageId,l-1,this._textModel.getLineLength(l),c.getLineTokens(l),!0)&&(s=!0,d=l,a=l);s&&t.push({fromLineNumber:d,toLineNumber:a})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(i)}setSemanticTokens(n,i){this._semanticTokens.set(n,i),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:n!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(n,i){if(this.hasCompleteSemanticTokens())return;const t=this._textModel.validateRange(this._semanticTokens.setPartial(n,i));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:t.startLineNumber,toLineNumber:t.endLineNumber}]})}tokenizeViewport(n,i){n=Math.max(1,n),i=Math.min(this._textModel.getLineCount(),i),this._tokenization.tokenizeViewport(n,i)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(n){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(n),this._onDidChangeTokens.fire(n))}resetTokenization(){this._tokenization.reset()}forceTokenization(n){if(n<1||n>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(n)}isCheapToTokenize(n){return this._tokenization.isCheapToTokenize(n)}tokenizeIfCheap(n){this.isCheapToTokenize(n)&&this.forceTokenization(n)}getLineTokens(n){if(n<1||n>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(n)}_getLineTokens(n){const i=this._textModel.getLineContent(n),t=this._tokens.getTokens(this._languageId,n-1,i);return this._semanticTokens.addSparseTokens(n,t)}getTokenTypeIfInsertingCharacter(n,i,t){const o=this._textModel.validatePosition(new v.Position(n,i));return this._tokenization.getTokenTypeIfInsertingCharacter(o,t)}tokenizeLineWithEdit(n,i,t){const o=this._textModel.validatePosition(n);return this._tokenization.tokenizeLineWithEdit(o,i,t)}getLanguageConfiguration(n){return this._languageConfigurationService.getLanguageConfiguration(n)}getWordAtPosition(n){this.assertNotDisposed();const i=this._textModel.validatePosition(n),t=this._textModel.getLineContent(i.lineNumber),o=this._getLineTokens(i.lineNumber),r=o.findTokenIndexAtOffset(i.column-1),[c,d]=u._findLanguageBoundaries(o,r),a=(0,k.getWordAtText)(i.column,this.getLanguageConfiguration(o.getLanguageId(r)).getWordDefinition(),t.substring(c,d),c);if(a&&a.startColumn<=n.column&&n.column<=a.endColumn)return a;if(r>0&&c===i.column-1){const[s,l]=u._findLanguageBoundaries(o,r-1),h=(0,k.getWordAtText)(i.column,this.getLanguageConfiguration(o.getLanguageId(r-1)).getWordDefinition(),t.substring(s,l),s);if(h&&h.startColumn<=n.column&&n.column<=h.endColumn)return h}return null}static _findLanguageBoundaries(n,i){const t=n.getLanguageId(i);let o=0;for(let c=i;c>=0&&n.getLanguageId(c)===t;c--)o=n.getStartOffset(c);let r=n.getLineContent().length;for(let c=i,d=n.getCount();c<d&&n.getLanguageId(c)===t;c++)r=n.getEndOffset(c);return[o,r]}getWordUntilPosition(n){const i=this.getWordAtPosition(n);return i?{word:i.word.substr(0,n.column-i.startColumn),startColumn:i.startColumn,endColumn:n.column}:{word:"",startColumn:n.column,endColumn:n.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(n,i){const t=this._textModel.validatePosition(new v.Position(n,i)),o=this.getLineTokens(t.lineNumber);return o.getLanguageId(o.findTokenIndexAtOffset(t.column-1))}setLanguageId(n){if(this._languageId===n)return;const i={oldLanguage:this._languageId,newLanguage:n};this._languageId=n,this.bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokenization.handleDidChangeLanguage(i),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=u}),define(se[278],re([1,0,21,6,59,22,11,3,23,28,160]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class n{static chord(o,r){return(0,k.KeyChord)(o,r)}}e.KeyMod=n,n.CtrlCmd=2048,n.Shift=1024,n.Alt=512,n.WinCtrl=256;function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:w.CancellationTokenSource,Emitter:v.Emitter,KeyCode:g.KeyCode,KeyMod:n,Position:L.Position,Range:_.Range,Selection:b.Selection,SelectionDirection:g.SelectionDirection,MarkerSeverity:g.MarkerSeverity,MarkerTag:g.MarkerTag,Uri:I.URI,Token:u.Token}}e.createMonacoBaseAPI=i}),define(se[522],re([1,0,149,18,22,11,3,436,130,420,426,278,57,247,418,35]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class c extends _.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,h){const p=(0,b.getWordAtText)(l.column,(0,b.ensureValidWordDefinition)(h),this._lines[l.lineNumber-1],0);return p?new L.Range(l.lineNumber,p.startColumn,l.lineNumber,p.endColumn):null}words(l){const h=this._lines,p=this._wordenize.bind(this);let S=0,f="",m=0,C=[];return{*[Symbol.iterator](){for(;;)if(m<C.length){const y=f.substring(C[m].start,C[m].end);m+=1,yield y}else if(S<h.length)f=h[S],C=p(f,l),m=0,S+=1;else break}}}getLineWords(l,h){const p=this._lines[l-1],S=this._wordenize(p,h),f=[];for(const m of S)f.push({word:p.substring(m.start,m.end),startColumn:m.start+1,endColumn:m.end+1});return f}_wordenize(l,h){const p=[];let S;for(h.lastIndex=0;(S=h.exec(l))&&S[0].length!==0;)p.push({start:S.index,end:S.index+S[0].length});return p}getValueInRange(l){if(l=this._validateRange(l),l.startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const h=this._eol,p=l.startLineNumber-1,S=l.endLineNumber-1,f=[];f.push(this._lines[p].substring(l.startColumn-1));for(let m=p+1;m<S;m++)f.push(this._lines[m]);return f.push(this._lines[S].substring(0,l.endColumn-1)),f.join(h)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const h=this._lineStarts.getIndexOf(l),p=this._lines[h.index].length;return{lineNumber:1+h.index,column:1+Math.min(h.remainder,p)}}_validateRange(l){const h=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),p=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return h.lineNumber!==l.startLineNumber||h.column!==l.startColumn||p.lineNumber!==l.endLineNumber||p.column!==l.endColumn?{startLineNumber:h.lineNumber,startColumn:h.column,endLineNumber:p.lineNumber,endColumn:p.column}:l}_validatePosition(l){if(!I.Position.isIPosition(l))throw new Error("bad position");let{lineNumber:h,column:p}=l,S=!1;if(h<1)h=1,p=1,S=!0;else if(h>this._lines.length)h=this._lines.length,p=this._lines[h-1].length+1,S=!0;else{const f=this._lines[h-1].length+1;p<1?(p=1,S=!0):p>f&&(p=f,S=!0)}return S?{lineNumber:h,column:p}:l}}e.MirrorModel=c;class d{constructor(l,h){this._host=l,this._models=Object.create(null),this._foreignModuleFactory=h,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(l){return this._models[l]}_getModels(){const l=[];return Object.keys(this._models).forEach(h=>l.push(this._models[h])),l}acceptNewModel(l){this._models[l.url]=new c(k.URI.parse(l.url),l.lines,l.EOL,l.versionId)}acceptModelChanged(l,h){if(!this._models[l])return;this._models[l].onEvents(h)}acceptRemovedModel(l){!this._models[l]||delete this._models[l]}computeUnicodeHighlights(l,h,p){return Se(this,void 0,void 0,function*(){const S=this._getModel(l);return S?t.UnicodeTextModelHighlighter.computeUnicodeHighlights(S,h,p):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(l,h,p){return Se(this,void 0,void 0,function*(){const S=this._getModel(l),f=this._getModel(h);return!S||!f?null:d.computeDiff(S,f,p)})}static computeDiff(l,h,p){const S=p.diffAlgorithm==="experimental"?o.linesDiffComputers.experimental:o.linesDiffComputers.smart,f=l.getLinesContent(),m=h.getLinesContent(),C=S.computeDiff(f,m,p);return{identical:C.changes.length>0?!1:this._modelsAreIdentical(l,h),quitEarly:C.quitEarly,changes:C.changes.map(E=>{var T;return[E.originalRange.startLineNumber,E.originalRange.endLineNumberExclusive,E.modifiedRange.startLineNumber,E.modifiedRange.endLineNumberExclusive,(T=E.innerChanges)===null||T===void 0?void 0:T.map(N=>[N.originalRange.startLineNumber,N.originalRange.startColumn,N.originalRange.endLineNumber,N.originalRange.endColumn,N.modifiedRange.startLineNumber,N.modifiedRange.startColumn,N.modifiedRange.endLineNumber,N.modifiedRange.endColumn])]})}}static _modelsAreIdentical(l,h){const p=l.getLineCount(),S=h.getLineCount();if(p!==S)return!1;for(let f=1;f<=p;f++){const m=l.getLineContent(f),C=h.getLineContent(f);if(m!==C)return!1}return!0}computeMoreMinimalEdits(l,h){return Se(this,void 0,void 0,function*(){const p=this._getModel(l);if(!p)return h;const S=[];let f;h=h.slice(0).sort((m,C)=>{if(m.range&&C.range)return L.Range.compareRangesUsingStarts(m.range,C.range);const y=m.range?0:1,E=C.range?0:1;return y-E});for(let{range:m,text:C,eol:y}of h){if(typeof y=="number"&&(f=y),L.Range.isEmpty(m)&&!C)continue;const E=p.getValueInRange(m);if(C=C.replace(/\r\n|\n|\r/g,p.eol),E===C)continue;if(Math.max(C.length,E.length)>d._diffLimit){S.push({range:m,text:C});continue}const T=(0,w.stringDiff)(E,C,!1),N=p.offsetAt(L.Range.lift(m).getStartPosition());for(const F of T){const O=p.positionAt(N+F.originalStart),P=p.positionAt(N+F.originalStart+F.originalLength),D={text:C.substr(F.modifiedStart,F.modifiedLength),range:{startLineNumber:O.lineNumber,startColumn:O.column,endLineNumber:P.lineNumber,endColumn:P.column}};p.getValueInRange(D.range)!==D.text&&S.push(D)}}return typeof f=="number"&&S.push({eol:f,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),S})}computeLinks(l){return Se(this,void 0,void 0,function*(){const h=this._getModel(l);return h?(0,u.computeLinks)(h):null})}textualSuggest(l,h,p,S){return Se(this,void 0,void 0,function*(){const f=new i.StopWatch(!0),m=new RegExp(p,S),C=new Set;e:for(const y of l){const E=this._getModel(y);if(!!E){for(const T of E.words(m))if(!(T===h||!isNaN(Number(T)))&&(C.add(T),C.size>d._suggestionsLimit))break e}}return{words:Array.from(C),duration:f.elapsed()}})}computeWordRanges(l,h,p,S){return Se(this,void 0,void 0,function*(){const f=this._getModel(l);if(!f)return Object.create(null);const m=new RegExp(p,S),C=Object.create(null);for(let y=h.startLineNumber;y<h.endLineNumber;y++){const E=f.getLineWords(y,m);for(const T of E){if(!isNaN(Number(T.word)))continue;let N=C[T.word];N||(N=[],C[T.word]=N),N.push({startLineNumber:y,startColumn:T.startColumn,endLineNumber:y,endColumn:T.endColumn})}}return C})}navigateValueSet(l,h,p,S,f){return Se(this,void 0,void 0,function*(){const m=this._getModel(l);if(!m)return null;const C=new RegExp(S,f);h.startColumn===h.endColumn&&(h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.endColumn+1});const y=m.getValueInRange(h),E=m.getWordAtPosition({lineNumber:h.startLineNumber,column:h.startColumn},C);if(!E)return null;const T=m.getValueInRange(E);return g.BasicInplaceReplace.INSTANCE.navigateValueSet(h,y,E,T,p)})}loadForeignModule(l,h,p){const S=(C,y)=>this._host.fhr(C,y),m={host:(0,r.createProxyObject)(p,S),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(m,h),Promise.resolve((0,r.getAllMethodNames)(this._foreignModule))):new Promise((C,y)=>{G([l],E=>{this._foreignModule=E.create(m,h),C((0,r.getAllMethodNames)(this._foreignModule))},y)})}fmr(l,h){if(!this._foreignModule||typeof this._foreignModule[l]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+l));try{return Promise.resolve(this._foreignModule[l].apply(this._foreignModule,h))}catch(p){return Promise.reject(p)}}}e.EditorSimpleWorker=d,d._diffLimit=1e5,d._suggestionsLimit=1e4;function a(s){return new d(s,null)}e.create=a,typeof importScripts=="function"&&(v.globals.monaco=(0,n.createMonacoBaseAPI)())}),define(se[115],re([1,0,8,92,132,450]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class L{constructor(m,C){this.startOffset=m,this.endOffset=C}equals(m){return this.startOffset===m.startOffset&&this.endOffset===m.endOffset}}e.LineRange=L;class _{constructor(m,C,y,E,T,N,F,O,P,D,M,R,B,W,V,A,Y,ee,U){this.useMonospaceOptimizations=m,this.canUseHalfwidthRightwardsArrow=C,this.lineContent=y,this.continuesWithWrappedLine=E,this.isBasicASCII=T,this.containsRTL=N,this.fauxIndentLength=F,this.lineTokens=O,this.lineDecorations=P.sort(k.LineDecoration.compare),this.tabSize=D,this.startVisibleColumn=M,this.spaceWidth=R,this.stopRenderingLineAfter=V,this.renderWhitespace=A==="all"?4:A==="boundary"?1:A==="selection"?2:A==="trailing"?3:0,this.renderControlCharacters=Y,this.fontLigatures=ee,this.selectionsOnLine=U&&U.sort((ie,Q)=>ie.startOffset<Q.startOffset?-1:1);const j=Math.abs(W-R),Z=Math.abs(B-R);j<Z?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=B,this.renderSpaceCharCode=183)}sameSelection(m){if(this.selectionsOnLine===null)return m===null;if(m===null||m.length!==this.selectionsOnLine.length)return!1;for(let C=0;C<this.selectionsOnLine.length;C++)if(!this.selectionsOnLine[C].equals(m[C]))return!1;return!0}equals(m){return this.useMonospaceOptimizations===m.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===m.canUseHalfwidthRightwardsArrow&&this.lineContent===m.lineContent&&this.continuesWithWrappedLine===m.continuesWithWrappedLine&&this.isBasicASCII===m.isBasicASCII&&this.containsRTL===m.containsRTL&&this.fauxIndentLength===m.fauxIndentLength&&this.tabSize===m.tabSize&&this.startVisibleColumn===m.startVisibleColumn&&this.spaceWidth===m.spaceWidth&&this.renderSpaceWidth===m.renderSpaceWidth&&this.renderSpaceCharCode===m.renderSpaceCharCode&&this.stopRenderingLineAfter===m.stopRenderingLineAfter&&this.renderWhitespace===m.renderWhitespace&&this.renderControlCharacters===m.renderControlCharacters&&this.fontLigatures===m.fontLigatures&&k.LineDecoration.equalsArr(this.lineDecorations,m.lineDecorations)&&this.lineTokens.equals(m.lineTokens)&&this.sameSelection(m.selectionsOnLine)}}e.RenderLineInput=_;class b{constructor(m,C){this.partIndex=m,this.charIndex=C}}e.DomPosition=b;class u{constructor(m,C){this.length=m,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(m){return(m&4294901760)>>>16}static getCharIndex(m){return(m&65535)>>>0}setColumnInfo(m,C,y,E){const T=(C<<16|y<<0)>>>0;this._data[m-1]=T,this._horizontalOffset[m-1]=E}getHorizontalOffset(m){return this._horizontalOffset.length===0?0:this._horizontalOffset[m-1]}charOffsetToPartData(m){return this.length===0?0:m<0?this._data[0]:m>=this.length?this._data[this.length-1]:this._data[m]}getDomPosition(m){const C=this.charOffsetToPartData(m-1),y=u.getPartIndex(C),E=u.getCharIndex(C);return new b(y,E)}getColumn(m,C){return this.partDataToCharOffset(m.partIndex,C,m.charIndex)+1}partDataToCharOffset(m,C,y){if(this.length===0)return 0;const E=(m<<16|y<<0)>>>0;let T=0,N=this.length-1;for(;T+1<N;){const V=T+N>>>1,A=this._data[V];if(A===E)return V;A>E?N=V:T=V}if(T===N)return T;const F=this._data[T],O=this._data[N];if(F===E)return T;if(O===E)return N;const P=u.getPartIndex(F),D=u.getCharIndex(F),M=u.getPartIndex(O);let R;P!==M?R=C:R=u.getCharIndex(O);const B=y-D,W=R-y;return B<=W?T:N}}e.CharacterMapping=u;class g{constructor(m,C,y){this._renderLineOutputBrand=void 0,this.characterMapping=m,this.containsRTL=C,this.containsForeignElements=y}}e.RenderLineOutput=g;function n(f,m){if(f.lineContent.length===0){if(f.lineDecorations.length>0){m.appendASCIIString("<span>");let C=0,y=0,E=0;for(const N of f.lineDecorations)(N.type===1||N.type===2)&&(m.appendASCIIString('<span class="'),m.appendASCIIString(N.className),m.appendASCIIString('"></span>'),N.type===1&&(E|=1,C++),N.type===2&&(E|=2,y++));m.appendASCIIString("</span>");const T=new u(1,C+y);return T.setColumnInfo(1,C,0,0),new g(T,!1,E)}return m.appendASCIIString("<span><span></span></span>"),new g(new u(0,0),!1,0)}return p(r(f),m)}e.renderViewLine=n;class i{constructor(m,C,y,E){this.characterMapping=m,this.html=C,this.containsRTL=y,this.containsForeignElements=E}}e.RenderLineOutput2=i;function t(f){const m=(0,v.createStringBuilder)(1e4),C=n(f,m);return new i(C.characterMapping,m.build(),C.containsRTL,C.containsForeignElements)}e.renderViewLine2=t;class o{constructor(m,C,y,E,T,N,F,O,P,D,M,R,B,W,V){this.fontIsMonospace=m,this.canUseHalfwidthRightwardsArrow=C,this.lineContent=y,this.len=E,this.isOverflowing=T,this.parts=N,this.containsForeignElements=F,this.fauxIndentLength=O,this.tabSize=P,this.startVisibleColumn=D,this.containsRTL=M,this.spaceWidth=R,this.renderSpaceCharCode=B,this.renderWhitespace=W,this.renderControlCharacters=V}}function r(f){const m=f.lineContent;let C,y;f.stopRenderingLineAfter!==-1&&f.stopRenderingLineAfter<m.length?(C=!0,y=f.stopRenderingLineAfter):(C=!1,y=m.length);let E=c(m,f.containsRTL,f.lineTokens,f.fauxIndentLength,y);f.renderControlCharacters&&!f.isBasicASCII&&(E=s(m,E)),(f.renderWhitespace===4||f.renderWhitespace===1||f.renderWhitespace===2&&!!f.selectionsOnLine||f.renderWhitespace===3)&&(E=l(f,m,y,E));let T=0;if(f.lineDecorations.length>0){for(let N=0,F=f.lineDecorations.length;N<F;N++){const O=f.lineDecorations[N];O.type===3||O.type===1?T|=1:O.type===2&&(T|=2)}E=h(m,y,E,f.lineDecorations)}return f.containsRTL||(E=d(m,E,!f.isBasicASCII||f.fontLigatures)),new o(f.useMonospaceOptimizations,f.canUseHalfwidthRightwardsArrow,m,y,C,E,T,f.fauxIndentLength,f.tabSize,f.startVisibleColumn,f.containsRTL,f.spaceWidth,f.renderSpaceCharCode,f.renderWhitespace,f.renderControlCharacters)}function c(f,m,C,y,E){const T=[];let N=0;y>0&&(T[N++]=new I.LinePart(y,"",0,!1));let F=y;for(let O=0,P=C.getCount();O<P;O++){const D=C.getEndOffset(O);if(D<=y)continue;const M=C.getClassName(O);if(D>=E){const B=m?w.containsRTL(f.substring(F,E)):!1;T[N++]=new I.LinePart(E,M,0,B);break}const R=m?w.containsRTL(f.substring(F,D)):!1;T[N++]=new I.LinePart(D,M,0,R),F=D}return T}function d(f,m,C){let y=0;const E=[];let T=0;if(C)for(let N=0,F=m.length;N<F;N++){const O=m[N],P=O.endIndex;if(y+50<P){const D=O.type,M=O.metadata,R=O.containsRTL;let B=-1,W=y;for(let V=y;V<P;V++)f.charCodeAt(V)===32&&(B=V),B!==-1&&V-W>=50&&(E[T++]=new I.LinePart(B+1,D,M,R),W=B+1,B=-1);W!==P&&(E[T++]=new I.LinePart(P,D,M,R))}else E[T++]=O;y=P}else for(let N=0,F=m.length;N<F;N++){const O=m[N],P=O.endIndex,D=P-y;if(D>50){const M=O.type,R=O.metadata,B=O.containsRTL,W=Math.ceil(D/50);for(let V=1;V<W;V++){const A=y+V*50;E[T++]=new I.LinePart(A,M,R,B)}E[T++]=new I.LinePart(P,M,R,B)}else E[T++]=O;y=P}return E}function a(f){return f<32?f!==9:f===127||f>=8234&&f<=8238||f>=8294&&f<=8297||f>=8206&&f<=8207||f===1564}function s(f,m){const C=[];let y=new I.LinePart(0,"",0,!1),E=0;for(const T of m){const N=T.endIndex;for(;E<N;E++){const F=f.charCodeAt(E);a(F)&&(E>y.endIndex&&(y=new I.LinePart(E,T.type,T.metadata,T.containsRTL),C.push(y)),y=new I.LinePart(E+1,"mtkcontrol",T.metadata,!1),C.push(y))}E>y.endIndex&&(y=new I.LinePart(N,T.type,T.metadata,T.containsRTL),C.push(y))}return C}function l(f,m,C,y){const E=f.continuesWithWrappedLine,T=f.fauxIndentLength,N=f.tabSize,F=f.startVisibleColumn,O=f.useMonospaceOptimizations,P=f.selectionsOnLine,D=f.renderWhitespace===1,M=f.renderWhitespace===3,R=f.renderSpaceWidth!==f.spaceWidth,B=[];let W=0,V=0,A=y[V].type,Y=y[V].containsRTL,ee=y[V].endIndex;const U=y.length;let j=!1,Z=w.firstNonWhitespaceIndex(m),ie;Z===-1?(j=!0,Z=C,ie=C):ie=w.lastNonWhitespaceIndex(m);let Q=!1,J=0,de=P&&P[J],x=F%N;for(let te=T;te<C;te++){const q=m.charCodeAt(te);de&&te>=de.endOffset&&(J++,de=P&&P[J]);let oe;if(te<Z||te>ie)oe=!0;else if(q===9)oe=!0;else if(q===32)if(D)if(Q)oe=!0;else{const z=te+1<C?m.charCodeAt(te+1):0;oe=z===32||z===9}else oe=!0;else oe=!1;if(oe&&P&&(oe=!!de&&de.startOffset<=te&&de.endOffset>te),oe&&M&&(oe=j||te>ie),oe&&Y&&te>=Z&&te<=ie&&(oe=!1),Q){if(!oe||!O&&x>=N){if(R){const z=W>0?B[W-1].endIndex:T;for(let X=z+1;X<=te;X++)B[W++]=new I.LinePart(X,"mtkw",1,!1)}else B[W++]=new I.LinePart(te,"mtkw",1,!1);x=x%N}}else(te===ee||oe&&te>T)&&(B[W++]=new I.LinePart(te,A,0,Y),x=x%N);for(q===9?x=N:w.isFullWidthCharacter(q)?x+=2:x++,Q=oe;te===ee&&(V++,V<U);)A=y[V].type,Y=y[V].containsRTL,ee=y[V].endIndex}let ne=!1;if(Q)if(E&&D){const te=C>0?m.charCodeAt(C-1):0,q=C>1?m.charCodeAt(C-2):0;te===32&&q!==32&&q!==9||(ne=!0)}else ne=!0;if(ne)if(R){const te=W>0?B[W-1].endIndex:T;for(let q=te+1;q<=C;q++)B[W++]=new I.LinePart(q,"mtkw",1,!1)}else B[W++]=new I.LinePart(C,"mtkw",1,!1);else B[W++]=new I.LinePart(C,A,0,Y);return B}function h(f,m,C,y){y.sort(k.LineDecoration.compare);const E=k.LineDecorationsNormalizer.normalize(f,y),T=E.length;let N=0;const F=[];let O=0,P=0;for(let M=0,R=C.length;M<R;M++){const B=C[M],W=B.endIndex,V=B.type,A=B.metadata,Y=B.containsRTL;for(;N<T&&E[N].startOffset<W;){const ee=E[N];if(ee.startOffset>P&&(P=ee.startOffset,F[O++]=new I.LinePart(P,V,A,Y)),ee.endOffset+1<=W)P=ee.endOffset+1,F[O++]=new I.LinePart(P,V+" "+ee.className,A|ee.metadata,Y),N++;else{P=W,F[O++]=new I.LinePart(P,V+" "+ee.className,A|ee.metadata,Y);break}}W>P&&(P=W,F[O++]=new I.LinePart(P,V,A,Y))}const D=C[C.length-1].endIndex;if(N<T&&E[N].startOffset===D)for(;N<T&&E[N].startOffset===D;){const M=E[N];F[O++]=new I.LinePart(P,M.className,M.metadata,!1),N++}return F}function p(f,m){const C=f.fontIsMonospace,y=f.canUseHalfwidthRightwardsArrow,E=f.containsForeignElements,T=f.lineContent,N=f.len,F=f.isOverflowing,O=f.parts,P=f.fauxIndentLength,D=f.tabSize,M=f.startVisibleColumn,R=f.containsRTL,B=f.spaceWidth,W=f.renderSpaceCharCode,V=f.renderWhitespace,A=f.renderControlCharacters,Y=new u(N+1,O.length);let ee=!1,U=0,j=M,Z=0,ie=0,Q=0;R?m.appendASCIIString('<span dir="ltr">'):m.appendASCIIString("<span>");for(let J=0,de=O.length;J<de;J++){const x=O[J],ne=x.endIndex,te=x.type,q=x.containsRTL,oe=V!==0&&x.isWhitespace(),z=oe&&!C&&(te==="mtkw"||!E),X=U===ne&&x.isPseudoAfter();if(Z=0,m.appendASCIIString("<span "),q&&m.appendASCIIString('style="unicode-bidi:isolate" '),m.appendASCIIString('class="'),m.appendASCIIString(z?"mtkz":te),m.appendASCII(34),oe){let $=0;{let H=U,K=j;for(;H<ne;H++){const le=(T.charCodeAt(H)===9?D-K%D:1)|0;$+=le,H>=P&&(K+=le)}}for(z&&(m.appendASCIIString(' style="width:'),m.appendASCIIString(String(B*$)),m.appendASCIIString('px"')),m.appendASCII(62);U<ne;U++){Y.setColumnInfo(U+1,J-Q,Z,ie),Q=0;const H=T.charCodeAt(U);let K,ce;if(H===9){K=D-j%D|0,ce=K,!y||ce>1?m.write1(8594):m.write1(65515);for(let le=2;le<=ce;le++)m.write1(160)}else K=2,ce=1,m.write1(W),m.write1(8204);Z+=K,ie+=ce,U>=P&&(j+=ce)}}else for(m.appendASCII(62);U<ne;U++){Y.setColumnInfo(U+1,J-Q,Z,ie),Q=0;const $=T.charCodeAt(U);let H=1,K=1;switch($){case 9:H=D-j%D,K=H;for(let ce=1;ce<=H;ce++)m.write1(160);break;case 32:m.write1(160);break;case 60:m.appendASCIIString("&lt;");break;case 62:m.appendASCIIString("&gt;");break;case 38:m.appendASCIIString("&amp;");break;case 0:A?m.write1(9216):m.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:m.write1(65533);break;default:w.isFullWidthCharacter($)&&K++,A&&$<32?m.write1(9216+$):A&&$===127?m.write1(9249):A&&a($)?(m.appendASCIIString("[U+"),m.appendASCIIString(S($)),m.appendASCIIString("]"),H=8,K=H):m.write1($)}Z+=H,ie+=K,U>=P&&(j+=K)}X?Q++:Q=0,U>=N&&!ee&&x.isPseudoAfter()&&(ee=!0,Y.setColumnInfo(U+1,J,Z,ie)),m.appendASCIIString("</span>")}return ee||Y.setColumnInfo(N+1,O.length-1,Z,ie),F&&m.appendASCIIString("<span>&hellip;</span>"),m.appendASCIIString("</span>"),new g(Y,R,E)}function S(f){return f.toString(16).toUpperCase().padStart(4,"0")}}),define(se[279],re([1,0,6,2,236,28]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class L extends v.Disposable{constructor(){super();this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(I.TokenizationRegistry.onDidChange(b=>{b.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,v.markAsSingleton)(new L)),this._INSTANCE}_updateColorMap(){const b=I.TokenizationRegistry.getColorMap();if(!b){this._colors=[k.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[k.RGBA8.Empty];for(let g=1;g<b.length;g++){const n=b[g].rgba;this._colors[g]=new k.RGBA8(n.r,n.g,n.b,Math.round(n.a*255))}const u=b[2].getRelativeLuminance();this._backgroundIsLight=u>=.5,this._onDidChange.fire(void 0)}getColor(b){return(b<1||b>=this._colors.length)&&(b=2),this._colors[b]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=L,L._INSTANCE=null}),define(se[207],re([1,0,6,2]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class k extends v.Disposable{constructor(){super();this._onEvent=this._register(new w.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(l){this._addOutgoingEvent(l),this._emitOutgoingEvents()}_addOutgoingEvent(l){for(let h=0,p=this._outgoingEvents.length;h<p;h++){const S=this._outgoingEvents[h].kind===l.kind?this._outgoingEvents[h].attemptToMerge(l):null;if(S){this._outgoingEvents[h]=S;return}}this._outgoingEvents.push(l)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const l=this._outgoingEvents.shift();l.isNoOp()||this._onEvent.fire(l)}}addViewEventHandler(l){for(let h=0,p=this._eventHandlers.length;h<p;h++)this._eventHandlers[h]===l&&console.warn("Detected duplicate listener in ViewEventDispatcher",l);this._eventHandlers.push(l)}removeViewEventHandler(l){for(let h=0;h<this._eventHandlers.length;h++)if(this._eventHandlers[h]===l){this._eventHandlers.splice(h,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new I),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const l=this._collector.outgoingEvents,h=this._collector.viewEvents;this._collector=null;for(const p of l)this._addOutgoingEvent(p);h.length>0&&this._emitMany(h)}this._emitOutgoingEvents()}emitSingleViewEvent(l){try{this.beginEmitViewEvents().emitViewEvent(l)}finally{this.endEmitViewEvents()}}_emitMany(l){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(l):this._viewEventQueue=l,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const l=this._viewEventQueue;this._viewEventQueue=null;const h=this._eventHandlers.slice(0);for(const p of h)p.handleEvents(l)}}}e.ViewModelEventDispatcher=k;class I{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(l){this.viewEvents.push(l)}emitOutgoingEvent(l){this.outgoingEvents.push(l)}}e.ViewModelEventsCollector=I;class L{constructor(l,h,p,S){this.kind=0,this._oldContentWidth=l,this._oldContentHeight=h,this.contentWidth=p,this.contentHeight=S,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(l){return l.kind!==this.kind?null:new L(this._oldContentWidth,this._oldContentHeight,l.contentWidth,l.contentHeight)}}e.ContentSizeChangedEvent=L;class _{constructor(l,h){this.kind=1,this.oldHasFocus=l,this.hasFocus=h}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(l){return l.kind!==this.kind?null:new _(this.oldHasFocus,l.hasFocus)}}e.FocusChangedEvent=_;class b{constructor(l,h,p,S,f,m,C,y){this.kind=2,this._oldScrollWidth=l,this._oldScrollLeft=h,this._oldScrollHeight=p,this._oldScrollTop=S,this.scrollWidth=f,this.scrollLeft=m,this.scrollHeight=C,this.scrollTop=y,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(l){return l.kind!==this.kind?null:new b(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop)}}e.ScrollChangedEvent=b;class u{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=u;class g{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=g;class n{constructor(l,h,p,S,f,m,C){this.kind=6,this.oldSelections=l,this.selections=h,this.oldModelVersionId=p,this.modelVersionId=S,this.source=f,this.reason=m,this.reachedMaxCursorCount=C}static _selectionsAreEqual(l,h){if(!l&&!h)return!0;if(!l||!h)return!1;const p=l.length,S=h.length;if(p!==S)return!1;for(let f=0;f<p;f++)if(!l[f].equalsSelection(h[f]))return!1;return!0}isNoOp(){return n._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(l){return l.kind!==this.kind?null:new n(this.oldSelections,l.selections,this.oldModelVersionId,l.modelVersionId,l.source,l.reason,this.reachedMaxCursorCount||l.reachedMaxCursorCount)}}e.CursorStateChangedEvent=n;class i{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=i;class t{constructor(l){this.event=l,this.kind=7}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelDecorationsChangedEvent=t;class o{constructor(l){this.event=l,this.kind=8}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelLanguageChangedEvent=o;class r{constructor(l){this.event=l,this.kind=9}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelLanguageConfigurationChangedEvent=r;class c{constructor(l){this.event=l,this.kind=10}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelContentChangedEvent=c;class d{constructor(l){this.event=l,this.kind=11}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelOptionsChangedEvent=d;class a{constructor(l){this.event=l,this.kind=12}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelTokensChangedEvent=a}),define(se[523],re([1,0,6,2,162,451,74,207]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const b=125;class u{constructor(t,o,r,c){t=t|0,o=o|0,r=r|0,c=c|0,t<0&&(t=0),o<0&&(o=0),r<0&&(r=0),c<0&&(c=0),this.width=t,this.contentWidth=o,this.scrollWidth=Math.max(t,o),this.height=r,this.contentHeight=c,this.scrollHeight=Math.max(r,c)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class g extends v.Disposable{constructor(t,o){super();this._onDidContentSizeChange=this._register(new w.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new u(0,0,0,0),this._scrollable=this._register(new k.Scrollable({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const o=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const r=o.contentWidth!==t.contentWidth,c=o.contentHeight!==t.contentHeight;(r||c)&&this._onDidContentSizeChange.fire(new _.ContentSizeChangedEvent(o.contentWidth,o.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}}class n extends v.Disposable{constructor(t,o,r){super();this._configuration=t;const c=this._configuration.options,d=c.get(133),a=c.get(76);this._linesLayout=new I.LinesLayout(o,c.get(60),a.top,a.bottom),this._scrollable=this._register(new g(0,r)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new u(d.contentWidth,0,d.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(104)?b:0)}onConfigurationChanged(t){const o=this._configuration.options;if(t.hasChanged(60)&&this._linesLayout.setLineHeight(o.get(60)),t.hasChanged(76)){const r=o.get(76);this._linesLayout.setPadding(r.top,r.bottom)}if(t.hasChanged(133)){const r=o.get(133),c=r.contentWidth,d=r.height,a=this._scrollable.getScrollDimensions(),s=a.contentWidth;this._scrollable.setScrollDimensions(new u(c,a.contentWidth,d,this._getContentHeight(c,d,s)))}else this._updateHeight();t.hasChanged(104)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,o){this._linesLayout.onLinesDeleted(t,o)}onLinesInserted(t,o){this._linesLayout.onLinesInserted(t,o)}_getHorizontalScrollbarHeight(t,o){const c=this._configuration.options.get(93);return c.horizontal===2||t>=o?0:c.horizontalScrollbarSize}_getContentHeight(t,o,r){const c=this._configuration.options;let d=this._linesLayout.getLinesTotalHeight();return c.get(95)?d+=Math.max(0,o-c.get(60)-c.get(76).bottom):d+=this._getHorizontalScrollbarHeight(t,r),d}_updateHeight(){const t=this._scrollable.getScrollDimensions(),o=t.width,r=t.height,c=t.contentWidth;this._scrollable.setScrollDimensions(new u(o,t.contentWidth,r,this._getContentHeight(o,r,c)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new L.Viewport(o.scrollTop,o.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new L.Viewport(o.scrollTop,o.scrollLeft,t.width,t.height)}_computeContentWidth(t){const o=this._configuration.options,r=o.get(134),c=o.get(45),d=o.get(133);if(r.isViewportWrapping){const a=o.get(66);return t>d.contentWidth+c.typicalHalfwidthCharacterWidth&&a.enabled&&a.side==="right"?t+d.verticalScrollbarWidth:t}else{const a=o.get(94)*c.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+a+d.verticalScrollbarWidth,s)}}setMaxLineWidth(t){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new u(o.width,this._computeContentWidth(t),o.height,o.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),o=t.scrollTop,r=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),c=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(r);return{scrollTop:o,scrollTopWithoutViewZones:o-c,scrollLeft:t.scrollLeft}}changeWhitespace(t){const o=this._linesLayout.changeWhitespace(t);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(t,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,o)}getVerticalOffsetAfterLineNumber(t,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,o)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const o=this._scrollable.getScrollDimensions();return t+o.height>o.scrollHeight&&(t=o.scrollHeight-o.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+o.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,o){o===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}deltaScrollNow(t,o){const r=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:r.scrollLeft+t,scrollTop:r.scrollTop+o})}}e.ViewLayout=n}),define(se[524],re([1,0,6]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class v{constructor(I,L,_){this.presentationIndex=_,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new w.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new w.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=I,this._color=I,this._colorPresentations=L}get color(){return this._color}set color(I){this._color.equals(I)||(this._color=I,this._onDidChangeColor.fire(I))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(I){this._colorPresentations=I,this.presentationIndex>I.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(I,L){for(let _=0;_<this.colorPresentations.length;_++)if(L.toLowerCase()===this.colorPresentations[_].label){this.presentationIndex=_,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=v}),define(se[525],re([1,0,6,161,106]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class I{constructor(a,s){this._updateEventEmitter=new w.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=a,this._decorationProvider=s,this._regions=new v.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(a){if(!a.length)return;a=a.sort((l,h)=>l.regionIndex-h.regionIndex);const s={};this._decorationProvider.changeDecorations(l=>{let h=0,p=-1,S=-1;const f=m=>{for(;h<m;){const C=this._regions.getEndLineNumber(h),y=this._regions.isCollapsed(h);if(C<=p){const E=this.regions.getSource(h)!==0;l.changeDecorationOptions(this._editorDecorationIds[h],this._decorationProvider.getDecorationOption(y,C<=S,E))}y&&C>S&&(S=C),h++}};for(const m of a){const C=m.regionIndex,y=this._editorDecorationIds[C];if(y&&!s[y]){s[y]=!0,f(C);const E=!this._regions.isCollapsed(C);this._regions.setCollapsed(C,E),p=Math.max(p,this._regions.getEndLineNumber(C))}}f(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:a})}removeManualRanges(a){const s=new Array,l=h=>{for(const p of a)if(!(p.startLineNumber>h.endLineNumber||h.startLineNumber>p.endLineNumber))return!0;return!1};for(let h=0;h<this._regions.length;h++){const p=this._regions.toFoldRange(h);(p.source===0||!l(p))&&s.push(p)}this.updatePost(v.FoldingRegions.fromFoldRanges(s))}update(a,s=[]){const l=this._currentFoldedOrManualRanges(s),h=v.FoldingRegions.sanitizeAndMerge(a,l,this._textModel.getLineCount());this.updatePost(v.FoldingRegions.fromFoldRanges(h))}updatePost(a){const s=[];let l=-1;for(let h=0,p=a.length;h<p;h++){const S=a.getStartLineNumber(h),f=a.getEndLineNumber(h),m=a.isCollapsed(h),C=a.getSource(h)!==0,y={startLineNumber:S,startColumn:this._textModel.getLineMaxColumn(S),endLineNumber:f,endColumn:this._textModel.getLineMaxColumn(f)+1};s.push({range:y,options:this._decorationProvider.getDecorationOption(m,f<=l,C)}),m&&f>l&&(l=f)}this._decorationProvider.changeDecorations(h=>this._editorDecorationIds=h.deltaDecorations(this._editorDecorationIds,s)),this._regions=a,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(a=[]){const s=(h,p)=>{for(const S of a)if(h<S&&S<=p)return!0;return!1},l=[];for(let h=0,p=this._regions.length;h<p;h++){let S=this.regions.isCollapsed(h);const f=this.regions.getSource(h);if(S||f!==0){const m=this._regions.toFoldRange(h),C=this._textModel.getDecorationRange(this._editorDecorationIds[h]);C&&(S&&(s(C.startLineNumber,C.endLineNumber)||C.endLineNumber-C.startLineNumber!=m.endLineNumber-m.startLineNumber)&&(S=!1),l.push({startLineNumber:C.startLineNumber,endLineNumber:C.endLineNumber,type:m.type,isCollapsed:S,source:f}))}}return l}getMemento(){const a=this._currentFoldedOrManualRanges(),s=[];for(let l=0,h=a.length;l<h;l++){const p=a[l],S=this._getLinesChecksum(p.startLineNumber+1,p.endLineNumber);s.push({startLineNumber:p.startLineNumber,endLineNumber:p.endLineNumber,isCollapsed:p.isCollapsed,source:p.source,checksum:S})}return s.length>0?s:void 0}applyMemento(a){var s,l;if(!Array.isArray(a))return;const h=[],p=this._textModel.getLineCount();for(const f of a){if(f.startLineNumber>=f.endLineNumber||f.startLineNumber<1||f.endLineNumber>p)continue;const m=this._getLinesChecksum(f.startLineNumber+1,f.endLineNumber);(!f.checksum||m===f.checksum)&&h.push({startLineNumber:f.startLineNumber,endLineNumber:f.endLineNumber,type:void 0,isCollapsed:(s=f.isCollapsed)!==null&&s!==void 0?s:!0,source:(l=f.source)!==null&&l!==void 0?l:0})}const S=v.FoldingRegions.sanitizeAndMerge(this._regions,h,p);this.updatePost(v.FoldingRegions.fromFoldRanges(S))}_getLinesChecksum(a,s){return(0,k.hash)(this._textModel.getLineContent(a)+this._textModel.getLineContent(s))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(a,s){const l=[];if(this._regions){let h=this._regions.findRange(a),p=1;for(;h>=0;){const S=this._regions.toRegion(h);(!s||s(S,p))&&l.push(S),p++,h=S.parentIndex}}return l}getRegionAtLine(a){if(this._regions){const s=this._regions.findRange(a);if(s>=0)return this._regions.toRegion(s)}return null}getRegionsInside(a,s){const l=[],h=a?a.regionIndex+1:0,p=a?a.endLineNumber:Number.MAX_VALUE;if(s&&s.length===2){const S=[];for(let f=h,m=this._regions.length;f<m;f++){const C=this._regions.toRegion(f);if(this._regions.getStartLineNumber(f)<p){for(;S.length>0&&!C.containedBy(S[S.length-1]);)S.pop();S.push(C),s(C,S.length)&&l.push(C)}else break}}else for(let S=h,f=this._regions.length;S<f;S++){const m=this._regions.toRegion(S);if(this._regions.getStartLineNumber(S)<p)(!s||s(m))&&l.push(m);else break}return l}}e.FoldingModel=I;function L(d,a,s){const l=[];for(const h of s){const p=d.getRegionAtLine(h);if(p){const S=!p.isCollapsed;if(l.push(p),a>1){const f=d.getRegionsInside(p,(m,C)=>m.isCollapsed!==S&&C<a);l.push(...f)}}}d.toggleCollapseState(l)}e.toggleCollapseState=L;function _(d,a,s=Number.MAX_VALUE,l){const h=[];if(l&&l.length>0)for(const p of l){const S=d.getRegionAtLine(p);if(S&&(S.isCollapsed!==a&&h.push(S),s>1)){const f=d.getRegionsInside(S,(m,C)=>m.isCollapsed!==a&&C<s);h.push(...f)}}else{const p=d.getRegionsInside(null,(S,f)=>S.isCollapsed!==a&&f<s);h.push(...p)}d.toggleCollapseState(h)}e.setCollapseStateLevelsDown=_;function b(d,a,s,l){const h=[];for(const p of l){const S=d.getAllRegionsAtLine(p,(f,m)=>f.isCollapsed!==a&&m<=s);h.push(...S)}d.toggleCollapseState(h)}e.setCollapseStateLevelsUp=b;function u(d,a,s){const l=[];for(const h of s){const p=d.getAllRegionsAtLine(h,S=>S.isCollapsed!==a);p.length>0&&l.push(p[0])}d.toggleCollapseState(l)}e.setCollapseStateUp=u;function g(d,a,s,l){const h=(S,f)=>f===a&&S.isCollapsed!==s&&!l.some(m=>S.containsLine(m)),p=d.getRegionsInside(null,h);d.toggleCollapseState(p)}e.setCollapseStateAtLevel=g;function n(d,a,s){const l=[];for(const S of s){const f=d.getAllRegionsAtLine(S,void 0);f.length>0&&l.push(f[0])}const h=S=>l.every(f=>!f.containedBy(S)&&!S.containedBy(f))&&S.isCollapsed!==a,p=d.getRegionsInside(null,h);d.toggleCollapseState(p)}e.setCollapseStateForRest=n;function i(d,a,s){const l=d.textModel,h=d.regions,p=[];for(let S=h.length-1;S>=0;S--)if(s!==h.isCollapsed(S)){const f=h.getStartLineNumber(S);a.test(l.getLineContent(f))&&p.push(h.toRegion(S))}d.toggleCollapseState(p)}e.setCollapseStateForMatchingLines=i;function t(d,a,s){const l=d.regions,h=[];for(let p=l.length-1;p>=0;p--)s!==l.isCollapsed(p)&&a===l.getType(p)&&h.push(l.toRegion(p));d.toggleCollapseState(h)}e.setCollapseStateForType=t;function o(d,a){let s=null;const l=a.getRegionAtLine(d);if(l!==null&&(s=l.startLineNumber,d===s)){const h=l.parentIndex;h!==-1?s=a.regions.getStartLineNumber(h):s=null}return s}e.getParentFoldLine=o;function r(d,a){let s=a.getRegionAtLine(d);if(s!==null&&s.startLineNumber===d){if(d!==s.startLineNumber)return s.startLineNumber;{const l=s.parentIndex;let h=0;for(l!==-1&&(h=a.regions.getStartLineNumber(s.parentIndex));s!==null;)if(s.regionIndex>0){if(s=a.regions.toRegion(s.regionIndex-1),s.startLineNumber<=h)return null;if(s.parentIndex===l)return s.startLineNumber}else return null}}else if(a.regions.length>0)for(s=a.regions.toRegion(a.regions.length-1);s!==null;){if(s.startLineNumber<d)return s.startLineNumber;s.regionIndex>0?s=a.regions.toRegion(s.regionIndex-1):s=null}return null}e.getPreviousFoldLine=r;function c(d,a){let s=a.getRegionAtLine(d);if(s!==null&&s.startLineNumber===d){const l=s.parentIndex;let h=0;if(l!==-1)h=a.regions.getEndLineNumber(s.parentIndex);else{if(a.regions.length===0)return null;h=a.regions.getEndLineNumber(a.regions.length-1)}for(;s!==null;)if(s.regionIndex<a.regions.length){if(s=a.regions.toRegion(s.regionIndex+1),s.startLineNumber>=h)return null;if(s.parentIndex===l)return s.startLineNumber}else return null}else if(a.regions.length>0)for(s=a.regions.toRegion(0);s!==null;){if(s.startLineNumber>d)return s.startLineNumber;s.regionIndex<a.regions.length?s=a.regions.toRegion(s.regionIndex+1):s=null}return null}e.getNextFoldLine=c}),define(se[526],re([1,0,17,6,3,128]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class L{constructor(g){this._updateEventEmitter=new v.Emitter,this._hasLineChanges=!1,this._foldingModel=g,this._foldingModelListener=g.onDidChange(n=>this.updateHiddenRanges()),this._hiddenRanges=[],g.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(g){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=g.changes.some(n=>n.range.endLineNumber!==n.range.startLineNumber||(0,I.countEOL)(n.text)[0]!==0))}updateHiddenRanges(){let g=!1;const n=[];let i=0,t=0,o=Number.MAX_VALUE,r=-1;const c=this._foldingModel.regions;for(;i<c.length;i++){if(!c.isCollapsed(i))continue;const d=c.getStartLineNumber(i)+1,a=c.getEndLineNumber(i);o<=d&&a<=r||(!g&&t<this._hiddenRanges.length&&this._hiddenRanges[t].startLineNumber===d&&this._hiddenRanges[t].endLineNumber===a?(n.push(this._hiddenRanges[t]),t++):(g=!0,n.push(new k.Range(d,1,a,1))),o=d,r=a)}(this._hasLineChanges||g||t<this._hiddenRanges.length)&&this.applyHiddenRanges(n)}applyHiddenRanges(g){this._hiddenRanges=g,this._hasLineChanges=!1,this._updateEventEmitter.fire(g)}hasRanges(){return this._hiddenRanges.length>0}isHidden(g){return b(this._hiddenRanges,g)!==null}adjustSelections(g){let n=!1;const i=this._foldingModel.textModel;let t=null;const o=r=>((!t||!_(r,t))&&(t=b(this._hiddenRanges,r)),t?t.startLineNumber-1:null);for(let r=0,c=g.length;r<c;r++){let d=g[r];const a=o(d.startLineNumber);a&&(d=d.setStartPosition(a,i.getLineMaxColumn(a)),n=!0);const s=o(d.endLineNumber);s&&(d=d.setEndPosition(s,i.getLineMaxColumn(s)),n=!0),g[r]=d}return n}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=L;function _(u,g){return u>=g.startLineNumber&&u<=g.endLineNumber}function b(u,g){const n=(0,w.findFirstInSorted)(u,i=>g<i.startLineNumber)-1;return n>=0&&u[n].endLineNumber>=g?u[n]:null}}),define(se[166],re([1,0,6,2,18]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function I(n,i){return!!n[i]}class L{constructor(i,t){this.target=i.target,this.hasTriggerModifier=I(i.event,t.triggerModifier),this.hasSideBySideModifier=I(i.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}}e.ClickLinkMouseEvent=L;class _{constructor(i,t){this.keyCodeIsTriggerKey=i.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=I(i,t.triggerModifier)}}e.ClickLinkKeyboardEvent=_;class b{constructor(i,t,o,r){this.triggerKey=i,this.triggerModifier=t,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=r}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}}e.ClickLinkOptions=b;function u(n){return n==="altKey"?k.isMacintosh?new b(57,"metaKey",6,"altKey"):new b(5,"ctrlKey",6,"altKey"):k.isMacintosh?new b(6,"altKey",57,"metaKey"):new b(6,"altKey",5,"ctrlKey")}class g extends v.Disposable{constructor(i,t){super();this._onMouseMoveOrRelevantKeyDown=this._register(new w.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new w.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new w.Emitter),this.onCancel=this._onCancel.event,this._editor=i,this._alwaysFireExecuteOnMouseUp=t,this._opts=u(this._editor.getOption(71)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(o=>{if(o.hasChanged(71)){const r=u(this._editor.getOption(71));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(o=>this._onEditorMouseMove(new L(o,this._opts)))),this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(new L(o,this._opts)))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(new L(o,this._opts)))),this._register(this._editor.onKeyDown(o=>this._onEditorKeyDown(new _(o,this._opts)))),this._register(this._editor.onKeyUp(o=>this._onEditorKeyUp(new _(o,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(o=>this._onDidChangeCursorSelection(o))),this._register(this._editor.onDidChangeModel(o=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(o=>{(o.scrollTopChanged||o.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=i.target.position?i.target.position.lineNumber:0}_onEditorMouseUp(i){const t=i.target.position?i.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=g});var _t=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],w;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),w={},v("next"),v("throw"),v("return"),w[Symbol.asyncIterator]=function(){return this},w);function v(I){w[I]=G[I]&&function(L){return new Promise(function(_,b){L=G[I](L),k(_,b,L.done,L.value)})}}function k(I,L,_,b){Promise.resolve(b).then(function(u){I({value:u,done:_})},L)}};define(se[280],re([1,0,10,14,6,2]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class L{constructor(u,g,n){this.value=u,this.isComplete=g,this.hasLoadingMessage=n}}e.HoverResult=L;class _ extends I.Disposable{constructor(u,g){super();this._editor=u,this._computer=g,this._onResult=this._register(new k.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(54).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(u,g=!0){this._state=u,g&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,w.createCancelableAsyncIterable)(u=>this._computer.computeAsync(u)),(()=>Se(this,void 0,void 0,function*(){var u,g;try{try{for(var n=_t(this._asyncIterable),i;i=yield n.next(),!i.done;){const t=i.value;t&&(this._result.push(t),this._fireResult())}}catch(t){u={error:t}}finally{try{i&&!i.done&&(g=n.return)&&(yield g.call(n))}finally{if(u)throw u.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(t){(0,v.onUnexpectedError)(t)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const u=this._state===0,g=this._state===4;this._onResult.fire(new L(this._result.slice(0),u,g))}start(u){if(u===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=_}),define(se[281],re([1,0,14,2,11,3,52,22]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class b{constructor(t,o){this.range=t,this.direction=o}}e.InlayHintAnchor=b;class u{constructor(t,o,r){this.hint=t,this.anchor=o,this.provider=r,this._isResolved=!1}with(t){const o=new u(this.hint,t.anchor,this.provider);return o._isResolved=this._isResolved,o._currentResolve=this._currentResolve,o}resolve(t){return Se(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var o,r;return Se(this,void 0,void 0,function*(){try{const c=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(o=c==null?void 0:c.tooltip)!==null&&o!==void 0?o:this.hint.tooltip,this.hint.label=(r=c==null?void 0:c.label)!==null&&r!==void 0?r:this.hint.label,this._isResolved=!0}catch(c){(0,w.onUnexpectedExternalError)(c),this._isResolved=!1}})}}e.InlayHintItem=u;class g{constructor(t,o,r){this._disposables=new v.DisposableStore,this.ranges=t,this.provider=new Set;const c=[];for(const[d,a]of o){this._disposables.add(d),this.provider.add(a);for(const s of d.hints){const l=r.validatePosition(s.position);let h="before";const p=g._getRangeAtPosition(r,l);let S;p.getStartPosition().isBefore(l)?(S=I.Range.fromPositions(p.getStartPosition(),l),h="after"):(S=I.Range.fromPositions(l,p.getEndPosition()),h="before"),c.push(new u(s,new b(S,h),a))}}this.items=c.sort((d,a)=>k.Position.compare(d.hint.position,a.hint.position))}static create(t,o,r,c){return Se(this,void 0,void 0,function*(){const d=[],a=t.ordered(o).reverse().map(s=>r.map(l=>Se(this,void 0,void 0,function*(){try{const h=yield s.provideInlayHints(o,l,c);(h==null?void 0:h.hints.length)&&d.push([h,s])}catch(h){(0,w.onUnexpectedExternalError)(h)}})));if(yield Promise.all(a.flat()),c.isCancellationRequested||o.isDisposed())throw new w.CancellationError;return new g(r,d,o)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,o){const r=o.lineNumber,c=t.getWordAtPosition(o);if(c)return new I.Range(r,c.startColumn,r,c.endColumn);t.tokenization.tokenizeIfCheap(r);const d=t.tokenization.getLineTokens(r),a=o.column-1,s=d.findTokenIndexAtOffset(a);let l=d.getStartOffset(s),h=d.getEndOffset(s);return h-l==1&&(l===a&&s>1?(l=d.getStartOffset(s-1),h=d.getEndOffset(s-1)):h===a&&s<d.getCount()-1&&(l=d.getStartOffset(s+1),h=d.getEndOffset(s+1))),new I.Range(r,l+1,r,h+1)}}e.InlayHintsFragments=g;function n(i){return _.URI.from({scheme:L.Schemas.command,path:i.id,query:i.arguments&&encodeURIComponent(JSON.stringify(i.arguments))}).toString()}e.asCommandLink=n}),define(se[167],re([1,0,6,2,192]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class I{constructor(g,n,i=0){this.lineNumber=g,this.parts=n,this.additionalReservedLineCount=i}renderForScreenReader(g){if(this.parts.length===0)return"";const n=this.parts[this.parts.length-1],i=g.substr(0,n.column-1);return(0,k.applyEdits)(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(g=>g.lines.length===0)}}e.GhostText=I;class L{constructor(g,n,i){this.column=g,this.lines=n,this.preview=i}}e.GhostTextPart=L;class _{constructor(g,n,i,t,o=0){this.lineNumber=g,this.columnStart=n,this.length=i,this.newLines=t,this.additionalReservedLineCount=o,this.parts=[new L(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(g){return this.newLines.join(`
`)}}e.GhostTextReplacement=_;class b extends v.Disposable{constructor(g){super();this.editor=g,this._expanded=void 0,this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(g.onDidChangeConfiguration(n=>{n.hasChanged(108)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(g){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=b}),define(se[208],re([1,0,149,8,3,167]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=e.minimizeInlineCompletion=void 0;function L(t,o){if(!o)return o;const r=t.getValueInRange(o.range),c=v.commonPrefixLength(r,o.insertText),d=t.getOffsetAt(o.range.getStartPosition())+c,a=t.getPositionAt(d),s=r.substr(c),l=v.commonSuffixLength(s,o.insertText),h=t.getPositionAt(Math.max(d,t.getOffsetAt(o.range.getEndPosition())-l));return{range:k.Range.fromPositions(a,h),insertText:o.insertText.substr(c,o.insertText.length-c-l),snippetInfo:o.snippetInfo,filterText:o.filterText,additionalTextEdits:o.additionalTextEdits}}e.minimizeInlineCompletion=L;function _(t,o){return t===o?!0:!t||!o?!1:t.range.equalsRange(o.range)&&t.insertText===o.insertText&&t.command===o.command}e.normalizedInlineCompletionsEquals=_;function b(t,o,r,c,d=0){if(t.range.startLineNumber!==t.range.endLineNumber)return;const a=o.getLineContent(t.range.startLineNumber),s=v.getLeadingWhitespace(a).length;if(t.range.startColumn-1<=s){const C=v.getLeadingWhitespace(t.insertText).length,y=a.substring(t.range.startColumn-1,s),E=k.Range.fromPositions(t.range.getStartPosition().delta(0,y.length),t.range.getEndPosition()),T=t.insertText.startsWith(y)?t.insertText.substring(y.length):t.insertText.substring(C);t={range:E,insertText:T,command:t.command,snippetInfo:void 0,filterText:t.filterText,additionalTextEdits:t.additionalTextEdits}}const h=o.getValueInRange(t.range),p=g(h,t.insertText);if(!p)return;const S=t.range.startLineNumber,f=new Array;if(r==="prefix"){const C=p.filter(y=>y.originalLength===0);if(C.length>1||C.length===1&&C[0].originalStart!==h.length)return}const m=t.insertText.length-d;for(const C of p){const y=t.range.startColumn+C.originalStart+C.originalLength;if(r==="subwordSmart"&&c&&c.lineNumber===t.range.startLineNumber&&y<c.column||C.originalLength>0)return;if(C.modifiedLength===0)continue;const E=C.modifiedStart+C.modifiedLength,T=Math.max(C.modifiedStart,Math.min(E,m)),N=t.insertText.substring(C.modifiedStart,T),F=t.insertText.substring(T,Math.max(C.modifiedStart,E));if(N.length>0){const O=v.splitLines(N);f.push(new I.GhostTextPart(y,O,!1))}if(F.length>0){const O=v.splitLines(F);f.push(new I.GhostTextPart(y,O,!0))}}return new I.GhostText(S,f,0)}e.inlineCompletionToGhostText=b;let u;function g(t,o){if((u==null?void 0:u.originalValue)===t&&(u==null?void 0:u.newValue)===o)return u==null?void 0:u.changes;{let r=i(t,o,!0);if(r){const c=n(r);if(c>0){const d=i(t,o,!1);d&&n(d)<c&&(r=d)}}return u={originalValue:t,newValue:o,changes:r},r}}function n(t){let o=0;for(const r of t)o+=Math.max(r.originalLength-r.modifiedLength,0);return o}function i(t,o,r){if(t.length>5e3||o.length>5e3)return;function c(p){let S=0;for(let f=0,m=p.length;f<m;f++){const C=p.charCodeAt(f);C>S&&(S=C)}return S}const d=Math.max(c(t),c(o));function a(p){if(p<0)throw new Error("unexpected");return d+p+1}function s(p){let S=0,f=0;const m=new Int32Array(p.length);for(let C=0,y=p.length;C<y;C++)if(r&&p[C]==="("){const E=f*100+S;m[C]=a(2*E),S++}else if(r&&p[C]===")"){S=Math.max(S-1,0);const E=f*100+S;m[C]=a(2*E+1),S===0&&f++}else m[C]=p.charCodeAt(C);return m}const l=s(t),h=s(o);return new w.LcsDiff({getElements:()=>l},{getElements:()=>h}).ComputeDiff(!1).changes}}),define(se[527],re([4,5]),function(G,e){return G.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(se[528],re([4,5]),function(G,e){return G.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(se[529],re([1,0,7,48,75,200,494,42,17,27,489,104,6,107,2,18,8,20,271,528,152]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesContiguousIconAware=e.QuickInputList=e.QuickInputListFocus=void 0;const l=w.$;class h{constructor(F){this.hidden=!1,this._onChecked=new i.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,F)}get checked(){return!!this._checked}set checked(F){F!==this._checked&&(this._checked=F,this._onChecked.fire(F))}dispose(){this._onChecked.dispose()}}class p{get templateId(){return p.ID}renderTemplate(F){const O=Object.create(null);O.toDisposeElement=[],O.toDisposeTemplate=[],O.entry=w.append(F,l(".quick-input-list-entry"));const P=w.append(O.entry,l("label.quick-input-list-label"));O.toDisposeTemplate.push(w.addStandardDisposableListener(P,w.EventType.CLICK,V=>{O.checkbox.offsetParent||V.preventDefault()})),O.checkbox=w.append(P,l("input.quick-input-list-checkbox")),O.checkbox.type="checkbox",O.toDisposeTemplate.push(w.addStandardDisposableListener(O.checkbox,w.EventType.CHANGE,V=>{O.element.checked=O.checkbox.checked}));const D=w.append(P,l(".quick-input-list-rows")),M=w.append(D,l(".quick-input-list-row")),R=w.append(D,l(".quick-input-list-row"));O.label=new I.IconLabel(M,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const B=w.append(M,l(".quick-input-list-entry-keybinding"));O.keybinding=new L.KeybindingLabel(B,r.OS);const W=w.append(R,l(".quick-input-list-label-meta"));return O.detail=new I.IconLabel(W,{supportHighlights:!0,supportIcons:!0}),O.separator=w.append(O.entry,l(".quick-input-list-separator")),O.actionBar=new k.ActionBar(O.entry),O.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),O.toDisposeTemplate.push(O.actionBar),O}renderElement(F,O,P){P.toDisposeElement=(0,o.dispose)(P.toDisposeElement),P.element=F,P.checkbox.checked=F.checked,P.toDisposeElement.push(F.onChecked(V=>P.checkbox.checked=V));const{labelHighlights:D,descriptionHighlights:M,detailHighlights:R}=F,B=Object.create(null);B.matches=D||[],B.descriptionTitle=F.saneDescription,B.descriptionMatches=M||[],B.extraClasses=F.item.iconClasses,B.italic=F.item.italic,B.strikethrough=F.item.strikethrough,P.label.setLabel(F.saneLabel,F.saneDescription,B),P.keybinding.set(F.item.keybinding),F.saneDetail&&P.detail.setLabel(F.saneDetail,void 0,{matches:R,title:F.saneDetail}),F.separator&&F.separator.label?(P.separator.textContent=F.separator.label,P.separator.style.display=""):P.separator.style.display="none",P.entry.classList.toggle("quick-input-list-separator-border",!!F.separator),P.actionBar.clear();const W=F.item.buttons;W&&W.length?(P.actionBar.push(W.map((V,A)=>{let Y=V.iconClass||(V.iconPath?(0,a.getIconClass)(V.iconPath):void 0);V.alwaysVisible&&(Y=Y?`${Y} always-visible`:"always-visible");const ee=new _.Action(`id-${A}`,"",Y,!0,()=>Se(this,void 0,void 0,function*(){F.fireButtonTriggered({button:V,item:F.item})}));return ee.tooltip=V.tooltip||"",ee}),{icon:!0,label:!1}),P.entry.classList.add("has-actions")):P.entry.classList.remove("has-actions")}disposeElement(F,O,P){P.toDisposeElement=(0,o.dispose)(P.toDisposeElement)}disposeTemplate(F){F.toDisposeElement=(0,o.dispose)(F.toDisposeElement),F.toDisposeTemplate=(0,o.dispose)(F.toDisposeTemplate)}}p.ID="listelement";class S{getHeight(F){return F.saneDetail?44:22}getTemplateId(F){return p.ID}}var f;(function(N){N[N.First=1]="First",N[N.Second=2]="Second",N[N.Last=3]="Last",N[N.Next=4]="Next",N[N.Previous=5]="Previous",N[N.NextPage=6]="NextPage",N[N.PreviousPage=7]="PreviousPage"})(f=e.QuickInputListFocus||(e.QuickInputListFocus={}));class m{constructor(F,O,P){this.parent=F,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new i.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new i.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new i.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new i.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new i.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new i.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new i.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=O,this.container=w.append(this.parent,l(".quick-input-list"));const D=new S,M=new T;this.list=P.createList("QuickInput",this.container,D,[new p],{identityProvider:{getId:R=>R.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:M}),this.list.getHTMLElement().id=O,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(R=>{const B=new v.StandardKeyboardEvent(R);switch(B.keyCode){case 10:this.toggleCheckbox();break;case 31:(r.isMacintosh?R.metaKey:R.ctrlKey)&&this.list.setFocus((0,b.range)(this.list.length));break;case 16:{const W=this.list.getFocus();W.length===1&&W[0]===0&&this._onLeave.fire();break}case 18:{const W=this.list.getFocus();W.length===1&&W[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(B)})),this.disposables.push(this.list.onMouseDown(R=>{R.browserEvent.button!==2&&R.browserEvent.preventDefault()})),this.disposables.push(w.addDisposableListener(this.container,w.EventType.CLICK,R=>{(R.x||R.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(R=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(R=>{typeof R.index=="number"&&(R.browserEvent.preventDefault(),this.list.setSelection([R.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return i.Event.map(this.list.onDidChangeFocus,F=>F.elements.map(O=>O.item))}get onDidChangeSelection(){return i.Event.map(this.list.onDidChangeSelection,F=>({items:F.elements.map(O=>O.item),event:F.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(F){this.list.scrollTop=F}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(F,O=!0){for(let P=0,D=F.length;P<D;P++){const M=F[P];if(!M.hidden)if(M.checked)O=!0;else return!1}return O}getCheckedCount(){let F=0;const O=this.elements;for(let P=0,D=O.length;P<D;P++)O[P].checked&&F++;return F}getVisibleCount(){let F=0;const O=this.elements;for(let P=0,D=O.length;P<D;P++)O[P].hidden||F++;return F}setAllVisibleChecked(F){try{this._fireCheckedEvents=!1,this.elements.forEach(O=>{O.hidden||(O.checked=F)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(F){this.elementDisposables=(0,o.dispose)(this.elementDisposables);const O=P=>this.fireButtonTriggered(P);this.inputElements=F,this.elements=F.reduce((P,D,M)=>{var R,B,W;if(D.type!=="separator"){const V=M&&F[M-1],A=D.label&&D.label.replace(/\r?\n/g," "),Y=(0,t.parseLabelWithIcons)(A).text.trim(),ee=D.meta&&D.meta.replace(/\r?\n/g," "),U=D.description&&D.description.replace(/\r?\n/g," "),j=D.detail&&D.detail.replace(/\r?\n/g," "),Z=D.ariaLabel||[A,U,j].map(Q=>(0,u.getCodiconAriaLabel)(Q)).filter(Q=>!!Q).join(", "),ie=this.parent.classList.contains("show-checkboxes");P.push(new h({hasCheckbox:ie,index:M,item:D,saneLabel:A,saneSortLabel:Y,saneMeta:ee,saneAriaLabel:Z,saneDescription:U,saneDetail:j,labelHighlights:(R=D.highlights)===null||R===void 0?void 0:R.label,descriptionHighlights:(B=D.highlights)===null||B===void 0?void 0:B.description,detailHighlights:(W=D.highlights)===null||W===void 0?void 0:W.detail,checked:!1,separator:V&&V.type==="separator"?V:void 0,fireButtonTriggered:O}))}return P},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(P=>P.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((P,D,M)=>(P.set(D.item,M),P),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(F=>F.item)}setFocusedElements(F){if(this.list.setFocus(F.filter(O=>this.elementsToIndexes.has(O)).map(O=>this.elementsToIndexes.get(O))),F.length>0){const O=this.list.getFocus()[0];typeof O=="number"&&this.list.reveal(O)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(F){this.list.setSelection(F.filter(O=>this.elementsToIndexes.has(O)).map(O=>this.elementsToIndexes.get(O)))}getCheckedElements(){return this.elements.filter(F=>F.checked).map(F=>F.item)}setCheckedElements(F){try{this._fireCheckedEvents=!1;const O=new Set;for(const P of F)O.add(P);for(const P of this.elements)P.checked=O.has(P.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(F){this.list.getHTMLElement().style.pointerEvents=F?"":"none"}focus(F){if(!this.list.length)return;switch(F===f.Next&&this.list.getFocus()[0]===this.list.length-1&&(F=f.First),F===f.Previous&&this.list.getFocus()[0]===0&&(F=f.Last),F===f.Second&&this.list.length<2&&(F=f.First),F){case f.First:this.list.focusFirst();break;case f.Second:this.list.focusNth(1);break;case f.Last:this.list.focusLast();break;case f.Next:this.list.focusNext();break;case f.Previous:this.list.focusPrevious();break;case f.NextPage:this.list.focusNextPage();break;case f.PreviousPage:this.list.focusPreviousPage();break}const O=this.list.getFocus()[0];typeof O=="number"&&this.list.reveal(O)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(F){this.list.getHTMLElement().style.maxHeight=F?`calc(${Math.floor(F/44)*44}px)`:"",this.list.layout()}filter(F){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const O=F;if(F=F.trim(),!F||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(D=>{D.labelHighlights=void 0,D.descriptionHighlights=void 0,D.detailHighlights=void 0,D.hidden=!1;const M=D.index&&this.inputElements[D.index-1];D.separator=M&&M.type==="separator"?M:void 0});else{let D;this.elements.forEach(M=>{let R;this.matchOnLabelMode==="fuzzy"?R=this.matchOnLabel?(0,d.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(F,(0,t.parseLabelWithIcons)(M.saneLabel))):void 0:R=this.matchOnLabel?(0,d.withNullAsUndefined)(C(O,(0,t.parseLabelWithIcons)(M.saneLabel))):void 0;const B=this.matchOnDescription?(0,d.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(F,(0,t.parseLabelWithIcons)(M.saneDescription||""))):void 0,W=this.matchOnDetail?(0,d.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(F,(0,t.parseLabelWithIcons)(M.saneDetail||""))):void 0,V=this.matchOnMeta?(0,d.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(F,(0,t.parseLabelWithIcons)(M.saneMeta||""))):void 0;if(R||B||W||V?(M.labelHighlights=R,M.descriptionHighlights=B,M.detailHighlights=W,M.hidden=!1):(M.labelHighlights=void 0,M.descriptionHighlights=void 0,M.detailHighlights=void 0,M.hidden=!M.item.alwaysShow),M.separator=void 0,!this.sortByLabel){const A=M.index&&this.inputElements[M.index-1];D=A&&A.type==="separator"?A:D,D&&!M.hidden&&(M.separator=D,D=void 0)}})}const P=this.elements.filter(D=>!D.hidden);if(this.sortByLabel&&F){const D=F.toLowerCase();P.sort((M,R)=>E(M,R,D))}return this.elementsToIndexes=P.reduce((D,M,R)=>(D.set(M.item,R),D),new Map),this.list.splice(0,this.list.length,P),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(P.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const F=this.list.getFocusedElements(),O=this.allVisibleChecked(F);for(const P of F)P.checked=!O}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(F){this.container.style.display=F?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,o.dispose)(this.elementDisposables),this.disposables=(0,o.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(F){this._onButtonTriggered.fire(F)}style(F){this.list.style(F)}}ke([n.memoize],m.prototype,"onDidChangeFocus",null),ke([n.memoize],m.prototype,"onDidChangeSelection",null),e.QuickInputList=m;function C(N,F){const{text:O,iconOffsets:P}=F;if(!P||P.length===0)return y(N,O);const D=(0,c.ltrim)(O," "),M=O.length-D.length,R=y(N,D);if(R)for(const B of R){const W=P[B.start+M]+M;B.start+=W,B.end+=W}return R}e.matchesContiguousIconAware=C;function y(N,F){const O=F.toLowerCase().indexOf(N.toLowerCase());return O!==-1?[{start:O,end:O+N.length}]:null}function E(N,F,O){const P=N.labelHighlights||[],D=F.labelHighlights||[];return P.length&&!D.length?-1:!P.length&&D.length?1:P.length===0&&D.length===0?0:(0,g.compareAnything)(N.saneSortLabel,F.saneSortLabel,O)}class T{getWidgetAriaLabel(){return(0,s.localize)(0,null)}getAriaLabel(F){var O;return((O=F.separator)===null||O===void 0?void 0:O.label)?`${F.saneAriaLabel}, ${F.separator.label}`:F.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(F){return F.hasCheckbox?"checkbox":"option"}isChecked(F){if(!!F.hasCheckbox)return{value:F.checked,onDidChange:F.onChecked}}}}),define(se[530],re([1,0,7,48,75,493,260,136,496,42,17,10,21,27,6,2,18,82,20,271,228,527,507,529,152]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const f=w.$,m={iconClass:t.Codicon.quickInputBack.classNames,tooltip:(0,h.localize)(0,null),handle:-1};class C extends r.Disposable{constructor(N){super();this.ui=N,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=C.noPromptMessage,this._severity=d.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.onDidHideEmitter=this._register(new o.Emitter),this.onDisposeEmitter=this._register(new o.Emitter),this.visibleDisposables=this._register(new r.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(N){this._title=N,this.update()}get description(){return this._description}set description(N){this._description=N,this.update()}get step(){return this._steps}set step(N){this._steps=N,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(N){this._totalSteps=N,this.update()}get enabled(){return this._enabled}set enabled(N){this._enabled=N,this.update()}get contextKey(){return this._contextKey}set contextKey(N){this._contextKey=N,this.update()}get busy(){return this._busy}set busy(N){this._busy=N,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(N){const F=this._ignoreFocusOut!==N&&!c.isIOS;this._ignoreFocusOut=N&&!c.isIOS,F&&this.update()}get buttons(){return this._buttons}set buttons(N){this._buttons=N,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(N){this._validationMessage=N,this.update()}get severity(){return this._severity}set severity(N){this._severity=N,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(N=>{this.buttons.indexOf(N)!==-1&&this.onDidTriggerButtonEmitter.fire(N)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(N=l.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:N})}update(){if(!this.visible)return;const N=this.getTitle();N&&this.ui.title.textContent!==N?this.ui.title.textContent=N:!N&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const F=this.getDescription();if(this.ui.description1.textContent!==F&&(this.ui.description1.textContent=F),this.ui.description2.textContent!==F&&(this.ui.description2.textContent=F),this.busy&&!this.busyDelay&&(this.busyDelay=new n.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const P=this.buttons.filter(M=>M===m);this.ui.leftActionBar.push(P.map((M,R)=>{const B=new u.Action(`id-${R}`,"",M.iconClass||(0,s.getIconClass)(M.iconPath),!0,()=>Se(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(M)}));return B.tooltip=M.tooltip||"",B}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const D=this.buttons.filter(M=>M!==m);this.ui.rightActionBar.push(D.map((M,R)=>{const B=new u.Action(`id-${R}`,"",M.iconClass||(0,s.getIconClass)(M.iconPath),!0,()=>Se(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(M)}));return B.tooltip=M.tooltip||"",B}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const O=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==O&&(this._lastValidationMessage=O,w.reset(this.ui.message,...(0,_.renderLabelWithIcons)(O))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,h.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(N){if(this.ui.inputBox.showDecoration(N),N!==d.default.Ignore){const F=this.ui.inputBox.stylesForType(N);this.ui.message.style.color=F.foreground?`${F.foreground}`:"",this.ui.message.style.backgroundColor=F.background?`${F.background}`:"",this.ui.message.style.border=F.border?`1px solid ${F.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}C.noPromptMessage=(0,h.localize)(1,null);class y extends C{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new o.Emitter),this.onWillAcceptEmitter=this._register(new o.Emitter),this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?l.ItemActivation.NONE:l.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new o.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new o.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new o.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=N=>N,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(N){this._quickNavigate=N,this.update()}get value(){return this._value}set value(N){this.doSetValue(N)}doSetValue(N,F){this._value!==N&&(this._value=N,F||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(N){this._ariaLabel=N,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(N){this._placeholder=N,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(N){this.ui.list.scrollTop=N}set items(N){this._items=N,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(N){this._canSelectMany=N,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(N){this._canAcceptInBackground=N}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(N){this._matchOnDescription=N,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(N){this._matchOnDetail=N,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(N){this._matchOnLabel=N,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(N){this._matchOnLabelMode=N,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(N){this._sortByLabel=N,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(N){this._autoFocusOnList=N,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(N){this._keepScrollPosition=N}get itemActivation(){return this._itemActivation}set itemActivation(N){this._itemActivation=N}get activeItems(){return this._activeItems}set activeItems(N){this._activeItems=N,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(N){this._selectedItems=N,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?l.NO_KEY_MODS:this.ui.keyMods}set valueSelection(N){this._valueSelection=N,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(N){this._customButton=N,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(N){this._customButtonLabel=N,this.update()}get customHover(){return this._customButtonHover}set customHover(N){this._customButtonHover=N,this.update()}get ok(){return this._ok}set ok(N){this._ok=N,this.update()}get hideInput(){return!!this._hideInput}set hideInput(N){this._hideInput=N,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(S.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(N=>{this.doSetValue(N,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(N=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(N=>{switch(N.keyCode){case 18:this.ui.list.focus(S.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(N,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(S.QuickInputListFocus.Previous):this.ui.list.focus(S.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(N,!0);break;case 12:this.ui.list.focus(S.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(N,!0);break;case 11:this.ui.list.focus(S.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(N,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(N.ctrlKey||N.metaKey)&&!N.shiftKey&&!N.altKey&&(this.ui.list.focus(S.QuickInputListFocus.First),w.EventHelper.stop(N,!0));break;case 13:(N.ctrlKey||N.metaKey)&&!N.shiftKey&&!N.altKey&&(this.ui.list.focus(S.QuickInputListFocus.Last),w.EventHelper.stop(N,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(N=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,g.equals)(N,this._activeItems,(F,O)=>F===O)||(this._activeItems=N,this.onDidChangeActiveEmitter.fire(N))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:N,event:F})=>{if(this.canSelectMany){N.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(N,this._selectedItems,(O,P)=>O===P)||(this._selectedItems=N,this.onDidChangeSelectionEmitter.fire(N),N.length&&this.handleAccept(F instanceof MouseEvent&&F.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(N=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(N,this._selectedItems,(F,O)=>F===O)||(this._selectedItems=N,this.onDidChangeSelectionEmitter.fire(N))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(N=>this.onDidTriggerItemButtonEmitter.fire(N))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(N){let F=!1;this.onWillAcceptEmitter.fire({veto:()=>F=!0}),F||this.onDidAcceptEmitter.fire({inBackground:N})}registerQuickNavigation(){return w.addDisposableListener(this.ui.container,w.EventType.KEY_UP,N=>{if(this.canSelectMany||!this._quickNavigate)return;const F=new v.StandardKeyboardEvent(N),O=F.keyCode;this._quickNavigate.keybindings.some(M=>{const[R,B]=M.getParts();return B?!1:R.shiftKey&&O===4?!(F.ctrlKey||F.altKey||F.metaKey):!!(R.altKey&&O===6||R.ctrlKey&&O===5||R.metaKey&&O===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const N=this.keepScrollPosition?this.scrollTop:0,F=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",F&&!this.description);const O={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!F,progressBar:!F,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(O),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let P=this.ariaLabel;if(P||(P=this.placeholder||y.DEFAULT_ARIA_LABEL,this.title&&(P+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==P&&(this.ui.inputBox.ariaLabel=P),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case l.ItemActivation.NONE:this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.SECOND:this.ui.list.focus(S.QuickInputListFocus.Second),this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.LAST:this.ui.list.focus(S.QuickInputListFocus.Last),this._itemActivation=l.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),O.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(S.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=N)}}y.DEFAULT_ARIA_LABEL=(0,h.localize)(3,null);class E extends r.Disposable{constructor(N){super();this.options=N,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new o.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new o.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=N.idPrefix,this.parentElement=N.container,this.styles=N.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const N=F=>{this.keyMods.ctrlCmd=F.ctrlKey||F.metaKey,this.keyMods.alt=F.altKey};this._register(w.addDisposableListener(window,w.EventType.KEY_DOWN,N,!0)),this._register(w.addDisposableListener(window,w.EventType.KEY_UP,N,!0)),this._register(w.addDisposableListener(window,w.EventType.MOUSE_DOWN,N,!0))}getUI(){if(this.ui)return this.ui;const N=w.append(this.parentElement,f(".quick-input-widget.show-file-icons"));N.tabIndex=-1,N.style.display="none";const F=w.createStyleSheet(N),O=w.append(N,f(".quick-input-titlebar")),P=this._register(new k.ActionBar(O));P.domNode.classList.add("quick-input-left-action-bar");const D=w.append(O,f(".quick-input-title")),M=this._register(new k.ActionBar(O));M.domNode.classList.add("quick-input-right-action-bar");const R=w.append(N,f(".quick-input-description")),B=w.append(N,f(".quick-input-header")),W=w.append(B,f("input.quick-input-check-all"));W.type="checkbox",W.setAttribute("aria-label",(0,h.localize)(4,null)),this._register(w.addStandardDisposableListener(W,w.EventType.CHANGE,z=>{const X=W.checked;te.setAllVisibleChecked(X)})),this._register(w.addDisposableListener(W,w.EventType.CLICK,z=>{(z.x||z.y)&&ee.setFocus()}));const V=w.append(B,f(".quick-input-description")),A=w.append(B,f(".quick-input-and-message")),Y=w.append(A,f(".quick-input-filter")),ee=this._register(new p.QuickInputBox(Y));ee.setAttribute("aria-describedby",`${this.idPrefix}message`);const U=w.append(Y,f(".quick-input-visible-count"));U.setAttribute("aria-live","polite"),U.setAttribute("aria-atomic","true");const j=new L.CountBadge(U,{countFormat:(0,h.localize)(5,null)}),Z=w.append(Y,f(".quick-input-count"));Z.setAttribute("aria-live","polite");const ie=new L.CountBadge(Z,{countFormat:(0,h.localize)(6,null)}),Q=w.append(B,f(".quick-input-action")),J=new I.Button(Q);J.label=(0,h.localize)(7,null),this._register(J.onDidClick(z=>{this.onDidAcceptEmitter.fire()}));const de=w.append(B,f(".quick-input-action")),x=new I.Button(de);x.label=(0,h.localize)(8,null),this._register(x.onDidClick(z=>{this.onDidCustomEmitter.fire()}));const ne=w.append(A,f(`#${this.idPrefix}message.quick-input-message`)),te=this._register(new S.QuickInputList(N,this.idPrefix+"list",this.options));this._register(te.onChangedAllVisibleChecked(z=>{W.checked=z})),this._register(te.onChangedVisibleCount(z=>{j.setCount(z)})),this._register(te.onChangedCheckedCount(z=>{ie.setCount(z)})),this._register(te.onLeave(()=>{setTimeout(()=>{ee.setFocus(),this.controller instanceof y&&this.controller.canSelectMany&&te.clearFocus()},0)})),this._register(te.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const q=new b.ProgressBar(N);q.getContainer().classList.add("quick-input-progress");const oe=w.trackFocus(N);return this._register(oe),this._register(w.addDisposableListener(N,w.EventType.FOCUS,z=>{this.previousFocusElement=z.relatedTarget instanceof HTMLElement?z.relatedTarget:void 0},!0)),this._register(oe.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(l.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(w.addDisposableListener(N,w.EventType.FOCUS,z=>{ee.setFocus()})),this._register(w.addDisposableListener(N,w.EventType.KEY_DOWN,z=>{const X=new v.StandardKeyboardEvent(z);switch(X.keyCode){case 3:w.EventHelper.stop(z,!0),this.onDidAcceptEmitter.fire();break;case 9:w.EventHelper.stop(z,!0),this.hide(l.QuickInputHideReason.Gesture);break;case 2:if(!X.altKey&&!X.ctrlKey&&!X.metaKey){const $=[".action-label.codicon"];N.classList.contains("show-checkboxes")?$.push("input"):$.push("input[type=text]"),this.getUI().list.isDisplayed()&&$.push(".monaco-list");const H=N.querySelectorAll($.join(", "));X.shiftKey&&X.target===H[0]?(w.EventHelper.stop(z,!0),H[H.length-1].focus()):!X.shiftKey&&X.target===H[H.length-1]&&(w.EventHelper.stop(z,!0),H[0].focus())}break}})),this.ui={container:N,styleSheet:F,leftActionBar:P,titleBar:O,title:D,description1:R,description2:V,rightActionBar:M,checkAll:W,filterContainer:Y,inputBox:ee,visibleCountContainer:U,visibleCount:j,countContainer:Z,count:ie,okContainer:Q,ok:J,message:ne,customButtonContainer:de,customButton:x,list:te,progressBar:q,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:z=>this.show(z),hide:()=>this.hide(),setVisibilities:z=>this.setVisibilities(z),setComboboxAccessibility:z=>this.setComboboxAccessibility(z),setEnabled:z=>this.setEnabled(z),setContextKey:z=>this.options.setContextKey(z)},this.updateStyles(),this.ui}pick(N,F={},O=i.CancellationToken.None){return new Promise((P,D)=>{let M=V=>{var A;M=P,(A=F.onKeyMods)===null||A===void 0||A.call(F,R.keyMods),P(V)};if(O.isCancellationRequested){M(void 0);return}const R=this.createQuickPick();let B;const W=[R,R.onDidAccept(()=>{if(R.canSelectMany)M(R.selectedItems.slice()),R.hide();else{const V=R.activeItems[0];V&&(M(V),R.hide())}}),R.onDidChangeActive(V=>{const A=V[0];A&&F.onDidFocus&&F.onDidFocus(A)}),R.onDidChangeSelection(V=>{if(!R.canSelectMany){const A=V[0];A&&(M(A),R.hide())}}),R.onDidTriggerItemButton(V=>F.onDidTriggerItemButton&&F.onDidTriggerItemButton(Object.assign(Object.assign({},V),{removeItem:()=>{const A=R.items.indexOf(V.item);if(A!==-1){const Y=R.items.slice(),ee=Y.splice(A,1),U=R.activeItems.filter(Z=>Z!==ee[0]),j=R.keepScrollPosition;R.keepScrollPosition=!0,R.items=Y,U&&(R.activeItems=U),R.keepScrollPosition=j}}}))),R.onDidChangeValue(V=>{B&&!V&&(R.activeItems.length!==1||R.activeItems[0]!==B)&&(R.activeItems=[B])}),O.onCancellationRequested(()=>{R.hide()}),R.onDidHide(()=>{(0,r.dispose)(W),M(void 0)})];R.title=F.title,R.canSelectMany=!!F.canPickMany,R.placeholder=F.placeHolder,R.ignoreFocusOut=!!F.ignoreFocusLost,R.matchOnDescription=!!F.matchOnDescription,R.matchOnDetail=!!F.matchOnDetail,R.matchOnLabel=F.matchOnLabel===void 0||F.matchOnLabel,R.autoFocusOnList=F.autoFocusOnList===void 0||F.autoFocusOnList,R.quickNavigate=F.quickNavigate,R.hideInput=!!F.hideInput,R.contextKey=F.contextKey,R.busy=!0,Promise.all([N,F.activeItem]).then(([V,A])=>{B=A,R.busy=!1,R.items=V,R.canSelectMany&&(R.selectedItems=V.filter(Y=>Y.type!=="separator"&&Y.picked)),B&&(R.activeItems=[B])}),R.show(),Promise.resolve(N).then(void 0,V=>{D(V),R.hide()})})}createQuickPick(){const N=this.getUI();return new y(N)}show(N){const F=this.getUI();this.onShowEmitter.fire();const O=this.controller;this.controller=N,O==null||O.didHide(),this.setEnabled(!0),F.leftActionBar.clear(),F.title.textContent="",F.description1.textContent="",F.description2.textContent="",F.rightActionBar.clear(),F.checkAll.checked=!1,F.inputBox.placeholder="",F.inputBox.password=!1,F.inputBox.showDecoration(d.default.Ignore),F.visibleCount.setCount(0),F.count.setCount(0),w.reset(F.message),F.progressBar.stop(),F.list.setElements([]),F.list.matchOnDescription=!1,F.list.matchOnDetail=!1,F.list.matchOnLabel=!0,F.list.sortByLabel=!0,F.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),F.inputBox.ariaLabel="";const P=this.options.backKeybindingLabel();m.tooltip=P?(0,h.localize)(9,null,P):(0,h.localize)(10,null),F.container.style.display="",this.updateLayout(),F.inputBox.setFocus()}setVisibilities(N){const F=this.getUI();F.title.style.display=N.title?"":"none",F.description1.style.display=N.description&&(N.inputBox||N.checkAll)?"":"none",F.description2.style.display=N.description&&!(N.inputBox||N.checkAll)?"":"none",F.checkAll.style.display=N.checkAll?"":"none",F.filterContainer.style.display=N.inputBox?"":"none",F.visibleCountContainer.style.display=N.visibleCount?"":"none",F.countContainer.style.display=N.count?"":"none",F.okContainer.style.display=N.ok?"":"none",F.customButtonContainer.style.display=N.customButton?"":"none",F.message.style.display=N.message?"":"none",F.progressBar.getContainer().style.display=N.progressBar?"":"none",F.list.display(!!N.list),F.container.classList[N.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(N){if(N!==this.comboboxAccessibility){const F=this.getUI();this.comboboxAccessibility=N,this.comboboxAccessibility?(F.inputBox.setAttribute("role","combobox"),F.inputBox.setAttribute("aria-haspopup","true"),F.inputBox.setAttribute("aria-autocomplete","list"),F.inputBox.setAttribute("aria-activedescendant",F.list.getActiveDescendant()||"")):(F.inputBox.removeAttribute("role"),F.inputBox.removeAttribute("aria-haspopup"),F.inputBox.removeAttribute("aria-autocomplete"),F.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(N){if(N!==this.enabled){this.enabled=N;for(const F of this.getUI().leftActionBar.viewItems)F.action.enabled=N;for(const F of this.getUI().rightActionBar.viewItems)F.action.enabled=N;this.getUI().checkAll.disabled=!N,this.getUI().ok.enabled=N,this.getUI().list.enabled=N}}hide(N){var F;const O=this.controller;if(O){const P=!((F=this.ui)===null||F===void 0?void 0:F.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!P){let D=this.previousFocusElement;for(;D&&!D.offsetParent;)D=(0,a.withNullAsUndefined)(D.parentElement);(D==null?void 0:D.offsetParent)?(D.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}O.didHide(N)}}layout(N,F){this.dimension=N,this.titleBarOffset=F,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const N=this.ui.container.style,F=Math.min(this.dimension.width*.62,E.MAX_WIDTH);N.width=F+"px",N.marginLeft="-"+F/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(N){this.styles=N,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:N,quickInputBackground:F,quickInputForeground:O,contrastBorder:P,widgetShadow:D}=this.styles.widget;this.ui.titleBar.style.backgroundColor=N?N.toString():"",this.ui.container.style.backgroundColor=F?F.toString():"",this.ui.container.style.color=O?O.toString():"",this.ui.container.style.border=P?`1px solid ${P}`:"",this.ui.container.style.boxShadow=D?`0 0 8px 2px ${D}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const M=[];this.styles.list.pickerGroupBorder&&M.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&M.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(M.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&M.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&M.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&M.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&M.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&M.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),M.push("}"));const R=M.join(`
`);R!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=R)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(se[531],re([4,5]),function(G,e){return G.create("vs/editor/browser/controller/textAreaHandler",e)}),define(se[532],re([4,5]),function(G,e){return G.create("vs/editor/browser/coreCommands",e)}),define(se[533],re([4,5]),function(G,e){return G.create("vs/editor/browser/editorExtensions",e)}),define(se[534],re([4,5]),function(G,e){return G.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(se[535],re([4,5]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(se[536],re([4,5]),function(G,e){return G.create("vs/editor/browser/widget/diffReview",e)}),define(se[537],re([4,5]),function(G,e){return G.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(se[538],re([1,0,537,7,42,2,3,27]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class b extends I.Disposable{constructor(g,n,i,t,o,r){super();this._viewZoneId=g,this._marginDomNode=n,this.editor=i,this.diff=t,this._contextMenuService=o,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=_.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const c=i.getOption(60),d=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${c}px`,this._diffActions.style.lineHeight=`${c}px`,this._marginDomNode.appendChild(this._diffActions);const a=[],s=t.modifiedEndLineNumber===0;a.push(new k.Action("diff.clipboard.copyDeletedContent",s?t.originalEndLineNumber>t.modifiedStartLineNumber?w.localize(0,null):w.localize(1,null):t.originalEndLineNumber>t.modifiedStartLineNumber?w.localize(2,null):w.localize(3,null),void 0,!0,()=>Se(this,void 0,void 0,function*(){const f=new L.Range(t.originalStartLineNumber,1,t.originalEndLineNumber+1,1),m=t.originalModel.getValueInRange(f);yield this._clipboardService.writeText(m)})));let l=0,h;t.originalEndLineNumber>t.modifiedStartLineNumber&&(h=new k.Action("diff.clipboard.copyDeletedLineContent",s?w.localize(4,null,t.originalStartLineNumber):w.localize(5,null,t.originalStartLineNumber),void 0,!0,()=>Se(this,void 0,void 0,function*(){const f=t.originalModel.getLineContent(t.originalStartLineNumber+l);if(f===""){const m=t.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(m===0?`
`:`\r
`)}else yield this._clipboardService.writeText(f)})),a.push(h)),i.getOption(82)||a.push(new k.Action("diff.inline.revertChange",w.localize(6,null),void 0,!0,()=>Se(this,void 0,void 0,function*(){const f=new L.Range(t.originalStartLineNumber,1,t.originalEndLineNumber,t.originalModel.getLineMaxColumn(t.originalEndLineNumber)),m=t.originalModel.getValueInRange(f);if(t.modifiedEndLineNumber===0){const C=i.getModel().getLineMaxColumn(t.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new L.Range(t.modifiedStartLineNumber,C,t.modifiedStartLineNumber,C),text:d+m}])}else{const C=i.getModel().getLineMaxColumn(t.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new L.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber,C),text:m}])}})));const S=(f,m)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:f,y:m}),getActions:()=>(h&&(h.label=s?w.localize(7,null,t.originalStartLineNumber+l):w.localize(8,null,t.originalStartLineNumber+l)),a),autoSelectFirstItem:!0})};this._register(v.addStandardDisposableListener(this._diffActions,"mousedown",f=>{const{top:m,height:C}=v.getDomNodePagePosition(this._diffActions),y=Math.floor(c/3);f.preventDefault(),S(f.posx,m+C+y)})),this._register(i.onMouseMove(f=>{f.target.type===8||f.target.type===5?f.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,l=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,c)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(f=>{!f.event.rightButton||(f.target.type===8||f.target.type===5)&&f.target.detail.viewZoneId===this._viewZoneId&&(f.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,c),S(f.event.posx,f.event.posy+c))}))}get visibility(){return this._visibility}set visibility(g){this._visibility!==g&&(this._visibility=g,g?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(g,n,i){const{top:t}=v.getDomNodePagePosition(g),o=n-t,r=Math.floor(o/i),c=r*i;if(this._diffActions.style.top=`${c}px`,this.diff.viewLineCounts){let d=0;for(let a=0;a<this.diff.viewLineCounts.length;a++)if(d+=this.diff.viewLineCounts[a],r<d)return a}return r}}e.InlineDiffMargin=b}),define(se[539],re([4,5]),function(G,e){return G.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(se[540],re([4,5]),function(G,e){return G.create("vs/editor/common/config/editorOptions",e)}),define(se[38],re([1,0,540,18,130,17,35,154]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class b{constructor(ae){this._values=ae}hasChanged(ae){return this._values[ae]}}e.ConfigurationChangedEvent=b;class u{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=u;class g{constructor(ae,ge,_e,we){this.id=ae,this.name=ge,this.defaultValue=_e,this.schema=we}applyUpdate(ae,ge){return i(ae,ge)}compute(ae,ge,_e){return _e}}class n{constructor(ae,ge){this.newValue=ae,this.didChange=ge}}e.ApplyUpdateResult=n;function i(ue,ae){if(typeof ue!="object"||typeof ae!="object"||!ue||!ae)return new n(ae,ue!==ae);if(Array.isArray(ue)||Array.isArray(ae)){const _e=Array.isArray(ue)&&Array.isArray(ae)&&I.equals(ue,ae);return new n(ae,!_e)}let ge=!1;for(const _e in ae)if(ae.hasOwnProperty(_e)){const we=i(ue[_e],ae[_e]);we.didChange&&(ue[_e]=we.newValue,ge=!0)}return new n(ue,ge)}class t{constructor(ae){this.schema=void 0,this.id=ae,this.name="_never_",this.defaultValue=void 0}applyUpdate(ae,ge){return i(ae,ge)}validate(ae){return this.defaultValue}}class o{constructor(ae,ge,_e,we){this.id=ae,this.name=ge,this.defaultValue=_e,this.schema=we}applyUpdate(ae,ge){return i(ae,ge)}validate(ae){return typeof ae=="undefined"?this.defaultValue:ae}compute(ae,ge,_e){return _e}}function r(ue,ae){return typeof ue=="undefined"?ae:ue==="false"?!1:Boolean(ue)}e.boolean=r;class c extends o{constructor(ae,ge,_e,we=void 0){typeof we!="undefined"&&(we.type="boolean",we.default=_e);super(ae,ge,_e,we)}validate(ae){return r(ae,this.defaultValue)}}function d(ue,ae,ge,_e){if(typeof ue=="undefined")return ae;let we=parseInt(ue,10);return isNaN(we)?ae:(we=Math.max(ge,we),we=Math.min(_e,we),we|0)}e.clampedInt=d;class a extends o{constructor(ae,ge,_e,we,Ee,be=void 0){typeof be!="undefined"&&(be.type="integer",be.default=_e,be.minimum=we,be.maximum=Ee);super(ae,ge,_e,be);this.minimum=we,this.maximum=Ee}static clampedInt(ae,ge,_e,we){return d(ae,ge,_e,we)}validate(ae){return a.clampedInt(ae,this.defaultValue,this.minimum,this.maximum)}}class s extends o{constructor(ae,ge,_e,we,Ee){typeof Ee!="undefined"&&(Ee.type="number",Ee.default=_e);super(ae,ge,_e,Ee);this.validationFn=we}static clamp(ae,ge,_e){return ae<ge?ge:ae>_e?_e:ae}static float(ae,ge){if(typeof ae=="number")return ae;if(typeof ae=="undefined")return ge;const _e=parseFloat(ae);return isNaN(_e)?ge:_e}validate(ae){return this.validationFn(s.float(ae,this.defaultValue))}}class l extends o{static string(ae,ge){return typeof ae!="string"?ge:ae}constructor(ae,ge,_e,we=void 0){typeof we!="undefined"&&(we.type="string",we.default=_e);super(ae,ge,_e,we)}validate(ae){return l.string(ae,this.defaultValue)}}function h(ue,ae,ge){return typeof ue!="string"||ge.indexOf(ue)===-1?ae:ue}e.stringSet=h;class p extends o{constructor(ae,ge,_e,we,Ee=void 0){typeof Ee!="undefined"&&(Ee.type="string",Ee.enum=we,Ee.default=_e);super(ae,ge,_e,Ee);this._allowedValues=we}validate(ae){return h(ae,this.defaultValue,this._allowedValues)}}class S extends g{constructor(ae,ge,_e,we,Ee,be,ve=void 0){typeof ve!="undefined"&&(ve.type="string",ve.enum=Ee,ve.default=we);super(ae,ge,_e,ve);this._allowedValues=Ee,this._convert=be}validate(ae){return typeof ae!="string"?this.defaultValue:this._allowedValues.indexOf(ae)===-1?this.defaultValue:this._convert(ae)}}function f(ue){switch(ue){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class m extends g{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[w.localize(0,null),w.localize(1,null),w.localize(2,null)],default:"auto",description:w.localize(3,null)})}validate(ae){switch(ae){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ae,ge,_e){return _e===0?ae.accessibilitySupport:_e}}class C extends g{constructor(){const ae={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",ae,{"editor.comments.insertSpace":{type:"boolean",default:ae.insertSpace,description:w.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ae.ignoreEmptyLines,description:w.localize(5,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{insertSpace:r(ge.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:r(ge.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function y(ue){switch(ue){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var E;(function(ue){ue[ue.Line=1]="Line",ue[ue.Block=2]="Block",ue[ue.Underline=3]="Underline",ue[ue.LineThin=4]="LineThin",ue[ue.BlockOutline=5]="BlockOutline",ue[ue.UnderlineThin=6]="UnderlineThin"})(E=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function T(ue){switch(ue){case"line":return E.Line;case"block":return E.Block;case"underline":return E.Underline;case"line-thin":return E.LineThin;case"block-outline":return E.BlockOutline;case"underline-thin":return E.UnderlineThin}}class N extends t{constructor(){super(130)}compute(ae,ge,_e){const we=["monaco-editor"];return ge.get(34)&&we.push(ge.get(34)),ae.extraEditorClassName&&we.push(ae.extraEditorClassName),ge.get(67)==="default"?we.push("mouse-default"):ge.get(67)==="copy"&&we.push("mouse-copy"),ge.get(101)&&we.push("showUnused"),ge.get(128)&&we.push("showDeprecated"),we.join(" ")}}class F extends c{constructor(){super(33,"emptySelectionClipboard",!0,{description:w.localize(6,null)})}compute(ae,ge,_e){return _e&&ae.emptySelectionClipboard}}class O extends g{constructor(){const ae={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(36,"find",ae,{"editor.find.cursorMoveOnType":{type:"boolean",default:ae.cursorMoveOnType,description:w.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ae.seedSearchStringFromSelection,enumDescriptions:[w.localize(8,null),w.localize(9,null),w.localize(10,null)],description:w.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ae.autoFindInSelection,enumDescriptions:[w.localize(12,null),w.localize(13,null),w.localize(14,null)],description:w.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ae.globalFindClipboard,description:w.localize(16,null),included:v.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ae.addExtraSpaceOnTop,description:w.localize(17,null)},"editor.find.loop":{type:"boolean",default:ae.loop,description:w.localize(18,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{cursorMoveOnType:r(ge.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof ae.seedSearchStringFromSelection=="boolean"?ae.seedSearchStringFromSelection?"always":"never":h(ge.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof ae.autoFindInSelection=="boolean"?ae.autoFindInSelection?"always":"never":h(ge.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:r(ge.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:r(ge.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:r(ge.loop,this.defaultValue.loop)}}}class P extends g{constructor(){super(46,"fontLigatures",P.OFF,{anyOf:[{type:"boolean",description:w.localize(19,null)},{type:"string",description:w.localize(20,null)}],description:w.localize(21,null),default:!1})}validate(ae){return typeof ae=="undefined"?this.defaultValue:typeof ae=="string"?ae==="false"?P.OFF:ae==="true"?P.ON:ae:Boolean(ae)?P.ON:P.OFF}}e.EditorFontLigatures=P,P.OFF='"liga" off, "calt" off',P.ON='"liga" on, "calt" on';class D extends t{constructor(){super(45)}compute(ae,ge,_e){return ae.fontInfo}}class M extends o{constructor(){super(47,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:w.localize(22,null)})}validate(ae){const ge=s.float(ae,this.defaultValue);return ge===0?e.EDITOR_FONT_DEFAULTS.fontSize:s.clamp(ge,6,100)}compute(ae,ge,_e){return ae.fontInfo.fontSize}}class R extends g{constructor(){super(48,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:R.MINIMUM_VALUE,maximum:R.MAXIMUM_VALUE,errorMessage:w.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:R.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:w.localize(24,null)})}validate(ae){return ae==="normal"||ae==="bold"?ae:String(a.clampedInt(ae,e.EDITOR_FONT_DEFAULTS.fontWeight,R.MINIMUM_VALUE,R.MAXIMUM_VALUE))}}R.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],R.MINIMUM_VALUE=1,R.MAXIMUM_VALUE=1e3;class B extends g{constructor(){const ae={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ge={type:"string",enum:["peek","gotoAndPeek","goto"],default:ae.multiple,enumDescriptions:[w.localize(25,null),w.localize(26,null),w.localize(27,null)]},_e=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(52,"gotoLocation",ae,{"editor.gotoLocation.multiple":{deprecationMessage:w.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:w.localize(29,null)},ge),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:w.localize(30,null)},ge),"editor.gotoLocation.multipleDeclarations":Object.assign({description:w.localize(31,null)},ge),"editor.gotoLocation.multipleImplementations":Object.assign({description:w.localize(32,null)},ge),"editor.gotoLocation.multipleReferences":Object.assign({description:w.localize(33,null)},ge),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ae.alternativeDefinitionCommand,enum:_e,description:w.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ae.alternativeTypeDefinitionCommand,enum:_e,description:w.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ae.alternativeDeclarationCommand,enum:_e,description:w.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ae.alternativeImplementationCommand,enum:_e,description:w.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ae.alternativeReferenceCommand,enum:_e,description:w.localize(38,null)}})}validate(ae){var ge,_e,we,Ee,be;if(!ae||typeof ae!="object")return this.defaultValue;const ve=ae;return{multiple:h(ve.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(ge=ve.multipleDefinitions)!==null&&ge!==void 0?ge:h(ve.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(_e=ve.multipleTypeDefinitions)!==null&&_e!==void 0?_e:h(ve.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(we=ve.multipleDeclarations)!==null&&we!==void 0?we:h(ve.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Ee=ve.multipleImplementations)!==null&&Ee!==void 0?Ee:h(ve.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(be=ve.multipleReferences)!==null&&be!==void 0?be:h(ve.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:l.string(ve.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:l.string(ve.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:l.string(ve.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:l.string(ve.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:l.string(ve.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class W extends g{constructor(){const ae={enabled:!0,delay:300,sticky:!0,above:!0};super(54,"hover",ae,{"editor.hover.enabled":{type:"boolean",default:ae.enabled,description:w.localize(39,null)},"editor.hover.delay":{type:"number",default:ae.delay,minimum:0,maximum:1e4,description:w.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:ae.sticky,description:w.localize(41,null)},"editor.hover.above":{type:"boolean",default:ae.above,description:w.localize(42,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{enabled:r(ge.enabled,this.defaultValue.enabled),delay:a.clampedInt(ge.delay,this.defaultValue.delay,0,1e4),sticky:r(ge.sticky,this.defaultValue.sticky),above:r(ge.above,this.defaultValue.above)}}}class V extends t{constructor(){super(133)}compute(ae,ge,_e){return V.computeLayout(ge,{memory:ae.memory,outerWidth:ae.outerWidth,outerHeight:ae.outerHeight,isDominatedByLongLines:ae.isDominatedByLongLines,lineHeight:ae.fontInfo.lineHeight,viewLineCount:ae.viewLineCount,lineNumbersDigitCount:ae.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ae.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ae.fontInfo.maxDigitWidth,pixelRatio:ae.pixelRatio})}static computeContainedMinimapLineCount(ae){const ge=ae.height/ae.lineHeight,_e=ae.scrollBeyondLastLine?ge-1:0,we=(ae.viewLineCount+_e)/(ae.pixelRatio*ae.height),Ee=Math.floor(ae.viewLineCount/we);return{typicalViewportLineCount:ge,extraLinesBeyondLastLine:_e,desiredRatio:we,minimapLineCount:Ee}}static _computeMinimapLayout(ae,ge){const _e=ae.outerWidth,we=ae.outerHeight,Ee=ae.pixelRatio;if(!ae.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ee*we),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:we};const be=ge.stableMinimapLayoutInput,ve=be&&ae.outerHeight===be.outerHeight&&ae.lineHeight===be.lineHeight&&ae.typicalHalfwidthCharacterWidth===be.typicalHalfwidthCharacterWidth&&ae.pixelRatio===be.pixelRatio&&ae.scrollBeyondLastLine===be.scrollBeyondLastLine&&ae.minimap.enabled===be.minimap.enabled&&ae.minimap.side===be.minimap.side&&ae.minimap.size===be.minimap.size&&ae.minimap.showSlider===be.minimap.showSlider&&ae.minimap.renderCharacters===be.minimap.renderCharacters&&ae.minimap.maxColumn===be.minimap.maxColumn&&ae.minimap.scale===be.minimap.scale&&ae.verticalScrollbarWidth===be.verticalScrollbarWidth&&ae.isViewportWrapping===be.isViewportWrapping,Ie=ae.lineHeight,Me=ae.typicalHalfwidthCharacterWidth,Te=ae.scrollBeyondLastLine,Fe=ae.minimap.renderCharacters;let Pe=Ee>=2?Math.round(ae.minimap.scale*2):ae.minimap.scale;const We=ae.minimap.maxColumn,He=ae.minimap.size,Xe=ae.minimap.side,it=ae.verticalScrollbarWidth,nt=ae.viewLineCount,st=ae.remainingWidth,ze=ae.isViewportWrapping,Ne=Fe?2:3;let Oe=Math.floor(Ee*we);const Ve=Oe/Ee;let xe=!1,Je=!1,Ye=Ne*Pe,$e=Pe/Ee,et=1;if(He==="fill"||He==="fit"){const{typicalViewportLineCount:tt,extraLinesBeyondLastLine:Ge,desiredRatio:Ze,minimapLineCount:ot}=V.computeContainedMinimapLineCount({viewLineCount:nt,scrollBeyondLastLine:Te,height:we,lineHeight:Ie,pixelRatio:Ee});if(nt/ot>1)xe=!0,Je=!0,Pe=1,Ye=1,$e=Pe/Ee;else{let ut=!1,gt=Pe+1;if(He==="fit"){const ct=Math.ceil((nt+Ge)*Ye);ze&&ve&&st<=ge.stableFitRemainingWidth?(ut=!0,gt=ge.stableFitMaxMinimapScale):ut=ct>Oe}if(He==="fill"||ut){xe=!0;const ct=Pe;Ye=Math.min(Ie*Ee,Math.max(1,Math.floor(1/Ze))),ze&&ve&&st<=ge.stableFitRemainingWidth&&(gt=ge.stableFitMaxMinimapScale),Pe=Math.min(gt,Math.max(1,Math.floor(Ye/Ne))),Pe>ct&&(et=Math.min(2,Pe/ct)),$e=Pe/Ee/et,Oe=Math.ceil(Math.max(tt,nt+Ge)*Ye),ze?(ge.stableMinimapLayoutInput=ae,ge.stableFitRemainingWidth=st,ge.stableFitMaxMinimapScale=Pe):(ge.stableMinimapLayoutInput=null,ge.stableFitRemainingWidth=0)}}}const qe=Math.floor(We*$e),Ue=Math.min(qe,Math.max(0,Math.floor((st-it-2)*$e/(Me+$e)))+e.MINIMAP_GUTTER_WIDTH);let Re=Math.floor(Ee*Ue);const Be=Re/Ee;Re=Math.floor(Re*et);const Ke=Fe?1:2,je=Xe==="left"?0:_e-Ue-it;return{renderMinimap:Ke,minimapLeft:je,minimapWidth:Ue,minimapHeightIsEditorHeight:xe,minimapIsSampling:Je,minimapScale:Pe,minimapLineHeight:Ye,minimapCanvasInnerWidth:Re,minimapCanvasInnerHeight:Oe,minimapCanvasOuterWidth:Be,minimapCanvasOuterHeight:Ve}}static computeLayout(ae,ge){const _e=ge.outerWidth|0,we=ge.outerHeight|0,Ee=ge.lineHeight|0,be=ge.lineNumbersDigitCount|0,ve=ge.typicalHalfwidthCharacterWidth,Ie=ge.maxDigitWidth,Me=ge.pixelRatio,Te=ge.viewLineCount,Fe=ae.get(125),Pe=Fe==="inherit"?ae.get(124):Fe,We=Pe==="inherit"?ae.get(120):Pe,He=ae.get(123),Xe=ae.get(2),it=ge.isDominatedByLongLines,nt=ae.get(51),st=ae.get(61).renderType!==0,ze=ae.get(62),Ne=ae.get(95),Oe=ae.get(66),Ve=ae.get(93),xe=Ve.verticalScrollbarSize,Je=Ve.verticalHasArrows,Ye=Ve.arrowSize,$e=Ve.horizontalScrollbarSize,et=ae.get(59),qe=ae.get(38),Ue=ae.get(100)!=="never";let Re;if(typeof et=="string"&&/^\d+(\.\d+)?ch$/.test(et)){const ft=parseFloat(et.substr(0,et.length-2));Re=a.clampedInt(ft*ve,0,0,1e3)}else Re=a.clampedInt(et,0,0,1e3);qe&&Ue&&(Re+=16);let Be=0;if(st){const ft=Math.max(be,ze);Be=Math.round(ft*Ie)}let Ke=0;nt&&(Ke=Ee);let je=0,tt=je+Ke,Ge=tt+Be,Ze=Ge+Re;const ot=_e-Ke-Be-Re;let dt=!1,ut=!1,gt=-1;Xe!==2&&(Pe==="inherit"&&it?(dt=!0,ut=!0):We==="on"||We==="bounded"?ut=!0:We==="wordWrapColumn"&&(gt=He));const ct=V._computeMinimapLayout({outerWidth:_e,outerHeight:we,lineHeight:Ee,typicalHalfwidthCharacterWidth:ve,pixelRatio:Me,scrollBeyondLastLine:Ne,minimap:Oe,verticalScrollbarWidth:xe,viewLineCount:Te,remainingWidth:ot,isViewportWrapping:ut},ge.memory||new u);ct.renderMinimap!==0&&ct.minimapLeft===0&&(je+=ct.minimapWidth,tt+=ct.minimapWidth,Ge+=ct.minimapWidth,Ze+=ct.minimapWidth);const lt=ot-ct.minimapWidth,pt=Math.max(1,Math.floor((lt-xe-2)/ve)),St=Je?Ye:0;return ut&&(gt=Math.max(1,pt),We==="bounded"&&(gt=Math.min(gt,He))),{width:_e,height:we,glyphMarginLeft:je,glyphMarginWidth:Ke,lineNumbersLeft:tt,lineNumbersWidth:Be,decorationsLeft:Ge,decorationsWidth:Re,contentLeft:Ze,contentWidth:lt,minimap:ct,viewportColumn:pt,isWordWrapMinified:dt,isViewportWrapping:ut,wrappingColumn:gt,verticalScrollbarWidth:xe,horizontalScrollbarHeight:$e,overviewRuler:{top:St,width:xe,height:we-2*St,right:0}}}}e.EditorLayoutInfoComputer=V;class A extends g{constructor(){const ae={enabled:!0};super(58,"lightbulb",ae,{"editor.lightbulb.enabled":{type:"boolean",default:ae.enabled,description:w.localize(43,null)}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{enabled:r(ae.enabled,this.defaultValue.enabled)}}}class Y extends g{constructor(){const ae={enabled:!1,maxLineCount:5};super(105,"stickyScroll",ae,{"editor.stickyScroll.enabled":{type:"boolean",default:ae.enabled,description:w.localize(44,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:ae.maxLineCount,minimum:1,maximum:10,description:w.localize(45,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{enabled:r(ge.enabled,this.defaultValue.enabled),maxLineCount:a.clampedInt(ge.maxLineCount,this.defaultValue.maxLineCount,1,10)}}}class ee extends g{constructor(){const ae={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",ae,{"editor.inlayHints.enabled":{type:"string",default:ae.enabled,description:w.localize(46,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[w.localize(47,null),w.localize(48,null,v.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),w.localize(49,null,v.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),w.localize(50,null)]},"editor.inlayHints.fontSize":{type:"number",default:ae.fontSize,markdownDescription:w.localize(51,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:ae.fontFamily,markdownDescription:w.localize(52,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:ae.padding,description:w.localize(53,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return typeof ge.enabled=="boolean"&&(ge.enabled=ge.enabled?"on":"off"),{enabled:h(ge.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:a.clampedInt(ge.fontSize,this.defaultValue.fontSize,0,100),fontFamily:l.string(ge.fontFamily,this.defaultValue.fontFamily),padding:r(ge.padding,this.defaultValue.padding)}}}class U extends s{constructor(){super(60,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,ae=>s.clamp(ae,0,150),{markdownDescription:w.localize(54,null)})}compute(ae,ge,_e){return ae.fontInfo.lineHeight}}class j extends g{constructor(){const ae={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(66,"minimap",ae,{"editor.minimap.enabled":{type:"boolean",default:ae.enabled,description:w.localize(55,null)},"editor.minimap.autohide":{type:"boolean",default:ae.autohide,description:w.localize(56,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[w.localize(57,null),w.localize(58,null),w.localize(59,null)],default:ae.size,description:w.localize(60,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ae.side,description:w.localize(61,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ae.showSlider,description:w.localize(62,null)},"editor.minimap.scale":{type:"number",default:ae.scale,minimum:1,maximum:3,enum:[1,2,3],description:w.localize(63,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ae.renderCharacters,description:w.localize(64,null)},"editor.minimap.maxColumn":{type:"number",default:ae.maxColumn,description:w.localize(65,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{enabled:r(ge.enabled,this.defaultValue.enabled),autohide:r(ge.autohide,this.defaultValue.autohide),size:h(ge.size,this.defaultValue.size,["proportional","fill","fit"]),side:h(ge.side,this.defaultValue.side,["right","left"]),showSlider:h(ge.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:r(ge.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(ge.scale,1,1,3),maxColumn:a.clampedInt(ge.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Z(ue){return ue==="ctrlCmd"?v.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ie extends g{constructor(){super(76,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(66,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(67,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{top:a.clampedInt(ge.top,0,0,1e3),bottom:a.clampedInt(ge.bottom,0,0,1e3)}}}class Q extends g{constructor(){const ae={enabled:!0,cycle:!1};super(77,"parameterHints",ae,{"editor.parameterHints.enabled":{type:"boolean",default:ae.enabled,description:w.localize(68,null)},"editor.parameterHints.cycle":{type:"boolean",default:ae.cycle,description:w.localize(69,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{enabled:r(ge.enabled,this.defaultValue.enabled),cycle:r(ge.cycle,this.defaultValue.cycle)}}}class J extends t{constructor(){super(131)}compute(ae,ge,_e){return ae.pixelRatio}}class de extends g{constructor(){const ae={other:"on",comments:"off",strings:"off"},ge=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[w.localize(70,null),w.localize(71,null),w.localize(72,null)]}];super(80,"quickSuggestions",ae,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:ge,default:ae.strings,description:w.localize(73,null)},comments:{anyOf:ge,default:ae.comments,description:w.localize(74,null)},other:{anyOf:ge,default:ae.other,description:w.localize(75,null)}},default:ae,markdownDescription:w.localize(76,null,"#editor.suggestOnTriggerCharacters#")});this.defaultValue=ae}validate(ae){if(typeof ae=="boolean"){const Me=ae?"on":"off";return{comments:Me,strings:Me,other:Me}}if(!ae||typeof ae!="object")return this.defaultValue;const{other:ge,comments:_e,strings:we}=ae,Ee=["on","inline","off"];let be,ve,Ie;return typeof ge=="boolean"?be=ge?"on":"off":be=h(ge,this.defaultValue.other,Ee),typeof _e=="boolean"?ve=_e?"on":"off":ve=h(_e,this.defaultValue.comments,Ee),typeof we=="boolean"?Ie=we?"on":"off":Ie=h(we,this.defaultValue.strings,Ee),{other:be,comments:ve,strings:Ie}}}class x extends g{constructor(){super(61,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[w.localize(77,null),w.localize(78,null),w.localize(79,null),w.localize(80,null)],default:"on",description:w.localize(81,null)})}validate(ae){let ge=this.defaultValue.renderType,_e=this.defaultValue.renderFn;return typeof ae!="undefined"&&(typeof ae=="function"?(ge=4,_e=ae):ae==="interval"?ge=3:ae==="relative"?ge=2:ae==="on"?ge=1:ge=0),{renderType:ge,renderFn:_e}}}function ne(ue){const ae=ue.get(88);return ae==="editable"?ue.get(82):ae!=="on"}e.filterValidationDecorations=ne;class te extends g{constructor(){const ae=[],ge={type:"number",description:w.localize(82,null)};super(92,"rulers",ae,{type:"array",items:{anyOf:[ge,{type:["object"],properties:{column:ge,color:{type:"string",description:w.localize(83,null),format:"color-hex"}}}]},default:ae,description:w.localize(84,null)})}validate(ae){if(Array.isArray(ae)){const ge=[];for(const _e of ae)if(typeof _e=="number")ge.push({column:a.clampedInt(_e,0,0,1e4),color:null});else if(_e&&typeof _e=="object"){const we=_e;ge.push({column:a.clampedInt(we.column,0,0,1e4),color:we.color})}return ge.sort((_e,we)=>_e.column-we.column),ge}return this.defaultValue}}function q(ue,ae){if(typeof ue!="string")return ae;switch(ue){case"hidden":return 2;case"visible":return 3;default:return 1}}class oe extends g{constructor(){const ae={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(93,"scrollbar",ae,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(85,null),w.localize(86,null),w.localize(87,null)],default:"auto",description:w.localize(88,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(89,null),w.localize(90,null),w.localize(91,null)],default:"auto",description:w.localize(92,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ae.verticalScrollbarSize,description:w.localize(93,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ae.horizontalScrollbarSize,description:w.localize(94,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:ae.scrollByPage,description:w.localize(95,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae,_e=a.clampedInt(ge.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),we=a.clampedInt(ge.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(ge.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:q(ge.vertical,this.defaultValue.vertical),horizontal:q(ge.horizontal,this.defaultValue.horizontal),useShadows:r(ge.useShadows,this.defaultValue.useShadows),verticalHasArrows:r(ge.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:r(ge.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:r(ge.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:r(ge.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:_e,horizontalSliderSize:a.clampedInt(ge.horizontalSliderSize,_e,0,1e3),verticalScrollbarSize:we,verticalSliderSize:a.clampedInt(ge.verticalSliderSize,we,0,1e3),scrollByPage:r(ge.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class z extends g{constructor(){const ae={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",ae,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ae.nonBasicASCII,description:w.localize(96,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:ae.invisibleCharacters,description:w.localize(97,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ae.ambiguousCharacters,description:w.localize(98,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ae.includeComments,description:w.localize(99,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ae.includeStrings,description:w.localize(100,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:ae.allowedCharacters,description:w.localize(101,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:ae.allowedLocales,description:w.localize(102,null)}})}applyUpdate(ae,ge){let _e=!1;ge.allowedCharacters&&ae&&(L.equals(ae.allowedCharacters,ge.allowedCharacters)||(ae=Object.assign(Object.assign({},ae),{allowedCharacters:ge.allowedCharacters}),_e=!0)),ge.allowedLocales&&ae&&(L.equals(ae.allowedLocales,ge.allowedLocales)||(ae=Object.assign(Object.assign({},ae),{allowedLocales:ge.allowedLocales}),_e=!0));const we=super.applyUpdate(ae,ge);return _e?new n(we.newValue,!0):we}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{nonBasicASCII:K(ge.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:r(ge.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:r(ge.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:K(ge.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:K(ge.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(ae.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(ae.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(ae,ge){if(typeof ae!="object"||!ae)return ge;const _e={};for(const[we,Ee]of Object.entries(ae))Ee===!0&&(_e[we]=!0);return _e}}class X extends g{constructor(){const ae={enabled:!0,mode:"subwordSmart"};super(56,"inlineSuggest",ae,{"editor.inlineSuggest.enabled":{type:"boolean",default:ae.enabled,description:w.localize(103,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{enabled:r(ge.enabled,this.defaultValue.enabled),mode:h(ge.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class $ extends g{constructor(){const ae={enabled:_.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:_.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",ae,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ae.enabled,markdownDescription:w.localize(104,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:ae.independentColorPoolPerBracketType,description:w.localize(105,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{enabled:r(ge.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:r(ge.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class H extends g{constructor(){const ae={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",ae,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(106,null),w.localize(107,null),w.localize(108,null)],default:ae.bracketPairs,description:w.localize(109,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(110,null),w.localize(111,null),w.localize(112,null)],default:ae.bracketPairsHorizontal,description:w.localize(113,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ae.highlightActiveBracketPair,description:w.localize(114,null)},"editor.guides.indentation":{type:"boolean",default:ae.indentation,description:w.localize(115,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[w.localize(116,null),w.localize(117,null),w.localize(118,null)],default:ae.highlightActiveIndentation,description:w.localize(119,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{bracketPairs:K(ge.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:K(ge.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:r(ge.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:r(ge.indentation,this.defaultValue.indentation),highlightActiveIndentation:K(ge.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function K(ue,ae,ge){const _e=ge.indexOf(ue);return _e===-1?ae:ge[_e]}class ce extends g{constructor(){const ae={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",ae,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[w.localize(120,null),w.localize(121,null)],default:ae.insertMode,description:w.localize(122,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ae.filterGraceful,description:w.localize(123,null)},"editor.suggest.localityBonus":{type:"boolean",default:ae.localityBonus,description:w.localize(124,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ae.shareSuggestSelections,markdownDescription:w.localize(125,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ae.snippetsPreventQuickSuggestions,description:w.localize(126,null)},"editor.suggest.showIcons":{type:"boolean",default:ae.showIcons,description:w.localize(127,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ae.showStatusBar,description:w.localize(128,null)},"editor.suggest.preview":{type:"boolean",default:ae.preview,description:w.localize(129,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ae.showInlineDetails,description:w.localize(130,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:w.localize(131,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:w.localize(132,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:w.localize(133,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:w.localize(134,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:w.localize(135,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:w.localize(136,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:w.localize(137,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:w.localize(138,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:w.localize(139,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:w.localize(140,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:w.localize(141,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:w.localize(142,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:w.localize(143,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:w.localize(144,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:w.localize(145,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:w.localize(146,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:w.localize(147,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:w.localize(148,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:w.localize(149,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:w.localize(150,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:w.localize(151,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:w.localize(152,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:w.localize(153,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:w.localize(154,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:w.localize(155,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:w.localize(156,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:w.localize(157,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:w.localize(158,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:w.localize(159,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:w.localize(160,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:w.localize(161,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:w.localize(162,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const ge=ae;return{insertMode:h(ge.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:r(ge.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:r(ge.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:r(ge.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:r(ge.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:r(ge.showIcons,this.defaultValue.showIcons),showStatusBar:r(ge.showStatusBar,this.defaultValue.showStatusBar),preview:r(ge.preview,this.defaultValue.preview),previewMode:h(ge.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:r(ge.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:r(ge.showMethods,this.defaultValue.showMethods),showFunctions:r(ge.showFunctions,this.defaultValue.showFunctions),showConstructors:r(ge.showConstructors,this.defaultValue.showConstructors),showDeprecated:r(ge.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:r(ge.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:r(ge.showFields,this.defaultValue.showFields),showVariables:r(ge.showVariables,this.defaultValue.showVariables),showClasses:r(ge.showClasses,this.defaultValue.showClasses),showStructs:r(ge.showStructs,this.defaultValue.showStructs),showInterfaces:r(ge.showInterfaces,this.defaultValue.showInterfaces),showModules:r(ge.showModules,this.defaultValue.showModules),showProperties:r(ge.showProperties,this.defaultValue.showProperties),showEvents:r(ge.showEvents,this.defaultValue.showEvents),showOperators:r(ge.showOperators,this.defaultValue.showOperators),showUnits:r(ge.showUnits,this.defaultValue.showUnits),showValues:r(ge.showValues,this.defaultValue.showValues),showConstants:r(ge.showConstants,this.defaultValue.showConstants),showEnums:r(ge.showEnums,this.defaultValue.showEnums),showEnumMembers:r(ge.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:r(ge.showKeywords,this.defaultValue.showKeywords),showWords:r(ge.showWords,this.defaultValue.showWords),showColors:r(ge.showColors,this.defaultValue.showColors),showFiles:r(ge.showFiles,this.defaultValue.showFiles),showReferences:r(ge.showReferences,this.defaultValue.showReferences),showFolders:r(ge.showFolders,this.defaultValue.showFolders),showTypeParameters:r(ge.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:r(ge.showSnippets,this.defaultValue.showSnippets),showUsers:r(ge.showUsers,this.defaultValue.showUsers),showIssues:r(ge.showIssues,this.defaultValue.showIssues)}}}class le extends g{constructor(){super(103,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:w.localize(163,null),default:!0,type:"boolean"}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:r(ae.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class he extends t{constructor(){super(132)}compute(ae,ge,_e){return ge.get(82)?!0:ae.tabFocusMode}}function me(ue){switch(ue){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Ce extends t{constructor(){super(134)}compute(ae,ge,_e){const we=ge.get(133);return{isDominatedByLongLines:ae.isDominatedByLongLines,isWordWrapMinified:we.isWordWrapMinified,isViewportWrapping:we.isViewportWrapping,wrappingColumn:we.wrappingColumn}}}class Le extends g{constructor(){const ae={enabled:!0};super(32,"dropIntoEditor",ae,{"editor.dropIntoEditor.enabled":{type:"boolean",default:ae.enabled,markdownDescription:w.localize(164,null)}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{enabled:r(ae.enabled,this.defaultValue.enabled)}}}const ye="Consolas, 'Courier New', monospace",De="Menlo, Monaco, 'Courier New', monospace",Ae="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:v.isMacintosh?De:v.isLinux?Ae:ye,fontWeight:"normal",fontSize:v.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function pe(ue){return e.editorOptionsRegistry[ue.id]=ue,ue}e.EditorOptions={acceptSuggestionOnCommitCharacter:pe(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:w.localize(165,null)})),acceptSuggestionOnEnter:pe(new p(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",w.localize(166,null),""],markdownDescription:w.localize(167,null)})),accessibilitySupport:pe(new m),accessibilityPageSize:pe(new a(3,"accessibilityPageSize",10,1,1073741824,{description:w.localize(168,null)})),ariaLabel:pe(new l(4,"ariaLabel",w.localize(169,null))),autoClosingBrackets:pe(new p(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(170,null),w.localize(171,null),""],description:w.localize(172,null)})),autoClosingDelete:pe(new p(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",w.localize(173,null),""],description:w.localize(174,null)})),autoClosingOvertype:pe(new p(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",w.localize(175,null),""],description:w.localize(176,null)})),autoClosingQuotes:pe(new p(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(177,null),w.localize(178,null),""],description:w.localize(179,null)})),autoIndent:pe(new S(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],f,{enumDescriptions:[w.localize(180,null),w.localize(181,null),w.localize(182,null),w.localize(183,null),w.localize(184,null)],description:w.localize(185,null)})),automaticLayout:pe(new c(10,"automaticLayout",!1)),autoSurround:pe(new p(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[w.localize(186,null),w.localize(187,null),w.localize(188,null),""],description:w.localize(189,null)})),bracketPairColorization:pe(new $),bracketPairGuides:pe(new H),stickyTabStops:pe(new c(106,"stickyTabStops",!1,{description:w.localize(190,null)})),codeLens:pe(new c(14,"codeLens",!0,{description:w.localize(191,null)})),codeLensFontFamily:pe(new l(15,"codeLensFontFamily","",{description:w.localize(192,null)})),codeLensFontSize:pe(new a(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:w.localize(193,null)})),colorDecorators:pe(new c(17,"colorDecorators",!0,{description:w.localize(194,null)})),columnSelection:pe(new c(18,"columnSelection",!1,{description:w.localize(195,null)})),comments:pe(new C),contextmenu:pe(new c(20,"contextmenu",!0)),copyWithSyntaxHighlighting:pe(new c(21,"copyWithSyntaxHighlighting",!0,{description:w.localize(196,null)})),cursorBlinking:pe(new S(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],y,{description:w.localize(197,null)})),cursorSmoothCaretAnimation:pe(new c(23,"cursorSmoothCaretAnimation",!1,{description:w.localize(198,null)})),cursorStyle:pe(new S(24,"cursorStyle",E.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:w.localize(199,null)})),cursorSurroundingLines:pe(new a(25,"cursorSurroundingLines",0,0,1073741824,{description:w.localize(200,null)})),cursorSurroundingLinesStyle:pe(new p(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[w.localize(201,null),w.localize(202,null)],description:w.localize(203,null)})),cursorWidth:pe(new a(27,"cursorWidth",0,0,1073741824,{markdownDescription:w.localize(204,null)})),disableLayerHinting:pe(new c(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:pe(new c(29,"disableMonospaceOptimizations",!1)),domReadOnly:pe(new c(30,"domReadOnly",!1)),dragAndDrop:pe(new c(31,"dragAndDrop",!0,{description:w.localize(205,null)})),emptySelectionClipboard:pe(new F),dropIntoEditor:pe(new Le),stickyScroll:pe(new Y),extraEditorClassName:pe(new l(34,"extraEditorClassName","")),fastScrollSensitivity:pe(new s(35,"fastScrollSensitivity",5,ue=>ue<=0?5:ue,{markdownDescription:w.localize(206,null)})),find:pe(new O),fixedOverflowWidgets:pe(new c(37,"fixedOverflowWidgets",!1)),folding:pe(new c(38,"folding",!0,{description:w.localize(207,null)})),foldingStrategy:pe(new p(39,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[w.localize(208,null),w.localize(209,null)],description:w.localize(210,null)})),foldingHighlight:pe(new c(40,"foldingHighlight",!0,{description:w.localize(211,null)})),foldingImportsByDefault:pe(new c(41,"foldingImportsByDefault",!1,{description:w.localize(212,null)})),foldingMaximumRegions:pe(new a(42,"foldingMaximumRegions",5e3,10,65e3,{description:w.localize(213,null)})),unfoldOnClickAfterEndOfLine:pe(new c(43,"unfoldOnClickAfterEndOfLine",!1,{description:w.localize(214,null)})),fontFamily:pe(new l(44,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:w.localize(215,null)})),fontInfo:pe(new D),fontLigatures2:pe(new P),fontSize:pe(new M),fontWeight:pe(new R),formatOnPaste:pe(new c(49,"formatOnPaste",!1,{description:w.localize(216,null)})),formatOnType:pe(new c(50,"formatOnType",!1,{description:w.localize(217,null)})),glyphMargin:pe(new c(51,"glyphMargin",!0,{description:w.localize(218,null)})),gotoLocation:pe(new B),hideCursorInOverviewRuler:pe(new c(53,"hideCursorInOverviewRuler",!1,{description:w.localize(219,null)})),hover:pe(new W),inDiffEditor:pe(new c(55,"inDiffEditor",!1)),letterSpacing:pe(new s(57,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ue=>s.clamp(ue,-5,20),{description:w.localize(220,null)})),lightbulb:pe(new A),lineDecorationsWidth:pe(new o(59,"lineDecorationsWidth",10)),lineHeight:pe(new U),lineNumbers:pe(new x),lineNumbersMinChars:pe(new a(62,"lineNumbersMinChars",5,1,300)),linkedEditing:pe(new c(63,"linkedEditing",!1,{description:w.localize(221,null)})),links:pe(new c(64,"links",!0,{description:w.localize(222,null)})),matchBrackets:pe(new p(65,"matchBrackets","always",["always","near","never"],{description:w.localize(223,null)})),minimap:pe(new j),mouseStyle:pe(new p(67,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:pe(new s(68,"mouseWheelScrollSensitivity",1,ue=>ue===0?1:ue,{markdownDescription:w.localize(224,null)})),mouseWheelZoom:pe(new c(69,"mouseWheelZoom",!1,{markdownDescription:w.localize(225,null)})),multiCursorMergeOverlapping:pe(new c(70,"multiCursorMergeOverlapping",!0,{description:w.localize(226,null)})),multiCursorModifier:pe(new S(71,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Z,{markdownEnumDescriptions:[w.localize(227,null),w.localize(228,null)],markdownDescription:w.localize(229,null)})),multiCursorPaste:pe(new p(72,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[w.localize(230,null),w.localize(231,null)],markdownDescription:w.localize(232,null)})),occurrencesHighlight:pe(new c(73,"occurrencesHighlight",!0,{description:w.localize(233,null)})),overviewRulerBorder:pe(new c(74,"overviewRulerBorder",!0,{description:w.localize(234,null)})),overviewRulerLanes:pe(new a(75,"overviewRulerLanes",3,0,3)),padding:pe(new ie),parameterHints:pe(new Q),peekWidgetDefaultFocus:pe(new p(78,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[w.localize(235,null),w.localize(236,null)],description:w.localize(237,null)})),definitionLinkOpensInPeek:pe(new c(79,"definitionLinkOpensInPeek",!1,{description:w.localize(238,null)})),quickSuggestions:pe(new de),quickSuggestionsDelay:pe(new a(81,"quickSuggestionsDelay",10,0,1073741824,{description:w.localize(239,null)})),readOnly:pe(new c(82,"readOnly",!1)),renameOnType:pe(new c(83,"renameOnType",!1,{description:w.localize(240,null),markdownDeprecationMessage:w.localize(241,null)})),renderControlCharacters:pe(new c(84,"renderControlCharacters",!0,{description:w.localize(242,null),restricted:!0})),renderFinalNewline:pe(new c(85,"renderFinalNewline",!0,{description:w.localize(243,null)})),renderLineHighlight:pe(new p(86,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",w.localize(244,null)],description:w.localize(245,null)})),renderLineHighlightOnlyWhenFocus:pe(new c(87,"renderLineHighlightOnlyWhenFocus",!1,{description:w.localize(246,null)})),renderValidationDecorations:pe(new p(88,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:pe(new p(89,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",w.localize(247,null),w.localize(248,null),w.localize(249,null),""],description:w.localize(250,null)})),revealHorizontalRightPadding:pe(new a(90,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:pe(new c(91,"roundedSelection",!0,{description:w.localize(251,null)})),rulers:pe(new te),scrollbar:pe(new oe),scrollBeyondLastColumn:pe(new a(94,"scrollBeyondLastColumn",4,0,1073741824,{description:w.localize(252,null)})),scrollBeyondLastLine:pe(new c(95,"scrollBeyondLastLine",!0,{description:w.localize(253,null)})),scrollPredominantAxis:pe(new c(96,"scrollPredominantAxis",!0,{description:w.localize(254,null)})),selectionClipboard:pe(new c(97,"selectionClipboard",!0,{description:w.localize(255,null),included:v.isLinux})),selectionHighlight:pe(new c(98,"selectionHighlight",!0,{description:w.localize(256,null)})),selectOnLineNumbers:pe(new c(99,"selectOnLineNumbers",!0)),showFoldingControls:pe(new p(100,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[w.localize(257,null),w.localize(258,null),w.localize(259,null)],description:w.localize(260,null)})),showUnused:pe(new c(101,"showUnused",!0,{description:w.localize(261,null)})),showDeprecated:pe(new c(128,"showDeprecated",!0,{description:w.localize(262,null)})),inlayHints:pe(new ee),snippetSuggestions:pe(new p(102,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[w.localize(263,null),w.localize(264,null),w.localize(265,null),w.localize(266,null)],description:w.localize(267,null)})),smartSelect:pe(new le),smoothScrolling:pe(new c(104,"smoothScrolling",!1,{description:w.localize(268,null)})),stopRenderingLineAfter:pe(new a(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:pe(new ce),inlineSuggest:pe(new X),suggestFontSize:pe(new a(109,"suggestFontSize",0,0,1e3,{markdownDescription:w.localize(269,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:pe(new a(110,"suggestLineHeight",0,0,1e3,{markdownDescription:w.localize(270,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:pe(new c(111,"suggestOnTriggerCharacters",!0,{description:w.localize(271,null)})),suggestSelection:pe(new p(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[w.localize(272,null),w.localize(273,null),w.localize(274,null)],description:w.localize(275,null)})),tabCompletion:pe(new p(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[w.localize(276,null),w.localize(277,null),w.localize(278,null)],description:w.localize(279,null)})),tabIndex:pe(new a(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:pe(new z),unusualLineTerminators:pe(new p(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[w.localize(280,null),w.localize(281,null),w.localize(282,null)],description:w.localize(283,null)})),useShadowDOM:pe(new c(117,"useShadowDOM",!0)),useTabStops:pe(new c(118,"useTabStops",!0,{description:w.localize(284,null)})),wordSeparators:pe(new l(119,"wordSeparators",k.USUAL_WORD_SEPARATORS,{description:w.localize(285,null)})),wordWrap:pe(new p(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[w.localize(286,null),w.localize(287,null),w.localize(288,null),w.localize(289,null)],description:w.localize(290,null)})),wordWrapBreakAfterCharacters:pe(new l(121,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:pe(new l(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:pe(new a(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:w.localize(291,null)})),wordWrapOverride1:pe(new p(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:pe(new p(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:pe(new S(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],me,{enumDescriptions:[w.localize(292,null),w.localize(293,null),w.localize(294,null),w.localize(295,null)],description:w.localize(296,null)})),wrappingStrategy:pe(new p(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[w.localize(297,null),w.localize(298,null)],description:w.localize(299,null)})),editorClassName:pe(new N),pixelRatio:pe(new J),tabFocusMode:pe(new he),layoutInfo:pe(new V),wrappingInfo:pe(new Ce)}}),define(se[541],re([1,0,7,33,8,66,38,11,3,151]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class g{constructor(t,o,r,c,d,a){this.top=t,this.left=o,this.width=r,this.height=c,this.textContent=d,this.textContentClassName=a}}class n{constructor(t){this._context=t;const o=this._context.configuration.options,r=o.get(45);this._cursorStyle=o.get(24),this._lineHeight=o.get(60),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,v.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,I.applyFontInfo)(this._domNode,r),this._domNode.setDisplay("none"),this._position=new _.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const o=this._context.configuration.options,r=o.get(45);return this._cursorStyle=o.get(24),this._lineHeight=o.get(60),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),(0,I.applyFontInfo)(this._domNode,r),!0}onCursorPositionChanged(t){return this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:o}=this._position,r=this._context.viewModel.getLineContent(t),[c,d]=k.getCharContainingOffset(r,o-1);return[new _.Position(t,c+1),r.substring(c,d)]}_prepareRender(t){let o="";const[r,c]=this._getGraphemeAwarePosition();if(this._cursorStyle===L.TextEditorCursorStyle.Line||this._cursorStyle===L.TextEditorCursorStyle.LineThin){const f=t.visibleRangeForPosition(r);if(!f||f.outsideRenderedLine)return null;let m;this._cursorStyle===L.TextEditorCursorStyle.Line?(m=w.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),m>2&&(o=c)):m=w.computeScreenAwareSize(1);let C=f.left;m>=2&&C>=1&&(C-=1);const y=t.getVerticalOffsetForLineNumber(r.lineNumber)-t.bigNumbersDelta;return new g(y,C,m,this._lineHeight,o,"")}const d=t.linesVisibleRangesForRange(new b.Range(r.lineNumber,r.column,r.lineNumber,r.column+c.length),!1);if(!d||d.length===0)return null;const a=d[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const s=a.ranges[0],l=c==="	"?this._typicalHalfwidthCharacterWidth:s.width<1?this._typicalHalfwidthCharacterWidth:s.width;let h="";if(this._cursorStyle===L.TextEditorCursorStyle.Block){const f=this._context.viewModel.getViewLineData(r.lineNumber);o=c;const m=f.tokens.findTokenIndexAtOffset(r.column-1);h=f.tokens.getClassName(m)}let p=t.getVerticalOffsetForLineNumber(r.lineNumber)-t.bigNumbersDelta,S=this._lineHeight;return(this._cursorStyle===L.TextEditorCursorStyle.Underline||this._cursorStyle===L.TextEditorCursorStyle.UnderlineThin)&&(p+=this._lineHeight-2,S=2),new g(p,s.left,l,S,o,h)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=n}),define(se[209],re([1,0,18,38,165]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const I=w.isMacintosh?1.5:1.35,L=8;class _{constructor(g){this._bareFontInfoBrand=void 0,this.pixelRatio=g.pixelRatio,this.fontFamily=String(g.fontFamily),this.fontWeight=String(g.fontWeight),this.fontSize=g.fontSize,this.fontFeatureSettings=g.fontFeatureSettings,this.lineHeight=g.lineHeight|0,this.letterSpacing=g.letterSpacing}static createFromValidatedSettings(g,n,i){const t=g.get(44),o=g.get(48),r=g.get(47),c=g.get(46),d=g.get(60),a=g.get(57);return _._create(t,o,r,c,d,a,n,i)}static _create(g,n,i,t,o,r,c,d){o===0?o=I*i:o<L&&(o=o*i),o=Math.round(o),o<L&&(o=L);const a=1+(d?0:k.EditorZoom.getZoomLevel()*.1);return i*=a,o*=a,new _({pixelRatio:c,fontFamily:g,fontWeight:n,fontSize:i,fontFeatureSettings:t,lineHeight:o,letterSpacing:r})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const g=v.EDITOR_FONT_DEFAULTS.fontFamily,n=_._wrapInQuotes(this.fontFamily);return g&&this.fontFamily!==g?`${n}, ${g}`:n}static _wrapInQuotes(g){return/[,"']/.test(g)?g:/[+ ]/.test(g)?`"${g}"`:g}}e.BareFontInfo=_,e.SERIALIZED_FONT_INFO_VERSION=1;class b extends _{constructor(g,n){super(g);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=n,this.isMonospace=g.isMonospace,this.typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=g.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=g.canUseHalfwidthRightwardsArrow,this.spaceWidth=g.spaceWidth,this.middotWidth=g.middotWidth,this.wsmiddotWidth=g.wsmiddotWidth,this.maxDigitWidth=g.maxDigitWidth}equals(g){return this.fontFamily===g.fontFamily&&this.fontWeight===g.fontWeight&&this.fontSize===g.fontSize&&this.fontFeatureSettings===g.fontFeatureSettings&&this.lineHeight===g.lineHeight&&this.letterSpacing===g.letterSpacing&&this.typicalHalfwidthCharacterWidth===g.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===g.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.maxDigitWidth===g.maxDigitWidth}}e.FontInfo=b}),define(se[282],re([1,0,41,6,2,405,38,209]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=void 0;class b extends k.Disposable{constructor(){super();this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new u,this._onDidChange.fire()}_writeToCache(n,i){this._cache.put(n,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const n=this._cache.getValues();let i=!1;for(const t of n)t.isTrusted||(i=!0,this._cache.remove(t));i&&this._onDidChange.fire()}readFontInfo(n){if(!this._cache.has(n)){let i=this._actualReadFontInfo(n);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new _.FontInfo({pixelRatio:w.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(n,i)}return this._cache.get(n)}_createRequest(n,i,t,o){const r=new I.CharWidthRequest(n,i);return t.push(r),o==null||o.push(r),r}_actualReadFontInfo(n){const i=[],t=[],o=this._createRequest("n",0,i,t),r=this._createRequest("\uFF4D",0,i,null),c=this._createRequest(" ",0,i,t),d=this._createRequest("0",0,i,t),a=this._createRequest("1",0,i,t),s=this._createRequest("2",0,i,t),l=this._createRequest("3",0,i,t),h=this._createRequest("4",0,i,t),p=this._createRequest("5",0,i,t),S=this._createRequest("6",0,i,t),f=this._createRequest("7",0,i,t),m=this._createRequest("8",0,i,t),C=this._createRequest("9",0,i,t),y=this._createRequest("\u2192",0,i,t),E=this._createRequest("\uFFEB",0,i,null),T=this._createRequest("\xB7",0,i,t),N=this._createRequest(String.fromCharCode(11825),0,i,null),F="|/-_ilm%";for(let R=0,B=F.length;R<B;R++)this._createRequest(F.charAt(R),0,i,t),this._createRequest(F.charAt(R),1,i,t),this._createRequest(F.charAt(R),2,i,t);(0,I.readCharWidths)(n,i);const O=Math.max(d.width,a.width,s.width,l.width,h.width,p.width,S.width,f.width,m.width,C.width);let P=n.fontFeatureSettings===L.EditorFontLigatures.OFF;const D=t[0].width;for(let R=1,B=t.length;P&&R<B;R++){const W=D-t[R].width;if(W<-.001||W>.001){P=!1;break}}let M=!0;return P&&E.width!==D&&(M=!1),E.width>y.width&&(M=!1),new _.FontInfo({pixelRatio:w.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:P,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:M,spaceWidth:c.width,middotWidth:T.width,wsmiddotWidth:N.width,maxDigitWidth:O},!0)}}class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const i=n.getId();return!!this._values[i]}get(n){const i=n.getId();return this._values[i]}put(n,i){const t=n.getId();this._keys[t]=n,this._values[t]=i}remove(n){const i=n.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}e.FontMeasurements=new b}),define(se[283],re([1,0,11,3,74,38]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class L{constructor(i,t,o,r,c){this._cachedOnlyMinimapDecorations=null,this.editorId=i,this.model=t,this.configuration=o,this._linesCollection=r,this._coordinatesConverter=c,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(i){const t=i.id;let o=this._decorationsCache[t];if(!o){const r=i.range,c=i.options;let d;if(c.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new w.Position(r.startLineNumber,1),0),s=this._coordinatesConverter.convertModelPositionToViewPosition(new w.Position(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);d=new v.Range(a.lineNumber,a.column,s.lineNumber,s.column)}else d=this._coordinatesConverter.convertModelRangeToViewRange(r,1);o=new k.ViewModelDecoration(d,c),this._decorationsCache[t]=o}return o}getDecorationsViewportData(i,t=!1){let o=this._cachedModelDecorationsResolver!==null;return o=o&&i.equalsRange(this._cachedModelDecorationsResolverViewRange),o=o&&this._cachedOnlyMinimapDecorations===t,o||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(i,t),this._cachedModelDecorationsResolverViewRange=i,this._cachedOnlyMinimapDecorations=t),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(i,t=!1){const o=new v.Range(i,this._linesCollection.getViewLineMinColumn(i),i,this._linesCollection.getViewLineMaxColumn(i));return this._getDecorationsInRange(o,t).inlineDecorations[0]}_getDecorationsInRange(i,t){const o=this._linesCollection.getDecorationsInRange(i,this.editorId,(0,I.filterValidationDecorations)(this.configuration.options),t),r=i.startLineNumber,c=i.endLineNumber,d=[];let a=0;const s=[];for(let l=r;l<=c;l++)s[l-r]=[];for(let l=0,h=o.length;l<h;l++){const p=o[l],S=p.options;if(!_(this.model,p))continue;const f=this._getOrCreateViewModelDecoration(p),m=f.range;if(d[a++]=f,S.inlineClassName){const C=new k.InlineDecoration(m,S.inlineClassName,S.inlineClassNameAffectsLetterSpacing?3:0),y=Math.max(r,m.startLineNumber),E=Math.min(c,m.endLineNumber);for(let T=y;T<=E;T++)s[T-r].push(C)}if(S.beforeContentClassName&&r<=m.startLineNumber&&m.startLineNumber<=c){const C=new k.InlineDecoration(new v.Range(m.startLineNumber,m.startColumn,m.startLineNumber,m.startColumn),S.beforeContentClassName,1);s[m.startLineNumber-r].push(C)}if(S.afterContentClassName&&r<=m.endLineNumber&&m.endLineNumber<=c){const C=new k.InlineDecoration(new v.Range(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn),S.afterContentClassName,2);s[m.endLineNumber-r].push(C)}}return{decorations:d,inlineDecorations:s}}}e.ViewModelDecorations=L;function _(n,i){return!(i.options.hideInCommentTokens&&b(n,i)||i.options.hideInStringTokens&&u(n,i))}e.isModelDecorationVisible=_;function b(n,i){return g(n,i.range,t=>t===1)}e.isModelDecorationInComment=b;function u(n,i){return g(n,i.range,t=>t===2)}e.isModelDecorationInString=u;function g(n,i,t){for(let o=i.startLineNumber;o<=i.endLineNumber;o++){const r=n.tokenization.getLineTokens(o),c=o===i.startLineNumber,d=o===i.endLineNumber;let a=c?r.findTokenIndexAtOffset(i.startColumn-1):0;for(;a<r.getCount()&&!(d&&r.getStartOffset(a)>i.endColumn-1);){if(!t(r.getStandardTokenType(a)))return!1;a++}}return!0}}),define(se[542],re([4,5]),function(G,e){return G.create("vs/editor/common/core/editorColorRegistry",e)}),define(se[543],re([4,5]),function(G,e){return G.create("vs/editor/common/editorContextKeys",e)}),define(se[544],re([4,5]),function(G,e){return G.create("vs/editor/common/languages/modesRegistry",e)}),define(se[545],re([4,5]),function(G,e){return G.create("vs/editor/common/model/editStack",e)}),define(se[284],re([1,0,545,14,23,22,275,123,43]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function u(c){return c.toString()}class g{constructor(d,a,s,l,h,p,S){this.beforeVersionId=d,this.afterVersionId=a,this.beforeEOL=s,this.afterEOL=l,this.beforeCursorState=h,this.afterCursorState=p,this.changes=S}static create(d,a){const s=d.getAlternativeVersionId(),l=t(d);return new g(s,s,l,l,a,a,[])}append(d,a,s,l,h){a.length>0&&(this.changes=(0,L.compressConsecutiveTextChanges)(this.changes,a)),this.afterEOL=s,this.afterVersionId=l,this.afterCursorState=h}static _writeSelectionsSize(d){return 4+4*4*(d?d.length:0)}static _writeSelections(d,a,s){if(_.writeUInt32BE(d,a?a.length:0,s),s+=4,a)for(const l of a)_.writeUInt32BE(d,l.selectionStartLineNumber,s),s+=4,_.writeUInt32BE(d,l.selectionStartColumn,s),s+=4,_.writeUInt32BE(d,l.positionLineNumber,s),s+=4,_.writeUInt32BE(d,l.positionColumn,s),s+=4;return s}static _readSelections(d,a,s){const l=_.readUInt32BE(d,a);a+=4;for(let h=0;h<l;h++){const p=_.readUInt32BE(d,a);a+=4;const S=_.readUInt32BE(d,a);a+=4;const f=_.readUInt32BE(d,a);a+=4;const m=_.readUInt32BE(d,a);a+=4,s.push(new k.Selection(p,S,f,m))}return a}serialize(){let d=4+4+1+1+g._writeSelectionsSize(this.beforeCursorState)+g._writeSelectionsSize(this.afterCursorState)+4;for(const l of this.changes)d+=l.writeSize();const a=new Uint8Array(d);let s=0;_.writeUInt32BE(a,this.beforeVersionId,s),s+=4,_.writeUInt32BE(a,this.afterVersionId,s),s+=4,_.writeUInt8(a,this.beforeEOL,s),s+=1,_.writeUInt8(a,this.afterEOL,s),s+=1,s=g._writeSelections(a,this.beforeCursorState,s),s=g._writeSelections(a,this.afterCursorState,s),_.writeUInt32BE(a,this.changes.length,s),s+=4;for(const l of this.changes)s=l.write(a,s);return a.buffer}static deserialize(d){const a=new Uint8Array(d);let s=0;const l=_.readUInt32BE(a,s);s+=4;const h=_.readUInt32BE(a,s);s+=4;const p=_.readUInt8(a,s);s+=1;const S=_.readUInt8(a,s);s+=1;const f=[];s=g._readSelections(a,s,f);const m=[];s=g._readSelections(a,s,m);const C=_.readUInt32BE(a,s);s+=4;const y=[];for(let E=0;E<C;E++)s=L.TextChange.read(a,s,y);return new g(l,h,p,S,f,m,y)}}e.SingleModelEditStackData=g;class n{constructor(d,a,s,l){this.label=d,this.code=a,this.model=s,this._data=g.create(s,l)}get type(){return 0}get resource(){return I.URI.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map(a=>a.toString()).join(", ")}matchesResource(d){return(I.URI.isUri(this.model)?this.model:this.model.uri).toString()===d.toString()}setModel(d){this.model=d}canAppend(d){return this.model===d&&this._data instanceof g}append(d,a,s,l,h){this._data instanceof g&&this._data.append(d,a,s,l,h)}close(){this._data instanceof g&&(this._data=this._data.serialize())}open(){this._data instanceof g||(this._data=g.deserialize(this._data))}undo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const d=g.deserialize(this._data);this.model._applyUndo(d.changes,d.beforeEOL,d.beforeVersionId,d.beforeCursorState)}redo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const d=g.deserialize(this._data);this.model._applyRedo(d.changes,d.afterEOL,d.afterVersionId,d.afterCursorState)}heapSize(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=n;class i{constructor(d,a,s){this.label=d,this.code=a,this.type=1,this._isOpen=!0,this._editStackElementsArr=s.slice(0),this._editStackElementsMap=new Map;for(const l of this._editStackElementsArr){const h=u(l.resource);this._editStackElementsMap.set(h,l)}this._delegate=null}get resources(){return this._editStackElementsArr.map(d=>d.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(d){const a=u(d);return this._editStackElementsMap.has(a)}setModel(d){const a=u(I.URI.isUri(d)?d:d.uri);this._editStackElementsMap.has(a)&&this._editStackElementsMap.get(a).setModel(d)}canAppend(d){if(!this._isOpen)return!1;const a=u(d.uri);return this._editStackElementsMap.has(a)?this._editStackElementsMap.get(a).canAppend(d):!1}append(d,a,s,l,h){const p=u(d.uri);this._editStackElementsMap.get(p).append(d,a,s,l,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const d of this._editStackElementsArr)d.undo()}redo(){for(const d of this._editStackElementsArr)d.redo()}heapSize(d){const a=u(d);return this._editStackElementsMap.has(a)?this._editStackElementsMap.get(a).heapSize():0}split(){return this._editStackElementsArr}toString(){const d=[];for(const a of this._editStackElementsArr)d.push(`${(0,b.basename)(a.resource)}: ${a}`);return`{${d.join(", ")}}`}}e.MultiModelEditStackElement=i;function t(c){return c.getEOL()===`
`?0:1}function o(c){return c?c instanceof n||c instanceof i:!1}e.isEditStackElement=o;class r{constructor(d,a){this._model=d,this._undoRedoService=a}pushStackElement(){const d=this._undoRedoService.getLastElement(this._model.uri);o(d)&&d.close()}popStackElement(){const d=this._undoRedoService.getLastElement(this._model.uri);o(d)&&d.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(d){const a=this._undoRedoService.getLastElement(this._model.uri);if(o(a)&&a.canAppend(this._model))return a;const s=new n(w.localize(0,null),"undoredo.textBufferEdit",this._model,d);return this._undoRedoService.pushElement(s),s}pushEOL(d){const a=this._getOrCreateEditStackElement(null);this._model.setEOL(d),a.append(this._model,[],t(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(d,a,s){const l=this._getOrCreateEditStackElement(d),h=this._model.applyEdits(a,!0),p=r._computeCursorState(s,h),S=h.map((f,m)=>({index:m,textChange:f.textChange}));return S.sort((f,m)=>f.textChange.oldPosition===m.textChange.oldPosition?f.index-m.index:f.textChange.oldPosition-m.textChange.oldPosition),l.append(this._model,S.map(f=>f.textChange),t(this._model),this._model.getAlternativeVersionId(),p),p}static _computeCursorState(d,a){try{return d?d(a):null}catch(s){return(0,v.onUnexpectedError)(s),null}}}e.EditStack=r}),define(se[546],re([4,5]),function(G,e){return G.create("vs/editor/common/standaloneStrings",e)}),define(se[77],re([1,0,546]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var v;(function(i){i.noSelection=w.localize(0,null),i.singleSelectionRange=w.localize(1,null),i.singleSelection=w.localize(2,null),i.multiSelectionRange=w.localize(3,null),i.multiSelection=w.localize(4,null),i.emergencyConfOn=w.localize(5,null),i.openingDocs=w.localize(6,null),i.readonlyDiffEditor=w.localize(7,null),i.editableDiffEditor=w.localize(8,null),i.readonlyEditor=w.localize(9,null),i.editableEditor=w.localize(10,null),i.changeConfigToOnMac=w.localize(11,null),i.changeConfigToOnWinLinux=w.localize(12,null),i.auto_on=w.localize(13,null),i.auto_off=w.localize(14,null),i.tabFocusModeOnMsg=w.localize(15,null),i.tabFocusModeOnMsgNoKb=w.localize(16,null),i.tabFocusModeOffMsg=w.localize(17,null),i.tabFocusModeOffMsgNoKb=w.localize(18,null),i.openDocMac=w.localize(19,null),i.openDocWinLinux=w.localize(20,null),i.outroMsg=w.localize(21,null),i.showAccessibilityHelpAction=w.localize(22,null)})(v=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var k;(function(i){i.inspectTokensAction=w.localize(23,null)})(k=e.InspectTokensNLS||(e.InspectTokensNLS={}));var I;(function(i){i.gotoLineActionLabel=w.localize(24,null)})(I=e.GoToLineNLS||(e.GoToLineNLS={}));var L;(function(i){i.helpQuickAccessActionLabel=w.localize(25,null)})(L=e.QuickHelpNLS||(e.QuickHelpNLS={}));var _;(function(i){i.quickCommandActionLabel=w.localize(26,null),i.quickCommandHelp=w.localize(27,null)})(_=e.QuickCommandNLS||(e.QuickCommandNLS={}));var b;(function(i){i.quickOutlineActionLabel=w.localize(28,null),i.quickOutlineByCategoryActionLabel=w.localize(29,null)})(b=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var u;(function(i){i.editorViewAccessibleLabel=w.localize(30,null),i.accessibilityHelpMessage=w.localize(31,null)})(u=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var g;(function(i){i.toggleHighContrast=w.localize(32,null)})(g=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var n;(function(i){i.bulkEditServiceSummary=w.localize(33,null)})(n=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(se[547],re([4,5]),function(G,e){return G.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(se[548],re([4,5]),function(G,e){return G.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(se[549],re([4,5]),function(G,e){return G.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(se[550],re([4,5]),function(G,e){return G.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(se[551],re([4,5]),function(G,e){return G.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(se[552],re([4,5]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(se[553],re([4,5]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(se[554],re([4,5]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionWidgetContribution",e)}),define(se[555],re([4,5]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(se[556],re([4,5]),function(G,e){return G.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(se[557],re([4,5]),function(G,e){return G.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(se[558],re([4,5]),function(G,e){return G.create("vs/editor/contrib/comment/browser/comment",e)}),define(se[559],re([4,5]),function(G,e){return G.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(se[560],re([4,5]),function(G,e){return G.create("vs/editor/contrib/copyPaste/browser/copyPasteContribution",e)}),define(se[561],re([4,5]),function(G,e){return G.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(se[562],re([4,5]),function(G,e){return G.create("vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution",e)}),define(se[563],re([4,5]),function(G,e){return G.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(se[564],re([4,5]),function(G,e){return G.create("vs/editor/contrib/find/browser/findController",e)}),define(se[565],re([4,5]),function(G,e){return G.create("vs/editor/contrib/find/browser/findWidget",e)}),define(se[566],re([4,5]),function(G,e){return G.create("vs/editor/contrib/folding/browser/folding",e)}),define(se[567],re([4,5]),function(G,e){return G.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(se[568],re([4,5]),function(G,e){return G.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(se[569],re([4,5]),function(G,e){return G.create("vs/editor/contrib/format/browser/format",e)}),define(se[570],re([4,5]),function(G,e){return G.create("vs/editor/contrib/format/browser/formatActions",e)}),define(se[571],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(se[572],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(se[573],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(se[574],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(se[575],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(se[576],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(se[577],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(se[578],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(se[139],re([1,0,14,6,146,2,51,43,8,3,578]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class n{constructor(c,d,a,s){this.isProviderFirst=c,this.parent=d,this.link=a,this._rangeCallback=s,this.id=k.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var c,d;return(d=(c=this._range)!==null&&c!==void 0?c:this.link.targetSelectionRange)!==null&&d!==void 0?d:this.link.range}set range(c){this._range=c,this._rangeCallback(this)}get ariaMessage(){var c;const d=(c=this.parent.getPreview(this))===null||c===void 0?void 0:c.preview(this.range);return d?(0,g.localize)(1,null,(0,_.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,d.value):(0,g.localize)(0,null,(0,_.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=n;class i{constructor(c){this._modelReference=c}dispose(){this._modelReference.dispose()}preview(c,d=8){const a=this._modelReference.object.textEditorModel;if(!a)return;const{startLineNumber:s,startColumn:l,endLineNumber:h,endColumn:p}=c,S=a.getWordUntilPosition({lineNumber:s,column:l-d}),f=new u.Range(s,S.startColumn,s,l),m=new u.Range(h,p,h,1073741824),C=a.getValueInRange(f).replace(/^\s+/,""),y=a.getValueInRange(c),E=a.getValueInRange(m).replace(/\s+$/,"");return{value:C+y+E,highlight:{start:C.length,end:C.length+y.length}}}}e.FilePreview=i;class t{constructor(c,d){this.parent=c,this.uri=d,this.children=[],this._previews=new L.ResourceMap}dispose(){(0,I.dispose)(this._previews.values()),this._previews.clear()}getPreview(c){return this._previews.get(c.uri)}get ariaMessage(){const c=this.children.length;return c===1?(0,g.localize)(2,null,(0,_.basename)(this.uri),this.uri.fsPath):(0,g.localize)(3,null,c,(0,_.basename)(this.uri),this.uri.fsPath)}resolve(c){return Se(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const d of this.children)if(!this._previews.has(d.uri))try{const a=yield c.createModelReference(d.uri);this._previews.set(d.uri,new i(a))}catch(a){(0,w.onUnexpectedError)(a)}return this})}}e.FileReferences=t;class o{constructor(c,d){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new v.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=c,this._title=d;const[a]=c;c.sort(o._compareReferences);let s;for(const l of c)if((!s||!_.extUri.isEqual(s.uri,l.uri,!0))&&(s=new t(this,l.uri),this.groups.push(s)),s.children.length===0||o._compareReferences(l,s.children[s.children.length-1])!==0){const h=new n(a===l,s,l,p=>this._onDidChangeReferenceRange.fire(p));this.references.push(h),s.children.push(h)}}dispose(){(0,I.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new o(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,g.localize)(4,null):this.references.length===1?(0,g.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,g.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,g.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(c,d){const{parent:a}=c;let s=a.children.indexOf(c);const l=a.children.length,h=a.parent.groups.length;return h===1||d&&s+1<l||!d&&s>0?(d?s=(s+1)%l:s=(s+l-1)%l,a.children[s]):(s=a.parent.groups.indexOf(a),d?(s=(s+1)%h,a.parent.groups[s].children[0]):(s=(s+h-1)%h,a.parent.groups[s].children[a.parent.groups[s].children.length-1]))}nearestReference(c,d){const a=this.references.map((s,l)=>({idx:l,prefixLen:b.commonPrefixLength(s.uri.toString(),c.toString()),offsetDist:Math.abs(s.range.startLineNumber-d.lineNumber)*100+Math.abs(s.range.startColumn-d.column)})).sort((s,l)=>s.prefixLen>l.prefixLen?-1:s.prefixLen<l.prefixLen?1:s.offsetDist<l.offsetDist?-1:s.offsetDist>l.offsetDist?1:0)[0];if(a)return this.references[a.idx]}referenceAt(c,d){for(const a of this.references)if(a.uri.toString()===c.toString()&&u.Range.containsPosition(a.range,d))return a}firstReference(){for(const c of this.references)if(c.isProviderFirst)return c;return this.references[0]}static _compareReferences(c,d){return _.extUri.compare(c.uri,d.uri)||u.Range.compareRangesUsingStarts(c.range,d.range)}}e.ReferencesModel=o}),define(se[579],re([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(se[580],re([4,5]),function(G,e){return G.create("vs/editor/contrib/hover/browser/hover",e)}),define(se[581],re([4,5]),function(G,e){return G.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(se[582],re([4,5]),function(G,e){return G.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(se[583],re([4,5]),function(G,e){return G.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(se[584],re([4,5]),function(G,e){return G.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(se[585],re([4,5]),function(G,e){return G.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(se[586],re([4,5]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/ghostTextController",e)}),define(se[587],re([4,5]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant",e)}),define(se[588],re([4,5]),function(G,e){return G.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(se[589],re([4,5]),function(G,e){return G.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(se[590],re([4,5]),function(G,e){return G.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(se[591],re([4,5]),function(G,e){return G.create("vs/editor/contrib/links/browser/links",e)}),define(se[592],re([4,5]),function(G,e){return G.create("vs/editor/contrib/message/browser/messageController",e)}),define(se[593],re([4,5]),function(G,e){return G.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(se[594],re([4,5]),function(G,e){return G.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(se[595],re([4,5]),function(G,e){return G.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(se[596],re([4,5]),function(G,e){return G.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(se[597],re([4,5]),function(G,e){return G.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(se[598],re([4,5]),function(G,e){return G.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(se[599],re([4,5]),function(G,e){return G.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(se[600],re([4,5]),function(G,e){return G.create("vs/editor/contrib/rename/browser/rename",e)}),define(se[601],re([4,5]),function(G,e){return G.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(se[602],re([4,5]),function(G,e){return G.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(se[603],re([4,5]),function(G,e){return G.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(se[604],re([4,5]),function(G,e){return G.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(se[605],re([4,5]),function(G,e){return G.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(se[606],re([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(se[607],re([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(se[608],re([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(se[609],re([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(se[610],re([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(se[611],re([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(se[612],re([4,5]),function(G,e){return G.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(se[613],re([4,5]),function(G,e){return G.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(se[614],re([4,5]),function(G,e){return G.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(se[615],re([4,5]),function(G,e){return G.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(se[616],re([4,5]),function(G,e){return G.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(se[617],re([4,5]),function(G,e){return G.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(se[618],re([4,5]),function(G,e){return G.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(se[619],re([4,5]),function(G,e){return G.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(se[620],re([4,5]),function(G,e){return G.create("vs/platform/actions/common/menuService",e)}),define(se[621],re([4,5]),function(G,e){return G.create("vs/platform/configuration/common/configurationRegistry",e)}),define(se[622],re([4,5]),function(G,e){return G.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(se[623],re([4,5]),function(G,e){return G.create("vs/platform/contextkey/common/contextkeys",e)}),define(se[624],re([4,5]),function(G,e){return G.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(se[625],re([4,5]),function(G,e){return G.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(se[626],re([4,5]),function(G,e){return G.create("vs/platform/list/browser/listService",e)}),define(se[627],re([4,5]),function(G,e){return G.create("vs/platform/markers/common/markers",e)}),define(se[628],re([4,5]),function(G,e){return G.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(se[629],re([4,5]),function(G,e){return G.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(se[630],re([4,5]),function(G,e){return G.create("vs/platform/theme/common/colorRegistry",e)}),define(se[631],re([4,5]),function(G,e){return G.create("vs/platform/theme/common/iconRegistry",e)}),define(se[632],re([4,5]),function(G,e){return G.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(se[633],re([4,5]),function(G,e){return G.create("vs/platform/workspace/common/workspace",e)}),define(se[634],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var w;(function(v){v[v.API=0]="API",v[v.USER=1]="USER"})(w=e.EditorOpenSource||(e.EditorOpenSource={}))}),define(se[635],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class w{constructor(k){this.value=k,this._lower=k.toLowerCase()}static toKey(k){return typeof k=="string"?k.toLowerCase():k._lower}}e.ExtensionIdentifier=w}),define(se[285],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var w;(function(v){v[v.FILE=0]="FILE",v[v.FOLDER=1]="FOLDER",v[v.ROOT_FOLDER=2]="ROOT_FOLDER"})(w=e.FileKind||(e.FileKind={}))}),define(se[636],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function w(v){var k,I;return((k=v.lookupKeybinding("history.showPrevious"))===null||k===void 0?void 0:k.getElectronAccelerator())==="Up"&&((I=v.lookupKeybinding("history.showNext"))===null||I===void 0?void 0:I.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=w}),define(se[210],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class w{constructor(k,I=[],L=!1){this.ctor=k,this.staticArguments=I,this.supportsDelayedInstantiation=L}}e.SyncDescriptor=w}),define(se[53],re([1,0,210]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const v=[];function k(L,_,b){_ instanceof w.SyncDescriptor||(_=new w.SyncDescriptor(_,[],b)),v.push([L,_])}e.registerSingleton=k;function I(){return v}e.getSingletonServiceDescriptors=I}),define(se[637],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class w{constructor(I){this.incoming=new Map,this.outgoing=new Map,this.data=I}}e.Node=w;class v{constructor(I){this._hashFn=I,this._nodes=new Map}roots(){const I=[];for(const L of this._nodes.values())L.outgoing.size===0&&I.push(L);return I}insertEdge(I,L){const _=this.lookupOrInsertNode(I),b=this.lookupOrInsertNode(L);_.outgoing.set(this._hashFn(L),b),b.incoming.set(this._hashFn(I),_)}removeNode(I){const L=this._hashFn(I);this._nodes.delete(L);for(const _ of this._nodes.values())_.outgoing.delete(L),_.incoming.delete(L)}lookupOrInsertNode(I){const L=this._hashFn(I);let _=this._nodes.get(L);return _||(_=new w(I),this._nodes.set(L,_)),_}isEmpty(){return this._nodes.size===0}toString(){const I=[];for(const[L,_]of this._nodes)I.push(`${L}, (incoming)[${[..._.incoming.keys()].join(", ")}], (outgoing)[${[..._.outgoing.keys()].join(",")}]`);return I.join(`
`)}findCycleSlow(){for(const[I,L]of this._nodes){const _=new Set([I]),b=this._findCycle(L,_);if(b)return b}}_findCycle(I,L){for(const[_,b]of I.outgoing){if(L.has(_))return[...L,_].join(" -> ");L.add(_);const u=this._findCycle(b,L);if(u)return u;L.delete(_)}}}e.Graph=v}),define(se[9],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var w;(function(I){I.serviceIds=new Map,I.DI_TARGET="$di$target",I.DI_DEPENDENCIES="$di$dependencies";function L(_){return _[I.DI_DEPENDENCIES]||[]}I.getServiceDependencies=L})(w=e._util||(e._util={})),e.IInstantiationService=k("instantiationService");function v(I,L,_){L[w.DI_TARGET]===L?L[w.DI_DEPENDENCIES].push({id:I,index:_}):(L[w.DI_DEPENDENCIES]=[{id:I,index:_}],L[w.DI_TARGET]=L)}function k(I){if(w.serviceIds.has(I))return w.serviceIds.get(I);const L=function(_,b,u){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");v(L,_,u)};return L.toString=()=>I,w.serviceIds.set(I,L),L}e.createDecorator=k}),define(se[140],re([1,0,9,22,20]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,w.createDecorator)("IWorkspaceEditService");class I{constructor(u){this.metadata=u}static convert(u){return u.edits.map(g=>{if(L.is(g))return L.lift(g);if(_.is(g))return _.lift(g);throw new Error("Unsupported edit")})}}e.ResourceEdit=I;class L extends I{constructor(u,g,n=void 0,i){super(i);this.resource=u,this.textEdit=g,this.versionId=n}static is(u){return u instanceof L?!0:(0,k.isObject)(u)&&v.URI.isUri(u.resource)&&(0,k.isObject)(u.textEdit)}static lift(u){return u instanceof L?u:new L(u.resource,u.textEdit,u.versionId,u.metadata)}}e.ResourceTextEdit=L;class _ extends I{constructor(u,g,n={},i){super(i);this.oldResource=u,this.newResource=g,this.options=n}static is(u){return u instanceof _?!0:(0,k.isObject)(u)&&(Boolean(u.newResource)||Boolean(u.oldResource))}static lift(u){return u instanceof _?u:new _(u.oldResource,u.newResource,u.options,u.metadata)}}e.ResourceFileEdit=_}),define(se[29],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,w.createDecorator)("codeEditorService")}),define(se[39],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,w.createDecorator)("languageService")}),define(se[102],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,w.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)});var fe=this&&this.__param||function(G,e){return function(w,v){e(w,v,G)}};define(se[638],re([1,0,182,3,102]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=void 0;let I=class{constructor(_){this.editorWorkerService=_}computeDiff(_,b,u){return Se(this,void 0,void 0,function*(){const g=yield this.editorWorkerService.computeDiff(_.uri,b.uri,u);if(!g)throw new Error("no diff result available");return{identical:g.identical,quitEarly:g.quitEarly,changes:g.changes.map(i=>{var t;return new w.LineRangeMapping(new w.LineRange(i[0],i[1]),new w.LineRange(i[2],i[3]),(t=i[4])===null||t===void 0?void 0:t.map(o=>new w.RangeMapping(new v.Range(o[0],o[1],o[2],o[3]),new v.Range(o[4],o[5],o[6],o[7]))))})}})}};I=ke([fe(0,k.IEditorWorkerService)],I),e.WorkerBasedDocumentDiffProvider=I}),define(se[19],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,w.createDecorator)("ILanguageFeaturesService")}),define(se[639],re([1,0,513,19,53]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class I{constructor(){this.referenceProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this))}_score(_){var b;return(b=this._notebookTypeResolver)===null||b===void 0?void 0:b.call(this,_)}}e.LanguageFeaturesService=I,(0,k.registerSingleton)(v.ILanguageFeaturesService,I,!0)}),define(se[211],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,w.createDecorator)("markerDecorationsService")}),define(se[50],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,w.createDecorator)("modelService")}),define(se[58],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,w.createDecorator)("textModelService")}),define(se[168],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,w.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,w.createDecorator)("textResourcePropertiesService")}),define(se[116],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,w.createDecorator)("themeService")}),define(se[93],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,w.createDecorator)("clipboardService")}),define(se[26],re([1,0,6,55,2,73,20,9]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,_.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new w.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(b,u){if(!b)throw new Error("invalid command");if(typeof b=="string"){if(!u)throw new Error("invalid command");return this.registerCommand({id:b,handler:u})}if(b.description){const o=[];for(const c of b.description.args)o.push(c.constraint);const r=b.handler;b.handler=function(c,...d){return(0,L.validateConstraints)(d,o),r(c,...d)}}const{id:g}=b;let n=this._commands.get(g);n||(n=new I.LinkedList,this._commands.set(g,n));const i=n.unshift(b),t=(0,k.toDisposable)(()=>{i();const o=this._commands.get(g);(o==null?void 0:o.isEmpty())&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),t}registerCommandAlias(b,u){return e.CommandsRegistry.registerCommand(b,(g,...n)=>g.get(e.ICommandService).executeCommand(u,...n))}getCommand(b){const u=this._commands.get(b);if(!(!u||u.isEmpty()))return v.Iterable.first(u)}getCommands(){const b=new Map;for(const u of this._commands.keys()){const g=this.getCommand(u);g&&b.set(u,g)}return b}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>k.Disposable.None,onDidExecuteCommand:()=>k.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(se[286],re([1,0,21,14,22,50,26,20,518,3,19]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function n(p){return p&&!!p.data}e.isSemanticTokens=n;function i(p){return p&&Array.isArray(p.edits)}e.isSemanticTokensEdits=i;class t{constructor(S,f,m){this.provider=S,this.tokens=f,this.error=m}}e.DocumentSemanticTokensResult=t;function o(p,S){return p.has(S)}e.hasDocumentSemanticTokensProvider=o;function r(p,S){const f=p.orderedGroups(S);return f.length>0?f[0]:[]}function c(p,S,f,m,C){return Se(this,void 0,void 0,function*(){const y=r(p,S),E=yield Promise.all(y.map(T=>Se(this,void 0,void 0,function*(){let N,F=null;try{N=yield T.provideDocumentSemanticTokens(S,T===f?m:null,C)}catch(O){F=O,N=null}return(!N||!n(N)&&!i(N))&&(N=null),new t(T,N,F)})));for(const T of E){if(T.error)throw T.error;if(T.tokens)return T}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=c;function d(p,S){const f=p.orderedGroups(S);return f.length>0?f[0]:null}class a{constructor(S,f){this.provider=S,this.tokens=f}}function s(p,S){return p.has(S)}e.hasDocumentRangeSemanticTokensProvider=s;function l(p,S){const f=p.orderedGroups(S);return f.length>0?f[0]:[]}function h(p,S,f,m){return Se(this,void 0,void 0,function*(){const C=l(p,S),y=yield Promise.all(C.map(E=>Se(this,void 0,void 0,function*(){let T;try{T=yield E.provideDocumentRangeSemanticTokens(S,f,m)}catch(N){(0,v.onUnexpectedExternalError)(N),T=null}return(!T||!n(T))&&(T=null),new a(E,T)})));for(const E of y)if(E.tokens)return E;return y.length>0?y[0]:null})}e.getDocumentRangeSemanticTokens=h,L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(p,...S)=>Se(void 0,void 0,void 0,function*(){const[f]=S;(0,_.assertType)(f instanceof k.URI);const m=p.get(I.IModelService).getModel(f);if(!m)return;const{documentSemanticTokensProvider:C}=p.get(g.ILanguageFeaturesService),y=d(C,m);return y?y[0].getLegend():p.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",f)})),L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(p,...S)=>Se(void 0,void 0,void 0,function*(){const[f]=S;(0,_.assertType)(f instanceof k.URI);const m=p.get(I.IModelService).getModel(f);if(!m)return;const{documentSemanticTokensProvider:C}=p.get(g.ILanguageFeaturesService);if(!o(C,m))return p.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",f,m.getFullModelRange());const y=yield c(C,m,null,null,w.CancellationToken.None);if(!y)return;const{provider:E,tokens:T}=y;if(!T||!n(T))return;const N=(0,b.encodeSemanticTokensDto)({id:0,type:"full",data:T.data});return T.resultId&&E.releaseDocumentSemanticTokens(T.resultId),N})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(p,...S)=>Se(void 0,void 0,void 0,function*(){const[f,m]=S;(0,_.assertType)(f instanceof k.URI);const C=p.get(I.IModelService).getModel(f);if(!C)return;const{documentRangeSemanticTokensProvider:y}=p.get(g.ILanguageFeaturesService),E=l(y,C);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!m||!u.Range.isIRange(m))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const T=yield h(y,C,u.Range.lift(m),w.CancellationToken.None);if(!!T)return T.provider.getLegend()})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(p,...S)=>Se(void 0,void 0,void 0,function*(){const[f,m]=S;(0,_.assertType)(f instanceof k.URI),(0,_.assertType)(u.Range.isIRange(m));const C=p.get(I.IModelService).getModel(f);if(!C)return;const{documentRangeSemanticTokensProvider:y}=p.get(g.ILanguageFeaturesService),E=yield h(y,C,u.Range.lift(m),w.CancellationToken.None);if(!(!E||!E.tokens))return(0,b.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(se[287],re([1,0,21,14,2,20,22,50,26,19]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class g{constructor(){this.lenses=[],this._disposables=new k.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,o){this._disposables.add(t);for(const r of t.lenses)this.lenses.push({symbol:r,provider:o})}}e.CodeLensModel=g;function n(i,t,o){return Se(this,void 0,void 0,function*(){const r=i.ordered(t),c=new Map,d=new g,a=r.map((s,l)=>Se(this,void 0,void 0,function*(){c.set(s,l);try{const h=yield Promise.resolve(s.provideCodeLenses(t,o));h&&d.add(h,s)}catch(h){(0,v.onUnexpectedExternalError)(h)}}));return yield Promise.all(a),d.lenses=d.lenses.sort((s,l)=>s.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:s.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:c.get(s.provider)<c.get(l.provider)?-1:c.get(s.provider)>c.get(l.provider)?1:s.symbol.range.startColumn<l.symbol.range.startColumn?-1:s.symbol.range.startColumn>l.symbol.range.startColumn?1:0),d})}e.getCodeLensModel=n,b.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(i,...t){let[o,r]=t;(0,I.assertType)(L.URI.isUri(o)),(0,I.assertType)(typeof r=="number"||!r);const{codeLensProvider:c}=i.get(u.ILanguageFeaturesService),d=i.get(_.IModelService).getModel(o);if(!d)throw(0,v.illegalArgument)();const a=[],s=new k.DisposableStore;return n(c,d,w.CancellationToken.None).then(l=>{s.add(l);const h=[];for(const p of l.lenses)r==null||Boolean(p.symbol.command)?a.push(p.symbol):r-- >0&&p.provider.resolveCodeLens&&h.push(Promise.resolve(p.provider.resolveCodeLens(d,p.symbol,w.CancellationToken.None)).then(S=>a.push(S||p.symbol)));return Promise.all(h)}).then(()=>a).finally(()=>{setTimeout(()=>s.dispose(),100)})})}),define(se[288],re([1,0,21,14,22,3,50,26,19]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function u(n,i,t){const o=[],c=n.ordered(i).reverse().map(d=>Promise.resolve(d.provideDocumentColors(i,t)).then(a=>{if(Array.isArray(a))for(const s of a)o.push({colorInfo:s,provider:d})}));return Promise.all(c).then(()=>o)}e.getColors=u;function g(n,i,t,o){return Promise.resolve(t.provideColorPresentations(n,i,o))}e.getColorPresentations=g,_.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(n,...i){const[t]=i;if(!(t instanceof k.URI))throw(0,v.illegalArgument)();const{colorProvider:o}=n.get(b.ILanguageFeaturesService),r=n.get(L.IModelService).getModel(t);if(!r)throw(0,v.illegalArgument)();const c=[],a=o.ordered(r).reverse().map(s=>Promise.resolve(s.provideDocumentColors(r,w.CancellationToken.None)).then(l=>{if(Array.isArray(l))for(const h of l)c.push({range:h.range,color:[h.color.red,h.color.green,h.color.blue,h.color.alpha]})}));return Promise.all(a).then(()=>c)}),_.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(n,...i){const[t,o]=i,{uri:r,range:c}=o;if(!(r instanceof k.URI)||!Array.isArray(t)||t.length!==4||!I.Range.isIRange(c))throw(0,v.illegalArgument)();const[d,a,s,l]=t,{colorProvider:h}=n.get(b.ILanguageFeaturesService),p=n.get(L.IModelService).getModel(r);if(!p)throw(0,v.illegalArgument)();const S={range:c,color:{red:d,green:a,blue:s,alpha:l}},f=[],C=h.ordered(p).reverse().map(y=>Promise.resolve(y.provideColorPresentations(p,S,w.CancellationToken.None)).then(E=>{Array.isArray(E)&&f.push(...E)}));return Promise.all(C).then(()=>f)})}),define(se[640],re([1,0,17,21,14,2,20,22,3,50,26,19]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class i{constructor(c,d){this._link=c,this._provider=d}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(c){return Se(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,c)).then(d=>(this._link=d||this._link,this._link.url?this.resolve(c):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=i;class t{constructor(c){this._disposables=new I.DisposableStore;let d=[];for(const[a,s]of c){const l=a.links.map(h=>new i(h,s));d=t._union(d,l),(0,I.isDisposable)(a)&&this._disposables.add(a)}this.links=d}dispose(){this._disposables.dispose(),this.links.length=0}static _union(c,d){const a=[];let s,l,h,p;for(s=0,h=0,l=c.length,p=d.length;s<l&&h<p;){const S=c[s],f=d[h];if(b.Range.areIntersectingOrTouching(S.range,f.range)){s++;continue}b.Range.compareRangesUsingStarts(S.range,f.range)<0?(a.push(S),s++):(a.push(f),h++)}for(;s<l;s++)a.push(c[s]);for(;h<p;h++)a.push(d[h]);return a}}e.LinksList=t;function o(r,c,d){const a=[],s=r.ordered(c).reverse().map((l,h)=>Promise.resolve(l.provideLinks(c,d)).then(p=>{p&&(a[h]=[p,l])},k.onUnexpectedExternalError));return Promise.all(s).then(()=>{const l=new t((0,w.coalesce)(a));return d.isCancellationRequested?(l.dispose(),new t([])):l})}e.getLinks=o,g.CommandsRegistry.registerCommand("_executeLinkProvider",(r,...c)=>Se(void 0,void 0,void 0,function*(){let[d,a]=c;(0,L.assertType)(d instanceof _.URI),typeof a!="number"&&(a=0);const{linkProvider:s}=r.get(n.ILanguageFeaturesService),l=r.get(u.IModelService).getModel(d);if(!l)return[];const h=yield o(s,l,v.CancellationToken.None);if(!h)return[];for(let S=0;S<Math.min(a,h.links.length);S++)yield h.links[S].resolve(v.CancellationToken.None);const p=h.links.slice(0);return h.dispose(),p}))}),define(se[30],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,w.createDecorator)("configurationService");function v(u,g){const n=Object.create(null);for(const i in u)k(n,i,u[i],g);return n}e.toValuesTree=v;function k(u,g,n,i){const t=g.split("."),o=t.pop();let r=u;for(let c=0;c<t.length;c++){const d=t[c];let a=r[d];switch(typeof a){case"undefined":a=r[d]=Object.create(null);break;case"object":break;default:i(`Ignoring ${g} as ${t.slice(0,c+1).join(".")} is ${JSON.stringify(a)}`);return}r=a}if(typeof r=="object"&&r!==null)try{r[o]=n}catch{i(`Ignoring ${g} as ${t.join(".")} is ${JSON.stringify(r)}`)}else i(`Ignoring ${g} as ${t.join(".")} is ${JSON.stringify(r)}`)}e.addToValueTree=k;function I(u,g){const n=g.split(".");L(u,n)}e.removeFromValueTree=I;function L(u,g){const n=g.shift();if(g.length===0){delete u[n];return}if(Object.keys(u).indexOf(n)!==-1){const i=u[n];typeof i=="object"&&!Array.isArray(i)&&(L(i,g),Object.keys(i).length===0&&delete u[n])}}function _(u,g,n){function i(r,c){let d=r;for(const a of c){if(typeof d!="object"||d===null)return;d=d[a]}return d}const t=g.split("."),o=i(u,t);return typeof o=="undefined"?n:o}e.getConfigurationValue=_;function b(u){return u.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=b}),define(se[289],re([1,0,28,138,257,30]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const L=5;class _{constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}static create(d,a){return this._INSTANCE.create(d,a)}create(d,a){if(d!==null&&d.depth>=this._maxCacheDepth)return new b(d,a);let s=b.getStackElementId(d);s.length>0&&(s+="|"),s+=a;let l=this._entries[s];return l||(l=new b(d,a),this._entries[s]=l,l)}}_._INSTANCE=new _(L);class b{constructor(d,a){this.parent=d,this.state=a,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(d){let a="";for(;d!==null;)a.length>0&&(a+="|"),a+=d.state,d=d.parent;return a}static _equals(d,a){for(;d!==null&&a!==null;){if(d===a)return!0;if(d.state!==a.state)return!1;d=d.parent,a=a.parent}return d===null&&a===null}equals(d){return b._equals(this,d)}push(d){return _.create(this,d)}pop(){return this.parent}popall(){let d=this;for(;d.parent;)d=d.parent;return d}switchTo(d){return _.create(this.parent,d)}}class u{constructor(d,a){this.languageId=d,this.state=a}equals(d){return this.languageId===d.languageId&&this.state.equals(d.state)}clone(){return this.state.clone()===this.state?this:new u(this.languageId,this.state)}}class g{constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}static create(d,a){return this._INSTANCE.create(d,a)}create(d,a){if(a!==null)return new n(d,a);if(d!==null&&d.depth>=this._maxCacheDepth)return new n(d,a);const s=b.getStackElementId(d);let l=this._entries[s];return l||(l=new n(d,null),this._entries[s]=l,l)}}g._INSTANCE=new g(L);class n{constructor(d,a){this.stack=d,this.embeddedLanguageData=a}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:g.create(this.stack,this.embeddedLanguageData)}equals(d){return!(d instanceof n)||!this.stack.equals(d.stack)?!1:this.embeddedLanguageData===null&&d.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||d.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(d.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(d){this._languageId=d}emit(d,a){this._lastTokenType===a&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=a,this._lastTokenLanguage=this._languageId,this._tokens.push(new w.Token(d,a,this._languageId)))}nestedLanguageTokenize(d,a,s,l){const h=s.languageId,p=s.state,S=w.TokenizationRegistry.get(h);if(!S)return this.enterLanguage(h),this.emit(l,""),p;const f=S.tokenize(d,a,p);if(l!==0)for(const m of f.tokens)this._tokens.push(new w.Token(m.offset+l,m.type,m.language));else this._tokens=this._tokens.concat(f.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,f.endState}finalize(d){return new w.TokenizationResult(this._tokens,d)}}class t{constructor(d,a){this._languageService=d,this._theme=a,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(d){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(d)}emit(d,a){const s=this._theme.match(this._currentLanguageId,a);this._lastTokenMetadata!==s&&(this._lastTokenMetadata=s,this._tokens.push(d),this._tokens.push(s))}static _merge(d,a,s){const l=d!==null?d.length:0,h=a.length,p=s!==null?s.length:0;if(l===0&&h===0&&p===0)return new Uint32Array(0);if(l===0&&h===0)return s;if(h===0&&p===0)return d;const S=new Uint32Array(l+h+p);d!==null&&S.set(d);for(let f=0;f<h;f++)S[l+f]=a[f];return s!==null&&S.set(s,l+h),S}nestedLanguageTokenize(d,a,s,l){const h=s.languageId,p=s.state,S=w.TokenizationRegistry.get(h);if(!S)return this.enterLanguage(h),this.emit(l,""),p;const f=S.tokenizeEncoded(d,a,p);if(l!==0)for(let m=0,C=f.tokens.length;m<C;m+=2)f.tokens[m]+=l;return this._prependTokens=t._merge(this._prependTokens,this._tokens,f.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,f.endState}finalize(d){return new w.EncodedTokenizationResult(t._merge(this._prependTokens,this._tokens,null),d)}}let o=class Di{constructor(d,a,s,l,h){this._configurationService=h,this._languageService=d,this._standaloneThemeService=a,this._languageId=s,this._lexer=l,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let p=!1;this._tokenizationRegistryListener=w.TokenizationRegistry.onDidChange(S=>{if(p)return;let f=!1;for(let m=0,C=S.changedLanguages.length;m<C;m++){const y=S.changedLanguages[m];if(this._embeddedLanguages[y]){f=!0;break}}f&&(p=!0,w.TokenizationRegistry.fire([this._languageId]),p=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(S=>{S.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const d=[];for(const a in this._embeddedLanguages){const s=w.TokenizationRegistry.get(a);if(s){if(s instanceof Di){const l=s.getLoadStatus();l.loaded===!1&&d.push(l.promise)}continue}w.TokenizationRegistry.isResolved(a)||d.push(w.TokenizationRegistry.getOrCreate(a))}return d.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(d).then(a=>{})}}getInitialState(){const d=_.create(null,this._lexer.start);return g.create(d,null)}tokenize(d,a,s){if(d.length>=this._maxTokenizationLineLength)return(0,v.nullTokenize)(this._languageId,s);const l=new i,h=this._tokenize(d,a,s,l);return l.finalize(h)}tokenizeEncoded(d,a,s){if(d.length>=this._maxTokenizationLineLength)return(0,v.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),s);const l=new t(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),h=this._tokenize(d,a,s,l);return l.finalize(h)}_tokenize(d,a,s,l){return s.embeddedLanguageData?this._nestedTokenize(d,a,s,0,l):this._myTokenize(d,a,s,0,l)}_findLeavingNestedLanguageOffset(d,a){let s=this._lexer.tokenizer[a.stack.state];if(!s&&(s=k.findRules(this._lexer,a.stack.state),!s))throw k.createError(this._lexer,"tokenizer state is not defined: "+a.stack.state);let l=-1,h=!1;for(const p of s){if(!k.isIAction(p.action)||p.action.nextEmbedded!=="@pop")continue;h=!0;let S=p.regex;const f=p.regex.source;if(f.substr(0,4)==="^(?:"&&f.substr(f.length-1,1)===")"){const C=(S.ignoreCase?"i":"")+(S.unicode?"u":"");S=new RegExp(f.substr(4,f.length-5),C)}const m=d.search(S);m===-1||m!==0&&p.matchOnlyAtLineStart||(l===-1||m<l)&&(l=m)}if(!h)throw k.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+a.stack.state);return l}_nestedTokenize(d,a,s,l,h){const p=this._findLeavingNestedLanguageOffset(d,s);if(p===-1){const m=h.nestedLanguageTokenize(d,a,s.embeddedLanguageData,l);return g.create(s.stack,new u(s.embeddedLanguageData.languageId,m))}const S=d.substring(0,p);S.length>0&&h.nestedLanguageTokenize(S,!1,s.embeddedLanguageData,l);const f=d.substring(p);return this._myTokenize(f,a,s,l+p,h)}_safeRuleName(d){return d?d.name:"(unknown)"}_myTokenize(d,a,s,l,h){h.enterLanguage(this._languageId);const p=d.length,S=a&&this._lexer.includeLF?d+`
`:d,f=S.length;let m=s.embeddedLanguageData,C=s.stack,y=0,E=null,T=!0;for(;T||y<f;){const N=y,F=C.depth,O=E?E.groups.length:0,P=C.state;let D=null,M=null,R=null,B=null,W=null;if(E){D=E.matches;const Y=E.groups.shift();M=Y.matched,R=Y.action,B=E.rule,E.groups.length===0&&(E=null)}else{if(!T&&y>=f)break;T=!1;let Y=this._lexer.tokenizer[P];if(!Y&&(Y=k.findRules(this._lexer,P),!Y))throw k.createError(this._lexer,"tokenizer state is not defined: "+P);const ee=S.substr(y);for(const U of Y)if((y===0||!U.matchOnlyAtLineStart)&&(D=ee.match(U.regex),D)){M=D[0],R=U.action;break}}if(D||(D=[""],M=""),R||(y<f&&(D=[S.charAt(y)],M=D[0]),R=this._lexer.defaultToken),M===null)break;for(y+=M.length;k.isFuzzyAction(R)&&k.isIAction(R)&&R.test;)R=R.test(M,D,P,y===f);let V=null;if(typeof R=="string"||Array.isArray(R))V=R;else if(R.group)V=R.group;else if(R.token!==null&&R.token!==void 0){if(R.tokenSubst?V=k.substituteMatches(this._lexer,R.token,M,D,P):V=R.token,R.nextEmbedded)if(R.nextEmbedded==="@pop"){if(!m)throw k.createError(this._lexer,"cannot pop embedded language if not inside one");m=null}else{if(m)throw k.createError(this._lexer,"cannot enter embedded language from within an embedded language");W=k.substituteMatches(this._lexer,R.nextEmbedded,M,D,P)}if(R.goBack&&(y=Math.max(0,y-R.goBack)),R.switchTo&&typeof R.switchTo=="string"){let Y=k.substituteMatches(this._lexer,R.switchTo,M,D,P);if(Y[0]==="@"&&(Y=Y.substr(1)),k.findRules(this._lexer,Y))C=C.switchTo(Y);else throw k.createError(this._lexer,"trying to switch to a state '"+Y+"' that is undefined in rule: "+this._safeRuleName(B))}else{if(R.transform&&typeof R.transform=="function")throw k.createError(this._lexer,"action.transform not supported");if(R.next)if(R.next==="@push"){if(C.depth>=this._lexer.maxStack)throw k.createError(this._lexer,"maximum tokenizer stack size reached: ["+C.state+","+C.parent.state+",...]");C=C.push(P)}else if(R.next==="@pop"){if(C.depth<=1)throw k.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(B));C=C.pop()}else if(R.next==="@popall")C=C.popall();else{let Y=k.substituteMatches(this._lexer,R.next,M,D,P);if(Y[0]==="@"&&(Y=Y.substr(1)),k.findRules(this._lexer,Y))C=C.push(Y);else throw k.createError(this._lexer,"trying to set a next state '"+Y+"' that is undefined in rule: "+this._safeRuleName(B))}}R.log&&typeof R.log=="string"&&k.log(this._lexer,this._lexer.languageId+": "+k.substituteMatches(this._lexer,R.log,M,D,P))}if(V===null)throw k.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(B));const A=Y=>{const ee=this._languageService.getLanguageIdByLanguageName(Y)||this._languageService.getLanguageIdByMimeType(Y)||Y,U=this._getNestedEmbeddedLanguageData(ee);if(y<f){const j=d.substr(y);return this._nestedTokenize(j,a,g.create(C,U),l+y,h)}else return g.create(C,U)};if(Array.isArray(V)){if(E&&E.groups.length>0)throw k.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(B));if(D.length!==V.length+1)throw k.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(B));let Y=0;for(let ee=1;ee<D.length;ee++)Y+=D[ee].length;if(Y!==M.length)throw k.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(B));E={rule:B,matches:D,groups:[]};for(let ee=0;ee<V.length;ee++)E.groups[ee]={action:V[ee],matched:D[ee+1]};y-=M.length;continue}else{if(V==="@rematch"&&(y-=M.length,M="",D=null,V="",W!==null))return A(W);if(M.length===0){if(f===0||F!==C.depth||P!==C.state||(E?E.groups.length:0)!==O)continue;throw k.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(B))}let Y=null;if(k.isString(V)&&V.indexOf("@brackets")===0){const ee=V.substr("@brackets".length),U=r(this._lexer,M);if(!U)throw k.createError(this._lexer,"@brackets token returned but no bracket defined as: "+M);Y=k.sanitize(U.token+ee)}else{const ee=V===""?"":V+this._lexer.tokenPostfix;Y=k.sanitize(ee)}N<p&&h.emit(N+l,Y)}if(W!==null)return A(W)}return g.create(C,m)}_getNestedEmbeddedLanguageData(d){if(!this._languageService.isRegisteredLanguageId(d))return new u(d,v.NullState);d!==this._languageId&&(w.TokenizationRegistry.getOrCreate(d),this._embeddedLanguages[d]=!0);const a=w.TokenizationRegistry.get(d);return a?new u(d,a.getInitialState()):new u(d,v.NullState)}};o=ke([fe(4,I.IConfigurationService)],o),e.MonarchTokenizer=o;function r(c,d){if(!d)return null;d=k.fixCase(c,d);const a=c.brackets;for(const s of a){if(s.open===d)return{token:s.token,bracketType:1};if(s.close===d)return{token:s.token,bracketType:-1}}return null}}),define(se[641],re([1,0,8,83,28,115,74,289]),function(G,e,w,v,k,I,L,_){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const u=(b=window.trustedTypes)===null||b===void 0?void 0:b.createPolicy("standaloneColorizer",{createHTML:o=>o});class g{static colorizeElement(r,c,d,a){a=a||{};const s=a.theme||"vs",l=a.mimeType||d.getAttribute("lang")||d.getAttribute("data-lang");if(!l)return console.error("Mode not detected"),Promise.resolve();const h=c.getLanguageIdByMimeType(l)||l;r.setTheme(s);const p=d.firstChild?d.firstChild.nodeValue:"";d.className+=" "+s;const S=f=>{var m;const C=(m=u==null?void 0:u.createHTML(f))!==null&&m!==void 0?m:f;d.innerHTML=C};return this.colorize(c,p||"",h,a).then(S,f=>console.error(f))}static colorize(r,c,d,a){return Se(this,void 0,void 0,function*(){const s=r.languageIdCodec;let l=4;a&&typeof a.tabSize=="number"&&(l=a.tabSize),w.startsWithUTF8BOM(c)&&(c=c.substr(1));const h=w.splitLines(c);if(!r.isRegisteredLanguageId(d))return i(h,l,s);const p=yield k.TokenizationRegistry.getOrCreate(d);return p?n(h,l,p,s):i(h,l,s)})}static colorizeLine(r,c,d,a,s=4){const l=L.ViewLineRenderingData.isBasicASCII(r,c),h=L.ViewLineRenderingData.containsRTL(r,l,d);return(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,r,!1,l,h,0,a,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,c,d=4){const a=r.getLineContent(c);r.tokenization.forceTokenization(c);const l=r.tokenization.getLineTokens(c).inflate();return this.colorizeLine(a,r.mightContainNonBasicASCII(),r.mightContainRTL(),l,d)}}e.Colorizer=g;function n(o,r,c,d){return new Promise((a,s)=>{const l=()=>{const h=t(o,r,c,d);if(c instanceof _.MonarchTokenizer){const p=c.getLoadStatus();if(p.loaded===!1){p.promise.then(l,s);return}}a(h)};l()})}function i(o,r,c){let d=[];const a=(0<<11|1<<15|2<<24)>>>0,s=new Uint32Array(2);s[0]=0,s[1]=a;for(let l=0,h=o.length;l<h;l++){const p=o[l];s[0]=p.length;const S=new v.LineTokens(s,p,c),f=L.ViewLineRenderingData.isBasicASCII(p,!0),m=L.ViewLineRenderingData.containsRTL(p,f,!0),C=(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,p,!1,f,m,0,S,[],r,0,0,0,0,-1,"none",!1,!1,null));d=d.concat(C.html),d.push("<br/>")}return d.join("")}function t(o,r,c,d){let a=[],s=c.getInitialState();for(let l=0,h=o.length;l<h;l++){const p=o[l],S=c.tokenizeEncoded(p,!0,s);v.LineTokens.convertToEndOffset(S.tokens,p.length);const f=new v.LineTokens(S.tokens,p,d),m=L.ViewLineRenderingData.isBasicASCII(p,!0),C=L.ViewLineRenderingData.containsRTL(p,m,!0),y=(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,p,!1,m,C,0,f.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));a=a.concat(y.html),a.push("<br/>"),s=S.endState}return a.join("")}}),define(se[290],re([1,0,17,51,35,20,22,30]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModel=void 0;class b{constructor(i={},t=[],o=[]){this._contents=i,this._keys=t,this._overrides=o,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(i){return i?(0,_.getConfigurationValue)(this.contents,i):this.contents}getOverrideValue(i,t){const o=this.getContentsForOverrideIdentifer(t);return o?i?(0,_.getConfigurationValue)(o,i):o:void 0}override(i){let t=this.overrideConfigurations.get(i);return t||(t=this.createOverrideConfigurationModel(i),this.overrideConfigurations.set(i,t)),t}merge(...i){const t=k.deepClone(this.contents),o=k.deepClone(this.overrides),r=[...this.keys];for(const c of i)if(!c.isEmpty()){this.mergeContents(t,c.contents);for(const d of c.overrides){const[a]=o.filter(s=>w.equals(s.identifiers,d.identifiers));a?(this.mergeContents(a.contents,d.contents),a.keys.push(...d.keys),a.keys=w.distinct(a.keys)):o.push(k.deepClone(d))}for(const d of c.keys)r.indexOf(d)===-1&&r.push(d)}return new b(t,r,o)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(i){const t=this.getContentsForOverrideIdentifer(i);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const o={};for(const r of w.distinct([...Object.keys(this.contents),...Object.keys(t)])){let c=this.contents[r];const d=t[r];d&&(typeof c=="object"&&typeof d=="object"?(c=k.deepClone(c),this.mergeContents(c,d)):c=d),o[r]=c}return new b(o,this.keys,this.overrides)}mergeContents(i,t){for(const o of Object.keys(t)){if(o in i&&I.isObject(i[o])&&I.isObject(t[o])){this.mergeContents(i[o],t[o]);continue}i[o]=k.deepClone(t[o])}}checkAndFreeze(i){return this.frozen&&!Object.isFrozen(i)?k.deepFreeze(i):i}getContentsForOverrideIdentifer(i){let t=null,o=null;const r=c=>{c&&(o?this.mergeContents(o,c):o=k.deepClone(c))};for(const c of this.overrides)w.equals(c.identifiers,[i])?t=c.contents:c.identifiers.includes(i)&&r(c.contents);return r(t),o}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(i,t){this.addKey(i),(0,_.addToValueTree)(this.contents,i,t,o=>{throw new Error(o)})}removeValue(i){this.removeKey(i)&&(0,_.removeFromValueTree)(this.contents,i)}addKey(i){let t=this.keys.length;for(let o=0;o<t;o++)i.indexOf(this.keys[o])===0&&(t=o);this.keys.splice(t,1,i)}removeKey(i){const t=this.keys.indexOf(i);return t!==-1?(this.keys.splice(t,1),!0):!1}}e.ConfigurationModel=b;class u{constructor(i,t,o,r,c=new b,d=new b,a=new v.ResourceMap,s=new b,l=new v.ResourceMap,h=!0){this._defaultConfiguration=i,this._policyConfiguration=t,this._applicationConfiguration=o,this._localUserConfiguration=r,this._remoteUserConfiguration=c,this._workspaceConfiguration=d,this._folderConfigurations=a,this._memoryConfiguration=s,this._memoryConfigurationByResource=l,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new v.ResourceMap,this._userConfiguration=null}getValue(i,t,o){return this.getConsolidatedConfigurationModel(i,t,o).getValue(i)}updateValue(i,t,o={}){let r;o.resource?(r=this._memoryConfigurationByResource.get(o.resource),r||(r=new b,this._memoryConfigurationByResource.set(o.resource,r))):r=this._memoryConfiguration,t===void 0?r.removeValue(i):r.setValue(i,t),o.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(i,t,o){const r=this.getConsolidatedConfigurationModel(i,t,o),c=this.getFolderConfigurationModelForResource(t.resource,o),d=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this._defaultConfiguration.freeze().getValue(i),s=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(i),l=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(i),h=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this.userConfiguration.freeze().getValue(i),p=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this.localUserConfiguration.freeze().getValue(i),S=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this.remoteUserConfiguration.freeze().getValue(i),f=o?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this._workspaceConfiguration.freeze().getValue(i):void 0,m=c?t.overrideIdentifier?c.freeze().override(t.overrideIdentifier).getValue(i):c.freeze().getValue(i):void 0,C=t.overrideIdentifier?d.override(t.overrideIdentifier).getValue(i):d.getValue(i),y=r.getValue(i),E=w.distinct(r.overrides.map(T=>T.identifiers).flat()).filter(T=>r.getOverrideValue(i,T)!==void 0);return{defaultValue:a,policyValue:s,applicationValue:l,userValue:h,userLocalValue:p,userRemoteValue:S,workspaceValue:f,workspaceFolderValue:m,memoryValue:C,value:y,default:a!==void 0?{value:this._defaultConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,policy:s!==void 0?{value:s}:void 0,application:l!==void 0?{value:l,override:t.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,user:h!==void 0?{value:this.userConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,userLocal:p!==void 0?{value:this.localUserConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,userRemote:S!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,workspace:f!==void 0?{value:this._workspaceConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,workspaceFolder:m!==void 0?{value:c==null?void 0:c.freeze().getValue(i),override:t.overrideIdentifier?c==null?void 0:c.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,memory:C!==void 0?{value:d.getValue(i),override:t.overrideIdentifier?d.getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:E.length?E:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(i,t,o){let r=this.getConsolidatedConfigurationModelForResource(t,o);return t.overrideIdentifier&&(r=r.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(i)!==void 0&&(r=r.merge(this._policyConfiguration)),r}getConsolidatedConfigurationModelForResource({resource:i},t){let o=this.getWorkspaceConsolidatedConfiguration();if(t&&i){const r=t.getFolder(i);r&&(o=this.getFolderConsolidatedConfiguration(r.uri)||o);const c=this._memoryConfigurationByResource.get(i);c&&(o=o.merge(c))}return o}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(i){let t=this._foldersConsolidatedConfigurations.get(i);if(!t){const o=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(i);r?(t=o.merge(r),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(i,t)):t=o}return t}getFolderConfigurationModelForResource(i,t){if(t&&i){const o=t.getFolder(i);if(o)return this._folderConfigurations.get(o.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((i,t)=>{const{contents:o,overrides:r,keys:c}=this._folderConfigurations.get(t);return i.push([t,{contents:o,overrides:r,keys:c}]),i},[])}}static parse(i){const t=this.parseConfigurationModel(i.defaults),o=this.parseConfigurationModel(i.policy),r=this.parseConfigurationModel(i.application),c=this.parseConfigurationModel(i.user),d=this.parseConfigurationModel(i.workspace),a=i.folders.reduce((s,l)=>(s.set(L.URI.revive(l[0]),this.parseConfigurationModel(l[1])),s),new v.ResourceMap);return new u(t,o,r,c,new b,d,a,new b,new v.ResourceMap,!1)}static parseConfigurationModel(i){return new b(i.contents,i.keys,i.overrides).freeze()}}e.Configuration=u;class g{constructor(i,t,o,r){this.change=i,this.previous=t,this.currentConfiguraiton=o,this.currentWorkspace=r,this._previousConfiguration=void 0;const c=new Set;i.keys.forEach(a=>c.add(a)),i.overrides.forEach(([,a])=>a.forEach(s=>c.add(s))),this.affectedKeys=[...c.values()];const d=new b;this.affectedKeys.forEach(a=>d.setValue(a,{})),this.affectedKeysTree=d.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=u.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(i,t){var o;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,i)){if(t){const r=this.previousConfiguration?this.previousConfiguration.getValue(i,t,(o=this.previous)===null||o===void 0?void 0:o.workspace):void 0,c=this.currentConfiguraiton.getValue(i,t,this.currentWorkspace);return!k.equals(r,c)}return!0}return!1}doesAffectedKeysTreeContains(i,t){let o=(0,_.toValuesTree)({[t]:!0},()=>{}),r;for(;typeof o=="object"&&(r=Object.keys(o)[0]);){if(i=i[r],!i)return!1;o=o[r]}return!0}}e.ConfigurationChangeEvent=g}),define(se[16],re([1,0,18,8,9]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;const I=new Map;I.set("false",!1),I.set("true",!0),I.set("isMac",w.isMacintosh),I.set("isLinux",w.isLinux),I.set("isWindows",w.isWindows),I.set("isWeb",w.isWeb),I.set("isMacNative",w.isMacintosh&&!w.isWeb),I.set("isEdge",w.isEdge),I.set("isFirefox",w.isFirefox),I.set("isChrome",w.isChrome),I.set("isSafari",w.isSafari);const L=Object.prototype.hasOwnProperty;class _{static has(D){return i.create(D)}static equals(D,M){return t.create(D,M)}static regex(D,M){return S.create(D,M)}static not(D){return d.create(D)}static and(...D){return C.create(D,null)}static or(...D){return y.create(D,null,!0)}static deserialize(D,M=!1){if(!!D)return this._deserializeOrExpression(D,M)}static _deserializeOrExpression(D,M){const R=D.split("||");return y.create(R.map(B=>this._deserializeAndExpression(B,M)),null,!0)}static _deserializeAndExpression(D,M){const R=D.split("&&");return C.create(R.map(B=>this._deserializeOne(B,M)),null)}static _deserializeOne(D,M){if(D=D.trim(),D.indexOf("!=")>=0){const R=D.split("!=");return c.create(R[0].trim(),this._deserializeValue(R[1],M))}if(D.indexOf("==")>=0){const R=D.split("==");return t.create(R[0].trim(),this._deserializeValue(R[1],M))}if(D.indexOf("=~")>=0){const R=D.split("=~");return S.create(R[0].trim(),this._deserializeRegexValue(R[1],M))}if(D.indexOf(" not in ")>=0){const R=D.split(" not in ");return r.create(R[0].trim(),R[1].trim())}if(D.indexOf(" in ")>=0){const R=D.split(" in ");return o.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(D)){const R=D.split(">=");return l.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(D)){const R=D.split(">");return s.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(D)){const R=D.split("<=");return p.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(D)){const R=D.split("<");return h.create(R[0].trim(),R[1].trim())}return/^\!\s*/.test(D)?d.create(D.substr(1).trim()):i.create(D)}static _deserializeValue(D,M){if(D=D.trim(),D==="true")return!0;if(D==="false")return!1;const R=/^'([^']*)'$/.exec(D);return R?R[1].trim():D}static _deserializeRegexValue(D,M){if((0,v.isFalsyOrWhitespace)(D)){if(M)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const R=D.indexOf("/"),B=D.lastIndexOf("/");if(R===B||R<0){if(M)throw new Error(`bad regexp-value '${D}', missing /-enclosure`);return console.warn(`bad regexp-value '${D}', missing /-enclosure`),null}const W=D.slice(R+1,B),V=D[B+1]==="i"?"i":"";try{return new RegExp(W,V)}catch(A){if(M)throw new Error(`bad regexp-value '${D}', parse error: ${A}`);return console.warn(`bad regexp-value '${D}', parse error: ${A}`),null}}}e.ContextKeyExpr=_;function b(P,D){const M=P?P.substituteConstants():void 0,R=D?D.substituteConstants():void 0;return!M&&!R?!0:!M||!R?!1:M.equals(R)}e.expressionsAreEqualWithConstantSubstitution=b;function u(P,D){return P.cmp(D)}class g{constructor(){this.type=0}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}substituteConstants(){return this}evaluate(D){return!1}serialize(){return"false"}keys(){return[]}negate(){return n.INSTANCE}}e.ContextKeyFalseExpr=g,g.INSTANCE=new g;class n{constructor(){this.type=1}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}substituteConstants(){return this}evaluate(D){return!0}serialize(){return"true"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyTrueExpr=n,n.INSTANCE=new n;class i{constructor(D,M){this.key=D,this.negated=M,this.type=2}static create(D,M=null){const R=I.get(D);return typeof R=="boolean"?R?n.INSTANCE:g.INSTANCE:new i(D,M)}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}substituteConstants(){const D=I.get(this.key);return typeof D=="boolean"?D?n.INSTANCE:g.INSTANCE:this}evaluate(D){return!!D.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=i;class t{constructor(D,M,R){this.key=D,this.value=M,this.negated=R,this.type=4}static create(D,M,R=null){if(typeof M=="boolean")return M?i.create(D,R):d.create(D,R);const B=I.get(D);return typeof B=="boolean"?M===(B?"true":"false")?n.INSTANCE:g.INSTANCE:new t(D,M,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){const D=I.get(this.key);if(typeof D=="boolean"){const M=D?"true":"false";return this.value===M?n.INSTANCE:g.INSTANCE}return this}evaluate(D){return D.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=t;class o{constructor(D,M){this.key=D,this.valueKey=M,this.type=10,this.negated=null}static create(D,M){return new o(D,M)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.valueKey,D.key,D.valueKey)}equals(D){return D.type===this.type?this.key===D.key&&this.valueKey===D.valueKey:!1}substituteConstants(){return this}evaluate(D){const M=D.getValue(this.valueKey),R=D.getValue(this.key);return Array.isArray(M)?M.includes(R):typeof R=="string"&&typeof M=="object"&&M!==null?L.call(M,R):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=r.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=o;class r{constructor(D,M){this.key=D,this.valueKey=M,this.type=11,this._negated=o.create(D,M)}static create(D,M){return new r(D,M)}cmp(D){return D.type!==this.type?this.type-D.type:this._negated.cmp(D._negated)}equals(D){return D.type===this.type?this._negated.equals(D._negated):!1}substituteConstants(){return this}evaluate(D){return!this._negated.evaluate(D)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=r;class c{constructor(D,M,R){this.key=D,this.value=M,this.negated=R,this.type=5}static create(D,M,R=null){if(typeof M=="boolean")return M?d.create(D,R):i.create(D,R);const B=I.get(D);return typeof B=="boolean"?M===(B?"true":"false")?g.INSTANCE:n.INSTANCE:new c(D,M,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){const D=I.get(this.key);if(typeof D=="boolean"){const M=D?"true":"false";return this.value===M?g.INSTANCE:n.INSTANCE}return this}evaluate(D){return D.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=t.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=c;class d{constructor(D,M){this.key=D,this.negated=M,this.type=3}static create(D,M=null){const R=I.get(D);return typeof R=="boolean"?R?g.INSTANCE:n.INSTANCE:new d(D,M)}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}substituteConstants(){const D=I.get(this.key);return typeof D=="boolean"?D?g.INSTANCE:n.INSTANCE:this}evaluate(D){return!D.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=i.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=d;function a(P,D){if(typeof P=="string"){const M=parseFloat(P);isNaN(M)||(P=M)}return typeof P=="string"||typeof P=="number"?D(P):g.INSTANCE}class s{constructor(D,M,R){this.key=D,this.value=M,this.negated=R,this.type=12}static create(D,M,R=null){return a(M,B=>new s(D,B,R))}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=s;class l{constructor(D,M,R){this.key=D,this.value=M,this.negated=R,this.type=13}static create(D,M,R=null){return a(M,B=>new l(D,B,R))}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=l;class h{constructor(D,M,R){this.key=D,this.value=M,this.negated=R,this.type=14}static create(D,M,R=null){return a(M,B=>new h(D,B,R))}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=h;class p{constructor(D,M,R){this.key=D,this.value=M,this.negated=R,this.type=15}static create(D,M,R=null){return a(M,B=>new p(D,B,R))}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=s.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=p;class S{constructor(D,M){this.key=D,this.regexp=M,this.type=7,this.negated=null}static create(D,M){return new S(D,M)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.key<D.key)return-1;if(this.key>D.key)return 1;const M=this.regexp?this.regexp.source:"",R=D.regexp?D.regexp.source:"";return M<R?-1:M>R?1:0}equals(D){if(D.type===this.type){const M=this.regexp?this.regexp.source:"",R=D.regexp?D.regexp.source:"";return this.key===D.key&&M===R}return!1}substituteConstants(){return this}evaluate(D){const M=D.getValue(this.key);return this.regexp?this.regexp.test(M):!1}serialize(){const D=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${D}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}e.ContextKeyRegexExpr=S;class f{constructor(D){this._actual=D,this.type=8}static create(D){return new f(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}substituteConstants(){return this}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=f;function m(P){let D=null;for(let M=0,R=P.length;M<R;M++){const B=P[M].substituteConstants();if(P[M]!==B&&D===null){D=[];for(let W=0;W<M;W++)D[W]=P[W]}D!==null&&(D[M]=B)}return D===null?P:D}class C{constructor(D,M){this.expr=D,this.negated=M,this.type=6}static create(D,M){return C._normalizeArr(D,M)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let M=0,R=this.expr.length;M<R;M++){const B=u(this.expr[M],D.expr[M]);if(B!==0)return B}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let M=0,R=this.expr.length;M<R;M++)if(!this.expr[M].equals(D.expr[M]))return!1;return!0}return!1}substituteConstants(){const D=m(this.expr);return D===this.expr?this:C.create(D,this.negated)}evaluate(D){for(let M=0,R=this.expr.length;M<R;M++)if(!this.expr[M].evaluate(D))return!1;return!0}static _normalizeArr(D,M){const R=[];let B=!1;for(const W of D)if(!!W){if(W.type===1){B=!0;continue}if(W.type===0)return g.INSTANCE;if(W.type===6){R.push(...W.expr);continue}R.push(W)}if(R.length===0&&B)return n.INSTANCE;if(R.length!==0){if(R.length===1)return R[0];R.sort(u);for(let W=1;W<R.length;W++)R[W-1].equals(R[W])&&(R.splice(W,1),W--);if(R.length===1)return R[0];for(;R.length>1;){const W=R[R.length-1];if(W.type!==9)break;R.pop();const V=R.pop(),A=R.length===0,Y=y.create(W.expr.map(ee=>C.create([ee,V],null)),null,A);Y&&(R.push(Y),R.sort(u))}return R.length===1?R[0]:new C(R,M)}}serialize(){return this.expr.map(D=>D.serialize()).join(" && ")}keys(){const D=[];for(const M of this.expr)D.push(...M.keys());return D}negate(){if(!this.negated){const D=[];for(const M of this.expr)D.push(M.negate());this.negated=y.create(D,this,!0)}return this.negated}}class y{constructor(D,M){this.expr=D,this.negated=M,this.type=9}static create(D,M,R){return y._normalizeArr(D,M,R)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let M=0,R=this.expr.length;M<R;M++){const B=u(this.expr[M],D.expr[M]);if(B!==0)return B}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let M=0,R=this.expr.length;M<R;M++)if(!this.expr[M].equals(D.expr[M]))return!1;return!0}return!1}substituteConstants(){const D=m(this.expr);return D===this.expr?this:y.create(D,this.negated,!1)}evaluate(D){for(let M=0,R=this.expr.length;M<R;M++)if(this.expr[M].evaluate(D))return!0;return!1}static _normalizeArr(D,M,R){let B=[],W=!1;if(D){for(let V=0,A=D.length;V<A;V++){const Y=D[V];if(!!Y){if(Y.type===0){W=!0;continue}if(Y.type===1)return n.INSTANCE;if(Y.type===9){B=B.concat(Y.expr);continue}B.push(Y)}}if(B.length===0&&W)return g.INSTANCE;B.sort(u)}if(B.length!==0){if(B.length===1)return B[0];for(let V=1;V<B.length;V++)B[V-1].equals(B[V])&&(B.splice(V,1),V--);if(B.length===1)return B[0];if(R){for(let V=0;V<B.length;V++)for(let A=V+1;A<B.length;A++)F(B[V],B[A])&&(B.splice(A,1),A--);if(B.length===1)return B[0]}return new y(B,M)}}serialize(){return this.expr.map(D=>D.serialize()).join(" || ")}keys(){const D=[];for(const M of this.expr)D.push(...M.keys());return D}negate(){if(!this.negated){const D=[];for(const M of this.expr)D.push(M.negate());for(;D.length>1;){const M=D.shift(),R=D.shift(),B=[];for(const V of O(M))for(const A of O(R))B.push(C.create([V,A],null));const W=D.length===0;D.unshift(y.create(B,null,W))}this.negated=D[0]}return this.negated}}class E extends i{constructor(D,M,R){super(D,null);this._defaultValue=M,typeof R=="object"?E._info.push(Object.assign(Object.assign({},R),{key:D})):R!==!0&&E._info.push({key:D,description:R,type:M!=null?typeof M:void 0})}static all(){return E._info.values()}bindTo(D){return D.createKey(this.key,this._defaultValue)}getValue(D){return D.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(D){return t.create(this.key,D)}}e.RawContextKey=E,E._info=[],e.IContextKeyService=(0,k.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function T(P,D){return P<D?-1:P>D?1:0}function N(P,D,M,R){return P<M?-1:P>M?1:D<R?-1:D>R?1:0}function F(P,D){if(D.type===6&&P.type!==9&&P.type!==6){for(const B of D.expr)if(P.equals(B))return!0}const M=P.negate(),R=O(M).concat(O(D));R.sort(u);for(let B=0;B<R.length;B++){const V=R[B].negate();for(let A=B+1;A<R.length;A++){const Y=R[A];if(V.equals(Y))return!0}}return!1}e.implies=F;function O(P){return P.type===9?P.expr:[P]}}),define(se[24],re([1,0,543,16]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var k;(function(I){I.editorSimpleInput=new v.RawContextKey("editorSimpleInput",!1,!0),I.editorTextFocus=new v.RawContextKey("editorTextFocus",!1,w.localize(0,null)),I.focus=new v.RawContextKey("editorFocus",!1,w.localize(1,null)),I.textInputFocus=new v.RawContextKey("textInputFocus",!1,w.localize(2,null)),I.readOnly=new v.RawContextKey("editorReadonly",!1,w.localize(3,null)),I.inDiffEditor=new v.RawContextKey("inDiffEditor",!1,w.localize(4,null)),I.columnSelection=new v.RawContextKey("editorColumnSelection",!1,w.localize(5,null)),I.writable=I.readOnly.toNegated(),I.hasNonEmptySelection=new v.RawContextKey("editorHasSelection",!1,w.localize(6,null)),I.hasOnlyEmptySelection=I.hasNonEmptySelection.toNegated(),I.hasMultipleSelections=new v.RawContextKey("editorHasMultipleSelections",!1,w.localize(7,null)),I.hasSingleSelection=I.hasMultipleSelections.toNegated(),I.tabMovesFocus=new v.RawContextKey("editorTabMovesFocus",!1,w.localize(8,null)),I.tabDoesNotMoveFocus=I.tabMovesFocus.toNegated(),I.isInWalkThroughSnippet=new v.RawContextKey("isInEmbeddedEditor",!1,!0),I.canUndo=new v.RawContextKey("canUndo",!1,!0),I.canRedo=new v.RawContextKey("canRedo",!1,!0),I.hoverVisible=new v.RawContextKey("editorHoverVisible",!1,w.localize(9,null)),I.inCompositeEditor=new v.RawContextKey("inCompositeEditor",void 0,w.localize(10,null)),I.notInCompositeEditor=I.inCompositeEditor.toNegated(),I.languageId=new v.RawContextKey("editorLangId","",w.localize(11,null)),I.hasCompletionItemProvider=new v.RawContextKey("editorHasCompletionItemProvider",!1,w.localize(12,null)),I.hasCodeActionsProvider=new v.RawContextKey("editorHasCodeActionsProvider",!1,w.localize(13,null)),I.hasCodeLensProvider=new v.RawContextKey("editorHasCodeLensProvider",!1,w.localize(14,null)),I.hasDefinitionProvider=new v.RawContextKey("editorHasDefinitionProvider",!1,w.localize(15,null)),I.hasDeclarationProvider=new v.RawContextKey("editorHasDeclarationProvider",!1,w.localize(16,null)),I.hasImplementationProvider=new v.RawContextKey("editorHasImplementationProvider",!1,w.localize(17,null)),I.hasTypeDefinitionProvider=new v.RawContextKey("editorHasTypeDefinitionProvider",!1,w.localize(18,null)),I.hasHoverProvider=new v.RawContextKey("editorHasHoverProvider",!1,w.localize(19,null)),I.hasDocumentHighlightProvider=new v.RawContextKey("editorHasDocumentHighlightProvider",!1,w.localize(20,null)),I.hasDocumentSymbolProvider=new v.RawContextKey("editorHasDocumentSymbolProvider",!1,w.localize(21,null)),I.hasReferenceProvider=new v.RawContextKey("editorHasReferenceProvider",!1,w.localize(22,null)),I.hasRenameProvider=new v.RawContextKey("editorHasRenameProvider",!1,w.localize(23,null)),I.hasSignatureHelpProvider=new v.RawContextKey("editorHasSignatureHelpProvider",!1,w.localize(24,null)),I.hasInlayHintsProvider=new v.RawContextKey("editorHasInlayHintsProvider",!1,w.localize(25,null)),I.hasDocumentFormattingProvider=new v.RawContextKey("editorHasDocumentFormattingProvider",!1,w.localize(26,null)),I.hasDocumentSelectionFormattingProvider=new v.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,w.localize(27,null)),I.hasMultipleDocumentFormattingProvider=new v.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,w.localize(28,null)),I.hasMultipleDocumentSelectionFormattingProvider=new v.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,w.localize(29,null))})(k=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(se[212],re([1,0,21,14,20,22,11,28,19,58,26,16]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new n.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new n.RawContextKey("parameterHintsMultipleSignatures",!1)};function i(t,o,r,c,d){return Se(this,void 0,void 0,function*(){const a=t.ordered(o);for(const s of a)try{const l=yield s.provideSignatureHelp(o,r,d,c);if(l)return l}catch(l){(0,v.onUnexpectedExternalError)(l)}})}e.provideSignatureHelp=i,g.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(t,...o)=>Se(void 0,void 0,void 0,function*(){const[r,c,d]=o;(0,k.assertType)(I.URI.isUri(r)),(0,k.assertType)(L.Position.isIPosition(c)),(0,k.assertType)(typeof d=="string"||!d);const a=t.get(b.ILanguageFeaturesService),s=yield t.get(u.ITextModelService).createModelReference(r);try{const l=yield i(a.signatureHelpProvider,s.object.textEditorModel,L.Position.lift(c),{triggerKind:_.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:d},w.CancellationToken.None);return l?(setTimeout(()=>l.dispose(),0),l.value):void 0}finally{s.dispose()}}))}),define(se[642],re([1,0,10,14,6,2,108,28,212]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var u;(function(i){i.Default={type:0};class t{constructor(c,d){this.request=c,this.previouslyActiveHints=d,this.type=2}}i.Pending=t;class o{constructor(c){this.hints=c,this.type=1}}i.Active=o})(u||(u={}));class g extends I.Disposable{constructor(t,o,r=g.DEFAULT_DELAY){super();this._onChangedHints=this._register(new k.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=u.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new I.MutableDisposable),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet,this.triggerId=0,this.editor=t,this.providers=o,this.throttledDelayer=new w.Delayer(r),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(c=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(c=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(c=>this.onCursorChange(c))),this._register(this.editor.onDidChangeModelContent(c=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(c=>this.onDidType(c))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){this._state.type===2&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=u.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,o){const r=this.editor.getModel();if(!r||!this.providers.has(r))return;const c=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(c),o).catch(v.onUnexpectedError)}next(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,o=this.state.hints.activeSignature,r=o%t==t-1,c=this.editor.getOption(77).cycle;if((t<2||r)&&!c){this.cancel();return}this.updateActiveSignature(r&&c?0:o+1)}previous(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,o=this.state.hints.activeSignature,r=o===0,c=this.editor.getOption(77).cycle;if((t<2||r)&&!c){this.cancel();return}this.updateActiveSignature(r&&c?t-1:o-1)}updateActiveSignature(t){this.state.type===1&&(this.state=new u.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return Se(this,void 0,void 0,function*(){const o=this.state.type===1||this.state.type===2,r=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const c=this._pendingTriggers.reduce(n);this._pendingTriggers=[];const d={triggerKind:c.triggerKind,triggerCharacter:c.triggerCharacter,isRetrigger:o,activeSignatureHelp:r};if(!this.editor.hasModel())return!1;const a=this.editor.getModel(),s=this.editor.getPosition();this.state=new u.Pending((0,w.createCancelablePromise)(l=>(0,b.provideSignatureHelp)(this.providers,a,s,d,l)),r);try{const l=yield this.state.request;return t!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new u.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return t===this.triggerId&&(this.state=u.Default),(0,v.onUnexpectedError)(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet;const t=this.editor.getModel();if(!!t)for(const o of this.providers.ordered(t)){for(const r of o.signatureHelpTriggerCharacters||[])this.triggerChars.add(r.charCodeAt(0)),this.retriggerChars.add(r.charCodeAt(0));for(const r of o.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(r.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const o=t.length-1,r=t.charCodeAt(o);(this.triggerChars.has(r)||this.isTriggered&&this.retriggerChars.has(r))&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:t.charAt(o)})}onCursorChange(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(77).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=g,g.DEFAULT_DELAY=120;function n(i,t){switch(t.triggerKind){case _.SignatureHelpTriggerKind.Invoke:return t;case _.SignatureHelpTriggerKind.ContentChange:return i;case _.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}}),define(se[643],re([1,0,16]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let v=class Vt{constructor(I,L){this._editor=I,this._index=0,this._ckOtherSuggestions=Vt.OtherSuggestions.bindTo(L)}dispose(){this.reset()}reset(){var I;this._ckOtherSuggestions.reset(),(I=this._listener)===null||I===void 0||I.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:I,index:L},_){if(I.items.length===0){this.reset();return}if(Vt._moveIndex(!0,I,L)===L){this.reset();return}this._acceptNext=_,this._model=I,this._index=L,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(I,L,_){let b=_;for(;b=(b+L.items.length+(I?1:-1))%L.items.length,!(b===_||!L.items[b].completion.additionalTextEdits););return b}next(){this._move(!0)}prev(){this._move(!1)}_move(I){if(!!this._model)try{this._ignore=!0,this._index=Vt._moveIndex(I,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};v.OtherSuggestions=new w.RawContextKey("hasOtherSuggestions",!1),v=ke([fe(1,w.IContextKeyService)],v),e.SuggestAlternatives=v}),define(se[644],re([1,0,16]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let v=class ki{constructor(I,L){this._editor=I,this._enabled=!1,this._ckAtEnd=ki.AtEnd.bindTo(L),this._configListener=this._editor.onDidChangeConfiguration(_=>_.hasChanged(113)&&this._update()),this._update()}dispose(){var I;this._configListener.dispose(),(I=this._selectionListener)===null||I===void 0||I.dispose(),this._ckAtEnd.reset()}_update(){const I=this._editor.getOption(113)==="on";if(this._enabled!==I)if(this._enabled=I,this._enabled){const L=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const _=this._editor.getModel(),b=this._editor.getSelection(),u=_.getWordAtPosition(b.getStartPosition());if(!u){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(u.endColumn===b.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(L),L()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};v.AtEnd=new w.RawContextKey("atEndOfWord",!1),v=ke([fe(1,w.IContextKeyService)],v),e.WordContextKey=v}),define(se[78],re([1,0,16,9]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,v.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new w.RawContextKey("accessibilityModeEnabled",!1)}),define(se[645],re([1,0,41,17,6,2,35,18,272,282,406,273,38,165,209,78]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let c=class extends I.Disposable{constructor(f,m,C,y){super();this._accessibilityService=y,this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new i.ComputeOptionsMemory,this.isSimpleWidget=f,this._containerObserver=this._register(new b.ElementSizeObserver(C,m.dimension)),this._rawOptions=p(m),this._validatedOptions=h.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(t.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(n.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(u.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(w.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const f=this._computeOptions(),m=h.checkEquals(this.options,f);m!==null&&(this.options=f,this._onDidChangeFast.fire(m),this._onDidChange.fire(m))}_computeOptions(){const f=this._readEnvConfiguration(),m=o.BareFontInfo.createFromValidatedSettings(this._validatedOptions,f.pixelRatio,this.isSimpleWidget),C=this._readFontInfo(m),y={memory:this._computeOptionsMemory,outerWidth:f.outerWidth,outerHeight:f.outerHeight-this._reservedHeight,fontInfo:C,extraEditorClassName:f.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:f.emptySelectionClipboard,pixelRatio:f.pixelRatio,tabFocusMode:n.TabFocus.getTabFocusMode(),accessibilitySupport:f.accessibilitySupport};return h.computeOptions(this._validatedOptions,y)}_readEnvConfiguration(){return{extraEditorClassName:a(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:w.isWebKit||w.isFirefox,pixelRatio:w.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(f){return u.FontMeasurements.readFontInfo(f)}getRawOptions(){return this._rawOptions}updateOptions(f){const m=p(f);!h.applyUpdate(this._rawOptions,m)||(this._validatedOptions=h.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(f){this._containerObserver.observe(f)}setIsDominatedByLongLines(f){this._isDominatedByLongLines!==f&&(this._isDominatedByLongLines=f,this._recomputeOptions())}setModelLineCount(f){const m=d(f);this._lineNumbersDigitCount!==m&&(this._lineNumbersDigitCount=m,this._recomputeOptions())}setViewLineCount(f){this._viewLineCount!==f&&(this._viewLineCount=f,this._recomputeOptions())}setReservedHeight(f){this._reservedHeight!==f&&(this._reservedHeight=f,this._recomputeOptions())}};c=ke([fe(3,r.IAccessibilityService)],c),e.EditorConfiguration=c;function d(S){let f=0;for(;S;)S=Math.floor(S/10),f++;return f||1}function a(){let S="";return!w.isSafari&&!w.isWebkitWebView&&(S+="no-user-select "),w.isSafari&&(S+="no-minimap-shadow ",S+="enable-user-select "),_.isMacintosh&&(S+="mac "),S}class s{constructor(){this._values=[]}_read(f){return this._values[f]}get(f){return this._values[f]}_write(f,m){this._values[f]=m}}class l{constructor(){this._values=[]}_read(f){if(f>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[f]}get(f){return this._read(f)}_write(f,m){this._values[f]=m}}e.ComputedEditorOptions=l;class h{static validateOptions(f){const m=new s;for(const C of i.editorOptionsRegistry){const y=C.name==="_never_"?void 0:f[C.name];m._write(C.id,C.validate(y))}return m}static computeOptions(f,m){const C=new l;for(const y of i.editorOptionsRegistry)C._write(y.id,y.compute(m,C,f._read(y.id)));return C}static _deepEquals(f,m){if(typeof f!="object"||typeof m!="object"||!f||!m)return f===m;if(Array.isArray(f)||Array.isArray(m))return Array.isArray(f)&&Array.isArray(m)?v.equals(f,m):!1;if(Object.keys(f).length!==Object.keys(m).length)return!1;for(const C in f)if(!h._deepEquals(f[C],m[C]))return!1;return!0}static checkEquals(f,m){const C=[];let y=!1;for(const E of i.editorOptionsRegistry){const T=!h._deepEquals(f._read(E.id),m._read(E.id));C[E.id]=T,T&&(y=!0)}return y?new i.ConfigurationChangedEvent(C):null}static applyUpdate(f,m){let C=!1;for(const y of i.editorOptionsRegistry)if(m.hasOwnProperty(y.name)){const E=y.applyUpdate(f[y.name],m[y.name]);f[y.name]=E.newValue,C=C||E.didChange}return C}}function p(S){const f=L.deepClone(S);return(0,g.migrateOptions)(f),f}}),define(se[646],re([1,0,6,55,2,51,35,22,622,26,30,16]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const i="data-keybinding-context";class t{constructor(E,T){this._id=E,this._parent=T,this._value=Object.create(null),this._value._contextId=E}get value(){return Object.assign({},this._value)}setValue(E,T){return this._value[E]!==T?(this._value[E]=T,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const T=this._value[E];return typeof T=="undefined"&&this._parent?this._parent.getValue(E):T}}e.Context=t;class o extends t{constructor(){super(-1,null)}setValue(E,T){return!1}removeValue(E){return!1}getValue(E){}}o.INSTANCE=new o;class r extends t{constructor(E,T,N){super(E,null);this._configurationService=T,this._values=I.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(F=>{if(F.source===7){const O=Array.from(v.Iterable.map(this._values,([P])=>P));this._values.clear(),N.fire(new a(O))}else{const O=[];for(const P of F.affectedKeys){const D=`config.${P}`,M=this._values.findSuperstr(D);M!==void 0&&(O.push(...v.Iterable.map(M,([R])=>R)),this._values.deleteSuperstr(D)),this._values.has(D)&&(O.push(D),this._values.delete(D))}N.fire(new a(O))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(r._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const T=E.substr(r._keyPrefix.length),N=this._configurationService.getValue(T);let F;switch(typeof N){case"number":case"boolean":case"string":F=N;break;default:Array.isArray(N)?F=JSON.stringify(N):F=N}return this._values.set(E,F),F}setValue(E,T){return super.setValue(E,T)}removeValue(E){return super.removeValue(E)}}r._keyPrefix="config.";class c{constructor(E,T,N){this._service=E,this._key=T,this._defaultValue=N,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class d{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class a{constructor(E){this.keys=E}affectsSome(E){for(const T of this.keys)if(E.has(T))return!0;return!1}allKeysContainedIn(E){return this.keys.every(T=>E.has(T))}}class s{constructor(E){this.events=E}affectsSome(E){for(const T of this.events)if(T.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(T=>T.allKeysContainedIn(E))}}function l(y,E){return y.allKeysContainedIn(new Set(Object.keys(E)))}class h{constructor(E){this._onDidChangeContext=new w.PauseableEmitter({merge:T=>new s(T)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,T){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new c(this,E,T)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new S(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const T=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(T):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,T){if(this._isDisposed)return;const N=this.getContextValuesContainer(this._myContextId);!N||N.setValue(E,T)&&this._onDidChangeContext.fire(new d(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new d(E))}getContext(E){return this._isDisposed?o.INSTANCE:this.getContextValuesContainer(f(E))}}e.AbstractContextKeyService=h;let p=class extends h{constructor(E){super(0);this._contexts=new Map,this._toDispose=new k.DisposableStore,this._lastContextId=0;const T=new r(this._myContextId,E,this._onDidChangeContext);this._contexts.set(this._myContextId,T),this._toDispose.add(T)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(E){return this._isDisposed?o.INSTANCE:this._contexts.get(E)||o.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const T=++this._lastContextId;return this._contexts.set(T,new t(T,this.getContextValuesContainer(E))),T}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};p=ke([fe(0,g.IConfigurationService)],p),e.ContextKeyService=p;class S extends h{constructor(E,T){super(E.createChildContext());if(this._parentChangeListener=new k.MutableDisposable,this._parent=E,this._updateParentChangeListener(),this._domNode=T,this._domNode.hasAttribute(i)){let N="";this._domNode.classList&&(N=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${N?": "+N:""}`)}this._domNode.setAttribute(i,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const N=this._parent.getContextValuesContainer(this._myContextId).value;l(E,N)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(i),this._isDisposed=!0)}getContextValuesContainer(E){return this._isDisposed?o.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function f(y){for(;y;){if(y.hasAttribute(i)){const E=y.getAttribute(i);return E?parseInt(E,10):NaN}y=y.parentElement}return 0}function m(y,E,T){y.get(n.IContextKeyService).createKey(String(E),C(T))}e.setContext=m;function C(y){return(0,L.cloneAndChange)(y,E=>{if(typeof E=="object"&&E.$mid===1)return _.URI.revive(E).toString();if(E instanceof _.URI)return E.toString()})}u.CommandsRegistry.registerCommand(n.SET_CONTEXT_COMMAND_ID,m),u.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...n.RawContextKey.all()].sort((y,E)=>y.key.localeCompare(E.key))},description:{description:(0,b.localize)(0,null),args:[]}}),u.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const y=[],E=new Set;for(const T of n.RawContextKey.all())E.has(T.key)||(E.add(T.key),y.push(T));y.sort((T,N)=>T.key.localeCompare(N.key)),console.log(JSON.stringify(y,void 0,2))})}),define(se[291],re([1,0,18,623,16]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new k.RawContextKey("isMac",w.isMacintosh,(0,v.localize)(0,null)),e.IsLinuxContext=new k.RawContextKey("isLinux",w.isLinux,(0,v.localize)(1,null)),e.IsWindowsContext=new k.RawContextKey("isWindows",w.isWindows,(0,v.localize)(2,null)),e.IsWebContext=new k.RawContextKey("isWeb",w.isWeb,(0,v.localize)(3,null)),e.IsMacNativeContext=new k.RawContextKey("isMacNative",w.isMacintosh&&!w.isWeb,(0,v.localize)(4,null)),e.IsIOSContext=new k.RawContextKey("isIOS",w.isIOS,(0,v.localize)(5,null)),e.IsDevelopmentContext=new k.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new k.RawContextKey("productQualityType","",(0,v.localize)(6,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new k.RawContextKey(e.InputFocusedContextKey,!1,(0,v.localize)(7,null))}),define(se[79],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,w.createDecorator)("contextViewService"),e.IContextMenuService=(0,w.createDecorator)("contextMenuService")}),define(se[141],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,w.createDecorator)("dialogService")}),define(se[169],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class w{constructor(...k){this._entries=new Map;for(const[I,L]of k)this.set(I,L)}set(k,I){const L=this._entries.get(k);return this._entries.set(k,I),L}get(k){return this._entries.get(k)}}e.ServiceCollection=w}),define(se[647],re([1,0,10,14,210,637,9,169]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const b=!1;class u extends Error{constructor(t){var o;super("cyclic dependency between services");this.message=(o=t.findCycleSlow())!==null&&o!==void 0?o:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class g{constructor(t=new _.ServiceCollection,o=!1,r){this._activeInstantiations=new Set,this._services=t,this._strict=o,this._parent=r,this._services.set(L.IInstantiationService,this)}createChild(t){return new g(t,this._strict,this)}invokeFunction(t,...o){const r=n.traceInvocation(t);let c=!1;try{return t({get:a=>{if(c)throw(0,v.illegalState)("service accessor is only valid during the invocation of its target method");const s=this._getOrCreateServiceInstance(a,r);if(!s)throw new Error(`[invokeFunction] unknown service '${a}'`);return s}},...o)}finally{c=!0,r.stop()}}createInstance(t,...o){let r,c;return t instanceof k.SyncDescriptor?(r=n.traceCreation(t.ctor),c=this._createInstance(t.ctor,t.staticArguments.concat(o),r)):(r=n.traceCreation(t),c=this._createInstance(t,o,r)),r.stop(),c}_createInstance(t,o=[],r){const c=L._util.getServiceDependencies(t).sort((s,l)=>s.index-l.index),d=[];for(const s of c){const l=this._getOrCreateServiceInstance(s.id,r);l||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${s.id}.`,!1),d.push(l)}const a=c.length>0?c[0].index:o.length;if(o.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${o.length} static arguments`);const s=a-o.length;s>0?o=o.concat(new Array(s)):o=o.slice(0,a)}return new t(...[...o,...d])}_setServiceInstance(t,o){if(this._services.get(t)instanceof k.SyncDescriptor)this._services.set(t,o);else if(this._parent)this._parent._setServiceInstance(t,o);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){const o=this._services.get(t);return!o&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):o}_getOrCreateServiceInstance(t,o){const r=this._getServiceInstanceOrDescriptor(t);return r instanceof k.SyncDescriptor?this._safeCreateAndCacheServiceInstance(t,r,o.branch(t,!0)):(o.branch(t,!1),r)}_safeCreateAndCacheServiceInstance(t,o,r){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,o,r)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,o,r){const c=new I.Graph(s=>s.id.toString());let d=0;const a=[{id:t,desc:o,_trace:r}];for(;a.length;){const s=a.pop();if(c.lookupOrInsertNode(s),d++>1e3)throw new u(c);for(const l of L._util.getServiceDependencies(s.desc.ctor)){const h=this._getServiceInstanceOrDescriptor(l.id);if(h||this._throwIfStrict(`[createInstance] ${t} depends on ${l.id} which is NOT registered.`,!0),h instanceof k.SyncDescriptor){const p={id:l.id,desc:h,_trace:s._trace.branch(l.id,!0)};c.insertEdge(s,p),a.push(p)}}}for(;;){const s=c.roots();if(s.length===0){if(!c.isEmpty())throw new u(c);break}for(const{data:l}of s){if(this._getServiceInstanceOrDescriptor(l.id)instanceof k.SyncDescriptor){const p=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,p)}c.removeNode(l)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,o,r=[],c,d){if(this._services.get(t)instanceof k.SyncDescriptor)return this._createServiceInstance(o,r,c,d);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,o,r,c,d);throw new Error(`illegalState - creating UNKNOWN service instance ${o.name}`)}_createServiceInstance(t,o=[],r,c){if(r){const d=new w.IdleValue(()=>this._createInstance(t,o,c));return new Proxy(Object.create(null),{get(a,s){if(s in a)return a[s];const l=d.value;let h=l[s];return typeof h!="function"||(h=h.bind(l),a[s]=h),h},set(a,s,l){return d.value[s]=l,!0}})}else return this._createInstance(t,o,c)}_throwIfStrict(t,o){if(o&&console.warn(t),this._strict)throw new Error(t)}}e.InstantiationService=g;class n{constructor(t,o){this.type=t,this.name=o,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return b?new n(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):n._None}static traceCreation(t){return b?new n(0,t.name):n._None}branch(t,o){const r=new n(2,t.toString());return this._dep.push([t,o,r]),r}stop(){const t=Date.now()-this._start;n._totals+=t;let o=!1;function r(d,a){const s=[],l=new Array(d+1).join("	");for(const[h,p,S]of a._dep)if(p&&S){o=!0,s.push(`${l}CREATES -> ${h}`);const f=r(d+1,S);f&&s.push(f)}else s.push(`${l}uses -> ${h}`);return s.join(`
`)}const c=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${r(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${n._totals.toFixed(2)}ms)`];(t>2||o)&&console.log(c.join(`
`))}}e.Trace=n,n._None=new class extends n{constructor(){super(-1,null)}stop(){}branch(){return this}},n._totals=0}),define(se[648],re([1,0,10,6,2,625]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const L=/^(cursor|delete)/;class _ extends k.Disposable{constructor(g,n,i,t,o){super();this._contextKeyService=g,this._commandService=n,this._telemetryService=i,this._notificationService=t,this._logService=o,this._onDidUpdateKeybindings=this._register(new v.Emitter),this._currentChord=null,this._currentChordChecker=new w.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=b.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new w.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:v.Event.None}dispose(){super.dispose()}_log(g){this._logging&&this._logService.info(`[KeybindingService]: ${g}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(g,n){const i=this._getResolver().lookupPrimaryKeybinding(g,n||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(g,n){return this._dispatch(g,n)}softDispatch(g,n){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(g);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[t]=i.getDispatchParts();if(t===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const o=this._contextKeyService.getContext(n),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,r,t)}_enterChordMode(g,n){this._currentChord={keypress:g,label:n},this._currentChordStatusMessage=this._notificationService.status(I.localize(0,null,n));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(g,n){return this._doDispatch(this.resolveKeyboardEvent(g),n,!1)}_singleModifierDispatch(g,n){const i=this.resolveKeyboardEvent(g),[t]=i.getSingleModifierDispatchParts();if(t)return this._ignoreSingleModifiers.has(t)?(this._log(`+ Ignoring single modifier ${t} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=b.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=b.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${t}.`),this._currentSingleModifier=t,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):t===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${t} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,n,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getParts();return this._ignoreSingleModifiers=new b(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(g,n,i=!1){let t=!1;if(g.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,r=null;if(i){const[s]=g.getSingleModifierDispatchParts();o=s,r=s}else[o]=g.getDispatchParts(),r=this._currentChord?this._currentChord.keypress:null;if(o===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),t;const c=this._contextKeyService.getContext(n),d=g.getLabel(),a=this._getResolver().resolve(c,r,o);return this._logService.trace("KeybindingService#dispatch",d,a==null?void 0:a.commandId),a&&a.enterChord?(t=!0,this._enterChordMode(o,d),this._log("+ Entering chord mode..."),t):(this._currentChord&&(!a||!a.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${d}".`),this._notificationService.status(I.localize(1,null,this._currentChord.label,d),{hideAfter:10*1e3}),t=!0),this._leaveChordMode(),a&&a.commandId&&(a.bubble||(t=!0),this._log(`+ Invoking command ${a.commandId}.`),typeof a.commandArgs=="undefined"?this._commandService.executeCommand(a.commandId).then(void 0,s=>this._notificationService.warn(s)):this._commandService.executeCommand(a.commandId,a.commandArgs).then(void 0,s=>this._notificationService.warn(s)),L.test(a.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:a.commandId,from:"keybinding"})),t)}mightProducePrintableCharacter(g){return g.ctrlKey||g.metaKey?!1:g.keyCode>=31&&g.keyCode<=56||g.keyCode>=21&&g.keyCode<=30}}e.AbstractKeybindingService=_;class b{constructor(g){this._ctrlKey=g?g.ctrlKey:!1,this._shiftKey=g?g.shiftKey:!1,this._altKey=g?g.altKey:!1,this._metaKey=g?g.metaKey:!1}has(g){switch(g){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}b.EMPTY=new b(null)}),define(se[649],re([1,0,14,193,105]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class I extends k.ResolvedKeybinding{constructor(_,b){super();if(b.length===0)throw(0,w.illegalArgument)("parts");this._os=_,this._parts=b}getLabel(){return v.UILabelProvider.toLabel(this._os,this._parts,_=>this._getLabel(_))}getAriaLabel(){return v.AriaLabelProvider.toLabel(this._os,this._parts,_=>this._getAriaLabel(_))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:v.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,_=>this._getElectronAccelerator(_))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(_=>this._getPart(_))}_getPart(_){return new k.ResolvedKeybindingPart(_.ctrlKey,_.shiftKey,_.altKey,_.metaKey,this._getLabel(_),this._getAriaLabel(_))}getDispatchParts(){return this._parts.map(_=>this._getDispatchPart(_))}getSingleModifierDispatchParts(){return this._parts.map(_=>this._getSingleModifierDispatchPart(_))}}e.BaseResolvedKeybinding=I}),define(se[44],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,w.createDecorator)("keybindingService")}),define(se[650],re([1,0,16]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class v{constructor(_,b,u){this._log=u,this._defaultKeybindings=_,this._defaultBoundCommands=new Map;for(const g of _){const n=g.command;n&&n.charAt(0)!=="-"&&this._defaultBoundCommands.set(n,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=v.handleRemovals([].concat(_).concat(b));for(let g=0,n=this._keybindings.length;g<n;g++){const i=this._keybindings[g];i.keypressParts.length!==0&&(i.when&&i.when.type===0||this._addKeyPress(i.keypressParts[0],i))}}static _isTargetedForRemoval(_,b,u,g){return!(b&&_.keypressParts[0]!==b||u&&_.keypressParts[1]!==u||g&&(!_.when||!(0,w.expressionsAreEqualWithConstantSubstitution)(g,_.when)))}static handleRemovals(_){const b=new Map;for(let g=0,n=_.length;g<n;g++){const i=_[g];if(i.command&&i.command.charAt(0)==="-"){const t=i.command.substring(1);b.has(t)?b.get(t).push(i):b.set(t,[i])}}if(b.size===0)return _;const u=[];for(let g=0,n=_.length;g<n;g++){const i=_[g];if(!i.command||i.command.length===0){u.push(i);continue}if(i.command.charAt(0)==="-")continue;const t=b.get(i.command);if(!t||!i.isDefault){u.push(i);continue}let o=!1;for(const r of t){const c=r.keypressParts[0],d=r.keypressParts[1],a=r.when;if(this._isTargetedForRemoval(i,c,d,a)){o=!0;break}}if(!o){u.push(i);continue}}return u}_addKeyPress(_,b){const u=this._map.get(_);if(typeof u=="undefined"){this._map.set(_,[b]),this._addToLookupMap(b);return}for(let g=u.length-1;g>=0;g--){const n=u[g];if(n.command===b.command)continue;const i=n.keypressParts.length>1,t=b.keypressParts.length>1;i&&t&&n.keypressParts[1]!==b.keypressParts[1]||v.whenIsEntirelyIncluded(n.when,b.when)&&this._removeFromLookupMap(n)}u.push(b),this._addToLookupMap(b)}_addToLookupMap(_){if(!_.command)return;let b=this._lookupMap.get(_.command);typeof b=="undefined"?(b=[_],this._lookupMap.set(_.command,b)):b.push(_)}_removeFromLookupMap(_){if(!_.command)return;const b=this._lookupMap.get(_.command);if(typeof b!="undefined"){for(let u=0,g=b.length;u<g;u++)if(b[u]===_){b.splice(u,1);return}}}static whenIsEntirelyIncluded(_,b){return!b||b.type===1?!0:!_||_.type===1?!1:(0,w.implies)(_,b)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(_,b){const u=this._lookupMap.get(_);if(typeof u=="undefined"||u.length===0)return null;if(u.length===1)return u[0];for(let g=u.length-1;g>=0;g--){const n=u[g];if(b.contextMatchesRules(n.when))return n}return u[u.length-1]}resolve(_,b,u){this._log(`| Resolving ${u}${b?` chorded from ${b}`:""}`);let g=null;if(b!==null){const i=this._map.get(b);if(typeof i=="undefined")return this._log("\\ No keybinding entries."),null;g=[];for(let t=0,o=i.length;t<o;t++){const r=i[t];r.keypressParts[1]===u&&g.push(r)}}else{const i=this._map.get(u);if(typeof i=="undefined")return this._log("\\ No keybinding entries."),null;g=i}const n=this._findCommand(_,g);return n?b===null&&n.keypressParts.length>1&&n.keypressParts[1]!==null?(this._log(`\\ From ${g.length} keybinding entries, matched chord, when: ${k(n.when)}, source: ${I(n)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${g.length} keybinding entries, matched ${n.command}, when: ${k(n.when)}, source: ${I(n)}.`),{enterChord:!1,leaveChord:n.keypressParts.length>1,commandId:n.command,commandArgs:n.commandArgs,bubble:n.bubble}):(this._log(`\\ From ${g.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(_,b){for(let u=b.length-1;u>=0;u--){const g=b[u];if(!!v._contextMatchesRules(_,g.when))return g}return null}static _contextMatchesRules(_,b){return b?b.evaluate(_):!0}}e.KeybindingResolver=v;function k(L){return L?`${L.serialize()}`:"no when condition"}function I(L){return L.extensionId?L.isBuiltinExtension?`built-in extension ${L.extensionId}`:`user extension ${L.extensionId}`:L.isDefault?"built-in":"user"}}),define(se[292],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class w{constructor(I,L,_,b,u,g,n){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=I,this.keypressParts=I?v(I.getDispatchParts()):[],I&&this.keypressParts.length===0&&(this.keypressParts=v(I.getSingleModifierDispatchParts())),this.bubble=L?L.charCodeAt(0)===94:!1,this.command=this.bubble?L.substr(1):L,this.commandArgs=_,this.when=b,this.isDefault=u,this.extensionId=g,this.isBuiltinExtension=n}}e.ResolvedKeybindingItem=w;function v(k){const I=[];for(let L=0,_=k.length;L<_;L++){const b=k[L];if(!b)return I;I.push(b)}return I}e.removeElementsAfterNulls=v}),define(se[651],re([1,0,59,105,649,292]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class L extends k.BaseResolvedKeybinding{constructor(b,u){super(u,b.parts)}_keyCodeToUILabel(b){if(this._os===2)switch(b){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return w.KeyCodeUtils.toString(b)}_getLabel(b){return b.isDuplicateModifierCase()?"":this._keyCodeToUILabel(b.keyCode)}_getAriaLabel(b){return b.isDuplicateModifierCase()?"":w.KeyCodeUtils.toString(b.keyCode)}_getElectronAccelerator(b){return w.KeyCodeUtils.toElectronAccelerator(b.keyCode)}_getDispatchPart(b){return L.getDispatchStr(b)}static getDispatchStr(b){if(b.isModifierKey())return null;let u="";return b.ctrlKey&&(u+="ctrl+"),b.shiftKey&&(u+="shift+"),b.altKey&&(u+="alt+"),b.metaKey&&(u+="meta+"),u+=w.KeyCodeUtils.toString(b.keyCode),u}_getSingleModifierDispatchPart(b){return b.keyCode===5&&!b.shiftKey&&!b.altKey&&!b.metaKey?"ctrl":b.keyCode===4&&!b.ctrlKey&&!b.altKey&&!b.metaKey?"shift":b.keyCode===6&&!b.ctrlKey&&!b.shiftKey&&!b.metaKey?"alt":b.keyCode===57&&!b.ctrlKey&&!b.shiftKey&&!b.altKey?"meta":null}static _scanCodeToKeyCode(b){const u=w.IMMUTABLE_CODE_TO_KEY_CODE[b];if(u!==-1)return u;switch(b){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(b){if(!b)return null;if(b instanceof v.SimpleKeybinding)return b;const u=this._scanCodeToKeyCode(b.scanCode);return u===0?null:new v.SimpleKeybinding(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,u)}static resolveUserBinding(b,u){const g=(0,I.removeElementsAfterNulls)(b.map(n=>this._resolveSimpleUserBinding(n)));return g.length>0?[new L(new v.ChordKeybinding(g),u)]:[]}}e.USLayoutResolvedKeybinding=L}),define(se[142],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,w.createDecorator)("labelService")}),define(se[117],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,w.createDecorator)("layoutService")}),define(se[293],re([1,0,7,6,117,29,53]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let _=class{constructor(g){this._codeEditorService=g,this.onDidLayout=v.Event.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=w.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var g;(g=this._codeEditorService.getFocusedCodeEditor())===null||g===void 0||g.focus()}};_=ke([fe(0,I.ICodeEditorService)],_);let b=class extends _{constructor(g,n){super(n);this._container=g}get hasContainer(){return!1}get container(){return this._container}};b=ke([fe(1,I.ICodeEditorService)],b),e.EditorScopedLayoutService=b,(0,L.registerSingleton)(k.ILayoutService,_)}),define(se[652],re([1,0,7,6,2,78,30,16,117]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let u=class extends k.Disposable{constructor(n,i,t){super();this._contextKeyService=n,this._layoutService=i,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new v.Emitter,this._onDidChangeReducedMotion=new v.Emitter,this._accessibilityModeEnabledContext=I.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(c=>{c.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire()),c.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),o(),this._register(this.onDidChangeScreenReaderOptimized(()=>o()));const r=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=r.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(r)}initReducedMotionListeners(n){if(!this._layoutService.hasContainer)return;this._register((0,w.addDisposableListener)(n,"change",()=>{this._systemMotionReduced=n.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const t=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",t),this._layoutService.container.classList.toggle("enable-motion",!t)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const n=this._configurationService.getValue("editor.accessibilitySupport");return n==="on"||n==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const n=this._configMotionReduced;return n==="on"||n==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};u=ke([fe(0,_.IContextKeyService),fe(1,b.ILayoutService),fe(2,L.IConfigurationService)],u),e.AccessibilityService=u}),define(se[653],re([1,0,259,2,117]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let I=class extends v.Disposable{constructor(_){super();this.layoutService=_,this.currentViewDisposable=v.Disposable.None,this.container=_.hasContainer?_.container:null,this.contextView=this._register(new w.ContextView(this.container,1)),this.layout(),this._register(_.onDidLayout(()=>this.layout()))}setContainer(_,b){this.contextView.setContainer(_,b||1)}showContextView(_,b,u){b?(b!==this.container||this.shadowRoot!==u)&&(this.container=b,this.setContainer(b,u?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=u,this.contextView.show(_);const g=(0,v.toDisposable)(()=>{this.currentViewDisposable===g&&this.hideContextView()});return this.currentViewDisposable=g,g}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(_){this.contextView.hide(_)}};I=ke([fe(0,k.ILayoutService)],I),e.ContextViewService=I}),define(se[69],re([1,0,6,2,9]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,k.createDecorator)("logService");var I;(function(u){u[u.Trace=0]="Trace",u[u.Debug=1]="Debug",u[u.Info=2]="Info",u[u.Warning=3]="Warning",u[u.Error=4]="Error",u[u.Critical=5]="Critical",u[u.Off=6]="Off"})(I=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=I.Info;class L extends v.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new w.Emitter)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=L;class _ extends L{constructor(g=e.DEFAULT_LOG_LEVEL){super();this.setLevel(g)}trace(g,...n){this.getLevel()<=I.Trace&&console.log("%cTRACE","color: #888",g,...n)}debug(g,...n){this.getLevel()<=I.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...n)}info(g,...n){this.getLevel()<=I.Info&&console.log("%c INFO","color: #33f",g,...n)}error(g,...n){this.getLevel()<=I.Error&&console.log("%c  ERR","color: #f33",g,...n)}dispose(){}}e.ConsoleLogger=_;class b extends v.Disposable{constructor(g){super();this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...n){this.logger.trace(g,...n)}debug(g,...n){this.logger.debug(g,...n)}info(g,...n){this.logger.info(g,...n)}error(g,...n){this.logger.error(g,...n)}}e.LogService=b}),define(se[654],re([1,0,41,7,10,2,117,69]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let b=class extends I.Disposable{constructor(g,n){super();this.layoutService=g,this.logService=n,this.mapTextToType=new Map,this.findText="",this.resources=[],(w.isSafari||w.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const g=()=>{const n=new k.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=n,navigator.clipboard.write([new ClipboardItem({"text/plain":n.p})]).catch(i=>Se(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!n.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,v.addDisposableListener)(this.layoutService.container,"click",g)),this._register((0,v.addDisposableListener)(this.layoutService.container,"keydown",g)))}writeText(g,n){return Se(this,void 0,void 0,function*(){if(n){this.mapTextToType.set(n,g);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(g);try{return yield navigator.clipboard.writeText(g)}catch(o){console.error(o)}const i=document.activeElement,t=document.body.appendChild((0,v.$)("textarea",{"aria-hidden":!0}));t.style.height="1px",t.style.width="1px",t.style.position="absolute",t.value=g,t.focus(),t.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(t)})}readText(g){return Se(this,void 0,void 0,function*(){if(g)return this.mapTextToType.get(g)||"";try{return yield navigator.clipboard.readText()}catch(n){return console.error(n),""}})}readFindText(){return Se(this,void 0,void 0,function*(){return this.findText})}writeFindText(g){return Se(this,void 0,void 0,function*(){this.findText=g})}readResources(){return Se(this,void 0,void 0,function*(){return this.resources})}};b=ke([fe(0,L.ILayoutService),fe(1,_.ILogService)],b),e.BrowserClipboardService=b}),define(se[84],re([1,0,82,627,9]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var I;(function(_){_[_.Hint=1]="Hint",_[_.Info=2]="Info",_[_.Warning=4]="Warning",_[_.Error=8]="Error"})(I=e.MarkerSeverity||(e.MarkerSeverity={})),function(_){function b(t,o){return o-t}_.compare=b;const u=Object.create(null);u[_.Error]=(0,v.localize)(0,null),u[_.Warning]=(0,v.localize)(1,null),u[_.Info]=(0,v.localize)(2,null);function g(t){return u[t]||""}_.toString=g;function n(t){switch(t){case w.default.Error:return _.Error;case w.default.Warning:return _.Warning;case w.default.Info:return _.Info;case w.default.Ignore:return _.Hint}}_.fromSeverity=n;function i(t){switch(t){case _.Error:return w.default.Error;case _.Warning:return w.default.Warning;case _.Info:return w.default.Info;case _.Hint:return w.default.Ignore}}_.toSeverity=i}(I=e.MarkerSeverity||(e.MarkerSeverity={}));var L;(function(_){const b="";function u(n){return g(n,!0)}_.makeKey=u;function g(n,i){const t=[b];return n.source?t.push(n.source.replace("\xA6","\\\xA6")):t.push(b),n.code?typeof n.code=="string"?t.push(n.code.replace("\xA6","\\\xA6")):t.push(n.code.value.replace("\xA6","\\\xA6")):t.push(b),n.severity!==void 0&&n.severity!==null?t.push(I.toString(n.severity)):t.push(b),n.message&&i?t.push(n.message.replace("\xA6","\\\xA6")):t.push(b),n.startLineNumber!==void 0&&n.startLineNumber!==null?t.push(n.startLineNumber.toString()):t.push(b),n.startColumn!==void 0&&n.startColumn!==null?t.push(n.startColumn.toString()):t.push(b),n.endLineNumber!==void 0&&n.endLineNumber!==null?t.push(n.endLineNumber.toString()):t.push(b),n.endColumn!==void 0&&n.endColumn!==null?t.push(n.endColumn.toString()):t.push(b),t.push(b),t.join("\xA6")}_.makeKeyOptionalMessage=g})(L=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,k.createDecorator)("markerService")}),define(se[655],re([1,0,17,6,2,73,8,22,3,53,9,84,30]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class t{constructor(d,a,s){this.marker=d,this.index=a,this.total=s}}e.MarkerCoordinate=t;let o=class{constructor(d,a,s){this._markerService=a,this._configService=s,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new k.DisposableStore,this._markers=[],this._nextIdx=-1,_.URI.isUri(d)?this._resourceFilter=S=>S.toString()===d.toString():d&&(this._resourceFilter=d);const l=this._configService.getValue("problems.sortOrder"),h=(S,f)=>{let m=(0,L.compare)(S.resource.toString(),f.resource.toString());return m===0&&(l==="position"?m=b.Range.compareRangesUsingStarts(S,f)||n.MarkerSeverity.compare(S.severity,f.severity):m=n.MarkerSeverity.compare(S.severity,f.severity)||b.Range.compareRangesUsingStarts(S,f)),m},p=()=>{this._markers=this._markerService.read({resource:_.URI.isUri(d)?d:void 0,severities:n.MarkerSeverity.Error|n.MarkerSeverity.Warning|n.MarkerSeverity.Info}),typeof d=="function"&&(this._markers=this._markers.filter(S=>this._resourceFilter(S.resource))),this._markers.sort(h)};p(),this._dispoables.add(a.onMarkerChanged(S=>{(!this._resourceFilter||S.some(f=>this._resourceFilter(f)))&&(p(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(d){return!this._resourceFilter&&!d?!0:!this._resourceFilter||!d?!1:this._resourceFilter(d)}get selected(){const d=this._markers[this._nextIdx];return d&&new t(d,this._nextIdx+1,this._markers.length)}_initIdx(d,a,s){let l=!1,h=this._markers.findIndex(p=>p.resource.toString()===d.uri.toString());h<0&&(h=(0,w.binarySearch)(this._markers,{resource:d.uri},(p,S)=>(0,L.compare)(p.resource.toString(),S.resource.toString())),h<0&&(h=~h));for(let p=h;p<this._markers.length;p++){let S=b.Range.lift(this._markers[p]);if(S.isEmpty()){const f=d.getWordAtPosition(S.getStartPosition());f&&(S=new b.Range(S.startLineNumber,f.startColumn,S.startLineNumber,f.endColumn))}if(a&&(S.containsPosition(a)||a.isBeforeOrEqual(S.getStartPosition()))){this._nextIdx=p,l=!0;break}if(this._markers[p].resource.toString()!==d.uri.toString())break}l||(this._nextIdx=s?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(d,a,s){if(this._markers.length===0)return!1;const l=this._nextIdx;return this._nextIdx===-1?this._initIdx(a,s,d):d?this._nextIdx=(this._nextIdx+1)%this._markers.length:d||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),l!==this._nextIdx}find(d,a){let s=this._markers.findIndex(l=>l.resource.toString()===d.toString());if(!(s<0)){for(;s<this._markers.length;s++)if(b.Range.containsPosition(this._markers[s],a))return new t(this._markers[s],s+1,this._markers.length)}}};o=ke([fe(1,n.IMarkerService),fe(2,i.IConfigurationService)],o),e.MarkerList=o,e.IMarkerNavigationService=(0,g.createDecorator)("IMarkerNavigationService");let r=class{constructor(d,a){this._markerService=d,this._configService=a,this._provider=new I.LinkedList}getMarkerList(d){for(const a of this._provider){const s=a.getMarkerList(d);if(s)return s}return new o(d,this._markerService,this._configService)}};r=ke([fe(0,n.IMarkerService),fe(1,i.IConfigurationService)],r),(0,u.registerSingleton)(e.IMarkerNavigationService,r,!0)}),define(se[656],re([1,0,17,6,55,51,52,22,84]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([L.Schemas.inMemory,L.Schemas.vscodeSourceControl,L.Schemas.walkThrough,L.Schemas.walkThroughSnippet]);class u{constructor(){this._byResource=new I.ResourceMap,this._byOwner=new Map}set(t,o,r){let c=this._byResource.get(t);c||(c=new Map,this._byResource.set(t,c)),c.set(o,r);let d=this._byOwner.get(o);d||(d=new I.ResourceMap,this._byOwner.set(o,d)),d.set(t,r)}get(t,o){const r=this._byResource.get(t);return r==null?void 0:r.get(o)}delete(t,o){let r=!1,c=!1;const d=this._byResource.get(t);d&&(r=d.delete(o));const a=this._byOwner.get(o);if(a&&(c=a.delete(t)),r!==c)throw new Error("illegal state");return r&&c}values(t){var o,r,c,d;return typeof t=="string"?(r=(o=this._byOwner.get(t))===null||o===void 0?void 0:o.values())!==null&&r!==void 0?r:k.Iterable.empty():_.URI.isUri(t)?(d=(c=this._byResource.get(t))===null||c===void 0?void 0:c.values())!==null&&d!==void 0?d:k.Iterable.empty():k.Iterable.map(k.Iterable.concat(...this._byOwner.values()),a=>a[1])}}class g{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new I.ResourceMap,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const o of t){const r=this._data.get(o);r&&this._substract(r);const c=this._resourceStats(o);this._add(c),this._data.set(o,c)}}_resourceStats(t){const o={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(t.scheme))return o;for(const{severity:r}of this._service.read({resource:t}))r===b.MarkerSeverity.Error?o.errors+=1:r===b.MarkerSeverity.Warning?o.warnings+=1:r===b.MarkerSeverity.Info?o.infos+=1:o.unknowns+=1;return o}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class n{constructor(){this._onMarkerChanged=new v.DebounceEmitter({delay:0,merge:n._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new u,this._stats=new g(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,o){for(const r of o||[])this.changeOne(t,r,[])}changeOne(t,o,r){if((0,w.isFalsyOrEmpty)(r))this._data.delete(o,t)&&this._onMarkerChanged.fire([o]);else{const c=[];for(const d of r){const a=n._toMarker(t,o,d);a&&c.push(a)}this._data.set(o,t,c),this._onMarkerChanged.fire([o])}}static _toMarker(t,o,r){let{code:c,severity:d,message:a,source:s,startLineNumber:l,startColumn:h,endLineNumber:p,endColumn:S,relatedInformation:f,tags:m}=r;if(!!a)return l=l>0?l:1,h=h>0?h:1,p=p>=l?p:l,S=S>0?S:h,{resource:o,owner:t,code:c,severity:d,message:a,source:s,startLineNumber:l,startColumn:h,endLineNumber:p,endColumn:S,relatedInformation:f,tags:m}}changeAll(t,o){const r=[],c=this._data.values(t);if(c)for(const d of c){const a=k.Iterable.first(d);a&&(r.push(a.resource),this._data.delete(a.resource,t))}if((0,w.isNonEmptyArray)(o)){const d=new I.ResourceMap;for(const{resource:a,marker:s}of o){const l=n._toMarker(t,a,s);if(!l)continue;const h=d.get(a);h?h.push(l):(d.set(a,[l]),r.push(a))}for(const[a,s]of d)this._data.set(a,t,s)}r.length>0&&this._onMarkerChanged.fire(r)}read(t=Object.create(null)){let{owner:o,resource:r,severities:c,take:d}=t;if((!d||d<0)&&(d=-1),o&&r){const a=this._data.get(r,o);if(a){const s=[];for(const l of a)if(n._accept(l,c)){const h=s.push(l);if(d>0&&h===d)break}return s}else return[]}else if(!o&&!r){const a=[];for(const s of this._data.values())for(const l of s)if(n._accept(l,c)){const h=a.push(l);if(d>0&&h===d)return a}return a}else{const a=this._data.values(r??o),s=[];for(const l of a)for(const h of l)if(n._accept(h,c)){const p=s.push(h);if(d>0&&p===d)return s}return s}}static _accept(t,o){return o===void 0||(o&t.severity)===t.severity}static _merge(t){const o=new I.ResourceMap;for(const r of t)for(const c of r)o.set(c,!0);return Array.from(o.keys())}}e.MarkerService=n}),define(se[40],re([1,0,82,9]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=w.default,e.INotificationService=(0,v.createDecorator)("notificationService");class k{}e.NoOpNotification=k}),define(se[45],re([1,0,2,8,22,9]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,I.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return w.Disposable.None},registerValidator(){return w.Disposable.None},registerExternalUriResolver(){return w.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return w.Disposable.None},open(){return Se(this,void 0,void 0,function*(){return!1})},resolveExternalUri(u){return Se(this,void 0,void 0,function*(){return{resolved:u,dispose(){}}})}});function L(u,g){return k.URI.isUri(u)?(0,v.equalsIgnoreCase)(u.scheme,g):(0,v.startsWithIgnoreCase)(u,g+":")}e.matchesScheme=L;function _(u,...g){return g.some(n=>L(u,n))}e.matchesSomeScheme=_;function b(u){let g;const n=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(u.fragment);return n&&(g={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1,endLineNumber:n[4]?parseInt(n[4]):void 0,endColumn:n[4]?n[5]?parseInt(n[5]):1:void 0},u=u.with({fragment:""})),{selection:g,uri:u}}e.extractSelection=b}),define(se[657],re([1,0,7,21,73,51,198,52,43,22,29,26,634,45]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let o=class{constructor(a){this._commandService=a}open(a,s){return Se(this,void 0,void 0,function*(){if(!(0,t.matchesScheme)(a,_.Schemas.command))return!1;if(!(s==null?void 0:s.allowCommands))return!0;typeof a=="string"&&(a=u.URI.parse(a));let l=[];try{l=(0,L.parse)(decodeURIComponent(a.query))}catch{try{l=(0,L.parse)(a.query)}catch{}}return Array.isArray(l)||(l=[l]),yield this._commandService.executeCommand(a.path,...l),!0})}};o=ke([fe(0,n.ICommandService)],o);let r=class{constructor(a){this._editorService=a}open(a,s){return Se(this,void 0,void 0,function*(){typeof a=="string"&&(a=u.URI.parse(a));const{selection:l,uri:h}=(0,t.extractSelection)(a);return a=h,a.scheme===_.Schemas.file&&(a=(0,b.normalizePath)(a)),yield this._editorService.openCodeEditor({resource:a,options:Object.assign({selection:l,source:(s==null?void 0:s.fromUserGesture)?i.EditorOpenSource.USER:i.EditorOpenSource.API},s==null?void 0:s.editorOptions)},this._editorService.getFocusedCodeEditor(),s==null?void 0:s.openToSide),!0})}};r=ke([fe(0,g.ICodeEditorService)],r);let c=class{constructor(a,s){this._openers=new k.LinkedList,this._validators=new k.LinkedList,this._resolvers=new k.LinkedList,this._resolvedUriTargets=new I.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new k.LinkedList,this._defaultExternalOpener={openExternal:l=>Se(this,void 0,void 0,function*(){return(0,t.matchesSomeScheme)(l,_.Schemas.http,_.Schemas.https)?w.windowOpenNoOpener(l):window.location.href=l,!0})},this._openers.push({open:(l,h)=>Se(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||(0,t.matchesSomeScheme)(l,_.Schemas.mailto,_.Schemas.http,_.Schemas.https,_.Schemas.vsls)?(yield this._doOpenExternal(l,h),!0):!1})}),this._openers.push(new o(s)),this._openers.push(new r(a))}registerOpener(a){return{dispose:this._openers.unshift(a)}}registerValidator(a){return{dispose:this._validators.push(a)}}registerExternalUriResolver(a){return{dispose:this._resolvers.push(a)}}setDefaultExternalOpener(a){this._defaultExternalOpener=a}registerExternalOpener(a){return{dispose:this._externalOpeners.push(a)}}open(a,s){var l;return Se(this,void 0,void 0,function*(){const h=typeof a=="string"?u.URI.parse(a):a,p=(l=this._resolvedUriTargets.get(h))!==null&&l!==void 0?l:a;for(const S of this._validators)if(!(yield S.shouldOpen(p,s)))return!1;for(const S of this._openers)if(yield S.open(a,s))return!0;return!1})}resolveExternalUri(a,s){return Se(this,void 0,void 0,function*(){for(const l of this._resolvers)try{const h=yield l.resolveExternalUri(a,s);if(h)return this._resolvedUriTargets.has(h.resolved)||this._resolvedUriTargets.set(h.resolved,a),h}catch{}throw new Error("Could not resolve external URI: "+a.toString())})}_doOpenExternal(a,s){return Se(this,void 0,void 0,function*(){const l=typeof a=="string"?u.URI.parse(a):a;let h;try{h=(yield this.resolveExternalUri(l,s)).resolved}catch{h=l}let p;if(typeof a=="string"&&l.toString()===h.toString()?p=a:p=encodeURI(h.toString(!0)),s==null?void 0:s.allowContributedOpeners){const S=typeof(s==null?void 0:s.allowContributedOpeners)=="string"?s==null?void 0:s.allowContributedOpeners:void 0;for(const f of this._externalOpeners)if(yield f.openExternal(p,{sourceUri:l,preferredOpenerId:S},v.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(p,{sourceUri:l},v.CancellationToken.None)})}dispose(){this._validators.clear()}};c=ke([fe(0,g.ICodeEditorService),fe(1,n.ICommandService)],c),e.OpenerService=c}),define(se[70],re([1,0,106,51,125,53,9,69,45]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,L.createDecorator)("ILanguageFeatureDebounceService");var u;(function(i){const t=new WeakMap;let o=0;function r(c){let d=t.get(c);return d===void 0&&(d=++o,t.set(c,d)),d}i.of=r})(u||(u={}));class g{constructor(t,o,r,c,d,a){this._logService=t,this._name=o,this._registry=r,this._default=c,this._min=d,this._max=a,this._cache=new v.LRUCache(50,.7)}_key(t){return t.id+this._registry.all(t).reduce((o,r)=>(0,w.doHash)(u.of(r),o),0)}get(t){const o=this._key(t),r=this._cache.get(o);return r?(0,k.clamp)(r.value,this._min,this._max):this.default()}update(t,o){const r=this._key(t);let c=this._cache.get(r);c||(c=new k.SlidingWindowAverage(6),this._cache.set(r,c));const d=(0,k.clamp)(c.update(o),this._min,this._max);return(0,b.matchesScheme)(t.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${t.uri.toString()} is ${d}ms`),d}_overall(){const t=new k.MovingAverage;for(const[,o]of this._cache)t.update(o.value);return t.value}default(){const t=this._overall()|0||this._default;return(0,k.clamp)(t,this._min,this._max)}}let n=class{constructor(t){this._logService=t,this._data=new Map}for(t,o,r){var c,d,a;const s=(c=r==null?void 0:r.min)!==null&&c!==void 0?c:50,l=(d=r==null?void 0:r.max)!==null&&d!==void 0?d:Math.pow(s,2),h=(a=r==null?void 0:r.key)!==null&&a!==void 0?a:void 0,p=`${u.of(t)},${s}${h?","+h:""}`;let S=this._data.get(p);return S||(S=new g(this._logService,o,t,this._overallAverage()|0||s*1.5,s,l),this._data.set(p,S)),S}_overallAverage(){const t=new k.MovingAverage;for(const o of this._data.values())t.update(o.default());return t.value}};n=ke([fe(0,_.ILogService)],n),e.LanguageFeatureDebounceService=n,(0,I.registerSingleton)(e.ILanguageFeatureDebounceService,n,!0)}),define(se[170],re([1,0,17,21,14,55,51,11,3,70,9,53,50,2,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class r{remove(){var h;(h=this.parent)===null||h===void 0||h.children.delete(this.id)}static findId(h,p){let S;typeof h=="string"?S=`${p.id}/${h}`:(S=`${p.id}/${h.name}`,p.children.get(S)!==void 0&&(S=`${p.id}/${h.name}_${h.range.startLineNumber}_${h.range.startColumn}`));let f=S;for(let m=0;p.children.get(f)!==void 0;m++)f=`${S}_${m}`;return f}static empty(h){return h.children.size===0}}e.TreeElement=r;class c extends r{constructor(h,p,S){super();this.id=h,this.parent=p,this.symbol=S,this.children=new Map}}e.OutlineElement=c;class d extends r{constructor(h,p,S,f){super();this.id=h,this.parent=p,this.label=S,this.order=f,this.children=new Map}}e.OutlineGroup=d;class a extends r{constructor(h){super();this.uri=h,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(h,p,S){const f=new v.CancellationTokenSource(S),m=new a(p.uri),C=h.ordered(p),y=C.map((T,N)=>{var F;const O=r.findId(`provider_${N}`,m),P=new d(O,m,(F=T.displayName)!==null&&F!==void 0?F:"Unknown Outline Provider",N);return Promise.resolve(T.provideDocumentSymbols(p,f.token)).then(D=>{for(const M of D||[])a._makeOutlineElement(M,P);return P},D=>((0,k.onUnexpectedExternalError)(D),P)).then(D=>{r.empty(D)?D.remove():m._groups.set(O,D)})}),E=h.onDidChange(()=>{const T=h.ordered(p);(0,w.equals)(T,C)||f.cancel()});return Promise.all(y).then(()=>f.token.isCancellationRequested&&!S.isCancellationRequested?a.create(h,p,S):m._compact()).finally(()=>{E.dispose()})}static _makeOutlineElement(h,p){const S=r.findId(h,p),f=new c(S,p,h);if(h.children)for(const m of h.children)a._makeOutlineElement(m,f);p.children.set(f.id,f)}_compact(){let h=0;for(const[p,S]of this._groups)S.children.size===0?this._groups.delete(p):h+=1;if(h!==1)this.children=this._groups;else{const p=I.Iterable.first(this._groups.values());for(const[,S]of p.children)S.parent=this,this.children.set(S.id,S)}return this}getTopLevelSymbols(){const h=[];for(const p of this.children.values())p instanceof c?h.push(p.symbol):h.push(...I.Iterable.map(p.children.values(),S=>S.symbol));return h.sort((p,S)=>b.Range.compareRangesUsingStarts(p.range,S.range))}asListOfDocumentSymbols(){const h=this.getTopLevelSymbols(),p=[];return a._flattenDocumentSymbols(p,h,""),p.sort((S,f)=>_.Position.compare(b.Range.getStartPosition(S.range),b.Range.getStartPosition(f.range))||_.Position.compare(b.Range.getEndPosition(f.range),b.Range.getEndPosition(S.range)))}static _flattenDocumentSymbols(h,p,S){for(const f of p)h.push({kind:f.kind,tags:f.tags,name:f.name,detail:f.detail,containerName:f.containerName||S,range:f.range,selectionRange:f.selectionRange,children:void 0}),f.children&&a._flattenDocumentSymbols(h,f.children,f.name)}}e.OutlineModel=a,e.IOutlineModelService=(0,g.createDecorator)("IOutlineModelService");let s=class{constructor(h,p,S){this._languageFeaturesService=h,this._disposables=new t.DisposableStore,this._cache=new L.LRUCache(10,.7),this._debounceInformation=p.for(h.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(S.onModelRemoved(f=>{this._cache.delete(f.id)}))}dispose(){this._disposables.dispose()}getOrCreate(h,p){return Se(this,void 0,void 0,function*(){const S=this._languageFeaturesService.documentSymbolProvider,f=S.ordered(h);let m=this._cache.get(h.id);if(!m||m.versionId!==h.getVersionId()||!(0,w.equals)(m.provider,f)){const y=new v.CancellationTokenSource;m={versionId:h.getVersionId(),provider:f,promiseCnt:0,source:y,promise:a.create(S,h,y.token),model:void 0},this._cache.set(h.id,m);const E=Date.now();m.promise.then(T=>{m.model=T,this._debounceInformation.update(h,Date.now()-E)}).catch(T=>{this._cache.delete(h.id)})}if(m.model)return m.model;m.promiseCnt+=1;const C=p.onCancellationRequested(()=>{--m.promiseCnt==0&&(m.source.cancel(),this._cache.delete(h.id))});try{return yield m.promise}finally{C.dispose()}})}};s=ke([fe(0,o.ILanguageFeaturesService),fe(1,u.ILanguageFeatureDebounceService),fe(2,i.IModelService)],s),e.OutlineModelService=s,(0,n.registerSingleton)(e.IOutlineModelService,s,!0)}),define(se[658],re([1,0,21,20,22,58,170,26]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),_.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(b,...u){return Se(this,void 0,void 0,function*(){const[g]=u;(0,v.assertType)(k.URI.isUri(g));const n=b.get(L.IOutlineModelService),t=yield b.get(I.ITextModelService).createModelReference(g);try{return(yield n.getOrCreate(t.object.textEditorModel,w.CancellationToken.None)).getTopLevelSymbols()}finally{t.dispose()}})})}),define(se[659],re([1,0,2,19,170,21,10,6,17]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=e.StickyRange=void 0;class u{constructor(o,r){this.startLineNumber=o,this.endLineNumber=r}}e.StickyRange=u;class g{constructor(o,r,c){this.startLineNumber=o,this.endLineNumber=r,this.nestingDepth=c}}e.StickyLineCandidate=g;let n=class extends w.Disposable{constructor(o,r){super();this.onStickyScrollChangeEmitter=this._register(new _.Emitter),this.onStickyScrollChange=this.onStickyScrollChangeEmitter.event,this._sessionStore=new w.DisposableStore,this._modelVersionId=0,this._editor=o,this._languageFeaturesService=r,this._updateSoon=this._register(new L.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(105)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){if(this._editor.getOption(105).enabled===!1){this._sessionStore.clear();return}else this._sessionStore.add(this._editor.onDidChangeModel(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update()}getVersionId(){return this._modelVersionId}update(){var o;return Se(this,void 0,void 0,function*(){(o=this._cts)===null||o===void 0||o.dispose(!0),this._cts=new I.CancellationTokenSource,yield this.updateOutlineModel(this._cts.token),this.onStickyScrollChangeEmitter.fire()})}updateOutlineModel(o){return Se(this,void 0,void 0,function*(){if(this._editor.hasModel()){const r=this._editor.getModel(),c=r.getVersionId(),d=yield k.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,r,o);if(o.isCancellationRequested)return;this._outlineModel=i.fromOutlineModel(d),this._modelVersionId=c}})}updateIndex(o){return o===-1?o=0:o<0&&(o=-o-2),o}getCandidateStickyLinesIntersectingFromOutline(o,r,c,d,a){if(r.children.length===0)return;let s=a;const l=[];for(let S=0;S<r.children.length;S++){const f=r.children[S];f.range&&l.push(f.range.startLineNumber)}const h=this.updateIndex((0,b.binarySearch)(l,o.startLineNumber,(S,f)=>S-f)),p=this.updateIndex((0,b.binarySearch)(l,o.startLineNumber+d,(S,f)=>S-f));for(let S=h;S<=p;S++){const f=r.children[S];if(!f)return;if(f.range){const m=f.range.startLineNumber,C=f.range.endLineNumber;o.startLineNumber<=C+1&&m-1<=o.endLineNumber&&m!==s&&(s=m,c.push(new g(m,C-1,d+1)),this.getCandidateStickyLinesIntersectingFromOutline(o,f,c,d+1,m))}else this.getCandidateStickyLinesIntersectingFromOutline(o,f,c,d,a)}}getCandidateStickyLinesIntersecting(o){var r;let c=[];this.getCandidateStickyLinesIntersectingFromOutline(o,this._outlineModel,c,0,-1);const d=(r=this._editor._getViewModel())===null||r===void 0?void 0:r.getHiddenAreas();if(d)for(const a of d)c=c.filter(s=>!(s.startLineNumber>=a.startLineNumber&&s.endLineNumber<=a.endLineNumber+1));return c}dispose(){super.dispose(),this._sessionStore.dispose()}};n=ke([fe(1,v.ILanguageFeaturesService)],n),e.StickyLineCandidateProvider=n;class i{constructor(o,r){this.range=o,this.children=r}static fromOutlineModel(o){const r=[];for(const d of o.children.values())(d instanceof k.OutlineElement&&d.symbol.selectionRange.startLineNumber!==d.symbol.range.endLineNumber||d instanceof k.OutlineGroup||d instanceof k.OutlineModel)&&r.push(i.fromOutlineModel(d));r.sort((d,a)=>!d.range||!a.range?1:d.range.startLineNumber!==a.range.startLineNumber?d.range.startLineNumber-a.range.startLineNumber:a.range.endLineNumber-d.range.endLineNumber);let c;return o instanceof k.OutlineElement?c=new u(o.symbol.selectionRange.startLineNumber,o.symbol.range.endLineNumber):c=void 0,new i(c,r)}}}),define(se[71],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,w.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class v{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}e.Progress=v,v.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,w.createDecorator)("editorProgressService")}),define(se[660],re([1,0,10,21,2]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var I;(function(u){u[u.NO_ACTION=0]="NO_ACTION",u[u.CLOSE_PICKER=1]="CLOSE_PICKER",u[u.REFRESH_PICKER=2]="REFRESH_PICKER",u[u.REMOVE_ITEM=3]="REMOVE_ITEM"})(I=e.TriggerAction||(e.TriggerAction={}));function L(u){const g=u;return Array.isArray(g.items)}function _(u){const g=u;return!!g.picks&&g.additionalPicks instanceof Promise}class b extends k.Disposable{constructor(g,n){super();this.prefix=g,this.options=n}provide(g,n){var i;const t=new k.DisposableStore;g.canAcceptInBackground=!!((i=this.options)===null||i===void 0?void 0:i.canAcceptInBackground),g.matchOnLabel=g.matchOnDescription=g.matchOnDetail=g.sortByLabel=!1;let o;const r=t.add(new k.MutableDisposable),c=()=>Se(this,void 0,void 0,function*(){const d=r.value=new k.DisposableStore;o==null||o.dispose(!0),g.busy=!1,o=new v.CancellationTokenSource(n);const a=o.token,s=g.value.substr(this.prefix.length).trim(),l=this._getPicks(s,d,a),h=(p,S)=>{var f;let m,C;if(L(p)?(m=p.items,C=p.active):m=p,m.length===0){if(S)return!1;s.length>0&&((f=this.options)===null||f===void 0?void 0:f.noResultsPick)&&(m=[this.options.noResultsPick])}return g.items=m,C&&(g.activeItems=[C]),!0};if(l!==null)if(_(l)){let p=!1,S=!1;yield Promise.all([(()=>Se(this,void 0,void 0,function*(){yield(0,w.timeout)(b.FAST_PICKS_RACE_DELAY),!a.isCancellationRequested&&(S||(p=h(l.picks,!0)))}))(),(()=>Se(this,void 0,void 0,function*(){g.busy=!0;try{const f=yield l.additionalPicks;if(a.isCancellationRequested)return;let m,C;L(l.picks)?(m=l.picks.items,C=l.picks.active):m=l.picks;let y,E;if(L(f)?(y=f.items,E=f.active):y=f,y.length>0||!p){let T;if(!C&&!E){const N=g.activeItems[0];N&&m.indexOf(N)!==-1&&(T=N)}h({items:[...m,...y],active:C||E||T})}}finally{a.isCancellationRequested||(g.busy=!1),S=!0}}))()])}else if(!(l instanceof Promise))h(l);else{g.busy=!0;try{const p=yield l;if(a.isCancellationRequested)return;h(p)}finally{a.isCancellationRequested||(g.busy=!1)}}});return t.add(g.onDidChangeValue(()=>c())),c(),t.add(g.onDidAccept(d=>{const[a]=g.selectedItems;typeof(a==null?void 0:a.accept)=="function"&&(d.inBackground||g.hide(),a.accept(g.keyMods,d))})),t.add(g.onDidTriggerItemButton(({button:d,item:a})=>Se(this,void 0,void 0,function*(){var s,l;if(typeof a.trigger=="function"){const h=(l=(s=a.buttons)===null||s===void 0?void 0:s.indexOf(d))!==null&&l!==void 0?l:-1;if(h>=0){const p=a.trigger(h,g.keyMods),S=typeof p=="number"?p:yield p;if(n.isCancellationRequested)return;switch(S){case I.NO_ACTION:break;case I.CLOSE_PICKER:g.hide();break;case I.REFRESH_PICKER:c();break;case I.REMOVE_ITEM:{const f=g.items.indexOf(a);if(f!==-1){const m=g.items.slice(),C=m.splice(f,1),y=g.activeItems.filter(T=>T!==C[0]),E=g.keepScrollPosition;g.keepScrollPosition=!0,g.items=m,y&&(g.activeItems=y),g.keepScrollPosition=E}break}}}}}))),t}}e.PickerQuickAccessProvider=b,b.FAST_PICKS_RACE_DELAY=200});var ii=this&&this.__createBinding||(Object.create?function(G,e,w,v){v===void 0&&(v=w);var k=Object.getOwnPropertyDescriptor(e,w);(!k||("get"in k?!e.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return e[w]}}),Object.defineProperty(G,v,k)}:function(G,e,w,v){v===void 0&&(v=w),G[v]=e[w]}),ni=this&&this.__exportStar||function(G,e){for(var w in G)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&ii(e,G,w)};define(se[85],re([1,0,9,228]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,ni(v,e),e.IQuickInputService=(0,w.createDecorator)("quickInputService")}),define(se[34],re([1,0,97,20]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class k{constructor(){this.data=new Map}add(L,_){w.ok(v.isString(L)),w.ok(v.isObject(_)),w.ok(!this.data.has(L),"There is already an extension with this id"),this.data.set(L,_)}as(L){return this.data.get(L)||null}}e.Registry=new k}),define(se[661],re([1,0,124,198,22,45,34]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.createDraggedEditorInputFromRawResourcesData=e.extractEditorsDropData=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};function _(g){var n;const i=[];if(g.dataTransfer&&g.dataTransfer.types.length>0){const t=g.dataTransfer.getData(e.CodeDataTransfers.EDITORS);if(t)try{i.push(...(0,v.parse)(t))}catch{}else try{const c=g.dataTransfer.getData(w.DataTransfers.RESOURCES);i.push(...b(c))}catch{}if((n=g.dataTransfer)===null||n===void 0?void 0:n.files)for(let c=0;c<g.dataTransfer.files.length;c++){const d=g.dataTransfer.files[c];if(d&&d.path)try{i.push({resource:k.URI.file(d.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const o=g.dataTransfer.getData(e.CodeDataTransfers.FILES);if(o)try{const c=JSON.parse(o);for(const d of c)i.push({resource:k.URI.file(d),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const r=L.Registry.as(e.Extensions.DragAndDropContribution).getAll();for(const c of r){const d=g.dataTransfer.getData(c.dataFormatKey);if(d)try{i.push(...c.getEditorInputs(d))}catch{}}}return i}e.extractEditorsDropData=_;function b(g){const n=[];if(g){const i=JSON.parse(g);for(const t of i)if(t.indexOf(":")>0){const{selection:o,uri:r}=(0,I.extractSelection)(k.URI.parse(t));n.push({resource:r,options:{selection:o}})}}return n}e.createDraggedEditorInputFromRawResourcesData=b;class u{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},L.Registry.add(e.Extensions.DragAndDropContribution,new u)}),define(se[294],re([1,0,124,17,179,99,22,661]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.addExternalEditorsDropData=e.createFileDataTransferItemFromFile=e.toVSDataTransfer=void 0;function b(i){const t=new k.VSDataTransfer;for(const o of i.items){const r=o.type;if(o.kind==="string"){const c=new Promise(d=>o.getAsString(d));t.append(r,(0,k.createStringDataTransferItem)(c))}else if(o.kind==="file"){const c=o.getAsFile();c&&t.append(r,u(c))}}return t}e.toVSDataTransfer=b;function u(i){const t=i.path?L.URI.parse(i.path):void 0;return(0,k.createFileDataTransferItem)(i.name,t,()=>Se(this,void 0,void 0,function*(){return new Uint8Array(yield i.arrayBuffer())}))}e.createFileDataTransferItemFromFile=u;const g=Object.freeze([_.CodeDataTransfers.EDITORS,_.CodeDataTransfers.FILES,w.DataTransfers.RESOURCES]);function n(i,t,o=!1){var r;if(t.dataTransfer&&(o||!i.has(I.Mimes.uriList))){const c=(0,_.extractEditorsDropData)(t).filter(d=>d.resource).map(d=>d.resource.toString());for(const d of(r=t.dataTransfer)===null||r===void 0?void 0:r.items){const a=d.getAsFile();a&&c.push(a.path?L.URI.file(a.path).toString():a.name)}c.length&&i.replace(I.Mimes.uriList,(0,k.createStringDataTransferItem)(e.UriList.create(c)))}for(const c of g)i.delete(c)}e.addExternalEditorsDropData=n,e.UriList=Object.freeze({create:i=>(0,v.distinct)(i.map(t=>t.toString())).join(`\r
`),parse:i=>i.split(`\r
`).filter(t=>!t.startsWith("#"))})}),define(se[213],re([1,0,6,34]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function k(_){return _.length>0&&_.charAt(_.length-1)==="#"?_.substring(0,_.length-1):_}class I{constructor(){this._onDidChangeSchema=new w.Emitter,this.schemasById={}}registerSchema(b,u){this.schemasById[k(b)]=u,this._onDidChangeSchema.fire(b)}notifySchemaChanged(b){this._onDidChangeSchema.fire(b)}}const L=new I;v.Registry.add(e.Extensions.JSONContribution,L)}),define(se[94],re([1,0,17,6,20,621,30,213,34]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const u=b.Registry.as(_.Extensions.JSONContribution);class g{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new v.Emitter,this._onDidUpdateConfiguration=new v.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:I.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(a,s=!0){this.registerConfigurations([a],s)}registerConfigurations(a,s=!0){const l=this.doRegisterConfigurations(a,s);u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:l})}registerDefaultConfigurations(a){var s;const l=[],h=[];for(const{overrides:p,source:S}of a)for(const f in p)if(l.push(f),e.OVERRIDE_PROPERTY_REGEX.test(f)){const m=this.configurationDefaultsOverrides.get(f),C=(s=m==null?void 0:m.valuesSources)!==null&&s!==void 0?s:new Map;if(S)for(const N of Object.keys(p[f]))C.set(N,S);const y=Object.assign(Object.assign({},(m==null?void 0:m.value)||{}),p[f]);this.configurationDefaultsOverrides.set(f,{source:S,value:y,valuesSources:C});const E=(0,L.getLanguageTagSettingPlainKey)(f),T={type:"object",default:y,description:I.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:y,source:k.isString(S)?void 0:S,defaultValueSource:S};h.push(...t(f)),this.configurationProperties[f]=T,this.defaultLanguageConfigurationOverridesNode.properties[f]=T}else{this.configurationDefaultsOverrides.set(f,{value:p[f],source:S});const m=this.configurationProperties[f];m&&(this.updatePropertyDefaultValue(f,m),this.updateSchema(f,m))}this.registerOverrideIdentifiers(h),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:l,defaultsOverrides:!0})}registerOverrideIdentifiers(a){for(const s of a)this.overrideIdentifiers.add(s);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(a,s){const l=[];return a.forEach(h=>{l.push(...this.validateAndRegisterProperties(h,s,h.extensionInfo,h.restrictedProperties)),this.configurationContributors.push(h),this.registerJSONConfiguration(h)}),l}validateAndRegisterProperties(a,s=!0,l,h,p=3){var S;p=k.isUndefinedOrNull(a.scope)?p:a.scope;const f=[],m=a.properties;if(m)for(const y in m){const E=m[y];if(s&&c(y,E)){delete m[y];continue}if(E.source=l,E.defaultDefaultValue=m[y].default,this.updatePropertyDefaultValue(y,E),e.OVERRIDE_PROPERTY_REGEX.test(y)?E.scope=void 0:(E.scope=k.isUndefinedOrNull(E.scope)?p:E.scope,E.restricted=k.isUndefinedOrNull(E.restricted)?!!(h==null?void 0:h.includes(y)):E.restricted),m[y].hasOwnProperty("included")&&!m[y].included){this.excludedConfigurationProperties[y]=m[y],delete m[y];continue}else this.configurationProperties[y]=m[y],((S=m[y].policy)===null||S===void 0?void 0:S.name)&&this.policyConfigurations.set(m[y].policy.name,y);!m[y].deprecationMessage&&m[y].markdownDeprecationMessage&&(m[y].deprecationMessage=m[y].markdownDeprecationMessage),f.push(y)}const C=a.allOf;if(C)for(const y of C)f.push(...this.validateAndRegisterProperties(y,s,l,h,p));return f}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(a){const s=l=>{const h=l.properties;if(h)for(const S in h)this.updateSchema(S,h[S]);const p=l.allOf;p==null||p.forEach(s)};s(a)}updateSchema(a,s){switch(e.allSettings.properties[a]=s,s.scope){case 1:e.applicationSettings.properties[a]=s;break;case 2:e.machineSettings.properties[a]=s;break;case 6:e.machineOverridableSettings.properties[a]=s;break;case 3:e.windowSettings.properties[a]=s;break;case 4:e.resourceSettings.properties[a]=s;break;case 5:e.resourceSettings.properties[a]=s,this.resourceLanguageSettingsSchema.properties[a]=s;break}}updateOverridePropertyPatternKey(){for(const a of this.overrideIdentifiers.values()){const s=`[${a}]`,l={type:"object",description:I.localize(2,null),errorMessage:I.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(s,l),e.allSettings.properties[s]=l,e.applicationSettings.properties[s]=l,e.machineSettings.properties[s]=l,e.machineOverridableSettings.properties[s]=l,e.windowSettings.properties[s]=l,e.resourceSettings.properties[s]=l}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const a={type:"object",description:I.localize(4,null),errorMessage:I.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=a,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=a,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=a,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=a,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=a,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=a,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(a,s){const l=this.configurationDefaultsOverrides.get(a);let h=l==null?void 0:l.value,p=l==null?void 0:l.source;k.isUndefined(h)&&(h=s.defaultDefaultValue,p=void 0),k.isUndefined(h)&&(h=o(s.type)),s.default=h,s.defaultValueSource=p}}const n="\\[([^\\]]+)\\]",i=new RegExp(n,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${n})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function t(d){const a=[];if(e.OVERRIDE_PROPERTY_REGEX.test(d)){let s=i.exec(d);for(;s==null?void 0:s.length;){const l=s[1].trim();l&&a.push(l),s=i.exec(d)}}return(0,w.distinct)(a)}e.overrideIdentifiersFromKey=t;function o(d){switch(Array.isArray(d)?d[0]:d){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=o;const r=new g;b.Registry.add(e.Extensions.Configuration,r);function c(d,a){var s,l,h,p;return d.trim()?e.OVERRIDE_PROPERTY_REGEX.test(d)?I.localize(7,null,d):r.getConfigurationProperties()[d]!==void 0?I.localize(8,null,d):((s=a.policy)===null||s===void 0?void 0:s.name)&&r.getPolicyConfigurations().get((l=a.policy)===null||l===void 0?void 0:l.name)!==void 0?I.localize(9,null,d,(h=a.policy)===null||h===void 0?void 0:h.name,r.getPolicyConfigurations().get((p=a.policy)===null||p===void 0?void 0:p.name)):null:I.localize(6,null)}e.validateProperty=c}),define(se[214],re([1,0,38,154,539,94,34]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:k.localize(0,null),scope:5});const _=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:v.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:k.localize(1,null,"`#editor.detectIndentation#`")},"editor.insertSpaces":{type:"boolean",default:v.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:k.localize(2,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:v.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:k.localize(3,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:v.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:k.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:v.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:k.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:k.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[k.localize(7,null),k.localize(8,null),k.localize(9,null)],description:k.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[k.localize(11,null),k.localize(12,null),k.localize(13,null)],default:"configuredByTheme",description:k.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:k.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:k.localize(16,null)},"editor.language.brackets":{type:["array","null"],default:null,description:k.localize(17,null),items:{type:"array",items:[{type:"string",description:k.localize(18,null)},{type:"string",description:k.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:k.localize(20,null),items:{type:"array",items:[{type:"string",description:k.localize(21,null)},{type:"string",description:k.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:k.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:k.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:k.localize(25,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:k.localize(26,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:k.localize(27,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:k.localize(28,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:k.localize(29,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[k.localize(30,null),k.localize(31,null),k.localize(32,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["smart","experimental"],default:"smart",markdownEnumDescriptions:[k.localize(33,null),k.localize(34,null)]}}});function b(o){return typeof o.type!="undefined"||typeof o.anyOf!="undefined"}for(const o of w.editorOptionsRegistry){const r=o.schema;if(typeof r!="undefined")if(b(r))_.properties[`editor.${o.name}`]=r;else for(const c in r)Object.hasOwnProperty.call(r,c)&&(_.properties[c]=r[c])}let u=null;function g(){return u===null&&(u=Object.create(null),Object.keys(_.properties).forEach(o=>{u[o]=!0})),u}function n(o){return g()[`editor.${o}`]||!1}e.isEditorConfigurationKey=n;function i(o){return g()[`diffEditor.${o}`]||!1}e.isDiffEditorConfigurationKey=i,L.Registry.as(I.Extensions.Configuration).registerConfiguration(_)}),define(se[72],re([1,0,544,6,34,99,94]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class _{constructor(){this._onDidChangeLanguages=new v.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(u){return this._languages.push(u),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let g=0,n=this._languages.length;g<n;g++)if(this._languages[g]===u){this._languages.splice(g,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=_,e.ModesRegistry=new _,k.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[w.localize(0,null),"text"],mimetypes:[I.Mimes.text]}),k.Registry.as(L.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(se[32],re([1,0,6,2,8,130,100,111,424,514,425,428,206,9,30,39,53,72,427]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class s{constructor(D){this.languageId=D}affects(D){return this.languageId?this.languageId===D:!0}}e.LanguageConfigurationServiceChangeEvent=s,e.ILanguageConfigurationService=(0,t.createDecorator)("languageConfigurationService");let l=class extends v.Disposable{constructor(D,M){super();this.configurationService=D,this.languageService=M,this._registry=this._register(new F),this.onDidChangeEmitter=this._register(new w.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const R=new Set(Object.values(p));this._register(this.configurationService.onDidChangeConfiguration(B=>{const W=B.change.keys.some(A=>R.has(A)),V=B.change.overrides.filter(([A,Y])=>Y.some(ee=>R.has(ee))).map(([A])=>A);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new s(void 0));else for(const A of V)this.languageService.isRegisteredLanguageId(A)&&(this.configurations.delete(A),this.onDidChangeEmitter.fire(new s(A)))})),this._register(this._registry.onDidChange(B=>{this.configurations.delete(B.languageId),this.onDidChangeEmitter.fire(new s(B.languageId))}))}register(D,M,R){return this._registry.register(D,M,R)}getLanguageConfiguration(D){let M=this.configurations.get(D);return M||(M=h(D,this._registry,this.configurationService,this.languageService),this.configurations.set(D,M)),M}};l=ke([fe(0,o.IConfigurationService),fe(1,r.ILanguageService)],l),e.LanguageConfigurationService=l;function h(P,D,M,R){let B=D.getLanguageConfiguration(P);if(!B){if(!R.isRegisteredLanguageId(P))throw new Error(`Language id "${P}" is not configured nor known`);B=new O(P,{})}const W=S(B.languageId,M),V=E([B.underlyingConfig,W]);return new O(B.languageId,V)}const p={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function S(P,D){const M=D.getValue(p.brackets,{overrideIdentifier:P}),R=D.getValue(p.colorizedBracketPairs,{overrideIdentifier:P});return{brackets:f(M),colorizedBracketPairs:f(R)}}function f(P){if(!!Array.isArray(P))return P.map(D=>{if(!(!Array.isArray(D)||D.length!==2))return[D[0],D[1]]}).filter(D=>!!D)}function m(P,D,M){const R=P.getLineContent(D);let B=k.getLeadingWhitespace(R);return B.length>M-1&&(B=B.substring(0,M-1)),B}e.getIndentationAtPosition=m;function C(P,D,M){P.tokenization.forceTokenization(D);const R=P.tokenization.getLineTokens(D),B=typeof M=="undefined"?P.getLineMaxColumn(D)-1:M-1;return(0,_.createScopedLineTokens)(R,B)}e.getScopedLineTokens=C;class y{constructor(D){this.languageId=D,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(D,M){const R=new T(D,M,++this._order);return this._entries.push(R),this._resolved=null,(0,v.toDisposable)(()=>{for(let B=0;B<this._entries.length;B++)if(this._entries[B]===R){this._entries.splice(B,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const D=this._resolve();D&&(this._resolved=new O(this.languageId,D))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(T.cmp),E(this._entries.map(D=>D.configuration)))}}function E(P){let D={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const M of P)D={comments:M.comments||D.comments,brackets:M.brackets||D.brackets,wordPattern:M.wordPattern||D.wordPattern,indentationRules:M.indentationRules||D.indentationRules,onEnterRules:M.onEnterRules||D.onEnterRules,autoClosingPairs:M.autoClosingPairs||D.autoClosingPairs,surroundingPairs:M.surroundingPairs||D.surroundingPairs,autoCloseBefore:M.autoCloseBefore||D.autoCloseBefore,folding:M.folding||D.folding,colorizedBracketPairs:M.colorizedBracketPairs||D.colorizedBracketPairs,__electricCharacterSupport:M.__electricCharacterSupport||D.__electricCharacterSupport};return D}class T{constructor(D,M,R){this.configuration=D,this.priority=M,this.order=R}static cmp(D,M){return D.priority===M.priority?D.order-M.order:D.priority-M.priority}}class N{constructor(D){this.languageId=D}}e.LanguageConfigurationChangeEvent=N;class F extends v.Disposable{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(d.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(D,M,R=0){let B=this._entries.get(D);B||(B=new y(D),this._entries.set(D,B));const W=B.register(M,R);return this._onDidChange.fire(new N(D)),(0,v.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new N(D))})}getLanguageConfiguration(D){const M=this._entries.get(D);return(M==null?void 0:M.getResolvedConfiguration())||null}}e.LanguageConfigurationRegistry=F;class O{constructor(D,M){this.languageId=D,this.underlyingConfig=M,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n.OnEnterSupport(this.underlyingConfig):null,this.comments=O._handleComments(this.underlyingConfig),this.characterPair=new b.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||I.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new g.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new a.LanguageBracketsConfiguration(D,this.underlyingConfig)}getWordDefinition(){return(0,I.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new i.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new u.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(D,M,R,B){return this._onEnterSupport?this._onEnterSupport.onEnter(D,M,R,B):null}getAutoClosingPairs(){return new L.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(D){const M=D.comments;if(!M)return null;const R={};if(M.lineComment&&(R.lineCommentToken=M.lineComment),M.blockComment){const[B,W]=M.blockComment;R.blockCommentStartToken=B,R.blockCommentEndToken=W}return R}}e.ResolvedLanguageConfiguration=O,(0,c.registerSingleton)(e.ILanguageConfigurationService,l)}),define(se[295],re([1,0,10,2,270,506,3,32,522,50,168,8,17,69,57,14,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const d=60*1e3,a=5*60*1e3;function s(y,E){const T=y.getModel(E);return!(!T||T.isTooLargeForSyncing())}let l=class extends v.Disposable{constructor(E,T,N,F,O){super();this._modelService=E,this._workerManager=this._register(new p(this._modelService,F)),this._logService=N,this._register(O.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(P,D)=>s(this._modelService,P.uri)?this._workerManager.withWorker().then(M=>M.computeLinks(P.uri)).then(M=>M&&{links:M}):Promise.resolve({links:[]})})),this._register(O.completionProvider.register("*",new h(this._workerManager,T,this._modelService,F)))}dispose(){super.dispose()}canComputeUnicodeHighlights(E){return s(this._modelService,E)}computedUnicodeHighlights(E,T,N){return this._workerManager.withWorker().then(F=>F.computedUnicodeHighlights(E,T,N))}computeDiff(E,T,N){return this._workerManager.withWorker().then(F=>F.computeDiff(E,T,N))}computeMoreMinimalEdits(E,T){if((0,i.isNonEmptyArray)(T)){if(!s(this._modelService,E))return Promise.resolve(T);const N=o.StopWatch.create(!0),F=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(E,T));return F.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),N.elapsed())),Promise.race([F,(0,w.timeout)(1e3).then(()=>T)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return s(this._modelService,E)}navigateValueSet(E,T,N){return this._workerManager.withWorker().then(F=>F.navigateValueSet(E,T,N))}canComputeWordRanges(E){return s(this._modelService,E)}computeWordRanges(E,T){return this._workerManager.withWorker().then(N=>N.computeWordRanges(E,T))}};l=ke([fe(0,u.IModelService),fe(1,g.ITextResourceConfigurationService),fe(2,t.ILogService),fe(3,_.ILanguageConfigurationService),fe(4,c.ILanguageFeaturesService)],l),e.EditorWorkerService=l;class h{constructor(E,T,N,F){this.languageConfigurationService=F,this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=T,this._modelService=N}provideCompletionItems(E,T){return Se(this,void 0,void 0,function*(){const N=this._configurationService.getValue(E.uri,T,"editor");if(!N.wordBasedSuggestions)return;const F=[];if(N.wordBasedSuggestionsMode==="currentDocument")s(this._modelService,E.uri)&&F.push(E.uri);else for(const W of this._modelService.getModels())!s(this._modelService,W.uri)||(W===E?F.unshift(W.uri):(N.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageId()===E.getLanguageId())&&F.push(W.uri));if(F.length===0)return;const O=this.languageConfigurationService.getLanguageConfiguration(E.getLanguageId()).getWordDefinition(),P=E.getWordAtPosition(T),D=P?new L.Range(T.lineNumber,P.startColumn,T.lineNumber,P.endColumn):L.Range.fromPositions(T),M=D.setEndPosition(T.lineNumber,T.column),B=yield(yield this._workerManager.withWorker()).textualSuggest(F,P==null?void 0:P.word,O);if(!!B)return{duration:B.duration,suggestions:B.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:M,replace:D}}))}})}}class p extends v.Disposable{constructor(E,T){super();this.languageConfigurationService=T,this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new w.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(a/2)),this._register(this._modelService.onModelRemoved(F=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>a&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new C(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends v.Disposable{constructor(E,T,N){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=T,!N){const F=new w.IntervalTimer;F.cancelAndSet(()=>this._checkStopModelSync(),Math.round(d/2)),this._register(F)}}dispose(){for(const E in this._syncedModels)(0,v.dispose)(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E,T){for(const N of E){const F=N.toString();this._syncedModels[F]||this._beginModelSync(N,T),this._syncedModels[F]&&(this._syncedModelsLastUsedTime[F]=new Date().getTime())}}_checkStopModelSync(){const E=new Date().getTime(),T=[];for(const N in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[N]>d&&T.push(N);for(const N of T)this._stopModelSync(N)}_beginModelSync(E,T){const N=this._modelService.getModel(E);if(!N||!T&&N.isTooLargeForSyncing())return;const F=E.toString();this._proxy.acceptNewModel({url:N.uri.toString(),lines:N.getLinesContent(),EOL:N.getEOL(),versionId:N.getVersionId()});const O=new v.DisposableStore;O.add(N.onDidChangeContent(P=>{this._proxy.acceptModelChanged(F.toString(),P)})),O.add(N.onWillDispose(()=>{this._stopModelSync(F)})),O.add((0,v.toDisposable)(()=>{this._proxy.acceptRemovedModel(F)})),this._syncedModels[F]=O}_stopModelSync(E){const T=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],(0,v.dispose)(T)}}class f{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class m{constructor(E){this._workerClient=E}fhr(E,T){return this._workerClient.fhr(E,T)}}e.EditorWorkerHost=m;class C extends v.Disposable{constructor(E,T,N,F){super();this.languageConfigurationService=F,this._disposed=!1,this._modelService=E,this._keepIdleModels=T,this._workerFactory=new I.DefaultWorkerFactory(N),this._worker=null,this._modelManager=null}fhr(E,T){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new k.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new m(this)))}catch(E){(0,k.logOnceWebWorkerWarning)(E),this._worker=new f(new b.EditorSimpleWorker(new m(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>((0,k.logOnceWebWorkerWarning)(E),this._worker=new f(new b.EditorSimpleWorker(new m(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new S(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E,T=!1){return Se(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,r.canceled)()):this._getProxy().then(N=>(this._getOrCreateModelManager(N).ensureSyncedResources(E,T),N))})}computedUnicodeHighlights(E,T,N){return this._withSyncedResources([E]).then(F=>F.computeUnicodeHighlights(E.toString(),T,N))}computeDiff(E,T,N){return this._withSyncedResources([E,T],!0).then(F=>F.computeDiff(E.toString(),T.toString(),N))}computeMoreMinimalEdits(E,T){return this._withSyncedResources([E]).then(N=>N.computeMoreMinimalEdits(E.toString(),T))}computeLinks(E){return this._withSyncedResources([E]).then(T=>T.computeLinks(E.toString()))}textualSuggest(E,T,N){return Se(this,void 0,void 0,function*(){const F=yield this._withSyncedResources(E),O=N.source,P=(0,n.regExpFlags)(N);return F.textualSuggest(E.map(D=>D.toString()),T,O,P)})}computeWordRanges(E,T){return this._withSyncedResources([E]).then(N=>{const F=this._modelService.getModel(E);if(!F)return Promise.resolve(null);const O=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition(),P=O.source,D=(0,n.regExpFlags)(O);return N.computeWordRanges(E.toString(),T,P,D)})}navigateValueSet(E,T,N){return this._withSyncedResources([E]).then(F=>{const O=this._modelService.getModel(E);if(!O)return null;const P=this.languageConfigurationService.getLanguageConfiguration(O.getLanguageId()).getWordDefinition(),D=P.source,M=(0,n.regExpFlags)(P);return F.navigateValueSet(E.toString(),T,N,D,M)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=C}),define(se[662],re([1,0,35,295]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function k(L,_,b){return new I(L,_,b)}e.createWebWorker=k;class I extends v.EditorWorkerClient{constructor(_,b,u){super(_,u.keepIdleModels||!1,u.label,b);this._foreignModuleId=u.moduleId,this._foreignModuleCreateData=u.createData||null,this._foreignModuleHost=u.host||null,this._foreignProxy=null}fhr(_,b){if(!this._foreignModuleHost||typeof this._foreignModuleHost[_]!="function")return Promise.reject(new Error("Missing method "+_+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[_].apply(this._foreignModuleHost,b))}catch(u){return Promise.reject(u)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(_=>{const b=this._foreignModuleHost?(0,w.getAllMethodNames)(this._foreignModuleHost):[];return _.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,b).then(u=>{this._foreignModuleCreateData=null;const g=(t,o)=>_.fmr(t,o),n=(t,o)=>function(){const r=Array.prototype.slice.call(arguments,0);return o(t,r)},i={};for(const t of u)i[t]=n(t,g);return i})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(_){return this._withSyncedResources(_).then(b=>this.getProxy())}}}),define(se[215],re([1,0,8,100,111,32]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function L(i,t,o){const r=i.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let c,d=-1;for(c=t-1;c>=1;c--){if(i.tokenization.getLanguageIdAtPosition(c,0)!==r)return d;const a=i.getLineContent(c);if(o.shouldIgnore(a)||/^\s+$/.test(a)||a===""){d=c;continue}return c}}return-1}function _(i,t,o,r=!0,c){if(i<4)return null;const d=c.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!d)return null;if(o<=1)return{indentation:"",action:null};const a=L(t,o,d);if(a<0)return null;if(a<1)return{indentation:"",action:null};const s=t.getLineContent(a);if(d.shouldIncrease(s)||d.shouldIndentNextLine(s))return{indentation:w.getLeadingWhitespace(s),action:v.IndentAction.Indent,line:a};if(d.shouldDecrease(s))return{indentation:w.getLeadingWhitespace(s),action:null,line:a};{if(a===1)return{indentation:w.getLeadingWhitespace(t.getLineContent(a)),action:null,line:a};const l=a-1,h=d.getIndentMetadata(t.getLineContent(l));if(!(h&(1|2))&&h&4){let p=0;for(let S=l-1;S>0;S--)if(!d.shouldIndentNextLine(t.getLineContent(S))){p=S;break}return{indentation:w.getLeadingWhitespace(t.getLineContent(p+1)),action:null,line:p+1}}if(r)return{indentation:w.getLeadingWhitespace(t.getLineContent(a)),action:null,line:a};for(let p=a;p>0;p--){const S=t.getLineContent(p);if(d.shouldIncrease(S))return{indentation:w.getLeadingWhitespace(S),action:v.IndentAction.Indent,line:p};if(d.shouldIndentNextLine(S)){let f=0;for(let m=p-1;m>0;m--)if(!d.shouldIndentNextLine(t.getLineContent(p))){f=m;break}return{indentation:w.getLeadingWhitespace(t.getLineContent(f+1)),action:null,line:f+1}}else if(d.shouldDecrease(S))return{indentation:w.getLeadingWhitespace(S),action:null,line:p}}return{indentation:w.getLeadingWhitespace(t.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=_;function b(i,t,o,r,c,d){if(i<4)return null;const a=d.getLanguageConfiguration(o);if(!a)return null;const s=d.getLanguageConfiguration(o).indentRulesSupport;if(!s)return null;const l=_(i,t,r,void 0,d),h=t.getLineContent(r);if(l){const p=l.line;if(p!==void 0){const S=a.onEnter(i,"",t.getLineContent(p),"");if(S){let f=w.getLeadingWhitespace(t.getLineContent(p));return S.removeText&&(f=f.substring(0,f.length-S.removeText)),S.indentAction===v.IndentAction.Indent||S.indentAction===v.IndentAction.IndentOutdent?f=c.shiftIndent(f):S.indentAction===v.IndentAction.Outdent&&(f=c.unshiftIndent(f)),s.shouldDecrease(h)&&(f=c.unshiftIndent(f)),S.appendText&&(f+=S.appendText),w.getLeadingWhitespace(f)}}return s.shouldDecrease(h)?l.action===v.IndentAction.Indent?l.indentation:c.unshiftIndent(l.indentation):l.action===v.IndentAction.Indent?c.shiftIndent(l.indentation):l.indentation}return null}e.getGoodIndentForLine=b;function u(i,t,o,r,c){if(i<4)return null;t.tokenization.forceTokenization(o.startLineNumber);const d=t.tokenization.getLineTokens(o.startLineNumber),a=(0,k.createScopedLineTokens)(d,o.startColumn-1),s=a.getLineContent();let l=!1,h;a.firstCharOffset>0&&d.getLanguageId(0)!==a.languageId?(l=!0,h=s.substr(0,o.startColumn-1-a.firstCharOffset)):h=d.getLineContent().substring(0,o.startColumn-1);let p;o.isEmpty()?p=s.substr(o.startColumn-1-a.firstCharOffset):p=(0,I.getScopedLineTokens)(t,o.endLineNumber,o.endColumn).getLineContent().substr(o.endColumn-1-a.firstCharOffset);const S=c.getLanguageConfiguration(a.languageId).indentRulesSupport;if(!S)return null;const f=h,m=w.getLeadingWhitespace(h),C={tokenization:{getLineTokens:N=>t.tokenization.getLineTokens(N),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(N,F)=>t.getLanguageIdAtPosition(N,F)},getLineContent:N=>N===o.startLineNumber?f:t.getLineContent(N)},y=w.getLeadingWhitespace(d.getLineContent()),E=_(i,C,o.startLineNumber+1,void 0,c);if(!E){const N=l?y:m;return{beforeEnter:N,afterEnter:N}}let T=l?y:E.indentation;return E.action===v.IndentAction.Indent&&(T=r.shiftIndent(T)),S.shouldDecrease(p)&&(T=r.unshiftIndent(T)),{beforeEnter:l?y:m,afterEnter:T}}e.getIndentForEnter=u;function g(i,t,o,r,c,d){if(i<4)return null;const a=(0,I.getScopedLineTokens)(t,o.startLineNumber,o.startColumn);if(a.firstCharOffset)return null;const s=d.getLanguageConfiguration(a.languageId).indentRulesSupport;if(!s)return null;const l=a.getLineContent(),h=l.substr(0,o.startColumn-1-a.firstCharOffset);let p;if(o.isEmpty()?p=l.substr(o.startColumn-1-a.firstCharOffset):p=(0,I.getScopedLineTokens)(t,o.endLineNumber,o.endColumn).getLineContent().substr(o.endColumn-1-a.firstCharOffset),!s.shouldDecrease(h+p)&&s.shouldDecrease(h+r+p)){const S=_(i,t,o.startLineNumber,!1,d);if(!S)return null;let f=S.indentation;return S.action!==v.IndentAction.Indent&&(f=c.unshiftIndent(f)),f}return null}e.getIndentActionForType=g;function n(i,t,o){const r=o.getLanguageConfiguration(i.getLanguageId()).indentRulesSupport;return!r||t<1||t>i.getLineCount()?null:r.getIndentMetadata(i.getLineContent(t))}e.getIndentMetadata=n}),define(se[216],re([1,0,100,32]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function k(I,L,_,b){const u=(0,v.getScopedLineTokens)(L,_.startLineNumber,_.startColumn),g=b.getLanguageConfiguration(u.languageId);if(!g)return null;const n=u.getLineContent(),i=n.substr(0,_.startColumn-1-u.firstCharOffset);let t;_.isEmpty()?t=n.substr(_.startColumn-1-u.firstCharOffset):t=(0,v.getScopedLineTokens)(L,_.endLineNumber,_.endColumn).getLineContent().substr(_.endColumn-1-u.firstCharOffset);let o="";if(_.startLineNumber>1&&u.firstCharOffset===0){const l=(0,v.getScopedLineTokens)(L,_.startLineNumber-1);l.languageId===u.languageId&&(o=l.getLineContent())}const r=g.onEnter(I,o,i,t);if(!r)return null;const c=r.indentAction;let d=r.appendText;const a=r.removeText||0;d?c===w.IndentAction.Indent&&(d="	"+d):c===w.IndentAction.Indent||c===w.IndentAction.IndentOutdent?d="	":d="";let s=(0,v.getIndentationAtPosition)(L,_.startLineNumber,_.startColumn);return a&&(s=s.substring(0,s.length-a)),{indentAction:c,appendText:d,removeText:a,indentation:s}}e.getEnterAction=k}),define(se[217],re([1,0,8,67,3,23,216,32]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const b=Object.create(null);function u(n,i){if(i<=0)return"";b[n]||(b[n]=["",n]);const t=b[n];for(let o=t.length;o<=i;o++)t[o]=t[o-1]+n;return t[i]}e.cachedStringRepeat=u;let g=class si{constructor(i,t,o){this._languageConfigurationService=o,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(i,t,o,r,c){const d=v.CursorColumns.visibleColumnFromColumn(i,t,o);if(c){const a=u(" ",r),l=v.CursorColumns.prevIndentTabStop(d,r)/r;return u(a,l)}else{const a="	",l=v.CursorColumns.prevRenderTabStop(d,o)/o;return u(a,l)}}static shiftIndent(i,t,o,r,c){const d=v.CursorColumns.visibleColumnFromColumn(i,t,o);if(c){const a=u(" ",r),l=v.CursorColumns.nextIndentTabStop(d,r)/r;return u(a,l)}else{const a="	",l=v.CursorColumns.nextRenderTabStop(d,o)/o;return u(a,l)}}_addEditOperation(i,t,o){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,o):i.addEditOperation(t,o)}getEditOperations(i,t){const o=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&o!==r&&(r=r-1);const{tabSize:c,indentSize:d,insertSpaces:a}=this._opts,s=o===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(o))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,h=0;for(let p=o;p<=r;p++,l=h){h=0;const S=i.getLineContent(p);let f=w.firstNonWhitespaceIndex(S);if(this._opts.isUnshift&&(S.length===0||f===0)||!s&&!this._opts.isUnshift&&S.length===0)continue;if(f===-1&&(f=S.length),p>1&&v.CursorColumns.visibleColumnFromColumn(S,f+1,c)%d!=0&&i.tokenization.isCheapToTokenize(p-1)){const y=(0,L.getEnterAction)(this._opts.autoIndent,i,new k.Range(p-1,i.getLineMaxColumn(p-1),p-1,i.getLineMaxColumn(p-1)),this._languageConfigurationService);if(y){if(h=l,y.appendText)for(let E=0,T=y.appendText.length;E<T&&h<d&&y.appendText.charCodeAt(E)===32;E++)h++;y.removeText&&(h=Math.max(0,h-y.removeText));for(let E=0;E<h&&!(f===0||S.charCodeAt(f-1)!==32);E++)f--}}if(this._opts.isUnshift&&f===0)continue;let m;this._opts.isUnshift?m=si.unshiftIndent(S,f+1,c,d,a):m=si.shiftIndent(S,f+1,c,d,a),this._addEditOperation(t,new k.Range(p,1,p,f+1),m),p===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(o)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const l=a?u(" ",d):"	";for(let h=o;h<=r;h++){const p=i.getLineContent(h);let S=w.firstNonWhitespaceIndex(p);if(!(this._opts.isUnshift&&(p.length===0||S===0))&&!(!s&&!this._opts.isUnshift&&p.length===0)&&(S===-1&&(S=p.length),!(this._opts.isUnshift&&S===0)))if(this._opts.isUnshift){S=Math.min(S,d);for(let f=0;f<S;f++)if(p.charCodeAt(f)===9){S=f+1;break}this._addEditOperation(t,new k.Range(h,1,h,S+1),"")}else this._addEditOperation(t,new k.Range(h,1,h,1),l),h===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const r=t.getInverseEditOperations()[0];return new I.Selection(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const o=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const r=this._selection.startColumn;return o.startColumn<=r?o:o.getDirection()===0?new I.Selection(o.startLineNumber,r,o.endLineNumber,o.endColumn):new I.Selection(o.endLineNumber,o.endColumn,o.startLineNumber,r)}return o}};g=ke([fe(2,_.ILanguageConfigurationService)],g),e.ShiftCommand=g}),define(se[218],re([1,0,14,8,109,217,412,62,129,3,11,100,32,111,215,216]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class c{static indent(f,m,C){if(m===null||C===null)return[];const y=[];for(let E=0,T=C.length;E<T;E++)y[E]=new I.ShiftCommand(C[E],{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService);return y}static outdent(f,m,C){const y=[];for(let E=0,T=C.length;E<T;E++)y[E]=new I.ShiftCommand(C[E],{isUnshift:!0,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService);return y}static shiftIndent(f,m,C){return C=C||1,I.ShiftCommand.shiftIndent(m,m.length+C,f.tabSize,f.indentSize,f.insertSpaces)}static unshiftIndent(f,m,C){return C=C||1,I.ShiftCommand.unshiftIndent(m,m.length+C,f.tabSize,f.indentSize,f.insertSpaces)}static _distributedPaste(f,m,C,y){const E=[];for(let T=0,N=C.length;T<N;T++)E[T]=new k.ReplaceCommand(C[T],y[T]);return new _.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(f,m,C,y,E){const T=[];for(let N=0,F=C.length;N<F;N++){const O=C[N],P=O.getPosition();if(E&&!O.isEmpty()&&(E=!1),E&&y.indexOf(`
`)!==y.length-1&&(E=!1),E){const D=new u.Range(P.lineNumber,1,P.lineNumber,1);T[N]=new k.ReplaceCommandThatPreservesSelection(D,y,O,!0)}else T[N]=new k.ReplaceCommand(O,y)}return new _.EditOperationResult(0,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(f,m,C,y,E){if(y||m.length===1)return null;if(E&&E.length===m.length)return E;if(f.multiCursorPaste==="spread"){C.charCodeAt(C.length-1)===10&&(C=C.substr(0,C.length-1)),C.charCodeAt(C.length-1)===13&&(C=C.substr(0,C.length-1));const T=v.splitLines(C);if(T.length===m.length)return T}return null}static paste(f,m,C,y,E,T){const N=this._distributePasteToCursors(f,C,y,E,T);return N?(C=C.sort(u.Range.compareRangesUsingStarts),this._distributedPaste(f,m,C,N)):this._simplePaste(f,m,C,y,E)}static _goodIndentForLine(f,m,C){let y=null,E="";const T=(0,o.getInheritIndentForLine)(f.autoIndent,m,C,!1,f.languageConfigurationService);if(T)y=T.action,E=T.indentation;else if(C>1){let N;for(N=C-1;N>=1;N--){const P=m.getLineContent(N);if(v.lastNonWhitespaceIndex(P)>=0)break}if(N<1)return null;const F=m.getLineMaxColumn(N),O=(0,r.getEnterAction)(f.autoIndent,m,new u.Range(N,F,N,F),f.languageConfigurationService);O&&(E=O.indentation+O.appendText)}return y&&(y===n.IndentAction.Indent&&(E=c.shiftIndent(f,E)),y===n.IndentAction.Outdent&&(E=c.unshiftIndent(f,E)),E=f.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(f,m,C,y){let E="";const T=C.getStartPosition();if(f.insertSpaces){const N=f.visibleColumnFromColumn(m,T),F=f.indentSize,O=F-N%F;for(let P=0;P<O;P++)E+=" "}else E="	";return new k.ReplaceCommand(C,E,y)}static tab(f,m,C){const y=[];for(let E=0,T=C.length;E<T;E++){const N=C[E];if(N.isEmpty()){const F=m.getLineContent(N.startLineNumber);if(/^\s*$/.test(F)&&m.tokenization.isCheapToTokenize(N.startLineNumber)){let O=this._goodIndentForLine(f,m,N.startLineNumber);O=O||"	";const P=f.normalizeIndentation(O);if(!F.startsWith(P)){y[E]=new k.ReplaceCommand(new u.Range(N.startLineNumber,1,N.startLineNumber,F.length+1),P,!0);continue}}y[E]=this._replaceJumpToNextIndent(f,m,N,!0)}else{if(N.startLineNumber===N.endLineNumber){const F=m.getLineMaxColumn(N.startLineNumber);if(N.startColumn!==1||N.endColumn!==F){y[E]=this._replaceJumpToNextIndent(f,m,N,!1);continue}}y[E]=new I.ShiftCommand(N,{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent},f.languageConfigurationService)}}return y}static compositionType(f,m,C,y,E,T,N,F){const O=y.map(P=>this._compositionType(C,P,E,T,N,F));return new _.EditOperationResult(4,O,{shouldPushStackElementBefore:l(f,4),shouldPushStackElementAfter:!1})}static _compositionType(f,m,C,y,E,T){if(!m.isEmpty())return null;const N=m.getPosition(),F=Math.max(1,N.column-y),O=Math.min(f.getLineMaxColumn(N.lineNumber),N.column+E),P=new u.Range(N.lineNumber,F,N.lineNumber,O);return f.getValueInRange(P)===C&&T===0?null:new k.ReplaceCommandWithOffsetCursorState(P,C,0,T)}static _typeCommand(f,m,C){return C?new k.ReplaceCommandWithoutChangingPosition(f,m,!0):new k.ReplaceCommand(f,m,!0)}static _enter(f,m,C,y){if(f.autoIndent===0)return c._typeCommand(y,`
`,C);if(!m.tokenization.isCheapToTokenize(y.getStartPosition().lineNumber)||f.autoIndent===1){const F=m.getLineContent(y.startLineNumber),O=v.getLeadingWhitespace(F).substring(0,y.startColumn-1);return c._typeCommand(y,`
`+f.normalizeIndentation(O),C)}const E=(0,r.getEnterAction)(f.autoIndent,m,y,f.languageConfigurationService);if(E){if(E.indentAction===n.IndentAction.None)return c._typeCommand(y,`
`+f.normalizeIndentation(E.indentation+E.appendText),C);if(E.indentAction===n.IndentAction.Indent)return c._typeCommand(y,`
`+f.normalizeIndentation(E.indentation+E.appendText),C);if(E.indentAction===n.IndentAction.IndentOutdent){const F=f.normalizeIndentation(E.indentation),O=f.normalizeIndentation(E.indentation+E.appendText),P=`
`+O+`
`+F;return C?new k.ReplaceCommandWithoutChangingPosition(y,P,!0):new k.ReplaceCommandWithOffsetCursorState(y,P,-1,O.length-F.length,!0)}else if(E.indentAction===n.IndentAction.Outdent){const F=c.unshiftIndent(f,E.indentation);return c._typeCommand(y,`
`+f.normalizeIndentation(F+E.appendText),C)}}const T=m.getLineContent(y.startLineNumber),N=v.getLeadingWhitespace(T).substring(0,y.startColumn-1);if(f.autoIndent>=4){const F=(0,o.getIndentForEnter)(f.autoIndent,m,y,{unshiftIndent:O=>c.unshiftIndent(f,O),shiftIndent:O=>c.shiftIndent(f,O),normalizeIndentation:O=>f.normalizeIndentation(O)},f.languageConfigurationService);if(F){let O=f.visibleColumnFromColumn(m,y.getEndPosition());const P=y.endColumn,D=m.getLineContent(y.endLineNumber),M=v.firstNonWhitespaceIndex(D);if(M>=0?y=y.setEndPosition(y.endLineNumber,Math.max(y.endColumn,M+1)):y=y.setEndPosition(y.endLineNumber,m.getLineMaxColumn(y.endLineNumber)),C)return new k.ReplaceCommandWithoutChangingPosition(y,`
`+f.normalizeIndentation(F.afterEnter),!0);{let R=0;return P<=M+1&&(f.insertSpaces||(O=Math.ceil(O/f.indentSize)),R=Math.min(O+1-f.normalizeIndentation(F.afterEnter).length-1,0)),new k.ReplaceCommandWithOffsetCursorState(y,`
`+f.normalizeIndentation(F.afterEnter),0,R,!0)}}}return c._typeCommand(y,`
`+f.normalizeIndentation(N),C)}static _isAutoIndentType(f,m,C){if(f.autoIndent<4)return!1;for(let y=0,E=C.length;y<E;y++)if(!m.tokenization.isCheapToTokenize(C[y].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(f,m,C,y){const E=(0,i.getIndentationAtPosition)(m,C.startLineNumber,C.startColumn),T=(0,o.getIndentActionForType)(f.autoIndent,m,C,y,{shiftIndent:N=>c.shiftIndent(f,N),unshiftIndent:N=>c.unshiftIndent(f,N)},f.languageConfigurationService);if(T===null)return null;if(T!==f.normalizeIndentation(E)){const N=m.getLineFirstNonWhitespaceColumn(C.startLineNumber);return N===0?c._typeCommand(new u.Range(C.startLineNumber,1,C.endLineNumber,C.endColumn),f.normalizeIndentation(T)+y,!1):c._typeCommand(new u.Range(C.startLineNumber,1,C.endLineNumber,C.endColumn),f.normalizeIndentation(T)+m.getLineContent(C.startLineNumber).substring(N-1,C.startColumn-1)+y,!1)}return null}static _isAutoClosingOvertype(f,m,C,y,E){if(f.autoClosingOvertype==="never"||!f.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let T=0,N=C.length;T<N;T++){const F=C[T];if(!F.isEmpty())return!1;const O=F.getPosition(),P=m.getLineContent(O.lineNumber);if(P.charAt(O.column-1)!==E)return!1;const M=(0,_.isQuote)(E);if((O.column>2?P.charCodeAt(O.column-2):0)===92&&M)return!1;if(f.autoClosingOvertype==="auto"){let B=!1;for(let W=0,V=y.length;W<V;W++){const A=y[W];if(O.lineNumber===A.startLineNumber&&O.column===A.startColumn){B=!0;break}}if(!B)return!1}}return!0}static _runAutoClosingOvertype(f,m,C,y,E){const T=[];for(let N=0,F=y.length;N<F;N++){const P=y[N].getPosition(),D=new u.Range(P.lineNumber,P.column,P.lineNumber,P.column+1);T[N]=new k.ReplaceCommand(D,E)}return new _.EditOperationResult(4,T,{shouldPushStackElementBefore:l(f,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(f,m){const C=m.charAt(0),y=f.autoClosingPairs.autoClosingPairsOpenByStart.get(C)||[],E=f.autoClosingPairs.autoClosingPairsCloseByStart.get(C)||[],T=y.some(F=>m.startsWith(F.open)),N=E.some(F=>m.startsWith(F.close));return!T&&N}static _findAutoClosingPairOpen(f,m,C,y){const E=f.autoClosingPairs.autoClosingPairsOpenByEnd.get(y);if(!E)return null;let T=null;for(const N of E)if(T===null||N.open.length>T.open.length){let F=!0;for(const O of C)if(m.getValueInRange(new u.Range(O.lineNumber,O.column-N.open.length+1,O.lineNumber,O.column))+y!==N.open){F=!1;break}F&&(T=N)}return T}static _findContainedAutoClosingPair(f,m){if(m.open.length<=1)return null;const C=m.close.charAt(m.close.length-1),y=f.autoClosingPairs.autoClosingPairsCloseByEnd.get(C)||[];let E=null;for(const T of y)T.open!==m.open&&m.open.includes(T.open)&&m.close.endsWith(T.close)&&(!E||T.open.length>E.open.length)&&(E=T);return E}static _getAutoClosingPairClose(f,m,C,y,E){const T=(0,_.isQuote)(y),N=T?f.autoClosingQuotes:f.autoClosingBrackets,F=T?f.shouldAutoCloseBefore.quote:f.shouldAutoCloseBefore.bracket;if(N==="never")return null;for(const B of C)if(!B.isEmpty())return null;const O=C.map(B=>{const W=B.getPosition();return E?{lineNumber:W.lineNumber,beforeColumn:W.column-y.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),P=this._findAutoClosingPairOpen(f,m,O.map(B=>new g.Position(B.lineNumber,B.beforeColumn)),y);if(!P)return null;const D=this._findContainedAutoClosingPair(f,P),M=D?D.close:"";let R=!0;for(const B of O){const{lineNumber:W,beforeColumn:V,afterColumn:A}=B,Y=m.getLineContent(W),ee=Y.substring(0,V-1),U=Y.substring(A-1);if(U.startsWith(M)||(R=!1),U.length>0){const Q=U.charAt(0);if(!c._isBeforeClosingBrace(f,U)&&!F(Q))return null}if(P.open.length===1&&(y==="'"||y==='"')&&N!=="always"){const Q=(0,b.getMapForWordSeparators)(f.wordSeparators);if(ee.length>0){const J=ee.charCodeAt(ee.length-1);if(Q.get(J)===0)return null}}if(!m.tokenization.isCheapToTokenize(W))return null;m.tokenization.forceTokenization(W);const j=m.tokenization.getLineTokens(W),Z=(0,t.createScopedLineTokens)(j,V-1);if(!P.shouldAutoClose(Z,V-Z.firstCharOffset))return null;const ie=P.findNeutralCharacter();if(ie){const Q=m.tokenization.getTokenTypeIfInsertingCharacter(W,V,ie);if(!P.isOK(Q))return null}}return R?P.close.substring(0,P.close.length-M.length):P.close}static _runAutoClosingOpenCharType(f,m,C,y,E,T,N){const F=[];for(let O=0,P=y.length;O<P;O++){const D=y[O];F[O]=new d(D,E,!T,N)}return new _.EditOperationResult(4,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(f,m){return(0,_.isQuote)(m)?f.autoSurround==="quotes"||f.autoSurround==="languageDefined":f.autoSurround==="brackets"||f.autoSurround==="languageDefined"}static _isSurroundSelectionType(f,m,C,y){if(!c._shouldSurroundChar(f,y)||!f.surroundingPairs.hasOwnProperty(y))return!1;const E=(0,_.isQuote)(y);for(const T of C){if(T.isEmpty())return!1;let N=!0;for(let F=T.startLineNumber;F<=T.endLineNumber;F++){const O=m.getLineContent(F),P=F===T.startLineNumber?T.startColumn-1:0,D=F===T.endLineNumber?T.endColumn-1:O.length,M=O.substring(P,D);if(/[^ \t]/.test(M)){N=!1;break}}if(N)return!1;if(E&&T.startLineNumber===T.endLineNumber&&T.startColumn+1===T.endColumn){const F=m.getValueInRange(T);if((0,_.isQuote)(F))return!1}}return!0}static _runSurroundSelectionType(f,m,C,y,E){const T=[];for(let N=0,F=y.length;N<F;N++){const O=y[N],P=m.surroundingPairs[E];T[N]=new L.SurroundSelectionCommand(O,E,P)}return new _.EditOperationResult(0,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(f,m,C){return!!(C.length===1&&m.tokenization.isCheapToTokenize(C[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(f,m,C,y,E){if(!m.electricChars.hasOwnProperty(E)||!y.isEmpty())return null;const T=y.getPosition();C.tokenization.forceTokenization(T.lineNumber);const N=C.tokenization.getLineTokens(T.lineNumber);let F;try{F=m.onElectricCharacter(E,N,T.column)}catch(O){return(0,w.onUnexpectedError)(O),null}if(!F)return null;if(F.matchOpenBracket){const O=(N.getLineContent()+E).lastIndexOf(F.matchOpenBracket)+1,P=C.bracketPairs.findMatchingBracketUp(F.matchOpenBracket,{lineNumber:T.lineNumber,column:O},500);if(P){if(P.startLineNumber===T.lineNumber)return null;const D=C.getLineContent(P.startLineNumber),M=v.getLeadingWhitespace(D),R=m.normalizeIndentation(M),B=C.getLineContent(T.lineNumber),W=C.getLineFirstNonWhitespaceColumn(T.lineNumber)||T.column,V=B.substring(W-1,T.column-1),A=R+V+E,Y=new u.Range(T.lineNumber,1,T.lineNumber,T.column),ee=new k.ReplaceCommand(Y,A);return new _.EditOperationResult(s(A,f),[ee],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(f,m,C,y,E,T){if(!y)return null;let N=null;for(const D of y)if(N===null)N=D.insertedText;else if(N!==D.insertedText)return null;if(!N||N.length!==1)return null;const F=N;let O=!1;for(const D of y)if(D.deletedText.length!==0){O=!0;break}if(O){if(!c._shouldSurroundChar(m,F)||!m.surroundingPairs.hasOwnProperty(F))return null;const D=(0,_.isQuote)(F);for(const B of y)if(B.deletedSelectionStart!==0||B.deletedSelectionEnd!==B.deletedText.length||/^[ \t]+$/.test(B.deletedText)||D&&(0,_.isQuote)(B.deletedText))return null;const M=[];for(const B of E){if(!B.isEmpty())return null;M.push(B.getPosition())}if(M.length!==y.length)return null;const R=[];for(let B=0,W=M.length;B<W;B++)R.push(new L.CompositionSurroundSelectionCommand(M[B],y[B].deletedText,F));return new _.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(m,C,E,T,F)){const D=E.map(M=>new k.ReplaceCommand(new u.Range(M.positionLineNumber,M.positionColumn,M.positionLineNumber,M.positionColumn+1),"",!1));return new _.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const P=this._getAutoClosingPairClose(m,C,E,F,!0);return P!==null?this._runAutoClosingOpenCharType(f,m,C,E,F,!0,P):null}static typeWithInterceptors(f,m,C,y,E,T,N){if(!f&&N===`
`){const P=[];for(let D=0,M=E.length;D<M;D++)P[D]=c._enter(C,y,!1,E[D]);return new _.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!f&&this._isAutoIndentType(C,y,E)){const P=[];let D=!1;for(let M=0,R=E.length;M<R;M++)if(P[M]=this._runAutoIndentType(C,y,E[M],N),!P[M]){D=!0;break}if(!D)return new _.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(C,y,E,T,N))return this._runAutoClosingOvertype(m,C,y,E,N);if(!f){const P=this._getAutoClosingPairClose(C,y,E,N,!1);if(P)return this._runAutoClosingOpenCharType(m,C,y,E,N,!1,P)}if(!f&&this._isSurroundSelectionType(C,y,E,N))return this._runSurroundSelectionType(m,C,y,E,N);if(!f&&this._isTypeInterceptorElectricChar(C,y,E)){const P=this._typeInterceptorElectricChar(m,C,y,E[0],N);if(P)return P}const F=[];for(let P=0,D=E.length;P<D;P++)F[P]=new k.ReplaceCommand(E[P],N);const O=s(N,m);return new _.EditOperationResult(O,F,{shouldPushStackElementBefore:l(m,O),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(f,m,C,y,E){const T=[];for(let F=0,O=y.length;F<O;F++)T[F]=new k.ReplaceCommand(y[F],E);const N=s(E,f);return new _.EditOperationResult(N,T,{shouldPushStackElementBefore:l(f,N),shouldPushStackElementAfter:!1})}static lineInsertBefore(f,m,C){if(m===null||C===null)return[];const y=[];for(let E=0,T=C.length;E<T;E++){let N=C[E].positionLineNumber;if(N===1)y[E]=new k.ReplaceCommandWithoutChangingPosition(new u.Range(1,1,1,1),`
`);else{N--;const F=m.getLineMaxColumn(N);y[E]=this._enter(f,m,!1,new u.Range(N,F,N,F))}}return y}static lineInsertAfter(f,m,C){if(m===null||C===null)return[];const y=[];for(let E=0,T=C.length;E<T;E++){const N=C[E].positionLineNumber,F=m.getLineMaxColumn(N);y[E]=this._enter(f,m,!1,new u.Range(N,F,N,F))}return y}static lineBreakInsert(f,m,C){const y=[];for(let E=0,T=C.length;E<T;E++)y[E]=this._enter(f,m,!0,C[E]);return y}}e.TypeOperations=c;class d extends k.ReplaceCommandWithOffsetCursorState{constructor(f,m,C,y){super(f,(C?m:"")+y,0,-y.length);this._openCharacter=m,this._closeCharacter=y,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(f,m){const y=m.getInverseEditOperations()[0].range;return this.closeCharacterRange=new u.Range(y.startLineNumber,y.endColumn-this._closeCharacter.length,y.endLineNumber,y.endColumn),this.enclosingRange=new u.Range(y.startLineNumber,y.endColumn-this._openCharacter.length-this._closeCharacter.length,y.endLineNumber,y.endColumn),super.computeCursorState(f,m)}}e.TypeWithAutoClosingCommand=d;class a{constructor(f,m,C,y,E,T){this.deletedText=f,this.deletedSelectionStart=m,this.deletedSelectionEnd=C,this.insertedText=y,this.insertedSelectionStart=E,this.insertedSelectionEnd=T}}e.CompositionOutcome=a;function s(S,f){return S===" "?f===5||f===6?6:5:4}function l(S,f){return p(S)&&!p(f)?!0:S===5?!1:h(S)!==h(f)}function h(S){return S===6||S===5?"space":S}function p(S){return S===4||S===5||S===6}}),define(se[296],re([1,0,14,8,423,62,413,184,218,3,23,101,190,2,207]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class r extends t.Disposable{constructor(p,S,f,m){super();this._model=p,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=S,this._coordinatesConverter=f,this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,m),this._cursors=new k.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,t.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(p){this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,p),this._cursors.updateContext(this.context)}onLineMappingChanged(p){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(p,"viewModel",0,this.getCursorStates())}setHasFocus(p){this._hasFocus=p}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const p=this._cursors.getSelections();for(let S=0;S<this._autoClosedActions.length;S++){const f=this._autoClosedActions[S];f.isValid(p)||(f.dispose(),this._autoClosedActions.splice(S,1),S--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(p,S,f,m){let C=!1;m!==null&&m.length>r.MAX_CURSOR_COUNT&&(m=m.slice(0,r.MAX_CURSOR_COUNT),C=!0);const y=c.from(this._model,this);return this._cursors.setStates(m),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(p,S,f,y,C)}setCursorColumnSelectData(p){this._columnSelectData=p}revealPrimary(p,S,f,m,C,y){const E=this._cursors.getViewPositions();let T=null,N=null;E.length>1?N=this._cursors.getViewSelections():T=u.Range.fromPositions(E[0],E[0]),p.emitViewEvent(new i.ViewRevealRangeRequestEvent(S,f,T,N,m,C,y))}saveState(){const p=[],S=this._cursors.getSelections();for(let f=0,m=S.length;f<m;f++){const C=S[f];p.push({inSelectionMode:!C.isEmpty(),selectionStart:{lineNumber:C.selectionStartLineNumber,column:C.selectionStartColumn},position:{lineNumber:C.positionLineNumber,column:C.positionColumn}})}return p}restoreState(p,S){const f=[];for(let m=0,C=S.length;m<C;m++){const y=S[m];let E=1,T=1;y.position&&y.position.lineNumber&&(E=y.position.lineNumber),y.position&&y.position.column&&(T=y.position.column);let N=E,F=T;y.selectionStart&&y.selectionStart.lineNumber&&(N=y.selectionStart.lineNumber),y.selectionStart&&y.selectionStart.column&&(F=y.selectionStart.column),f.push({selectionStartLineNumber:N,selectionStartColumn:F,positionLineNumber:E,positionColumn:T})}this.setStates(p,"restoreState",0,I.CursorState.fromModelSelections(f)),this.revealPrimary(p,"restoreState",!1,0,!0,1)}onModelContentChanged(p,S){if(S instanceof n.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(p,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const f=S.rawContentChangedEvent;if(this._knownModelVersionId=f.versionId,this._isHandling)return;const m=f.containsEvent(1);if(this._prevEditOperationType=0,m)this._cursors.dispose(),this._cursors=new k.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(p,"model",1,null,!1);else if(this._hasFocus&&f.resultingSelection&&f.resultingSelection.length>0){const C=I.CursorState.fromModelSelections(f.resultingSelection);this.setStates(p,"modelChange",f.isUndoing?5:f.isRedoing?6:2,C)&&this.revealPrimary(p,"modelChange",!1,0,!0,0)}else{const C=this._cursors.readSelectionFromMarkers();this.setStates(p,"modelChange",2,I.CursorState.fromModelSelections(C))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const p=this._cursors.getPrimaryCursor(),S=p.viewState.selectionStart.getStartPosition(),f=p.viewState.position;return{isReal:!1,fromViewLineNumber:S.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,S),toViewLineNumber:f.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,f)}}getSelections(){return this._cursors.getSelections()}setSelections(p,S,f,m){this.setStates(p,S,m,I.CursorState.fromModelSelections(f))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(p){this._prevEditOperationType=p}_pushAutoClosedAction(p,S){const f=[],m=[];for(let E=0,T=p.length;E<T;E++)f.push({range:p[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),m.push({range:S[E],options:{description:"auto-closed-enclosing",stickiness:1}});const C=this._model.deltaDecorations([],f),y=this._model.deltaDecorations([],m);this._autoClosedActions.push(new d(this._model,C,y))}_executeEditOperation(p){if(!p)return;p.shouldPushStackElementBefore&&this._model.pushStackElement();const S=a.executeCommands(this._model,this._cursors.getSelections(),p.commands);if(S){this._interpretCommandResult(S);const f=[],m=[];for(let C=0;C<p.commands.length;C++){const y=p.commands[C];y instanceof b.TypeWithAutoClosingCommand&&y.enclosingRange&&y.closeCharacterRange&&(f.push(y.closeCharacterRange),m.push(y.enclosingRange))}f.length>0&&this._pushAutoClosedAction(f,m),this._prevEditOperationType=p.type}p.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(p){(!p||p.length===0)&&(p=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(p),this._cursors.normalize()}_emitStateChangedIfNecessary(p,S,f,m,C){const y=c.from(this._model,this);if(y.equals(m))return!1;const E=this._cursors.getSelections(),T=this._cursors.getViewSelections();if(p.emitViewEvent(new i.ViewCursorStateChangedEvent(T,E)),!m||m.cursorState.length!==y.cursorState.length||y.cursorState.some((N,F)=>!N.modelState.equals(m.cursorState[F].modelState))){const N=m?m.cursorState.map(O=>O.modelState.selection):null,F=m?m.modelVersionId:0;p.emitOutgoingEvent(new o.CursorStateChangedEvent(N,E,F,y.modelVersionId,S||"keyboard",f,C))}return!0}_findAutoClosingPairs(p){if(!p.length)return null;const S=[];for(let f=0,m=p.length;f<m;f++){const C=p[f];if(!C.text||C.text.indexOf(`
`)>=0)return null;const y=C.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!y)return null;const E=y[1],T=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!T||T.length!==1)return null;const N=T[0].open,F=C.text.length-y[2].length-1,O=C.text.lastIndexOf(N,F-1);if(O===-1)return null;S.push([O,F])}return S}executeEdits(p,S,f,m){let C=null;S==="snippet"&&(C=this._findAutoClosingPairs(f)),C&&(f[0]._isTracked=!0);const y=[],E=[],T=this._model.pushEditOperations(this.getSelections(),f,N=>{if(C)for(let O=0,P=C.length;O<P;O++){const[D,M]=C[O],R=N[O],B=R.range.startLineNumber,W=R.range.startColumn-1+D,V=R.range.startColumn-1+M;y.push(new u.Range(B,V+1,B,V+2)),E.push(new u.Range(B,W+1,B,V+2))}const F=m(N);return F&&(this._isHandling=!0),F});T&&(this._isHandling=!1,this.setSelections(p,S,T,0)),y.length>0&&this._pushAutoClosedAction(y,E)}_executeEdit(p,S,f,m=0){if(this.context.cursorConfig.readOnly)return;const C=c.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),p()}catch(y){(0,w.onUnexpectedError)(y)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(S,f,m,C,!1)&&this.revealPrimary(S,f,!1,0,!0,0)}getAutoClosedCharacters(){return d.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(p){this._compositionState=new l(this._model,this.getSelections())}endComposition(p,S){const f=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{S==="keyboard"&&this._executeEditOperation(b.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,f,this.getSelections(),this.getAutoClosedCharacters()))},p,S)}type(p,S,f){this._executeEdit(()=>{if(f==="keyboard"){const m=S.length;let C=0;for(;C<m;){const y=v.nextCharLength(S,C),E=S.substr(C,y);this._executeEditOperation(b.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),C+=y}}else this._executeEditOperation(b.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),S))},p,f)}compositionType(p,S,f,m,C,y){if(S.length===0&&f===0&&m===0){if(C!==0){const E=this.getSelections().map(T=>{const N=T.getPosition();return new g.Selection(N.lineNumber,N.column+C,N.lineNumber,N.column+C)});this.setSelections(p,y,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(b.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),S,f,m,C))},p,y)}paste(p,S,f,m,C){this._executeEdit(()=>{this._executeEditOperation(b.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),S,f,m||[]))},p,C,4)}cut(p,S){this._executeEdit(()=>{this._executeEditOperation(_.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},p,S)}executeCommand(p,S,f){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new I.EditOperationResult(0,[S],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},p,f)}executeCommands(p,S,f){this._executeEdit(()=>{this._executeEditOperation(new I.EditOperationResult(0,S,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},p,f)}}e.CursorsController=r,r.MAX_CURSOR_COUNT=1e4;class c{constructor(p,S){this.modelVersionId=p,this.cursorState=S}static from(p,S){return new c(p.getVersionId(),S.getCursorStates())}equals(p){if(!p||this.modelVersionId!==p.modelVersionId||this.cursorState.length!==p.cursorState.length)return!1;for(let S=0,f=this.cursorState.length;S<f;S++)if(!this.cursorState[S].equals(p.cursorState[S]))return!1;return!0}}class d{constructor(p,S,f){this._model=p,this._autoClosedCharactersDecorations=S,this._autoClosedEnclosingDecorations=f}static getAllAutoClosedCharacters(p){let S=[];for(const f of p)S=S.concat(f.getAutoClosedCharactersRanges());return S}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const p=[];for(let S=0;S<this._autoClosedCharactersDecorations.length;S++){const f=this._model.getDecorationRange(this._autoClosedCharactersDecorations[S]);f&&p.push(f)}return p}isValid(p){const S=[];for(let f=0;f<this._autoClosedEnclosingDecorations.length;f++){const m=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[f]);if(m&&(S.push(m),m.startLineNumber!==m.endLineNumber))return!1}S.sort(u.Range.compareRangesUsingStarts),p.sort(u.Range.compareRangesUsingStarts);for(let f=0;f<p.length;f++)if(f>=S.length||!S[f].strictContainsRange(p[f]))return!1;return!0}}class a{static executeCommands(p,S,f){const m={model:p,selectionsBefore:S,trackedRanges:[],trackedRangesDirection:[]},C=this._innerExecuteCommands(m,f);for(let y=0,E=m.trackedRanges.length;y<E;y++)m.model._setTrackedRange(m.trackedRanges[y],null,0);return C}static _innerExecuteCommands(p,S){if(this._arrayIsEmpty(S))return null;const f=this._getEditOperations(p,S);if(f.operations.length===0)return null;const m=f.operations,C=this._getLoserCursorMap(m);if(C.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const y=[];for(let N=0,F=m.length;N<F;N++)C.hasOwnProperty(m[N].identifier.major.toString())||y.push(m[N]);f.hadTrackedEditOperation&&y.length>0&&(y[0]._isTracked=!0);let E=p.model.pushEditOperations(p.selectionsBefore,y,N=>{const F=[];for(let D=0;D<p.selectionsBefore.length;D++)F[D]=[];for(const D of N)!D.identifier||F[D.identifier.major].push(D);const O=(D,M)=>D.identifier.minor-M.identifier.minor,P=[];for(let D=0;D<p.selectionsBefore.length;D++)F[D].length>0?(F[D].sort(O),P[D]=S[D].computeCursorState(p.model,{getInverseEditOperations:()=>F[D],getTrackedSelection:M=>{const R=parseInt(M,10),B=p.model._getTrackedRange(p.trackedRanges[R]);return p.trackedRangesDirection[R]===0?new g.Selection(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn):new g.Selection(B.endLineNumber,B.endColumn,B.startLineNumber,B.startColumn)}})):P[D]=p.selectionsBefore[D];return P});E||(E=p.selectionsBefore);const T=[];for(const N in C)C.hasOwnProperty(N)&&T.push(parseInt(N,10));T.sort((N,F)=>F-N);for(const N of T)E.splice(N,1);return E}static _arrayIsEmpty(p){for(let S=0,f=p.length;S<f;S++)if(p[S])return!1;return!0}static _getEditOperations(p,S){let f=[],m=!1;for(let C=0,y=S.length;C<y;C++){const E=S[C];if(E){const T=this._getEditOperationsFromCommand(p,C,E);f=f.concat(T.operations),m=m||T.hadTrackedEditOperation}}return{operations:f,hadTrackedEditOperation:m}}static _getEditOperationsFromCommand(p,S,f){const m=[];let C=0;const y=(O,P,D=!1)=>{u.Range.isEmpty(O)&&P===""||m.push({identifier:{major:S,minor:C++},range:O,text:P,forceMoveMarkers:D,isAutoWhitespaceEdit:f.insertsAutoWhitespace})};let E=!1;const F={addEditOperation:y,addTrackedEditOperation:(O,P,D)=>{E=!0,y(O,P,D)},trackSelection:(O,P)=>{const D=g.Selection.liftSelection(O);let M;if(D.isEmpty())if(typeof P=="boolean")P?M=2:M=3;else{const W=p.model.getLineMaxColumn(D.startLineNumber);D.startColumn===W?M=2:M=3}else M=1;const R=p.trackedRanges.length,B=p.model._setTrackedRange(null,D,M);return p.trackedRanges[R]=B,p.trackedRangesDirection[R]=D.getDirection(),R.toString()}};try{f.getEditOperations(p.model,F)}catch(O){return(0,w.onUnexpectedError)(O),{operations:[],hadTrackedEditOperation:!1}}return{operations:m,hadTrackedEditOperation:E}}static _getLoserCursorMap(p){p=p.slice(0),p.sort((f,m)=>-u.Range.compareRangesUsingEnds(f.range,m.range));const S={};for(let f=1;f<p.length;f++){const m=p[f-1],C=p[f];if(u.Range.getStartPosition(m.range).isBefore(u.Range.getEndPosition(C.range))){let y;m.identifier.major>C.identifier.major?y=m.identifier.major:y=C.identifier.major,S[y.toString()]=!0;for(let E=0;E<p.length;E++)p[E].identifier.major===y&&(p.splice(E,1),E<f&&f--,E--);f>0&&f--}}return S}}class s{constructor(p,S,f){this.text=p,this.startSelection=S,this.endSelection=f}}class l{constructor(p,S){this._original=l._capture(p,S)}static _capture(p,S){const f=[];for(const m of S){if(m.startLineNumber!==m.endLineNumber)return null;f.push(new s(p.getLineContent(m.startLineNumber),m.startColumn-1,m.endColumn-1))}return f}deduceOutcome(p,S){if(!this._original)return null;const f=l._capture(p,S);if(!f||this._original.length!==f.length)return null;const m=[];for(let C=0,y=this._original.length;C<y;C++)m.push(l._deduceOutcome(this._original[C],f[C]));return m}static _deduceOutcome(p,S){const f=Math.min(p.startSelection,S.startSelection,v.commonPrefixLength(p.text,S.text)),m=Math.min(p.text.length-p.endSelection,S.text.length-S.endSelection,v.commonSuffixLength(p.text,S.text)),C=p.text.substring(f,p.text.length-m),y=S.text.substring(f,S.text.length-m);return new b.CompositionOutcome(C,p.startSelection-f,p.endSelection-f,y,S.startSelection-f,S.endSelection-f)}}}),define(se[663],re([1,0,52,43,72,285]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;const L=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function _(g,n,i,t){const o=t===I.FileKind.ROOT_FOLDER?["rootfolder-icon"]:t===I.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===w.Schemas.data)r=v.DataUri.parseMetaData(i).get(v.DataUri.META_DATA_LABEL);else{const c=i.path.match(L);c?(r=u(c[2].toLowerCase()),c[1]&&o.push(`${u(c[1].toLowerCase())}-name-dir-icon`)):r=u(i.authority.toLowerCase())}if(t===I.FileKind.FOLDER)o.push(`${r}-name-folder-icon`);else{if(r){if(o.push(`${r}-name-file-icon`),o.push("name-file-icon"),r.length<=255){const d=r.split(".");for(let a=1;a<d.length;a++)o.push(`${d.slice(a).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const c=b(g,n,i);c&&o.push(`${u(c)}-lang-file-icon`)}}return o}e.getIconClasses=_;function b(g,n,i){if(!i)return null;let t=null;if(i.scheme===w.Schemas.data){const r=v.DataUri.parseMetaData(i).get(v.DataUri.META_DATA_MIME);r&&(t=n.getLanguageIdByMimeType(r))}else{const o=g.getModel(i);o&&(t=o.getLanguageId())}return t&&t!==k.PLAINTEXT_LANGUAGE_ID?t:n.guessLanguageIdByFilepathOrFirstLine(i)}function u(g){return g.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=u}),define(se[664],re([1,0,258,99,52,90,43,8,72]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let u=[],g=[],n=[];function i(l,h=!1){t(l,!1,h)}e.registerPlatformLanguageAssociation=i;function t(l,h,p){const S=o(l,h);u.push(S),S.userConfigured?n.push(S):g.push(S),p&&!S.userConfigured&&u.forEach(f=>{f.mime===S.mime||f.userConfigured||(S.extension&&f.extension===S.extension&&console.warn(`Overwriting extension <<${S.extension}>> to now point to mime <<${S.mime}>>`),S.filename&&f.filename===S.filename&&console.warn(`Overwriting filename <<${S.filename}>> to now point to mime <<${S.mime}>>`),S.filepattern&&f.filepattern===S.filepattern&&console.warn(`Overwriting filepattern <<${S.filepattern}>> to now point to mime <<${S.mime}>>`),S.firstline&&f.firstline===S.firstline&&console.warn(`Overwriting firstline <<${S.firstline}>> to now point to mime <<${S.mime}>>`))})}function o(l,h){return{id:l.id,mime:l.mime,filename:l.filename,extension:l.extension,filepattern:l.filepattern,firstline:l.firstline,userConfigured:h,filenameLowercase:l.filename?l.filename.toLowerCase():void 0,extensionLowercase:l.extension?l.extension.toLowerCase():void 0,filepatternLowercase:l.filepattern?(0,w.parse)(l.filepattern.toLowerCase()):void 0,filepatternOnPath:l.filepattern?l.filepattern.indexOf(I.posix.sep)>=0:!1}}function r(){u=u.filter(l=>l.userConfigured),g=[]}e.clearPlatformLanguageAssociations=r;function c(l,h){return d(l,h).map(p=>p.id)}e.getLanguageIds=c;function d(l,h){let p;if(l)switch(l.scheme){case k.Schemas.file:p=l.fsPath;break;case k.Schemas.data:{p=L.DataUri.parseMetaData(l).get(L.DataUri.META_DATA_LABEL);break}case k.Schemas.vscodeNotebookCell:p=void 0;break;default:p=l.path}if(!p)return[{id:"unknown",mime:v.Mimes.unknown}];p=p.toLowerCase();const S=(0,I.basename)(p),f=a(p,S,n);if(f)return[f,{id:b.PLAINTEXT_LANGUAGE_ID,mime:v.Mimes.text}];const m=a(p,S,g);if(m)return[m,{id:b.PLAINTEXT_LANGUAGE_ID,mime:v.Mimes.text}];if(h){const C=s(h);if(C)return[C,{id:b.PLAINTEXT_LANGUAGE_ID,mime:v.Mimes.text}]}return[{id:"unknown",mime:v.Mimes.unknown}]}function a(l,h,p){var S;let f,m,C;for(let y=p.length-1;y>=0;y--){const E=p[y];if(h===E.filenameLowercase){f=E;break}if(E.filepattern&&(!m||E.filepattern.length>m.filepattern.length)){const T=E.filepatternOnPath?l:h;((S=E.filepatternLowercase)===null||S===void 0?void 0:S.call(E,T))&&(m=E)}E.extension&&(!C||E.extension.length>C.extension.length)&&h.endsWith(E.extensionLowercase)&&(C=E)}if(f)return f;if(m)return m;if(C)return C}function s(l){if((0,_.startsWithUTF8BOM)(l)&&(l=l.substr(1)),l.length>0)for(let h=u.length-1;h>=0;h--){const p=u[h];if(!p.firstline)continue;const S=l.match(p.firstline);if(S&&S.length>0)return p}}}),define(se[665],re([1,0,14,6,2,8,664,72,94,34]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const g=Object.prototype.hasOwnProperty,n="vs.editor.nullLanguage";class i{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(n,0),this._register(_.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(r,c){this._languageIdToLanguage[c]=r,this._languageToLanguageId.set(r,c)}register(r){if(this._languageToLanguageId.has(r))return;const c=this._nextLanguageId++;this._register(r,c)}encodeLanguageId(r){return this._languageToLanguageId.get(r)||0}decodeLanguageId(r){return this._languageIdToLanguage[r]||n}}e.LanguageIdCodec=i;class t extends k.Disposable{constructor(r=!0,c=!1){super();this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,t.instanceCount++,this._warnOnOverwrite=c,this.languageIdCodec=new i,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},r&&(this._initializeFromRegistry(),this._register(_.ModesRegistry.onDidChangeLanguages(d=>{this._initializeFromRegistry()})))}dispose(){t.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,L.clearPlatformLanguageAssociations)();const r=[].concat(_.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(r)}_registerLanguages(r){for(const c of r)this._registerLanguage(c);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(c=>{const d=this._languages[c];d.name&&(this._nameMap[d.name]=d.identifier),d.aliases.forEach(a=>{this._lowercaseNameMap[a.toLowerCase()]=d.identifier}),d.mimetypes.forEach(a=>{this._mimeTypesMap[a]=d.identifier})}),u.Registry.as(b.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(r){const c=r.id;let d;g.call(this._languages,c)?d=this._languages[c]:(this.languageIdCodec.register(c),d={identifier:c,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[c]=d),this._mergeLanguage(d,r)}_mergeLanguage(r,c){const d=c.id;let a=null;if(Array.isArray(c.mimetypes)&&c.mimetypes.length>0&&(r.mimetypes.push(...c.mimetypes),a=c.mimetypes[0]),a||(a=`text/x-${d}`,r.mimetypes.push(a)),Array.isArray(c.extensions)){c.configuration?r.extensions=c.extensions.concat(r.extensions):r.extensions=r.extensions.concat(c.extensions);for(const h of c.extensions)(0,L.registerPlatformLanguageAssociation)({id:d,mime:a,extension:h},this._warnOnOverwrite)}if(Array.isArray(c.filenames))for(const h of c.filenames)(0,L.registerPlatformLanguageAssociation)({id:d,mime:a,filename:h},this._warnOnOverwrite),r.filenames.push(h);if(Array.isArray(c.filenamePatterns))for(const h of c.filenamePatterns)(0,L.registerPlatformLanguageAssociation)({id:d,mime:a,filepattern:h},this._warnOnOverwrite);if(typeof c.firstLine=="string"&&c.firstLine.length>0){let h=c.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{const p=new RegExp(h);(0,I.regExpLeadsToEndlessLoop)(p)||(0,L.registerPlatformLanguageAssociation)({id:d,mime:a,firstline:p},this._warnOnOverwrite)}catch(p){(0,w.onUnexpectedError)(p)}}r.aliases.push(d);let s=null;if(typeof c.aliases!="undefined"&&Array.isArray(c.aliases)&&(c.aliases.length===0?s=[null]:s=c.aliases),s!==null)for(const h of s)!h||h.length===0||r.aliases.push(h);const l=s!==null&&s.length>0;if(!(l&&s[0]===null)){const h=(l?s[0]:null)||d;(l||!r.name)&&(r.name=h)}c.configuration&&r.configurationFiles.push(c.configuration),c.icon&&r.icons.push(c.icon)}isRegisteredLanguageId(r){return r?g.call(this._languages,r):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(r){const c=r.toLowerCase();return g.call(this._lowercaseNameMap,c)?this._lowercaseNameMap[c]:null}getLanguageIdByMimeType(r){return r&&g.call(this._mimeTypesMap,r)?this._mimeTypesMap[r]:null}guessLanguageIdByFilepathOrFirstLine(r,c){return!r&&!c?[]:(0,L.getLanguageIds)(r,c)}}e.LanguagesRegistry=t,t.instanceCount=0}),define(se[666],re([1,0,6,2,665,17,28,72]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class b extends v.Disposable{constructor(n=!1){super();this._onDidEncounterLanguage=this._register(new w.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new w.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,b.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new k.LanguagesRegistry(!0,n)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){b.instanceCount--,super.dispose()}isRegisteredLanguageId(n){return this._registry.isRegisteredLanguageId(n)}getLanguageIdByLanguageName(n){return this._registry.getLanguageIdByLanguageName(n)}getLanguageIdByMimeType(n){return this._registry.getLanguageIdByMimeType(n)}guessLanguageIdByFilepathOrFirstLine(n,i){const t=this._registry.guessLanguageIdByFilepathOrFirstLine(n,i);return(0,I.firstOrDefault)(t,null)}createById(n){return new u(this.onDidChange,()=>this._createAndGetLanguageIdentifier(n))}createByFilepathOrFirstLine(n,i){return new u(this.onDidChange,()=>{const t=this.guessLanguageIdByFilepathOrFirstLine(n,i);return this._createAndGetLanguageIdentifier(t)})}_createAndGetLanguageIdentifier(n){return(!n||!this.isRegisteredLanguageId(n))&&(n=_.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(n)||(this._encounteredLanguages.add(n),L.TokenizationRegistry.getOrCreate(n),this._onDidEncounterLanguage.fire(n)),n}}e.LanguageService=b,b.instanceCount=0;class u{constructor(n,i){this._onDidChangeLanguages=n,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new w.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var n;const i=this._selector();i!==this.languageId&&(this.languageId=i,(n=this._emitter)===null||n===void 0||n.fire(this.languageId))}}}),define(se[667],re([1,0,214,554,94,34]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),I.Registry.as(k.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},w.editorConfigurationBaseNode),{properties:{"editor.useCustomCodeActionMenu":{type:"boolean",scope:5,description:v.localize(0,null),default:!0}}})),I.Registry.as(k.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},w.editorConfigurationBaseNode),{properties:{"editor.customCodeActionMenu.showHeaders":{type:"boolean",scope:5,description:v.localize(1,null),default:!0}}}))}),define(se[668],re([1,0,8,217,3,23,100,32,253,215,216]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let n=class{constructor(t,o,r,c){this._languageConfigurationService=c,this._selection=t,this._isMovingDown=o,this._autoIndent=r,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,o){const r=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=o.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=o.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,t.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:d,indentSize:a,insertSpaces:s}=t.getOptions(),l=this.buildIndentConverter(d,a,s),h={tokenization:{getLineTokens:p=>t.tokenization.getLineTokens(p),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(p,S)=>t.getLanguageIdAtPosition(p,S)},getLineContent:null};if(c.startLineNumber===c.endLineNumber&&t.getLineMaxColumn(c.startLineNumber)===1){const p=c.startLineNumber,S=this._isMovingDown?p+1:p-1;t.getLineMaxColumn(S)===1?o.addEditOperation(new k.Range(1,1,1,1),null):(o.addEditOperation(new k.Range(p,1,p,1),t.getLineContent(S)),o.addEditOperation(new k.Range(S,1,S,t.getLineMaxColumn(S)),null)),c=new I.Selection(S,1,S,1)}else{let p,S;if(this._isMovingDown){p=c.endLineNumber+1,S=t.getLineContent(p),o.addEditOperation(new k.Range(p-1,t.getLineMaxColumn(p-1),p,t.getLineMaxColumn(p)),null);let f=S;if(this.shouldAutoIndent(t,c)){const m=this.matchEnterRule(t,l,d,p,c.startLineNumber-1);if(m!==null){const y=w.getLeadingWhitespace(t.getLineContent(p)),E=m+b.getSpaceCnt(y,d);f=b.generateIndent(E,d,s)+this.trimLeft(S)}else{h.getLineContent=E=>E===c.startLineNumber?t.getLineContent(p):t.getLineContent(E);const y=(0,u.getGoodIndentForLine)(this._autoIndent,h,t.getLanguageIdAtPosition(p,1),c.startLineNumber,l,this._languageConfigurationService);if(y!==null){const E=w.getLeadingWhitespace(t.getLineContent(p)),T=b.getSpaceCnt(y,d),N=b.getSpaceCnt(E,d);T!==N&&(f=b.generateIndent(T,d,s)+this.trimLeft(S))}}o.addEditOperation(new k.Range(c.startLineNumber,1,c.startLineNumber,1),f+`
`);const C=this.matchEnterRuleMovingDown(t,l,d,c.startLineNumber,p,f);if(C!==null)C!==0&&this.getIndentEditsOfMovingBlock(t,o,c,d,s,C);else{h.getLineContent=E=>E===c.startLineNumber?f:E>=c.startLineNumber+1&&E<=c.endLineNumber+1?t.getLineContent(E-1):t.getLineContent(E);const y=(0,u.getGoodIndentForLine)(this._autoIndent,h,t.getLanguageIdAtPosition(p,1),c.startLineNumber+1,l,this._languageConfigurationService);if(y!==null){const E=w.getLeadingWhitespace(t.getLineContent(c.startLineNumber)),T=b.getSpaceCnt(y,d),N=b.getSpaceCnt(E,d);if(T!==N){const F=T-N;this.getIndentEditsOfMovingBlock(t,o,c,d,s,F)}}}}else o.addEditOperation(new k.Range(c.startLineNumber,1,c.startLineNumber,1),f+`
`)}else if(p=c.startLineNumber-1,S=t.getLineContent(p),o.addEditOperation(new k.Range(p,1,p+1,1),null),o.addEditOperation(new k.Range(c.endLineNumber,t.getLineMaxColumn(c.endLineNumber),c.endLineNumber,t.getLineMaxColumn(c.endLineNumber)),`
`+S),this.shouldAutoIndent(t,c)){h.getLineContent=m=>m===p?t.getLineContent(c.startLineNumber):t.getLineContent(m);const f=this.matchEnterRule(t,l,d,c.startLineNumber,c.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(t,o,c,d,s,f);else{const m=(0,u.getGoodIndentForLine)(this._autoIndent,h,t.getLanguageIdAtPosition(c.startLineNumber,1),p,l,this._languageConfigurationService);if(m!==null){const C=w.getLeadingWhitespace(t.getLineContent(c.startLineNumber)),y=b.getSpaceCnt(m,d),E=b.getSpaceCnt(C,d);if(y!==E){const T=y-E;this.getIndentEditsOfMovingBlock(t,o,c,d,s,T)}}}}}this._selectionId=o.trackSelection(c)}buildIndentConverter(t,o,r){return{shiftIndent:c=>v.ShiftCommand.shiftIndent(c,c.length+1,t,o,r),unshiftIndent:c=>v.ShiftCommand.unshiftIndent(c,c.length+1,t,o,r)}}parseEnterResult(t,o,r,c,d){if(d){let a=d.indentation;d.indentAction===L.IndentAction.None||d.indentAction===L.IndentAction.Indent?a=d.indentation+d.appendText:d.indentAction===L.IndentAction.IndentOutdent?a=d.indentation:d.indentAction===L.IndentAction.Outdent&&(a=o.unshiftIndent(d.indentation)+d.appendText);const s=t.getLineContent(c);if(this.trimLeft(s).indexOf(this.trimLeft(a))>=0){const l=w.getLeadingWhitespace(t.getLineContent(c));let h=w.getLeadingWhitespace(a);const p=(0,u.getIndentMetadata)(t,c,this._languageConfigurationService);p!==null&&p&2&&(h=o.unshiftIndent(h));const S=b.getSpaceCnt(h,r),f=b.getSpaceCnt(l,r);return S-f}}return null}matchEnterRuleMovingDown(t,o,r,c,d,a){if(w.lastNonWhitespaceIndex(a)>=0){const s=t.getLineMaxColumn(d),l=(0,g.getEnterAction)(this._autoIndent,t,new k.Range(d,s,d,s),this._languageConfigurationService);return this.parseEnterResult(t,o,r,c,l)}else{let s=c-1;for(;s>=1;){const p=t.getLineContent(s);if(w.lastNonWhitespaceIndex(p)>=0)break;s--}if(s<1||c>t.getLineCount())return null;const l=t.getLineMaxColumn(s),h=(0,g.getEnterAction)(this._autoIndent,t,new k.Range(s,l,s,l),this._languageConfigurationService);return this.parseEnterResult(t,o,r,c,h)}}matchEnterRule(t,o,r,c,d,a){let s=d;for(;s>=1;){let p;if(s===d&&a!==void 0?p=a:p=t.getLineContent(s),w.lastNonWhitespaceIndex(p)>=0)break;s--}if(s<1||c>t.getLineCount())return null;const l=t.getLineMaxColumn(s),h=(0,g.getEnterAction)(this._autoIndent,t,new k.Range(s,l,s,l),this._languageConfigurationService);return this.parseEnterResult(t,o,r,c,h)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,o){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(o.startLineNumber))return!1;const r=t.getLanguageIdAtPosition(o.startLineNumber,1),c=t.getLanguageIdAtPosition(o.endLineNumber,1);return!(r!==c||this._languageConfigurationService.getLanguageConfiguration(r).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,o,r,c,d,a){for(let s=r.startLineNumber;s<=r.endLineNumber;s++){const l=t.getLineContent(s),h=w.getLeadingWhitespace(l),S=b.getSpaceCnt(h,c)+a,f=b.generateIndent(S,c,d);f!==h&&(o.addEditOperation(new k.Range(s,1,s,h.length+1),f),s===r.endLineNumber&&r.endColumn<=h.length+1&&f===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,o){let r=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&r.startLineNumber<r.endLineNumber&&(r=r.setEndPosition(r.endLineNumber,2)),r}};n=ke([fe(3,_.ILanguageConfigurationService)],n),e.MoveLinesCommand=n}),define(se[118],re([1,0,505,45,39,14,277,6,2,66,72]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let i=class Ni{constructor(o,r,c){this._options=o,this._languageService=r,this._openerService=c,this._onDidRenderAsync=new _.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(o,r,c){if(!o)return{element:document.createElement("span"),dispose:()=>{}};const d=new b.DisposableStore;return{element:d.add((0,w.renderMarkdown)(o,Object.assign(Object.assign({},this._getRenderOptions(o,d)),r),c)).element,dispose:()=>d.dispose()}}_getRenderOptions(o,r){return{codeBlockRenderer:(c,d)=>Se(this,void 0,void 0,function*(){var a,s,l;let h;c?h=this._languageService.getLanguageIdByLanguageName(c):this._options.editor&&(h=(a=this._options.editor.getModel())===null||a===void 0?void 0:a.getLanguageId()),h||(h=g.PLAINTEXT_LANGUAGE_ID);const p=yield(0,L.tokenizeToString)(this._languageService,d,h),S=document.createElement("span");if(S.innerHTML=(l=(s=Ni._ttpTokenizer)===null||s===void 0?void 0:s.createHTML(p))!==null&&l!==void 0?l:p,this._options.editor){const f=this._options.editor.getOption(45);(0,u.applyFontInfo)(S,f)}else this._options.codeBlockFontFamily&&(S.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(S.style.fontSize=this._options.codeBlockFontSize),S}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:c=>this._openerService.open(c,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:o.isTrusted}).catch(I.onUnexpectedError),disposables:r}}}};i._ttpTokenizer=(n=window.trustedTypes)===null||n===void 0?void 0:n.createPolicy("tokenizeToString",{createHTML(t){return t}}),i=ke([fe(1,k.ILanguageService),fe(2,v.IOpenerService)],i),e.MarkdownRenderer=i}),define(se[669],re([1,0,7,17,65,2,118,280,45,265]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const g=w.$;class n extends I.Disposable{constructor(o,r,c=b.NullOpenerService){super();this._renderDisposeables=this._register(new I.DisposableStore),this._editor=o,this._isVisible=!1,this._messages=[],this._hover=this._register(new u.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new L.MarkdownRenderer({editor:this._editor},r,c)),this._computer=new i(this._editor),this._hoverOperation=this._register(new _.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(d=>{this._withResult(d.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(45)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return n.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(r=>this._editor.applyFontInfo(r))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(o){this._computer.lineNumber!==o&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=o,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(o){this._messages=o,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(o,r){this._renderDisposeables.clear();const c=document.createDocumentFragment();for(const d of r){const a=g("div.hover-row.markdown-hover"),s=w.append(a,g("div.hover-contents")),l=this._renderDisposeables.add(this._markdownRenderer.render(d.value));s.appendChild(l.element),c.appendChild(a)}this._updateContents(c),this._showAt(o)}_updateContents(o){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(o),this._updateFont()}_showAt(o){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const r=this._editor.getLayoutInfo(),c=this._editor.getTopForLineNumber(o),d=this._editor.getScrollTop(),a=this._editor.getOption(60),s=this._hover.containerDomNode.clientHeight,l=c-d-(s-a)/2;this._hover.containerDomNode.style.left=`${r.glyphMarginLeft+r.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(l),0)}px`}}e.MarginHoverWidget=n,n.ID="editor.contrib.modesGlyphHoverWidget";class i{constructor(o){this._editor=o,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(o){this._lineNumber=o}computeSync(){const o=d=>({value:d}),r=this._editor.getLineDecorations(this._lineNumber),c=[];if(!r)return c;for(const d of r){if(!d.options.glyphMarginClassName)continue;const a=d.options.glyphMarginHoverMessage;!a||(0,k.isEmptyMarkdownString)(a)||c.push(...(0,v.asArray)(a).map(o))}return c}}}),define(se[297],re([1,0,7,76,27,6,65,2,118,263,609,9]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function i(r){return!!r&&Boolean(r.completion.documentation||r.completion.detail&&r.completion.detail!==r.completion.label)}e.canExpandCompletionItem=i;let t=class{constructor(c,d){this._editor=c,this._onDidClose=new I.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new I.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new _.DisposableStore,this._renderDisposeable=new _.DisposableStore,this._borderWidth=1,this._size=new w.Dimension(330,0),this.domNode=w.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=d.createInstance(b.MarkdownRenderer,{editor:c}),this._body=w.$(".body"),this._scrollbar=new v.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),w.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=w.append(this._body,w.$(".header")),this._close=w.append(this._header,w.$("span"+k.Codicon.close.cssSelector)),this._close.title=g.localize(0,null),this._type=w.append(this._header,w.$("p.type")),this._docs=w.append(this._body,w.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(45)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const c=this._editor.getOptions(),d=c.get(45),a=d.getMassagedFontFamily(),s=c.get(109)||d.fontSize,l=c.get(110)||d.lineHeight,h=d.fontWeight,p=`${s}px`,S=`${l}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${l/s}`,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=d.fontFeatureSettings,this._type.style.fontFamily=a,this._close.style.height=S,this._close.style.width=S}getLayoutInfo(){const c=this._editor.getOption(110)||this._editor.getOption(45).lineHeight,d=this._borderWidth,a=d*2;return{lineHeight:c,borderWidth:d,borderHeight:a,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=g.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(c,d){var a,s;this._renderDisposeable.clear();let{detail:l,documentation:h}=c.completion;if(d){let p="";p+=`score: ${c.score[0]}
`,p+=`prefix: ${(a=c.word)!==null&&a!==void 0?a:"(no prefix)"}
`,p+=`word: ${c.completion.filterText?c.completion.filterText+" (filterText)":c.textLabel}
`,p+=`distance: ${c.distance} (localityBonus-setting)
`,p+=`index: ${c.idx}, based on ${c.completion.sortText&&`sortText: "${c.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(s=c.completion.commitCharacters)===null||s===void 0?void 0:s.join("")}
`,h=new L.MarkdownString().appendCodeblock("empty",p),l=`Provider: ${c.provider._debugDisplayName}`}if(!d&&!i(c)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),l){const p=l.length>1e5?`${l.substr(0,1e5)}\u2026`:l;this._type.textContent=p,this._type.title=p,w.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else w.clearNode(this._type),this._type.title="",w.hide(this._type),this.domNode.classList.add("no-type");if(w.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),w.clearNode(this._docs);const p=this._markdownRenderer.render(h);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(c,d){const a=new w.Dimension(c,d);w.Dimension.equals(a,this._size)||(this._size=a,w.size(this.domNode,c,d)),this._scrollbar.scanDomNode()}scrollDown(c=8){this._body.scrollTop+=c}scrollUp(c=8){this._body.scrollTop-=c}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(c){this._borderWidth=c}get borderWidth(){return this._borderWidth}};t=ke([fe(1,n.IInstantiationService)],t),e.SuggestDetailsWidget=t;class o{constructor(c,d){this.widget=c,this._editor=d,this._disposables=new _.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new u.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(c.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let a,s,l=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{a=this._topLeft,s=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(a&&s){this.widget.layout(p.dimension.width,p.dimension.height);let S=!1;p.west&&(h=s.width-p.dimension.width,S=!0),p.north&&(l=s.height-p.dimension.height,S=!0),S&&this._applyTopLeft({top:a.top+l,left:a.left+h})}p.done&&(a=void 0,s=void 0,l=0,h=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(c=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),c&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(c,d){var a;const s=c.getBoundingClientRect();this._anchorBox=s,this._preferAlignAtTop=d,this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,d)}_placeAtAnchor(c,d,a){var s;const l=w.getClientArea(document.body),h=this.widget.getLayoutInfo(),p=new w.Dimension(220,2*h.lineHeight),S=c.top,f=function(){const D=l.width-(c.left+c.width+h.borderWidth+h.horizontalPadding),M=-h.borderWidth+c.left+c.width,R=new w.Dimension(D,l.height-c.top-h.borderHeight-h.verticalPadding),B=R.with(void 0,c.top+c.height-h.borderHeight-h.verticalPadding);return{top:S,left:M,fit:D-d.width,maxSizeTop:R,maxSizeBottom:B,minSize:p.with(Math.min(D,p.width))}}(),m=function(){const D=c.left-h.borderWidth-h.horizontalPadding,M=Math.max(h.horizontalPadding,c.left-d.width-h.borderWidth),R=new w.Dimension(D,l.height-c.top-h.borderHeight-h.verticalPadding),B=R.with(void 0,c.top+c.height-h.borderHeight-h.verticalPadding);return{top:S,left:M,fit:D-d.width,maxSizeTop:R,maxSizeBottom:B,minSize:p.with(Math.min(D,p.width))}}(),C=function(){const D=c.left,M=-h.borderWidth+c.top+c.height,R=new w.Dimension(c.width-h.borderHeight,l.height-c.top-c.height-h.verticalPadding);return{top:M,left:D,fit:R.height-d.height,maxSizeBottom:R,maxSizeTop:R,minSize:p.with(R.width)}}(),y=[f,m,C],E=(s=y.find(D=>D.fit>=0))!==null&&s!==void 0?s:y.sort((D,M)=>M.fit-D.fit)[0],T=c.top+c.height-h.borderHeight;let N,F=d.height;const O=Math.max(E.maxSizeTop.height,E.maxSizeBottom.height);F>O&&(F=O);let P;a?F<=E.maxSizeTop.height?(N=!0,P=E.maxSizeTop):(N=!1,P=E.maxSizeBottom):F<=E.maxSizeBottom.height?(N=!1,P=E.maxSizeBottom):(N=!0,P=E.maxSizeTop),this._applyTopLeft({left:E.left,top:N?E.top:T-F}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!N,E===f,N,E!==f),this._resizable.minSize=E.minSize,this._resizable.maxSize=P,this._resizable.layout(F,Math.min(P.width,d.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(c){this._topLeft=c,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=o}),define(se[670],re([1,0,30,290,94,34]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfigurationModel=void 0;class L extends v.ConfigurationModel{constructor(b={}){const u=I.Registry.as(k.Extensions.Configuration).getConfigurationProperties(),g=Object.keys(u),n=Object.create(null),i=[];for(const t in u){const o=b[t],r=o!==void 0?o:u[t].default;(0,w.addToValueTree)(n,t,r,c=>console.error(`Conflict in default settings: ${c}`))}for(const t of Object.keys(n))k.OVERRIDE_PROPERTY_REGEX.test(t)&&i.push({identifiers:(0,k.overrideIdentifiersFromKey)(t),keys:Object.keys(n[t]),contents:(0,w.toValuesTree)(n[t],o=>console.error(`Conflict in default settings file: ${o}`))});super(n,g,i)}}e.DefaultConfigurationModel=L}),define(se[95],re([1,0,105,18,26,34]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class L{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(u){if(v.OS===1){if(u&&u.win)return u.win}else if(v.OS===2){if(u&&u.mac)return u.mac}else if(u&&u.linux)return u.linux;return u}registerKeybindingRule(u){const g=L.bindToCurrentPlatform(u);if(g&&g.primary){const n=(0,w.createKeybinding)(g.primary,v.OS);n&&this._registerDefaultKeybinding(n,u.id,u.args,u.weight,0,u.when)}if(g&&Array.isArray(g.secondary))for(let n=0,i=g.secondary.length;n<i;n++){const t=g.secondary[n],o=(0,w.createKeybinding)(t,v.OS);o&&this._registerDefaultKeybinding(o,u.id,u.args,u.weight,-n-1,u.when)}}registerCommandAndKeybindingRule(u){this.registerKeybindingRule(u),k.CommandsRegistry.registerCommand(u)}static _mightProduceChar(u){return u>=21&&u<=30||u>=31&&u<=56?!0:u===80||u===81||u===82||u===83||u===84||u===85||u===86||u===110||u===111||u===87||u===88||u===89||u===90||u===91||u===92}_assertNoCtrlAlt(u,g){u.ctrlKey&&u.altKey&&!u.metaKey&&L._mightProduceChar(u.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",u," for ",g)}_registerDefaultKeybinding(u,g,n,i,t,o){v.OS===1&&this._assertNoCtrlAlt(u.parts[0],g),this._coreKeybindings.push({keybinding:u.parts,command:g,commandArgs:n,when:o,weight1:i,weight2:t,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(_)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new L,e.Extensions={EditorModes:"platform.keybindingsRegistry"},I.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function _(b,u){return b.weight1!==u.weight1?b.weight1-u.weight1:b.command<u.command?-1:b.command>u.command?1:b.weight2-u.weight2}}),define(se[298],re([1,0,203,502,16,95,624,2]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new k.RawContextKey("suggestWidgetVisible",!1,(0,L.localize)(0,null));const b="historyNavigationWidgetFocus",u="historyNavigationForwardsEnabled",g="historyNavigationBackwardsEnabled";let n;const i=[];function t(c,d){if(i.includes(d))throw new Error("Cannot register the same widget multiple times");i.push(d);const a=new _.DisposableStore,s=a.add(c.createScoped(d.element)),l=new k.RawContextKey(b,!1).bindTo(s),h=new k.RawContextKey(u,!0).bindTo(s),p=new k.RawContextKey(g,!0).bindTo(s),S=()=>{l.set(!0),n=d},f=()=>{l.set(!1),n===d&&(n=void 0)};return d.element===document.activeElement&&S(),a.add(d.onDidFocus(()=>S())),a.add(d.onDidBlur(()=>f())),a.add((0,_.toDisposable)(()=>{i.splice(i.indexOf(d),1),f()})),{scopedContextKeyService:s,historyNavigationForwardsEnablement:h,historyNavigationBackwardsEnablement:p,dispose(){a.dispose()}}}e.registerAndCreateHistoryNavigationContext=t;let o=class extends w.FindInput{constructor(d,a,s,l,h=!1){super(d,a,h,s);this._register(t(l,this.inputBox))}};o=ke([fe(3,k.IContextKeyService)],o),e.ContextScopedFindInput=o;let r=class extends v.ReplaceInput{constructor(d,a,s,l,h=!1){super(d,a,h,s);this._register(t(l,this.inputBox))}};r=ke([fe(3,k.IContextKeyService)],r),e.ContextScopedReplaceInput=r,I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:k.ContextKeyExpr.and(k.ContextKeyExpr.has(b),k.ContextKeyExpr.equals(g,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:c=>{n==null||n.showPreviousValue()}}),I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:k.ContextKeyExpr.and(k.ContextKeyExpr.has(b),k.ContextKeyExpr.equals(u,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:c=>{n==null||n.showNextValue()}})}),define(se[119],re([1,0,17,2,34]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var I;(function(_){_[_.PRESERVE=0]="PRESERVE",_[_.LAST=1]="LAST"})(I=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class L{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(b){return b.prefix.length===0?this.defaultProvider=b:this.providers.push(b),this.providers.sort((u,g)=>g.prefix.length-u.prefix.length),(0,v.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(b),1),this.defaultProvider===b&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,w.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(b){return b&&this.providers.find(g=>b.startsWith(g.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=L,k.Registry.add(e.Extensions.Quickaccess,new L)}),define(se[671],re([1,0,629,34,2,44,119,85]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let b=class Ht{constructor(g,n){this.quickInputService=g,this.keybindingService=n,this.registry=v.Registry.as(L.Extensions.Quickaccess)}provide(g){const n=new k.DisposableStore;return n.add(g.onDidAccept(()=>{const[i]=g.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),n.add(g.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(Ht.PREFIX.length));t&&t.prefix&&t.prefix!==Ht.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),g.items=this.getQuickAccessProviders(),n}getQuickAccessProviders(){const g=[];for(const n of this.registry.getQuickAccessProviders().sort((i,t)=>i.prefix.localeCompare(t.prefix)))if(n.prefix!==Ht.PREFIX)for(const i of n.helpEntries){const t=i.prefix||n.prefix,o=t||"\u2026";g.push({prefix:t,label:o,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:(0,w.localize)(0,null,o,i.description),description:i.description})}return g}};b.PREFIX="?",b=ke([fe(0,_.IQuickInputService),fe(1,I.IKeybindingService)],b),e.HelpQuickAccessProvider=b}),define(se[672],re([1,0,34,119,77,671]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),w.Registry.as(v.Extensions.Quickaccess).registerQuickAccessProvider({ctor:I.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:k.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(se[673],re([1,0,10,21,98,2,9,119,85,34]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let g=class extends I.Disposable{constructor(i,t){super();this.quickInputService=i,this.instantiationService=t,this.registry=u.Registry.as(_.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",t){this.doShowOrPick(i,!1,t)}doShowOrPick(i,t,o){var r;const[c,d]=this.getOrInstantiateProvider(i),a=this.visibleQuickAccess,s=a==null?void 0:a.descriptor;if(a&&d&&s===d){i!==d.prefix&&!(o==null?void 0:o.preserveValue)&&(a.picker.value=i),this.adjustValueSelection(a.picker,d,o);return}if(d&&!(o==null?void 0:o.preserveValue)){let f;if(a&&s&&s!==d){const m=a.value.substr(s.prefix.length);m&&(f=`${d.prefix}${m}`)}if(!f){const m=c==null?void 0:c.defaultFilterValue;m===_.DefaultQuickAccessFilterValue.LAST?f=this.lastAcceptedPickerValues.get(d):typeof m=="string"&&(f=`${d.prefix}${m}`)}typeof f=="string"&&(i=f)}const l=new I.DisposableStore,h=l.add(this.quickInputService.createQuickPick());h.value=i,this.adjustValueSelection(h,d,o),h.placeholder=d==null?void 0:d.placeholder,h.quickNavigate=o==null?void 0:o.quickNavigateConfiguration,h.hideInput=!!h.quickNavigate&&!a,(typeof(o==null?void 0:o.itemActivation)=="number"||(o==null?void 0:o.quickNavigateConfiguration))&&(h.itemActivation=(r=o==null?void 0:o.itemActivation)!==null&&r!==void 0?r:b.ItemActivation.SECOND),h.contextKey=d==null?void 0:d.contextKey,h.filterValue=f=>f.substring(d?d.prefix.length:0),(d==null?void 0:d.placeholder)&&(h.ariaLabel=d==null?void 0:d.placeholder);let p;t&&(p=new w.DeferredPromise,l.add((0,k.once)(h.onWillAccept)(f=>{f.veto(),h.hide()}))),l.add(this.registerPickerListeners(h,c,d,i));const S=l.add(new v.CancellationTokenSource);if(c&&l.add(c.provide(h,S.token)),(0,k.once)(h.onDidHide)(()=>{h.selectedItems.length===0&&S.cancel(),l.dispose(),p==null||p.complete(h.selectedItems.slice(0))}),h.show(),t)return p==null?void 0:p.p}adjustValueSelection(i,t,o){var r;let c;(o==null?void 0:o.preserveValue)?c=[i.value.length,i.value.length]:c=[(r=t==null?void 0:t.prefix.length)!==null&&r!==void 0?r:0,i.value.length],i.valueSelection=c}registerPickerListeners(i,t,o,r){const c=new I.DisposableStore,d=this.visibleQuickAccess={picker:i,descriptor:o,value:r};return c.add((0,I.toDisposable)(()=>{d===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),c.add(i.onDidChangeValue(a=>{const[s]=this.getOrInstantiateProvider(a);s!==t?this.show(a,{preserveValue:!0}):d.value=a})),o&&c.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,i.value)})),c}getOrInstantiateProvider(i){const t=this.registry.getQuickAccessProvider(i);if(!t)return[void 0,void 0];let o=this.mapProviderToDescriptor.get(t);return o||(o=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,o)),[o,t]}};g=ke([fe(0,b.IQuickInputService),fe(1,L.IInstantiationService)],g),e.QuickAccessController=g}),define(se[80],re([1,0,6,2,20,508,9]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const _="__$__targetStorageMarker";e.IStorageService=(0,L.createDecorator)("storageService");var b;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(b=e.WillSaveStateReason||(e.WillSaveStateReason={}));class u extends v.Disposable{constructor(i={flushInterval:u.DEFAULT_FLUSH_INTERVAL}){super();this.options=i,this._onDidChangeValue=this._register(new w.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new w.PauseableEmitter),this._onWillSaveState=this._register(new w.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(i,t){if(t===_){switch(i){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:i})}else this._onDidChangeValue.fire({scope:i,key:t,target:this.getKeyTargets(i)[t]})}get(i,t,o){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.get(i,o)}getBoolean(i,t,o){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getBoolean(i,o)}getNumber(i,t,o){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getNumber(i,o)}store(i,t,o,r){if((0,k.isUndefinedOrNull)(t)){this.remove(i,o);return}this.withPausedEmitters(()=>{var c;this.updateKeyTarget(i,o,r),(c=this.getStorage(o))===null||c===void 0||c.set(i,t)})}remove(i,t){this.withPausedEmitters(()=>{var o;this.updateKeyTarget(i,t,void 0),(o=this.getStorage(t))===null||o===void 0||o.delete(i)})}withPausedEmitters(i){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{i()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(i,t,o){var r,c;const d=this.getKeyTargets(t);typeof o=="number"?d[i]!==o&&(d[i]=o,(r=this.getStorage(t))===null||r===void 0||r.set(_,JSON.stringify(d))):typeof d[i]=="number"&&(delete d[i],(c=this.getStorage(t))===null||c===void 0||c.set(_,JSON.stringify(d)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(i){switch(i){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(i){const t=this.get(_,i);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}e.AbstractStorageService=u,u.DEFAULT_FLUSH_INTERVAL=60*1e3;class g extends u{constructor(){super();this.applicationStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this.profileStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(1,i))),this._register(this.profileStorage.onDidChangeStorage(i=>this.emitDidChangeValue(0,i))),this._register(this.applicationStorage.onDidChangeStorage(i=>this.emitDidChangeValue(-1,i)))}getStorage(i){switch(i){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=g}),define(se[674],re([1,0,10,98,51,3,287,53,9,80]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,b.createDecorator)("ICodeLensCache");class g{constructor(t,o){this.lineCount=t,this.data=o}}let n=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const o="codelens/cache";(0,w.runWhenIdle)(()=>t.remove(o,1));const r="codelens/cache2",c=t.get(r,1,"{}");this._deserialize(c),(0,v.once)(t.onWillSaveState)(d=>{d.reason===u.WillSaveStateReason.SHUTDOWN&&t.store(r,this._serialize(),1,1)})}put(t,o){const r=o.lenses.map(a=>{var s;return{range:a.symbol.range,command:a.symbol.command&&{id:"",title:(s=a.symbol.command)===null||s===void 0?void 0:s.title}}}),c=new L.CodeLensModel;c.add({lenses:r,dispose:()=>{}},this._fakeProvider);const d=new g(t.getLineCount(),c);this._cache.set(t.uri.toString(),d)}get(t){const o=this._cache.get(t.uri.toString());return o&&o.lineCount===t.getLineCount()?o.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[o,r]of this._cache){const c=new Set;for(const d of r.data.lenses)c.add(d.symbol.range.startLineNumber);t[o]={lineCount:r.lineCount,lines:[...c.values()]}}return JSON.stringify(t)}_deserialize(t){try{const o=JSON.parse(t);for(const r in o){const c=o[r],d=[];for(const s of c.lines)d.push({range:new I.Range(s,1,s,11)});const a=new L.CodeLensModel;a.add({lenses:d,dispose(){}},this._fakeProvider),this._cache.set(r,new g(c.lineCount,a))}}catch{}}};n=ke([fe(0,u.IStorageService)],n),e.CodeLensCache=n,(0,_.registerSingleton)(e.ICodeLensCache,n)}),define(se[299],re([1,0,10,2,51,28,30,53,9,80]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class g{constructor(c){this.name=c}select(c,d,a){if(a.length===0)return 0;const s=a[0].score[0];for(let l=0;l<a.length;l++){const{score:h,completion:p}=a[l];if(h[0]!==s)break;if(p.preselect)return l}return 0}}e.Memory=g;class n extends g{constructor(){super("first")}memorize(c,d,a){}toJSON(){}fromJSON(){}}e.NoMemory=n;class i extends g{constructor(){super("recentlyUsed");this._cache=new k.LRUCache(300,.66),this._seq=0}memorize(c,d,a){const s=`${c.getLanguageId()}/${a.textLabel}`;this._cache.set(s,{touch:this._seq++,type:a.completion.kind,insertText:a.completion.insertText})}select(c,d,a){if(a.length===0)return 0;const s=c.getLineContent(d.lineNumber).substr(d.column-10,d.column-1);if(/\s$/.test(s))return super.select(c,d,a);const l=a[0].score[0];let h=-1,p=-1,S=-1;for(let f=0;f<a.length&&a[f].score[0]===l;f++){const m=`${c.getLanguageId()}/${a[f].textLabel}`,C=this._cache.peek(m);if(C&&C.touch>S&&C.type===a[f].completion.kind&&C.insertText===a[f].completion.insertText&&(S=C.touch,p=f),a[f].completion.preselect&&h===-1)return h=f}return p!==-1?p:h!==-1?h:0}toJSON(){return this._cache.toJSON()}fromJSON(c){this._cache.clear();const d=0;for(const[a,s]of c)s.touch=d,s.type=typeof s.type=="number"?s.type:I.CompletionItemKinds.fromString(s.type),this._cache.set(a,s);this._seq=this._cache.size}}e.LRUMemory=i;class t extends g{constructor(){super("recentlyUsedByPrefix");this._trie=k.TernarySearchTree.forStrings(),this._seq=0}memorize(c,d,a){const{word:s}=c.getWordUntilPosition(d),l=`${c.getLanguageId()}/${s}`;this._trie.set(l,{type:a.completion.kind,insertText:a.completion.insertText,touch:this._seq++})}select(c,d,a){const{word:s}=c.getWordUntilPosition(d);if(!s)return super.select(c,d,a);const l=`${c.getLanguageId()}/${s}`;let h=this._trie.get(l);if(h||(h=this._trie.findSubstr(l)),h)for(let p=0;p<a.length;p++){const{kind:S,insertText:f}=a[p].completion;if(S===h.type&&f===h.insertText)return p}return super.select(c,d,a)}toJSON(){const c=[];return this._trie.forEach((d,a)=>c.push([a,d])),c.sort((d,a)=>-(d[1].touch-a[1].touch)).forEach((d,a)=>d[1].touch=a),c.slice(0,200)}fromJSON(c){if(this._trie.clear(),c.length>0){this._seq=c[0][1].touch+1;for(const[d,a]of c)a.type=typeof a.type=="number"?a.type:I.CompletionItemKinds.fromString(a.type),this._trie.set(d,a)}}}e.PrefixMemory=t;let o=class Ut{constructor(c,d){this._storageService=c,this._configService=d,this._disposables=new v.DisposableStore,this._persistSoon=new w.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(c.onWillSaveState(a=>{a.reason===u.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(c,d,a){this._withStrategy(c,d).memorize(c,d,a),this._persistSoon.schedule()}select(c,d,a){return this._withStrategy(c,d).select(c,d,a)}_withStrategy(c,d){var a;const s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:c.getLanguageIdAtPosition(d.lineNumber,d.column),resource:c.uri});if(((a=this._strategy)===null||a===void 0?void 0:a.name)!==s){this._saveState();const l=Ut._strategyCtors.get(s)||n;this._strategy=new l;try{const p=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,S=this._storageService.get(`${Ut._storagePrefix}/${s}`,p);S&&this._strategy.fromJSON(JSON.parse(S))}catch{}}return this._strategy}_saveState(){if(this._strategy){const d=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,a=JSON.stringify(this._strategy);this._storageService.store(`${Ut._storagePrefix}/${this._strategy.name}`,a,d,1)}}};o._strategyCtors=new Map([["recentlyUsedByPrefix",t],["recentlyUsed",i],["first",n]]),o._storagePrefix="suggest/memories",o=ke([fe(0,u.IStorageService),fe(1,L.IConfigurationService)],o),e.SuggestMemoryService=o,e.ISuggestMemoryService=(0,b.createDecorator)("ISuggestMemories"),(0,_.registerSingleton)(e.ISuggestMemoryService,o,!0)}),define(se[86],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,w.createDecorator)("telemetryService")}),define(se[675],re([1,0,481,14,60,2,51,82,20,628,26,30,141,9,44,660,80,86]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let a=class Kt extends r.PickerQuickAccessProvider{constructor(h,p,S,f,m,C){super(Kt.PREFIX,h);this.instantiationService=p,this.keybindingService=S,this.commandService=f,this.telemetryService=m,this.dialogService=C,this.commandsHistory=this._register(this.instantiationService.createInstance(s)),this.options=h}_getPicks(h,p,S){return Se(this,void 0,void 0,function*(){const f=yield this.getCommandPicks(S);if(S.isCancellationRequested)return[];const m=[];for(const T of f){const N=(0,b.withNullAsUndefined)(Kt.WORD_FILTER(h,T.label)),F=T.commandAlias?(0,b.withNullAsUndefined)(Kt.WORD_FILTER(h,T.commandAlias)):void 0;N||F?(T.highlights={label:N,detail:this.options.showAlias?F:void 0},m.push(T)):h===T.commandId&&m.push(T)}const C=new Map;for(const T of m){const N=C.get(T.label);N?(T.description=T.commandId,N.description=N.commandId):C.set(T.label,T)}m.sort((T,N)=>{const F=this.commandsHistory.peek(T.commandId),O=this.commandsHistory.peek(N.commandId);return F&&O?F>O?-1:1:F?-1:O?1:T.label.localeCompare(N.label)});const y=[];let E=!1;for(let T=0;T<m.length;T++){const N=m[T],F=this.keybindingService.lookupKeybinding(N.commandId),O=F?(0,u.localize)(0,null,N.label,F.getAriaLabel()):N.label;T===0&&this.commandsHistory.peek(N.commandId)&&(y.push({type:"separator",label:(0,u.localize)(1,null)}),E=!0),T!==0&&E&&!this.commandsHistory.peek(N.commandId)&&(y.push({type:"separator",label:(0,u.localize)(2,null)}),E=!1),y.push(Object.assign(Object.assign({},N),{ariaLabel:O,detail:this.options.showAlias&&N.commandAlias!==N.label?N.commandAlias:void 0,keybinding:F,accept:()=>Se(this,void 0,void 0,function*(){this.commandsHistory.push(N.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:N.commandId,from:"quick open"});try{yield this.commandService.executeCommand(N.commandId)}catch(P){(0,v.isCancellationError)(P)||this.dialogService.show(_.default.Error,(0,u.localize)(3,null,N.label,(0,w.toErrorMessage)(P)))}})}))}return y})}};a.PREFIX=">",a.WORD_FILTER=(0,k.or)(k.matchesPrefix,k.matchesWords,k.matchesContiguousSubString),a=ke([fe(1,t.IInstantiationService),fe(2,o.IKeybindingService),fe(3,g.ICommandService),fe(4,d.ITelemetryService),fe(5,i.IDialogService)],a),e.AbstractCommandsQuickAccessProvider=a;let s=class rt extends I.Disposable{constructor(h,p){super();this.storageService=h,this.configurationService=p,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=rt.getConfiguredCommandHistoryLength(this.configurationService),rt.cache&&rt.cache.limit!==this.configuredCommandsHistoryLength&&(rt.cache.limit=this.configuredCommandsHistoryLength,rt.saveState(this.storageService))}load(){const h=this.storageService.get(rt.PREF_KEY_CACHE,0);let p;if(h)try{p=JSON.parse(h)}catch{}const S=rt.cache=new L.LRUCache(this.configuredCommandsHistoryLength,1);if(p){let f;p.usesLRU?f=p.entries:f=p.entries.sort((m,C)=>m.value-C.value),f.forEach(m=>S.set(m.key,m.value))}rt.counter=this.storageService.getNumber(rt.PREF_KEY_COUNTER,0,rt.counter)}push(h){!rt.cache||(rt.cache.set(h,rt.counter++),rt.saveState(this.storageService))}peek(h){var p;return(p=rt.cache)===null||p===void 0?void 0:p.peek(h)}static saveState(h){if(!rt.cache)return;const p={usesLRU:!0,entries:[]};rt.cache.forEach((S,f)=>p.entries.push({key:f,value:S})),h.store(rt.PREF_KEY_CACHE,JSON.stringify(p),0,0),h.store(rt.PREF_KEY_COUNTER,rt.counter,0,0)}static getConfiguredCommandHistoryLength(h){var p,S;const m=(S=(p=h.getValue().workbench)===null||p===void 0?void 0:p.commandPalette)===null||S===void 0?void 0:S.history;return typeof m=="number"?m:rt.DEFAULT_COMMANDS_HISTORY_LENGTH}};s.DEFAULT_COMMANDS_HISTORY_LENGTH=50,s.PREF_KEY_CACHE="commandPalette.mru.cache",s.PREF_KEY_COUNTER="commandPalette.mru.counter",s.counter=1,s=ke([fe(0,c.IStorageService),fe(1,n.IConfigurationService)],s),e.CommandsHistory=s}),define(se[676],re([1,0,107,675]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class k extends v.AbstractCommandsQuickAccessProvider{constructor(L,_,b,u,g,n){super(L,_,b,u,g,n)}getCodeEditorCommandPicks(){const L=this.activeTextEditorControl;if(!L)return[];const _=[];for(const b of L.getSupportedActions())_.push({commandId:b.id,commandAlias:b.alias,label:(0,w.stripIcons)(b.label)||b.id});return _}}e.AbstractEditorCommandsQuickAccessProvider=k}),define(se[25],re([1,0,10,31,6,97,630,213,34]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.checkboxBorder=e.checkboxForeground=e.checkboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function u(N){return`--vscode-${N.replace(/\./g,"-")}`}e.asCssVariableName=u,e.Extensions={ColorContribution:"base.contributions.colors"};class g{constructor(){this._onDidChangeSchema=new k.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(F,O,P,D=!1,M){const R={id:F,description:P,defaults:O,needsTransparency:D,deprecationMessage:M};this.colorsById[F]=R;const B={type:"string",description:P,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return M&&(B.deprecationMessage=M),this.colorSchema.properties[F]=B,this.colorReferenceSchema.enum.push(F),this.colorReferenceSchema.enumDescriptions.push(P),this._onDidChangeSchema.fire(),F}getColors(){return Object.keys(this.colorsById).map(F=>this.colorsById[F])}resolveDefaultColor(F,O){const P=this.colorsById[F];if(P&&P.defaults){const D=P.defaults[O.type];return y(D,O)}}getColorSchema(){return this.colorSchema}toString(){const F=(O,P)=>{const D=O.indexOf(".")===-1?0:1,M=P.indexOf(".")===-1?0:1;return D!==M?D-M:O.localeCompare(P)};return Object.keys(this.colorsById).sort(F).map(O=>`- \`${O}\`: ${this.colorsById[O].description}`).join(`
`)}}const n=new g;b.Registry.add(e.Extensions.ColorContribution,n);function i(N){return N===null||typeof N.hcLight=="undefined"&&(N.hcDark===null||typeof N.hcDark=="string"?N.hcLight=N.hcDark:N.hcLight=N.light),N}function t(N,F,O,P,D){return n.registerColor(N,i(F),O,P,D)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},L.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:S(e.foreground,.7),hcDark:S(e.foreground,.7),hcLight:S(e.foreground,.7)},L.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},L.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},L.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:v.Color.black,hcLight:"#292929"},L.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},L.localize(12,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},L.localize(13,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:v.Color.white,hcLight:"#292929"},L.localize(14,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:v.Color.black,hcLight:"#F2F2F2"},L.localize(15,null)),e.widgetShadow=t("widget.shadow",{dark:S(v.Color.black,.36),light:S(v.Color.black,.16),hcDark:null,hcLight:null},L.localize(16,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:v.Color.white,hcDark:v.Color.black,hcLight:v.Color.white},L.localize(17,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(18,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(19,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(20,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(21,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:S(e.focusBorder,.4),light:S(e.focusBorder,.2),hcDark:v.Color.transparent,hcLight:v.Color.transparent},L.localize(22,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:v.Color.white,light:v.Color.black,hcDark:null,hcLight:e.foreground},L.localize(23,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:S(e.foreground,.5),dark:S(e.foreground,.5),hcDark:S(e.foreground,.7),hcLight:S(e.foreground,.7)},L.localize(24,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:v.Color.black,hcLight:v.Color.white},L.localize(25,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(26,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(27,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:v.Color.black,hcLight:v.Color.white},L.localize(28,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(29,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(30,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:v.Color.black,hcLight:v.Color.white},L.localize(31,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(32,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(33,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:v.Color.white,hcDark:v.Color.black,hcLight:v.Color.white},L.localize(34,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:v.Color.black,hcLight:v.Color.white},L.localize(35,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:v.Color.white,hcLight:e.foreground},L.localize(36,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(37,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(38,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(39,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},L.localize(40,null)),e.buttonForeground=t("button.foreground",{dark:v.Color.white,light:v.Color.white,hcDark:v.Color.white,hcLight:v.Color.white},L.localize(41,null)),e.buttonSeparator=t("button.separator",{dark:S(e.buttonForeground,.4),light:S(e.buttonForeground,.4),hcDark:S(e.buttonForeground,.4),hcLight:S(e.buttonForeground,.4)},L.localize(42,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},L.localize(43,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:p(e.buttonBackground,.2),light:h(e.buttonBackground,.2),hcDark:null,hcLight:null},L.localize(44,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(45,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:v.Color.white,light:v.Color.white,hcDark:v.Color.white,hcLight:e.foreground},L.localize(46,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:v.Color.white},L.localize(47,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:p(e.buttonSecondaryBackground,.2),light:h(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},L.localize(48,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:v.Color.black,hcLight:"#0F4A85"},L.localize(49,null)),e.badgeForeground=t("badge.foreground",{dark:v.Color.white,light:"#333",hcDark:v.Color.white,hcLight:v.Color.white},L.localize(50,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},L.localize(51,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:v.Color.fromHex("#797979").transparent(.4),light:v.Color.fromHex("#646464").transparent(.4),hcDark:S(e.contrastBorder,.6),hcLight:S(e.contrastBorder,.4)},L.localize(52,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:v.Color.fromHex("#646464").transparent(.7),light:v.Color.fromHex("#646464").transparent(.7),hcDark:S(e.contrastBorder,.8),hcLight:S(e.contrastBorder,.8)},L.localize(53,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:v.Color.fromHex("#BFBFBF").transparent(.4),light:v.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(54,null)),e.progressBarBackground=t("progressBar.background",{dark:v.Color.fromHex("#0E70C0"),light:v.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(55,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(56,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(57,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:v.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},L.localize(58,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(59,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},L.localize(60,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:v.Color.fromHex("#FFCC00").transparent(.8),hcLight:"#"},L.localize(61,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(62,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},L.localize(63,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:v.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},L.localize(64,null)),e.editorHintForeground=t("editorHint.foreground",{dark:v.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},L.localize(65,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:v.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},L.localize(66,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(67,null)),e.editorBackground=t("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:v.Color.black,hcLight:v.Color.white},L.localize(68,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:v.Color.white,hcLight:e.foreground},L.localize(69,null)),e.editorStickyScrollBackground=t("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},L.localize(70,null)),e.editorStickyScrollHoverBackground=t("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:v.Color.fromHex("#0F4A85").transparent(.1)},L.localize(71,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:v.Color.white},L.localize(72,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(73,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(74,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(75,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(76,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(77,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new v.Color(new v.RGBA(255,255,255,.105)),light:new v.Color(new v.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:v.Color.white},L.localize(78,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:v.Color.white,hcLight:"#0F4A85"},L.localize(79,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:v.Color.white,hcLight:"#0F4A85"},L.localize(80,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new v.Color(new v.RGBA(128,128,128,.17)),light:new v.Color(new v.RGBA(221,221,221,.4)),hcDark:v.Color.transparent,hcLight:v.Color.transparent},L.localize(81,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:v.Color.fromHex("#CCCCCC"),light:v.Color.fromHex("#555555"),hcDark:v.Color.white,hcLight:e.foreground},L.localize(82,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new v.Color(new v.RGBA(51,51,51,.6)),light:new v.Color(new v.RGBA(204,204,204,.4)),hcDark:new v.Color(new v.RGBA(111,195,223)),hcLight:e.contrastBorder},L.localize(83,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new v.Color(new v.RGBA(68,68,68,.6)),light:new v.Color(new v.RGBA(187,187,187,.4)),hcDark:new v.Color(new v.RGBA(111,195,223)),hcLight:e.foreground},L.localize(84,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},L.localize(85,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:v.Color.white},L.localize(86,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:S(e.editorSelectionBackground,.5),dark:S(e.editorSelectionBackground,.5),hcDark:S(e.editorSelectionBackground,.7),hcLight:S(e.editorSelectionBackground,.5)},L.localize(87,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:C(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:C(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},L.localize(88,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(89,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},L.localize(90,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},L.localize(91,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},L.localize(92,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(93,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(94,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:S(e.activeContrastBorder,.4),hcLight:S(e.activeContrastBorder,.4)},L.localize(95,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:S(e.editorFindMatchHighlight,.66),dark:S(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},L.localize(96,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:S(e.editorFindMatchHighlightBorder,.66),dark:S(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},L.localize(97,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},L.localize(98,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(99,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(100,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},L.localize(101,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:p(e.editorHoverBackground,.2),light:h(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(102,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:v.Color.blue,hcDark:v.Color.cyan,hcLight:"#292929"},L.localize(103,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:S(e.badgeForeground,.8),light:S(e.badgeForeground,.8),hcDark:e.badgeForeground,hcLight:e.badgeForeground},L.localize(104,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:S(e.badgeBackground,.6),light:S(e.badgeBackground,.3),hcDark:e.badgeBackground,hcLight:e.badgeBackground},L.localize(105,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(106,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(107,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(108,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(109,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},L.localize(110,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},L.localize(111,null)),e.defaultInsertColor=new v.Color(new v.RGBA(155,185,85,.2)),e.defaultRemoveColor=new v.Color(new v.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},L.localize(112,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},L.localize(113,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},L.localize(114,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},L.localize(115,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(116,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(117,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(118,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(119,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},L.localize(120,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},L.localize(121,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(122,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},L.localize(123,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(124,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(125,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(126,null)),e.listFocusAndSelectionOutline=t("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(127,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:v.Color.fromHex("#0F4A85").transparent(.1)},L.localize(128,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:v.Color.white,light:v.Color.white,hcDark:null,hcLight:null},L.localize(129,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(130,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:v.Color.fromHex("#0F4A85").transparent(.1)},L.localize(131,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(132,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(133,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(134,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(135,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:v.Color.fromHex("#0F4A85").transparent(.1)},L.localize(136,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(137,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},L.localize(138,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(139,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:m(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},L.localize(140,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},L.localize(141,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},L.localize(142,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},L.localize(143,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:h(e.editorWidgetBackground,0),dark:p(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(144,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:v.Color.transparent,light:v.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},L.localize(145,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(146,null)),e.listFilterWidgetShadow=t("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},L.localize(147,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(148,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},L.localize(149,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},L.localize(150,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},L.localize(151,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:S(e.foreground,.04),light:S(e.foreground,.04),hcDark:null,hcLight:null},L.localize(152,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},L.localize(153,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,L.localize(154,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(155,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},L.localize(156,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:f(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:f(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},L.localize(157,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(158,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.foreground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(159,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(160,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(161,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},L.localize(162,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(163,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(164,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(165,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(166,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:p(e.toolbarHoverBackground,.1),light:h(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},L.localize(167,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new v.Color(new v.RGBA(124,124,124,.3)),light:new v.Color(new v.RGBA(10,50,100,.2)),hcDark:new v.Color(new v.RGBA(124,124,124,.3)),hcLight:new v.Color(new v.RGBA(10,50,100,.2))},L.localize(168,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(169,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(170,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new v.Color(new v.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},L.localize(171,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:S(e.foreground,.8),dark:S(e.foreground,.8),hcDark:S(e.foreground,.8),hcLight:S(e.foreground,.8)},L.localize(172,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},L.localize(173,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:h(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},L.localize(174,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:h(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},L.localize(175,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(176,null));const o=.5,r=v.Color.fromHex("#40C8AE").transparent(o),c=v.Color.fromHex("#40A6FF").transparent(o),d=v.Color.fromHex("#606060").transparent(.4),a=.4,s=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:r,light:r,hcDark:null,hcLight:null},L.localize(177,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:S(e.mergeCurrentHeaderBackground,a),light:S(e.mergeCurrentHeaderBackground,a),hcDark:S(e.mergeCurrentHeaderBackground,a),hcLight:S(e.mergeCurrentHeaderBackground,a)},L.localize(178,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:c,light:c,hcDark:null,hcLight:null},L.localize(179,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:S(e.mergeIncomingHeaderBackground,a),light:S(e.mergeIncomingHeaderBackground,a),hcDark:S(e.mergeIncomingHeaderBackground,a),hcLight:S(e.mergeIncomingHeaderBackground,a)},L.localize(180,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:d,light:d,hcDark:null,hcLight:null},L.localize(181,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:S(e.mergeCommonHeaderBackground,a),light:S(e.mergeCommonHeaderBackground,a),hcDark:S(e.mergeCommonHeaderBackground,a),hcLight:S(e.mergeCommonHeaderBackground,a)},L.localize(182,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},L.localize(183,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:S(e.mergeCurrentHeaderBackground,s),light:S(e.mergeCurrentHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(184,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:S(e.mergeIncomingHeaderBackground,s),light:S(e.mergeIncomingHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(185,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:S(e.mergeCommonHeaderBackground,s),light:S(e.mergeCommonHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(186,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},L.localize(187,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.localize(188,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},L.localize(189,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(190,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(191,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new v.Color(new v.RGBA(255,18,18,.7)),light:new v.Color(new v.RGBA(255,18,18,.7)),hcDark:new v.Color(new v.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(192,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},L.localize(193,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(194,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:v.Color.fromHex("#000f"),light:v.Color.fromHex("#000f"),hcDark:v.Color.fromHex("#000f"),hcLight:v.Color.fromHex("#000f")},L.localize(195,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:S(e.scrollbarSliderBackground,.5),dark:S(e.scrollbarSliderBackground,.5),hcDark:S(e.scrollbarSliderBackground,.5),hcLight:S(e.scrollbarSliderBackground,.5)},L.localize(196,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:S(e.scrollbarSliderHoverBackground,.5),dark:S(e.scrollbarSliderHoverBackground,.5),hcDark:S(e.scrollbarSliderHoverBackground,.5),hcLight:S(e.scrollbarSliderHoverBackground,.5)},L.localize(197,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:S(e.scrollbarSliderActiveBackground,.5),dark:S(e.scrollbarSliderActiveBackground,.5),hcDark:S(e.scrollbarSliderActiveBackground,.5),hcLight:S(e.scrollbarSliderActiveBackground,.5)},L.localize(198,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(199,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(200,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(201,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(202,null)),e.chartsLines=t("charts.lines",{dark:S(e.foreground,.5),light:S(e.foreground,.5),hcDark:S(e.foreground,.5),hcLight:S(e.foreground,.5)},L.localize(203,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(204,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(205,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(206,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},L.localize(207,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},L.localize(208,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},L.localize(209,null));function l(N,F){var O,P,D;switch(N.op){case 0:return(O=y(N.value,F))===null||O===void 0?void 0:O.darken(N.factor);case 1:return(P=y(N.value,F))===null||P===void 0?void 0:P.lighten(N.factor);case 2:return(D=y(N.value,F))===null||D===void 0?void 0:D.transparent(N.factor);case 3:for(const M of N.values){const R=y(M,F);if(R)return R}return;case 5:return y(F.defines(N.if)?N.then:N.else,F);case 4:{const M=y(N.value,F);if(!M)return;const R=y(N.background,F);return R?M.isDarkerThan(R)?v.Color.getLighterColor(M,R,N.factor).transparent(N.transparency):v.Color.getDarkerColor(M,R,N.factor).transparent(N.transparency):M.transparent(N.factor*N.transparency)}default:throw(0,I.assertNever)(N)}}e.executeTransform=l;function h(N,F){return{op:0,value:N,factor:F}}e.darken=h;function p(N,F){return{op:1,value:N,factor:F}}e.lighten=p;function S(N,F){return{op:2,value:N,factor:F}}e.transparent=S;function f(...N){return{op:3,values:N}}e.oneOf=f;function m(N,F,O){return{op:5,if:N,then:F,else:O}}e.ifDefinedThenElse=m;function C(N,F,O,P){return{op:4,value:N,background:F,factor:O,transparency:P}}function y(N,F){if(N!==null){if(typeof N=="string")return N[0]==="#"?v.Color.fromHex(N):F.getColor(N);if(N instanceof v.Color)return N;if(typeof N=="object")return l(N,F)}}e.resolveColorValue=y,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const E=b.Registry.as(_.Extensions.JSONContribution);E.registerSchema(e.workbenchColorsSchemaId,n.getColorSchema());const T=new w.RunOnceScheduler(()=>E.notifySchemaChanged(e.workbenchColorsSchemaId),200);n.onDidChangeSchema(()=>{T.isScheduled()||T.schedule()})}),define(se[143],re([1,0,7,134,63,10,2,25]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class b{constructor(p,S){this.x=p,this.y=S,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new u(this.x-window.scrollX,this.y-window.scrollY)}}e.PageCoordinates=b;class u{constructor(p,S){this.clientX=p,this.clientY=S,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new b(this.clientX+window.scrollX,this.clientY+window.scrollY)}}e.ClientCoordinates=u;class g{constructor(p,S,f,m){this.x=p,this.y=S,this.width=f,this.height=m,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=g;class n{constructor(p,S){this.x=p,this.y=S,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=n;function i(h){const p=w.getDomNodePagePosition(h);return new g(p.left,p.top,p.width,p.height)}e.createEditorPagePosition=i;function t(h,p,S){const f=p.width/h.offsetWidth,m=p.height/h.offsetHeight,C=(S.x-p.x)/f,y=(S.y-p.y)/m;return new n(C,y)}e.createCoordinatesRelativeToEditor=t;class o extends k.StandardMouseEvent{constructor(p,S,f){super(p);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=S,this.pos=new b(this.posx,this.posy),this.editorPos=i(f),this.relativePos=t(f,this.editorPos,this.pos)}}e.EditorMouseEvent=o;class r{constructor(p){this._editorViewDomNode=p}_create(p){return new o(p,!1,this._editorViewDomNode)}onContextMenu(p,S){return w.addDisposableListener(p,"contextmenu",f=>{S(this._create(f))})}onMouseUp(p,S){return w.addDisposableListener(p,"mouseup",f=>{S(this._create(f))})}onMouseDown(p,S){return w.addDisposableListener(p,w.EventType.MOUSE_DOWN,f=>{S(this._create(f))})}onPointerDown(p,S){return w.addDisposableListener(p,w.EventType.POINTER_DOWN,f=>{S(this._create(f),f.pointerId)})}onMouseLeave(p,S){return w.addDisposableListener(p,w.EventType.MOUSE_LEAVE,f=>{S(this._create(f))})}onMouseMove(p,S){return w.addDisposableListener(p,"mousemove",f=>S(this._create(f)))}}e.EditorMouseEventFactory=r;class c{constructor(p){this._editorViewDomNode=p}_create(p){return new o(p,!1,this._editorViewDomNode)}onPointerUp(p,S){return w.addDisposableListener(p,"pointerup",f=>{S(this._create(f))})}onPointerDown(p,S){return w.addDisposableListener(p,w.EventType.POINTER_DOWN,f=>{S(this._create(f),f.pointerId)})}onPointerLeave(p,S){return w.addDisposableListener(p,w.EventType.POINTER_LEAVE,f=>{S(this._create(f))})}onPointerMove(p,S){return w.addDisposableListener(p,"pointermove",f=>S(this._create(f)))}}e.EditorPointerEventFactory=c;class d extends L.Disposable{constructor(p){super();this._editorViewDomNode=p,this._globalPointerMoveMonitor=this._register(new v.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(p,S,f,m,C){this._keydownListener=w.addStandardDisposableListener(document,"keydown",y=>{y.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,y.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(p,S,f,y=>{m(new o(y,!0,this._editorViewDomNode))},y=>{this._keydownListener.dispose(),C(y)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=d;class a{constructor(p){this._editor=p,this._instanceId=++a._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new I.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(p){const S=this.getOrCreateRule(p);return S.increaseRefCount(),{className:S.className,dispose:()=>{S.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(p){const S=this.computeUniqueKey(p);let f=this._rules.get(S);if(!f){const m=this._counter++;f=new s(S,`dyn-rule-${this._instanceId}-${m}`,w.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,p),this._rules.set(S,f)}return f}computeUniqueKey(p){return JSON.stringify(p)}garbageCollect(){for(const p of this._rules.values())p.hasReferences()||(this._rules.delete(p.key),p.dispose())}}e.DynamicCssRules=a,a._idPool=0;class s{constructor(p,S,f,m){this.key=p,this.className=S,this.properties=m,this._referenceCount=0,this._styleElement=w.createStyleSheet(f),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(p,S){let f=`.${p} {`;for(const m in S){const C=S[m];let y;typeof C=="object"?y=`var(${(0,_.asCssVariableName)(C.id)})`:y=C,f+=`
	${l(m)}: ${y};`}return f+=`
}`,f}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function l(h){return h.replace(/(^[A-Z])/,([p])=>p.toLowerCase()).replace(/([A-Z])/g,([p])=>`-${p.toLowerCase()}`)}}),define(se[144],re([1,0,25]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function v(b,u){const g=Object.create(null);for(const n in u){const i=u[n];i&&(g[n]=(0,w.resolveColorValue)(i,b))}return g}e.computeStyles=v;function k(b,u,g){function n(){const i=v(b.getColorTheme(),u);typeof g=="function"?g(i):g.style(i)}return n(),b.onDidColorThemeChange(n)}e.attachStyler=k;function I(b,u,g){return k(u,{badgeBackground:(g==null?void 0:g.badgeBackground)||w.badgeBackground,badgeForeground:(g==null?void 0:g.badgeForeground)||w.badgeForeground,badgeBorder:w.contrastBorder},b)}e.attachBadgeStyler=I;function L(b,u,g){return k(u,Object.assign(Object.assign({},e.defaultListStyles),g||{}),b)}e.attachListStyler=L,e.defaultListStyles={listFocusBackground:w.listFocusBackground,listFocusForeground:w.listFocusForeground,listFocusOutline:w.listFocusOutline,listActiveSelectionBackground:w.listActiveSelectionBackground,listActiveSelectionForeground:w.listActiveSelectionForeground,listActiveSelectionIconForeground:w.listActiveSelectionIconForeground,listFocusAndSelectionOutline:w.listFocusAndSelectionOutline,listFocusAndSelectionBackground:w.listActiveSelectionBackground,listFocusAndSelectionForeground:w.listActiveSelectionForeground,listInactiveSelectionBackground:w.listInactiveSelectionBackground,listInactiveSelectionIconForeground:w.listInactiveSelectionIconForeground,listInactiveSelectionForeground:w.listInactiveSelectionForeground,listInactiveFocusBackground:w.listInactiveFocusBackground,listInactiveFocusOutline:w.listInactiveFocusOutline,listHoverBackground:w.listHoverBackground,listHoverForeground:w.listHoverForeground,listDropBackground:w.listDropBackground,listSelectionOutline:w.activeContrastBorder,listHoverOutline:w.activeContrastBorder,listFilterWidgetBackground:w.listFilterWidgetBackground,listFilterWidgetOutline:w.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:w.listFilterWidgetNoMatchesOutline,listFilterWidgetShadow:w.listFilterWidgetShadow,treeIndentGuidesStroke:w.treeIndentGuidesStroke,tableColumnsBorder:w.tableColumnsBorder,tableOddRowsBackgroundColor:w.tableOddRowsBackgroundColor,inputActiveOptionBorder:w.inputActiveOptionBorder,inputActiveOptionForeground:w.inputActiveOptionForeground,inputActiveOptionBackground:w.inputActiveOptionBackground,inputBackground:w.inputBackground,inputForeground:w.inputForeground,inputBorder:w.inputBorder,inputValidationInfoBackground:w.inputValidationInfoBackground,inputValidationInfoForeground:w.inputValidationInfoForeground,inputValidationInfoBorder:w.inputValidationInfoBorder,inputValidationWarningBackground:w.inputValidationWarningBackground,inputValidationWarningForeground:w.inputValidationWarningForeground,inputValidationWarningBorder:w.inputValidationWarningBorder,inputValidationErrorBackground:w.inputValidationErrorBackground,inputValidationErrorForeground:w.inputValidationErrorForeground,inputValidationErrorBorder:w.inputValidationErrorBorder},e.defaultMenuStyles={shadowColor:w.widgetShadow,borderColor:w.menuBorder,foregroundColor:w.menuForeground,backgroundColor:w.menuBackground,selectionForegroundColor:w.menuSelectionForeground,selectionBackgroundColor:w.menuSelectionBackground,selectionBorderColor:w.menuSelectionBorder,separatorColor:w.menuSeparatorBackground,scrollbarShadow:w.scrollbarShadow,scrollbarSliderBackground:w.scrollbarSliderBackground,scrollbarSliderHoverBackground:w.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:w.scrollbarSliderActiveBackground};function _(b,u,g){return k(u,Object.assign(Object.assign({},e.defaultMenuStyles),g),b)}e.attachMenuStyler=_}),define(se[677],re([1,0,7,63,500,42,14,2,144]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class u{constructor(n,i,t,o,r){this.contextViewService=n,this.telemetryService=i,this.notificationService=t,this.keybindingService=o,this.themeService=r,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(n){this.options=n}showContextMenu(n){const i=n.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let t;const o=(0,w.isHTMLElement)(n.domForShadowRoot)?n.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>n.getAnchor(),canRelayout:!1,anchorAlignment:n.anchorAlignment,anchorAxisAlignment:n.anchorAxisAlignment,render:r=>{const c=n.getMenuClassName?n.getMenuClassName():"";c&&(r.className+=" "+c),this.options.blockMouse&&(this.block=r.appendChild((0,w.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,w.addDisposableListener)(this.block,w.EventType.MOUSE_DOWN,s=>s.stopPropagation()));const d=new _.DisposableStore,a=n.actionRunner||new I.ActionRunner;return a.onBeforeRun(this.onActionRun,this,d),a.onDidRun(this.onDidActionRun,this,d),t=new k.Menu(r,i,{actionViewItemProvider:n.getActionViewItem,context:n.getActionsContext?n.getActionsContext():null,actionRunner:a,getKeyBinding:n.getKeyBinding?n.getKeyBinding:s=>this.keybindingService.lookupKeybinding(s.id)}),d.add((0,b.attachMenuStyler)(t,this.themeService)),t.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,d),t.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,d),d.add((0,w.addDisposableListener)(window,w.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),d.add((0,w.addDisposableListener)(window,w.EventType.MOUSE_DOWN,s=>{if(s.defaultPrevented)return;const l=new v.StandardMouseEvent(s);let h=l.target;if(!l.rightButton){for(;h;){if(h===r)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),(0,_.combinedDisposable)(d,t)},focus:()=>{t==null||t.focus(!!n.autoSelectFirstItem)},onHide:r=>{var c,d;(c=n.onHide)===null||c===void 0||c.call(n,!!r),this.block&&(this.block.remove(),this.block=null),(d=this.focusToReturn)===null||d===void 0||d.focus()}},o,!!o)}onActionRun(n){var i;this.telemetryService.publicLog2("workbenchActionExecuted",{id:n.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),(i=this.focusToReturn)===null||i===void 0||i.focus()}onDidActionRun(n){n.error&&!(0,L.isCancellationError)(n.error)&&this.notificationService.error(n.error)}}e.ContextMenuHandler=u}),define(se[56],re([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var w;(function(I){I.DARK="dark",I.LIGHT="light",I.HIGH_CONTRAST_DARK="hcDark",I.HIGH_CONTRAST_LIGHT="hcLight"})(w=e.ColorScheme||(e.ColorScheme={}));function v(I){return I===w.HIGH_CONTRAST_DARK||I===w.HIGH_CONTRAST_LIGHT}e.isHighContrast=v;function k(I){return I===w.DARK||I===w.HIGH_CONTRAST_DARK}e.isDark=k}),define(se[300],re([1,0,41,33,18,407,127,132,115,56,38]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const n=function(){return k.isNative?!0:!(k.isLinux||w.isFirefox||w.isSafari)}();let i=!0;class t{constructor(S,f){this._domNode=S,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=f}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const S=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=S.left,this._clientRectScale=S.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}e.DomReadingContext=t;class o{constructor(S,f){this.themeType=f;const m=S.options,C=m.get(45);this.renderWhitespace=m.get(89),this.renderControlCharacters=m.get(84),this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.useMonospaceOptimizations=C.isMonospace&&!m.get(29),this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.lineHeight=m.get(60),this.stopRenderingLineAfter=m.get(107),this.fontLigatures=m.get(46)}equals(S){return this.themeType===S.themeType&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.spaceWidth===S.spaceWidth&&this.middotWidth===S.middotWidth&&this.wsmiddotWidth===S.wsmiddotWidth&&this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineHeight===S.lineHeight&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.fontLigatures===S.fontLigatures}}e.ViewLineOptions=o;class r{constructor(S){this._options=S,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(S){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,v.createFastDomNode)(S);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(S){this._isMaybeInvalid=!0,this._options=S}onSelectionChanged(){return(0,u.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(S,f,m,C){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const y=m.getViewLineRenderingData(S),E=this._options,T=_.LineDecoration.filter(y.inlineDecorations,S,y.minColumn,y.maxColumn);let N=null;if((0,u.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const D=m.selections;for(const M of D){if(M.endLineNumber<S||M.startLineNumber>S)continue;const R=M.startLineNumber===S?M.startColumn:y.minColumn,B=M.endLineNumber===S?M.endColumn:y.maxColumn;R<B&&((0,u.isHighContrast)(E.themeType)||this._options.renderWhitespace!=="selection"?T.push(new _.LineDecoration(R,B,"inline-selected-text",0)):(N||(N=[]),N.push(new b.LineRange(R-1,B-1))))}}const F=new b.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,y.content,y.continuesWithWrappedLine,y.isBasicASCII,y.containsRTL,y.minColumn-1,y.tokens,T,y.tabSize,y.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==g.EditorFontLigatures.OFF,N);if(this._renderedViewLine&&this._renderedViewLine.input.equals(F))return!1;C.appendASCIIString('<div style="top:'),C.appendASCIIString(String(f)),C.appendASCIIString("px;height:"),C.appendASCIIString(String(this._options.lineHeight)),C.appendASCIIString('px;" class="'),C.appendASCIIString(r.CLASS_NAME),C.appendASCIIString('">');const O=(0,b.renderViewLine)(F,C);C.appendASCIIString("</div>");let P=null;return i&&n&&y.isBasicASCII&&E.useMonospaceOptimizations&&O.containsForeignElements===0&&y.content.length<300&&F.lineTokens.getCount()<100&&(P=new c(this._renderedViewLine?this._renderedViewLine.domNode:null,F,O.characterMapping)),P||(P=s(this._renderedViewLine?this._renderedViewLine.domNode:null,F,O.characterMapping,O.containsRTL,O.containsForeignElements)),this._renderedViewLine=P,!0}layoutLine(S,f){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(f),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof c:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof c?this._renderedViewLine.monospaceAssumptionsAreValid():i}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof c&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(S,f,m,C){if(!this._renderedViewLine)return null;f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f)),m=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,m));const y=this._renderedViewLine.input.stopRenderingLineAfter;let E=!1;y!==-1&&f>y+1&&m>y+1&&(E=!0),y!==-1&&f>y+1&&(f=y+1),y!==-1&&m>y+1&&(m=y+1);const T=this._renderedViewLine.getVisibleRangesForRange(S,f,m,C);return T&&T.length>0?new L.VisibleRanges(E,T):null}getColumnOfNodeOffset(S,f,m){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(S,f,m):1}}e.ViewLine=r,r.CLASS_NAME="view-line";class c{constructor(S,f,m){this.domNode=S,this.input=f,this._characterMapping=m,this._charWidth=f.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return i;const S=this.getWidth(),f=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(S-f)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),i=!1),i}toSlowRenderedLine(){return s(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(S,f,m,C){const y=this._getCharPosition(f),E=this._getCharPosition(m);return[new L.FloatHorizontalRange(y,E-y)]}_getCharPosition(S){const f=this._characterMapping.getHorizontalOffset(S);return this._charWidth*f}getColumnOfNodeOffset(S,f,m){const C=f.textContent.length;let y=-1;for(;f;)f=f.previousSibling,y++;return this._characterMapping.getColumn(new b.DomPosition(y,m),C)}}class d{constructor(S,f,m,C,y){if(this.domNode=S,this.input=f,this._characterMapping=m,this._isWhitespaceOnly=/^\s*$/.test(f.lineContent),this._containsForeignElements=y,this._cachedWidth=-1,this._pixelOffsetCache=null,!C||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,T=this._characterMapping.length;E<=T;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(S){return S.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(S,f,m,C){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const y=this._readPixelOffset(this.domNode,S,f,C);if(y===-1)return null;const E=this._readPixelOffset(this.domNode,S,m,C);return E===-1?null:[new L.FloatHorizontalRange(y,E-y)]}return this._readVisibleRangesForRange(this.domNode,S,f,m,C)}_readVisibleRangesForRange(S,f,m,C,y){if(m===C){const E=this._readPixelOffset(S,f,m,y);return E===-1?null:[new L.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(S,m,C,y)}_readPixelOffset(S,f,m,C){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const y=this._getReadingTarget(S);return y.firstChild?y.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const y=this._pixelOffsetCache[m];if(y!==-1)return y;const E=this._actualReadPixelOffset(S,f,m,C);return this._pixelOffsetCache[m]=E,E}return this._actualReadPixelOffset(S,f,m,C)}_actualReadPixelOffset(S,f,m,C){if(this._characterMapping.length===0){const N=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),0,0,0,0,C.clientRectDeltaLeft,C.clientRectScale,C.endNode);return!N||N.length===0?-1:N[0].left}if(m===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const y=this._characterMapping.getDomPosition(m),E=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),y.partIndex,y.charIndex,y.partIndex,y.charIndex,C.clientRectDeltaLeft,C.clientRectScale,C.endNode);if(!E||E.length===0)return-1;const T=E[0].left;if(this.input.isBasicASCII){const N=this._characterMapping.getHorizontalOffset(m),F=Math.round(this.input.spaceWidth*N);if(Math.abs(F-T)<=1)return F}return T}_readRawVisibleRangesForRange(S,f,m,C){if(f===1&&m===this._characterMapping.length)return[new L.FloatHorizontalRange(0,this.getWidth())];const y=this._characterMapping.getDomPosition(f),E=this._characterMapping.getDomPosition(m);return I.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),y.partIndex,y.charIndex,E.partIndex,E.charIndex,C.clientRectDeltaLeft,C.clientRectScale,C.endNode)}getColumnOfNodeOffset(S,f,m){const C=f.textContent.length;let y=-1;for(;f;)f=f.previousSibling,y++;return this._characterMapping.getColumn(new b.DomPosition(y,m),C)}}class a extends d{_readVisibleRangesForRange(S,f,m,C,y){const E=super._readVisibleRangesForRange(S,f,m,C,y);if(!E||E.length===0||m===C||m===1&&C===this._characterMapping.length)return E;if(!this.input.containsRTL){const T=this._readPixelOffset(S,f,C,y);if(T!==-1){const N=E[E.length-1];N.left<T&&(N.width=T-N.left)}}return E}}const s=function(){return w.isWebKit?l:h}();function l(p,S,f,m,C){return new a(p,S,f,m,C)}function h(p,S,f,m,C){return new d(p,S,f,m,C)}}),define(se[301],re([1,0,143,47,300,11,3,67,7,237]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class g{constructor(m=null){this.hitTarget=m,this.type=0}}class n{constructor(m,C,y){this.position=m,this.spanNode=C,this.injectedText=y,this.type=1}}var i;(function(f){function m(C,y,E){const T=C.getPositionFromDOMInfo(y,E);return T?new n(T,y,null):new g(y)}f.createFromDOMInfo=m})(i||(i={}));class t{constructor(m,C){this.lastViewCursorsRenderData=m,this.lastTextareaPosition=C}}e.PointerHandlerLastRenderData=t;class o{static _deduceRage(m,C=null){return!C&&m?new L.Range(m.lineNumber,m.column,m.lineNumber,m.column):C??null}static createUnknown(m,C,y){return{type:0,element:m,mouseColumn:C,position:y,range:this._deduceRage(y)}}static createTextarea(m,C){return{type:1,element:m,mouseColumn:C,position:null,range:null}}static createMargin(m,C,y,E,T,N){return{type:m,element:C,mouseColumn:y,position:E,range:T,detail:N}}static createViewZone(m,C,y,E,T){return{type:m,element:C,mouseColumn:y,position:E,range:this._deduceRage(E),detail:T}}static createContentText(m,C,y,E,T){return{type:6,element:m,mouseColumn:C,position:y,range:this._deduceRage(y,E),detail:T}}static createContentEmpty(m,C,y,E){return{type:7,element:m,mouseColumn:C,position:y,range:this._deduceRage(y),detail:E}}static createContentWidget(m,C,y){return{type:9,element:m,mouseColumn:C,position:null,range:null,detail:y}}static createScrollbar(m,C,y){return{type:11,element:m,mouseColumn:C,position:y,range:this._deduceRage(y)}}static createOverlayWidget(m,C,y){return{type:12,element:m,mouseColumn:C,position:null,range:null,detail:y}}static createOutsideEditor(m,C){return{type:13,element:null,mouseColumn:m,position:C,range:this._deduceRage(C)}}static _typeToString(m){return m===1?"TEXTAREA":m===2?"GUTTER_GLYPH_MARGIN":m===3?"GUTTER_LINE_NUMBERS":m===4?"GUTTER_LINE_DECORATIONS":m===5?"GUTTER_VIEW_ZONE":m===6?"CONTENT_TEXT":m===7?"CONTENT_EMPTY":m===8?"CONTENT_VIEW_ZONE":m===9?"CONTENT_WIDGET":m===10?"OVERVIEW_RULER":m===11?"SCROLLBAR":m===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(m){return this._typeToString(m.type)+": "+m.position+" - "+m.range+" - "+JSON.stringify(m.detail)}}e.MouseTarget=o;class r{static isTextArea(m){return m.length===2&&m[0]===3&&m[1]===6}static isChildOfViewLines(m){return m.length>=4&&m[0]===3&&m[3]===7}static isStrictChildOfViewLines(m){return m.length>4&&m[0]===3&&m[3]===7}static isChildOfScrollableElement(m){return m.length>=2&&m[0]===3&&m[1]===5}static isChildOfMinimap(m){return m.length>=2&&m[0]===3&&m[1]===8}static isChildOfContentWidgets(m){return m.length>=4&&m[0]===3&&m[3]===1}static isChildOfOverflowingContentWidgets(m){return m.length>=1&&m[0]===2}static isChildOfOverlayWidgets(m){return m.length>=2&&m[0]===3&&m[1]===4}}class c{constructor(m,C,y){this.viewModel=m.viewModel;const E=m.configuration.options;this.layoutInfo=E.get(133),this.viewDomNode=C.viewDomNode,this.lineHeight=E.get(60),this.stickyTabStops=E.get(106),this.typicalHalfwidthCharacterWidth=E.get(45).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=m,this._viewHelper=C}getZoneAtCoord(m){return c.getZoneAtCoord(this._context,m)}static getZoneAtCoord(m,C){const y=m.viewLayout.getWhitespaceAtVerticalOffset(C);if(y){const E=y.verticalOffset+y.height/2,T=m.viewModel.getLineCount();let N=null,F,O=null;return y.afterLineNumber!==T&&(O=new I.Position(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(N=new I.Position(y.afterLineNumber,m.viewModel.getLineMaxColumn(y.afterLineNumber))),O===null?F=N:N===null?F=O:C<E?F=N:F=O,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:N,positionAfter:O,position:F}}return null}getFullLineRangeAtCoord(m){if(this._context.viewLayout.isAfterLines(m)){const E=this._context.viewModel.getLineCount(),T=this._context.viewModel.getLineMaxColumn(E);return{range:new L.Range(E,T,E,T),isAfterLines:!0}}const C=this._context.viewLayout.getLineNumberAtVerticalOffset(m),y=this._context.viewModel.getLineMaxColumn(C);return{range:new L.Range(C,1,C,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(m){return this._context.viewLayout.getLineNumberAtVerticalOffset(m)}isAfterLines(m){return this._context.viewLayout.isAfterLines(m)}isInTopPadding(m){return this._context.viewLayout.isInTopPadding(m)}isInBottomPadding(m){return this._context.viewLayout.isInBottomPadding(m)}getVerticalOffsetForLineNumber(m){return this._context.viewLayout.getVerticalOffsetForLineNumber(m)}findAttribute(m,C){return c._findAttribute(m,C,this._viewHelper.viewDomNode)}static _findAttribute(m,C,y){for(;m&&m!==document.body;){if(m.hasAttribute&&m.hasAttribute(C))return m.getAttribute(C);if(m===y)return null;m=m.parentNode}return null}getLineWidth(m){return this._viewHelper.getLineWidth(m)}visibleRangeForPosition(m,C){return this._viewHelper.visibleRangeForPosition(m,C)}getPositionFromDOMInfo(m,C){return this._viewHelper.getPositionFromDOMInfo(m,C)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=c;class d{constructor(m,C,y,E){this.editorPos=C,this.pos=y,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,m.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=m.getCurrentScrollLeft()+this.relativePos.x-m.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<m.layoutInfo.contentLeft&&this.relativePos.x>=m.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,h._getMouseColumn(this.mouseContentHorizontalOffset,m.typicalHalfwidthCharacterWidth))}}class a extends d{constructor(m,C,y,E,T){super(m,C,y,E);this._ctx=m,T?(this.target=T,this.targetPath=v.PartFingerprints.collect(T,m.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(m=null){return m&&m.column<this._ctx.viewModel.getLineMaxColumn(m.lineNumber)?_.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(m.lineNumber),m.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(m=null){return o.createUnknown(this.target,this._getMouseColumn(m),m)}fulfillTextarea(){return o.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(m,C,y,E){return o.createMargin(m,this.target,this._getMouseColumn(C),C,y,E)}fulfillViewZone(m,C,y){return o.createViewZone(m,this.target,this._getMouseColumn(C),C,y)}fulfillContentText(m,C,y){return o.createContentText(this.target,this._getMouseColumn(m),m,C,y)}fulfillContentEmpty(m,C){return o.createContentEmpty(this.target,this._getMouseColumn(m),m,C)}fulfillContentWidget(m){return o.createContentWidget(this.target,this._getMouseColumn(),m)}fulfillScrollbar(m){return o.createScrollbar(this.target,this._getMouseColumn(m),m)}fulfillOverlayWidget(m){return o.createOverlayWidget(this.target,this._getMouseColumn(),m)}withTarget(m){return new a(this._ctx,this.editorPos,this.pos,this.relativePos,m)}}const s={isAfterLines:!0};function l(f){return{isAfterLines:!1,horizontalDistanceToText:f}}class h{constructor(m,C){this._context=m,this._viewHelper=C}mouseTargetIsWidget(m){const C=m.target,y=v.PartFingerprints.collect(C,this._viewHelper.viewDomNode);return!!(r.isChildOfContentWidgets(y)||r.isChildOfOverflowingContentWidgets(y)||r.isChildOfOverlayWidgets(y))}createMouseTarget(m,C,y,E,T){const N=new c(this._context,this._viewHelper,m),F=new a(N,C,y,E,T);try{return h._createMouseTarget(N,F,!1)}catch{return F.fulfillUnknown()}}static _createMouseTarget(m,C,y){if(C.target===null){if(y)return C.fulfillUnknown();const N=h._doHitTest(m,C);return N.type===1?h.createMouseTargetFromHitTestPosition(m,C,N.spanNode,N.position,N.injectedText):this._createMouseTarget(m,C.withTarget(N.hitTarget),!0)}const E=C;let T=null;return T=T||h._hitTestContentWidget(m,E),T=T||h._hitTestOverlayWidget(m,E),T=T||h._hitTestMinimap(m,E),T=T||h._hitTestScrollbarSlider(m,E),T=T||h._hitTestViewZone(m,E),T=T||h._hitTestMargin(m,E),T=T||h._hitTestViewCursor(m,E),T=T||h._hitTestTextArea(m,E),T=T||h._hitTestViewLines(m,E,y),T=T||h._hitTestScrollbar(m,E),T||C.fulfillUnknown()}static _hitTestContentWidget(m,C){if(r.isChildOfContentWidgets(C.targetPath)||r.isChildOfOverflowingContentWidgets(C.targetPath)){const y=m.findAttribute(C.target,"widgetId");return y?C.fulfillContentWidget(y):C.fulfillUnknown()}return null}static _hitTestOverlayWidget(m,C){if(r.isChildOfOverlayWidgets(C.targetPath)){const y=m.findAttribute(C.target,"widgetId");return y?C.fulfillOverlayWidget(y):C.fulfillUnknown()}return null}static _hitTestViewCursor(m,C){if(C.target){const y=m.lastRenderData.lastViewCursorsRenderData;for(const E of y)if(C.target===E.domNode)return C.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(C.isInContentArea){const y=m.lastRenderData.lastViewCursorsRenderData,E=C.mouseContentHorizontalOffset,T=C.mouseVerticalOffset;for(const N of y){if(E<N.contentLeft||E>N.contentLeft+N.width)continue;const F=m.getVerticalOffsetForLineNumber(N.position.lineNumber);if(F<=T&&T<=F+N.height)return C.fulfillContentText(N.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(m,C){const y=m.getZoneAtCoord(C.mouseVerticalOffset);if(y){const E=C.isInContentArea?8:5;return C.fulfillViewZone(E,y.position,y)}return null}static _hitTestTextArea(m,C){return r.isTextArea(C.targetPath)?m.lastRenderData.lastTextareaPosition?C.fulfillContentText(m.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):C.fulfillTextarea():null}static _hitTestMargin(m,C){if(C.isInMarginArea){const y=m.getFullLineRangeAtCoord(C.mouseVerticalOffset),E=y.range.getStartPosition();let T=Math.abs(C.relativePos.x);const N={isAfterLines:y.isAfterLines,glyphMarginLeft:m.layoutInfo.glyphMarginLeft,glyphMarginWidth:m.layoutInfo.glyphMarginWidth,lineNumbersWidth:m.layoutInfo.lineNumbersWidth,offsetX:T};return T-=m.layoutInfo.glyphMarginLeft,T<=m.layoutInfo.glyphMarginWidth?C.fulfillMargin(2,E,y.range,N):(T-=m.layoutInfo.glyphMarginWidth,T<=m.layoutInfo.lineNumbersWidth?C.fulfillMargin(3,E,y.range,N):(T-=m.layoutInfo.lineNumbersWidth,C.fulfillMargin(4,E,y.range,N)))}return null}static _hitTestViewLines(m,C,y){if(!r.isChildOfViewLines(C.targetPath))return null;if(m.isInTopPadding(C.mouseVerticalOffset))return C.fulfillContentEmpty(new I.Position(1,1),s);if(m.isAfterLines(C.mouseVerticalOffset)||m.isInBottomPadding(C.mouseVerticalOffset)){const T=m.viewModel.getLineCount(),N=m.viewModel.getLineMaxColumn(T);return C.fulfillContentEmpty(new I.Position(T,N),s)}if(y){if(r.isStrictChildOfViewLines(C.targetPath)){const T=m.getLineNumberAtVerticalOffset(C.mouseVerticalOffset);if(m.viewModel.getLineLength(T)===0){const F=m.getLineWidth(T),O=l(C.mouseContentHorizontalOffset-F);return C.fulfillContentEmpty(new I.Position(T,1),O)}const N=m.getLineWidth(T);if(C.mouseContentHorizontalOffset>=N){const F=l(C.mouseContentHorizontalOffset-N),O=new I.Position(T,m.viewModel.getLineMaxColumn(T));return C.fulfillContentEmpty(O,F)}}return C.fulfillUnknown()}const E=h._doHitTest(m,C);return E.type===1?h.createMouseTargetFromHitTestPosition(m,C,E.spanNode,E.position,E.injectedText):this._createMouseTarget(m,C.withTarget(E.hitTarget),!0)}static _hitTestMinimap(m,C){if(r.isChildOfMinimap(C.targetPath)){const y=m.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),E=m.viewModel.getLineMaxColumn(y);return C.fulfillScrollbar(new I.Position(y,E))}return null}static _hitTestScrollbarSlider(m,C){if(r.isChildOfScrollableElement(C.targetPath)&&C.target&&C.target.nodeType===1){const y=C.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const E=m.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),T=m.viewModel.getLineMaxColumn(E);return C.fulfillScrollbar(new I.Position(E,T))}}return null}static _hitTestScrollbar(m,C){if(r.isChildOfScrollableElement(C.targetPath)){const y=m.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),E=m.viewModel.getLineMaxColumn(y);return C.fulfillScrollbar(new I.Position(y,E))}return null}getMouseColumn(m){const C=this._context.configuration.options,y=C.get(133),E=this._context.viewLayout.getCurrentScrollLeft()+m.x-y.contentLeft;return h._getMouseColumn(E,C.get(45).typicalHalfwidthCharacterWidth)}static _getMouseColumn(m,C){return m<0?1:Math.round(m/C)+1}static createMouseTargetFromHitTestPosition(m,C,y,E,T){const N=E.lineNumber,F=E.column,O=m.getLineWidth(N);if(C.mouseContentHorizontalOffset>O){const A=l(C.mouseContentHorizontalOffset-O);return C.fulfillContentEmpty(E,A)}const P=m.visibleRangeForPosition(N,F);if(!P)return C.fulfillUnknown(E);const D=P.left;if(C.mouseContentHorizontalOffset===D)return C.fulfillContentText(E,null,{mightBeForeignElement:!!T,injectedText:T});const M=[];if(M.push({offset:P.left,column:F}),F>1){const A=m.visibleRangeForPosition(N,F-1);A&&M.push({offset:A.left,column:F-1})}const R=m.viewModel.getLineMaxColumn(N);if(F<R){const A=m.visibleRangeForPosition(N,F+1);A&&M.push({offset:A.left,column:F+1})}M.sort((A,Y)=>A.offset-Y.offset);const B=C.pos.toClientCoordinates(),W=y.getBoundingClientRect(),V=W.left<=B.clientX&&B.clientX<=W.right;for(let A=1;A<M.length;A++){const Y=M[A-1],ee=M[A];if(Y.offset<=C.mouseContentHorizontalOffset&&C.mouseContentHorizontalOffset<=ee.offset){const U=new L.Range(N,Y.column,N,ee.column),j=Math.abs(Y.offset-C.mouseContentHorizontalOffset),Z=Math.abs(ee.offset-C.mouseContentHorizontalOffset),ie=j<Z?new I.Position(N,Y.column):new I.Position(N,ee.column);return C.fulfillContentText(ie,U,{mightBeForeignElement:!V||!!T,injectedText:T})}}return C.fulfillContentText(E,null,{mightBeForeignElement:!V||!!T,injectedText:T})}static _doHitTestWithCaretRangeFromPoint(m,C){const y=m.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),T=m.getVerticalOffsetForLineNumber(y)+Math.floor(m.lineHeight/2);let N=C.pos.y+(T-C.mouseVerticalOffset);N<=C.editorPos.y&&(N=C.editorPos.y+1),N>=C.editorPos.y+C.editorPos.height&&(N=C.editorPos.y+C.editorPos.height-1);const F=new w.PageCoordinates(C.pos.x,N),O=this._actualDoHitTestWithCaretRangeFromPoint(m,F.toClientCoordinates());return O.type===1?O:this._actualDoHitTestWithCaretRangeFromPoint(m,C.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(m,C){const y=b.getShadowRoot(m.viewDomNode);let E;if(y?typeof y.caretRangeFromPoint=="undefined"?E=p(y,C.clientX,C.clientY):E=y.caretRangeFromPoint(C.clientX,C.clientY):E=document.caretRangeFromPoint(C.clientX,C.clientY),!E||!E.startContainer)return new g;const T=E.startContainer;if(T.nodeType===T.TEXT_NODE){const N=T.parentNode,F=N?N.parentNode:null,O=F?F.parentNode:null;return(O&&O.nodeType===O.ELEMENT_NODE?O.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(m,N,E.startOffset):new g(T.parentNode)}else if(T.nodeType===T.ELEMENT_NODE){const N=T.parentNode,F=N?N.parentNode:null;return(F&&F.nodeType===F.ELEMENT_NODE?F.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(m,T,T.textContent.length):new g(T)}return new g}static _doHitTestWithCaretPositionFromPoint(m,C){const y=document.caretPositionFromPoint(C.clientX,C.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const E=y.offsetNode.parentNode,T=E?E.parentNode:null,N=T?T.parentNode:null;return(N&&N.nodeType===N.ELEMENT_NODE?N.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(m,y.offsetNode.parentNode,y.offset):new g(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const E=y.offsetNode.parentNode,T=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,N=E?E.parentNode:null,F=N&&N.nodeType===N.ELEMENT_NODE?N.className:null;if(T===k.ViewLine.CLASS_NAME){const O=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(O)return i.createFromDOMInfo(m,O,0)}else if(F===k.ViewLine.CLASS_NAME)return i.createFromDOMInfo(m,y.offsetNode,0)}return new g(y.offsetNode)}static _snapToSoftTabBoundary(m,C){const y=C.getLineContent(m.lineNumber),{tabSize:E}=C.model.getOptions(),T=u.AtomicTabMoveOperations.atomicPosition(y,m.column-1,E,2);return T!==-1?new I.Position(m.lineNumber,T+1):m}static _doHitTest(m,C){let y=new g;if(typeof document.caretRangeFromPoint=="function"?y=this._doHitTestWithCaretRangeFromPoint(m,C):document.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(m,C.pos.toClientCoordinates())),y.type===1){const E=m.viewModel.getInjectedTextAt(y.position),T=m.viewModel.normalizePosition(y.position,2);(E||!T.equals(y.position))&&(y=new n(T,y.spanNode,E))}return y.type===1&&m.stickyTabStops&&(y=new n(this._snapToSoftTabBoundary(y.position,m.viewModel),y.spanNode,y.injectedText)),y}}e.MouseTargetFactory=h;function p(f,m,C){const y=document.createRange();let E=f.elementFromPoint(m,C);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const T=E.getBoundingClientRect(),N=window.getComputedStyle(E,null).getPropertyValue("font"),F=E.innerText;let O=T.left,P=0,D;if(m>T.left+T.width)P=F.length;else{const M=S.getInstance();for(let R=0;R<F.length+1;R++){if(D=M.getCharWidth(F.charAt(R),N)/2,O+=D,m<O){P=R;break}O+=D}}y.setStart(E.firstChild,P),y.setEnd(E.firstChild,P)}return y}e.shadowCaretRangeFromPoint=p;class S{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return S._INSTANCE||(S._INSTANCE=new S),S._INSTANCE}getCharWidth(m,C){const y=m+C;if(this._cache[y])return this._cache[y];const E=this._canvas.getContext("2d");E.font=C;const N=E.measureText(m).width;return this._cache[y]=N,N}}S._INSTANCE=null}),define(se[678],re([1,0,7,63,10,2,18,301,143,165,11,23,131]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class t extends i.ViewEventHandler{constructor(d,a,s){super();this._mouseLeaveMonitor=null,this._context=d,this.viewController=a,this.viewHelper=s,this.mouseTargetFactory=new _.MouseTargetFactory(this._context,s),this._mouseDownOperation=this._register(new o(this._context,this.viewController,this.viewHelper,(S,f)=>this._createMouseTarget(S,f),S=>this._getMouseColumn(S))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const l=new b.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(l.onContextMenu(this.viewHelper.viewDomNode,S=>this._onContextMenu(S,!0))),this._register(l.onMouseMove(this.viewHelper.viewDomNode,S=>{this._onMouseMove(S),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=w.addDisposableListener(document,"mousemove",f=>{this.viewHelper.viewDomNode.contains(f.target)||this._onMouseLeave(new b.EditorMouseEvent(f,!1,this.viewHelper.viewDomNode))}))})),this._register(l.onMouseUp(this.viewHelper.viewDomNode,S=>this._onMouseUp(S))),this._register(l.onMouseLeave(this.viewHelper.viewDomNode,S=>this._onMouseLeave(S)));let h=0;this._register(l.onPointerDown(this.viewHelper.viewDomNode,(S,f)=>{h=f})),this._register(w.addDisposableListener(this.viewHelper.viewDomNode,w.EventType.POINTER_UP,S=>{this._mouseDownOperation.onPointerUp()})),this._register(l.onMouseDown(this.viewHelper.viewDomNode,S=>this._onMouseDown(S,h)));const p=S=>{if(this.viewController.emitMouseWheel(S),!this._context.configuration.options.get(69))return;const f=new v.StandardWheelEvent(S);if(L.isMacintosh?(S.metaKey||S.ctrlKey)&&!S.shiftKey&&!S.altKey:S.ctrlKey&&!S.metaKey&&!S.shiftKey&&!S.altKey){const C=u.EditorZoom.getZoomLevel(),y=f.deltaY>0?1:-1;u.EditorZoom.setZoomLevel(C+y),f.preventDefault(),f.stopPropagation()}};this._register(w.addDisposableListener(this.viewHelper.viewDomNode,w.EventType.MOUSE_WHEEL,p,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(d){if(d.hasChanged(133)){const a=this._context.configuration.options.get(133).height;this._height!==a&&(this._height=a,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(d){return this._mouseDownOperation.onCursorStateChanged(d),!1}onFocusChanged(d){return!1}onScrollChanged(d){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(d,a){const l=new b.ClientCoordinates(d,a).toPageCoordinates(),h=(0,b.createEditorPagePosition)(this.viewHelper.viewDomNode);if(l.y<h.y||l.y>h.y+h.height||l.x<h.x||l.x>h.x+h.width)return null;const p=(0,b.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,h,l);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),h,l,p,null)}_createMouseTarget(d,a){let s=d.target;if(!this.viewHelper.viewDomNode.contains(s)){const l=w.getShadowRoot(this.viewHelper.viewDomNode);l&&(s=l.elementsFromPoint(d.posx,d.posy).find(h=>this.viewHelper.viewDomNode.contains(h)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),d.editorPos,d.pos,d.relativePos,a?s:null)}_getMouseColumn(d){return this.mouseTargetFactory.getMouseColumn(d.relativePos)}_onContextMenu(d,a){this.viewController.emitContextMenu({event:d,target:this._createMouseTarget(d,a)})}_onMouseMove(d){this.mouseTargetFactory.mouseTargetIsWidget(d)||d.preventDefault(),!(this._mouseDownOperation.isActive()||d.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:d,target:this._createMouseTarget(d,!0)})}_onMouseLeave(d){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:d,target:null})}_onMouseUp(d){this.viewController.emitMouseUp({event:d,target:this._createMouseTarget(d,!0)})}_onMouseDown(d,a){const s=this._createMouseTarget(d,!0),l=s.type===6||s.type===7,h=s.type===2||s.type===3||s.type===4,p=s.type===3,S=this._context.configuration.options.get(99),f=s.type===8||s.type===5,m=s.type===9;let C=d.leftButton||d.middleButton;L.isMacintosh&&d.leftButton&&d.ctrlKey&&(C=!1);const y=()=>{d.preventDefault(),this.viewHelper.focusTextArea()};if(C&&(l||p&&S))y(),this._mouseDownOperation.start(s.type,d,a);else if(h)d.preventDefault();else if(f){const E=s.detail;C&&this.viewHelper.shouldSuppressMouseDownOnViewZone(E.viewZoneId)&&(y(),this._mouseDownOperation.start(s.type,d,a),d.preventDefault())}else m&&this.viewHelper.shouldSuppressMouseDownOnWidget(s.detail)&&(y(),d.preventDefault());this.viewController.emitMouseDown({event:d,target:s})}}e.MouseHandler=t;class o extends I.Disposable{constructor(d,a,s,l,h){super();this._context=d,this._viewController=a,this._viewHelper=s,this._createMouseTarget=l,this._getMouseColumn=h,this._mouseMoveMonitor=this._register(new b.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new k.TimeoutTimer),this._mouseState=new r,this._currentSelection=new n.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(d){this._lastMouseEvent=d,this._mouseState.setModifiers(d);const a=this._findMousePosition(d,!1);!a||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:d,target:a}):this._dispatchMouse(a,!0))}start(d,a,s){this._lastMouseEvent=a,this._mouseState.setStartedOnLineNumbers(d===3),this._mouseState.setStartButtons(a),this._mouseState.setModifiers(a);const l=this._findMousePosition(a,!0);if(!l||!l.position)return;this._mouseState.trySetCount(a.detail,l.position),a.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(82)&&h.get(31)&&!h.get(18)&&!this._mouseState.altKey&&a.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,s,a.buttons,p=>this._onMouseDownThenMove(p),p=>{const S=this._findMousePosition(this._lastMouseEvent,!1);p&&p instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:S?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,a.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,s,a.buttons,p=>this._onMouseDownThenMove(p),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const d=this._findMousePosition(this._lastMouseEvent,!1);!d||this._mouseState.isDragAndDrop||this._dispatchMouse(d,!0)},10)}onCursorStateChanged(d){this._currentSelection=d.selections[0]}_getPositionOutsideEditor(d){const a=d.editorPos,s=this._context.viewModel,l=this._context.viewLayout,h=this._getMouseColumn(d);if(d.posy<a.y){const S=Math.max(l.getCurrentScrollTop()-(a.y-d.posy),0),f=_.HitTestContext.getZoneAtCoord(this._context,S);if(f){const C=this._helpPositionJumpOverViewZone(f);if(C)return _.MouseTarget.createOutsideEditor(h,C)}const m=l.getLineNumberAtVerticalOffset(S);return _.MouseTarget.createOutsideEditor(h,new g.Position(m,1))}if(d.posy>a.y+a.height){const S=l.getCurrentScrollTop()+d.relativePos.y,f=_.HitTestContext.getZoneAtCoord(this._context,S);if(f){const C=this._helpPositionJumpOverViewZone(f);if(C)return _.MouseTarget.createOutsideEditor(h,C)}const m=l.getLineNumberAtVerticalOffset(S);return _.MouseTarget.createOutsideEditor(h,new g.Position(m,s.getLineMaxColumn(m)))}const p=l.getLineNumberAtVerticalOffset(l.getCurrentScrollTop()+d.relativePos.y);return d.posx<a.x?_.MouseTarget.createOutsideEditor(h,new g.Position(p,1)):d.posx>a.x+a.width?_.MouseTarget.createOutsideEditor(h,new g.Position(p,s.getLineMaxColumn(p))):null}_findMousePosition(d,a){const s=this._getPositionOutsideEditor(d);if(s)return s;const l=this._createMouseTarget(d,a);if(!l.position)return null;if(l.type===8||l.type===5){const p=this._helpPositionJumpOverViewZone(l.detail);if(p)return _.MouseTarget.createViewZone(l.type,l.element,l.mouseColumn,p,l.detail)}return l}_helpPositionJumpOverViewZone(d){const a=new g.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),s=d.positionBefore,l=d.positionAfter;return s&&l?s.isBefore(a)?s:l:null}_dispatchMouse(d,a){!d.position||this._viewController.dispatchMouse({position:d.position,mouseColumn:d.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:a,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:d.type===6&&d.detail.injectedText!==null})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(d){this._altKey=d.altKey,this._ctrlKey=d.ctrlKey,this._metaKey=d.metaKey,this._shiftKey=d.shiftKey}setStartButtons(d){this._leftButton=d.leftButton,this._middleButton=d.middleButton}setStartedOnLineNumbers(d){this._startedOnLineNumbers=d}trySetCount(d,a){const s=new Date().getTime();s-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(d=1),this._lastSetMouseDownCountTime=s,d>this._lastMouseDownCount+1&&(d=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(a)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=a,this._lastMouseDownCount=Math.min(d,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(se[679],re([1,0,7,18,64,2,678,143,195,204]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class g extends L.MouseHandler{constructor(o,r,c){super(o,r,c);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,a=>this.onTap(a))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,a=>this.onChange(a))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,a=>this._onContextMenu(new _.EditorMouseEvent(a,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",a=>{const s=a.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const d=new _.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(d.onPointerMove(this.viewHelper.viewDomNode,a=>this._onMouseMove(a))),this._register(d.onPointerUp(this.viewHelper.viewDomNode,a=>this._onMouseUp(a))),this._register(d.onPointerLeave(this.viewHelper.viewDomNode,a=>this._onMouseLeave(a))),this._register(d.onPointerDown(this.viewHelper.viewDomNode,(a,s)=>this._onMouseDown(a,s)))}onTap(o){if(!o.initialTarget||!this.viewHelper.linesContentDomNode.contains(o.initialTarget))return;o.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new _.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.dispatchMouse({position:r.position,mouseColumn:r.position.column,startedOnLineNumbers:!1,mouseDownCount:o.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:r.type===6&&r.detail.injectedText!==null})}onChange(o){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}_onMouseDown(o,r){o.browserEvent.pointerType!=="touch"&&super._onMouseDown(o,r)}}e.PointerEventHandler=g;class n extends L.MouseHandler{constructor(o,r,c){super(o,r,c);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,d=>this.onTap(d))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,d=>this.onChange(d))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,d=>this._onContextMenu(new _.EditorMouseEvent(d,!1,this.viewHelper.viewDomNode),!1)))}onTap(o){o.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new _.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);if(r.position){const c=document.createEvent("CustomEvent");c.initEvent(u.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(c),this.viewController.moveTo(r.position)}}onChange(o){this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}}class i extends I.Disposable{constructor(o,r,c){super();v.isIOS&&b.BrowserFeatures.pointerEvents?this.handler=this._register(new g(o,r,c)):window.TouchEvent?this.handler=this._register(new n(o,r,c)):this.handler=this._register(new L.MouseHandler(o,r,c))}getTargetAtClientPoint(o,r){return this.handler.getTargetAtClientPoint(o,r)}}e.PointerHandler=i}),define(se[680],re([1,0,18,10,66,205,47,300,11,3,127,151,363]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new u.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(d){this._currentVisibleRange=d}}class t{constructor(d,a,s,l,h,p,S){this.minimalReveal=d,this.lineNumber=a,this.startColumn=s,this.endColumn=l,this.startScrollTop=h,this.stopScrollTop=p,this.scrollType=S,this.type="range",this.minLineNumber=a,this.maxLineNumber=a}}class o{constructor(d,a,s,l,h){this.minimalReveal=d,this.selections=a,this.startScrollTop=s,this.stopScrollTop=l,this.scrollType=h,this.type="selections";let p=a[0].startLineNumber,S=a[0].endLineNumber;for(let f=1,m=a.length;f<m;f++){const C=a[f];p=Math.min(p,C.startLineNumber),S=Math.max(S,C.endLineNumber)}this.minLineNumber=p,this.maxLineNumber=S}}class r extends L.ViewPart{constructor(d,a){super(d);this._linesContent=a,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new I.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const s=this._context.configuration,l=this._context.configuration.options,h=l.get(45),p=l.get(134),S=l.get(133);this._lineHeight=l.get(60),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=p.isViewportWrapping,this._revealHorizontalRightPadding=l.get(90),this._horizontalScrollbarHeight=S.horizontalScrollbarHeight,this._cursorSurroundingLines=l.get(25),this._cursorSurroundingLinesStyle=l.get(26),this._canUseLayerHinting=!l.get(28),this._viewLineOptions=new _.ViewLineOptions(s,this._context.theme.type),L.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,k.applyFontInfo)(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new v.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new v.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=l.get(105).enabled,this._maxNumberStickyLines=l.get(105).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new _.ViewLine(this._viewLineOptions)}onConfigurationChanged(d){this._visibleLines.onConfigurationChanged(d),d.hasChanged(134)&&(this._maxLineWidth=0);const a=this._context.configuration.options,s=a.get(45),l=a.get(134),h=a.get(133);return this._lineHeight=a.get(60),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=a.get(90),this._horizontalScrollbarHeight=h.horizontalScrollbarHeight,this._cursorSurroundingLines=a.get(25),this._cursorSurroundingLinesStyle=a.get(26),this._canUseLayerHinting=!a.get(28),this._stickyScrollEnabled=a.get(105).enabled,this._maxNumberStickyLines=a.get(105).maxLineCount,(0,k.applyFontInfo)(this.domNode,s),this._onOptionsMaybeChanged(),d.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const d=this._context.configuration,a=new _.ViewLineOptions(d,this._context.theme.type);if(!this._viewLineOptions.equals(a)){this._viewLineOptions=a;const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=s;h<=l;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(d){const a=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();let l=!1;for(let h=a;h<=s;h++)l=this._visibleLines.getVisibleLine(h).onSelectionChanged()||l;return l}onDecorationsChanged(d){{const a=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let l=a;l<=s;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(d){const a=this._visibleLines.onFlushed(d);return this._maxLineWidth=0,a}onLinesChanged(d){return this._visibleLines.onLinesChanged(d)}onLinesDeleted(d){return this._visibleLines.onLinesDeleted(d)}onLinesInserted(d){return this._visibleLines.onLinesInserted(d)}onRevealRangeRequest(d){const a=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),d.source,d.minimalReveal,d.range,d.selections,d.verticalType);if(a===-1)return!1;let s=this._context.viewLayout.validateScrollPosition({scrollTop:a});d.revealHorizontal?d.range&&d.range.startLineNumber!==d.range.endLineNumber?s={scrollTop:s.scrollTop,scrollLeft:0}:d.range?this._horizontalRevealRequest=new t(d.minimalReveal,d.range.startLineNumber,d.range.startColumn,d.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),s.scrollTop,d.scrollType):d.selections&&d.selections.length>0&&(this._horizontalRevealRequest=new o(d.minimalReveal,d.selections,this._context.viewLayout.getCurrentScrollTop(),s.scrollTop,d.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-s.scrollTop)<=this._lineHeight?1:d.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(s,h),!0}onScrollChanged(d){if(this._horizontalRevealRequest&&d.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&d.scrollTopChanged){const a=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),s=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(d.scrollTop<a||d.scrollTop>s)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(d.scrollWidth),this._visibleLines.onScrollChanged(d)||!0}onTokensChanged(d){return this._visibleLines.onTokensChanged(d)}onZonesChanged(d){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(d)}onThemeChanged(d){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(d,a){const s=this._getViewLineDomNode(d);if(s===null)return null;const l=this._getLineNumberFor(s);if(l===-1||l<1||l>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(l)===1)return new b.Position(l,1);const h=this._visibleLines.getStartLineNumber(),p=this._visibleLines.getEndLineNumber();if(l<h||l>p)return null;let S=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(l,d,a);const f=this._context.viewModel.getLineMinColumn(l);return S<f&&(S=f),new b.Position(l,S)}_getViewLineDomNode(d){for(;d&&d.nodeType===1;){if(d.className===_.ViewLine.CLASS_NAME)return d;d=d.parentElement}return null}_getLineNumberFor(d){const a=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let l=a;l<=s;l++){const h=this._visibleLines.getVisibleLine(l);if(d===h.getDomNode())return l}return-1}getLineWidth(d){const a=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();return d<a||d>s?-1:this._visibleLines.getVisibleLine(d).getWidth()}linesVisibleRangesForRange(d,a){if(this.shouldRender())return null;const s=d.endLineNumber,l=u.Range.intersectRanges(d,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;const h=[];let p=0;const S=new _.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let f=0;a&&(f=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new b.Position(l.startLineNumber,1)).lineNumber);const m=this._visibleLines.getStartLineNumber(),C=this._visibleLines.getEndLineNumber();for(let y=l.startLineNumber;y<=l.endLineNumber;y++){if(y<m||y>C)continue;const E=y===l.startLineNumber?l.startColumn:1,T=y===l.endLineNumber?l.endColumn:this._context.viewModel.getLineMaxColumn(y),N=this._visibleLines.getVisibleLine(y).getVisibleRangesForRange(y,E,T,S);if(!!N){if(a&&y<s){const F=f;f=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new b.Position(y+1,1)).lineNumber,F!==f&&(N.ranges[N.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[p++]=new g.LineVisibleRanges(N.outsideRenderedLine,y,g.HorizontalRange.from(N.ranges))}}return p===0?null:h}_visibleRangesForLineRange(d,a,s){return this.shouldRender()||d<this._visibleLines.getStartLineNumber()||d>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,a,s,new _.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(d){const a=this._visibleRangesForLineRange(d.lineNumber,d.column,d.column);return a?new g.HorizontalPosition(a.outsideRenderedLine,a.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(d){const a=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();let l=1,h=!0;for(let p=a;p<=s;p++){const S=this._visibleLines.getVisibleLine(p);if(d&&!S.getWidthIsFast()){h=!1;continue}l=Math.max(l,S.getWidth())}return h&&a===1&&s===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),h}_checkMonospaceFontAssumptions(){let d=-1,a=-1;const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=s;h<=l;h++){const p=this._visibleLines.getVisibleLine(h);if(p.needsMonospaceFontCheck()){const S=p.getWidth();S>a&&(a=S,d=h)}}if(d!==-1&&!this._visibleLines.getVisibleLine(d).monospaceAssumptionsAreValid())for(let h=s;h<=l;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(d){if(this._visibleLines.renderLines(d),this._lastRenderedData.setCurrentVisibleRange(d.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const s=this._horizontalRevealRequest;if(d.startLineNumber<=s.minLineNumber&&s.maxLineNumber<=d.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(s);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:l.scrollLeft},s.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),w.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=s;h<=l;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const a=this._context.viewLayout.getCurrentScrollTop()-d.bigNumbersDelta;this._linesContent.setTop(-a),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(d){const a=Math.ceil(d);this._maxLineWidth<a&&(this._maxLineWidth=a,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(d,a,s,l,h,p){const S=d.top,f=d.height,m=S+f;let C,y,E;if(h&&h.length>0){let P=h[0].startLineNumber,D=h[0].endLineNumber;for(let M=1,R=h.length;M<R;M++){const B=h[M];P=Math.min(P,B.startLineNumber),D=Math.max(D,B.endLineNumber)}C=!1,y=this._context.viewLayout.getVerticalOffsetForLineNumber(P),E=this._context.viewLayout.getVerticalOffsetForLineNumber(D)+this._lineHeight}else if(l)C=!0,y=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),E=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;const T=(a==="mouse"||s)&&this._cursorSurroundingLinesStyle==="default";let N=0,F=0;if(T)s||(N=this._lineHeight);else{const P=Math.min(f/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?N=Math.max(P,this._maxNumberStickyLines)*this._lineHeight:N=P*this._lineHeight,F=Math.max(0,P-1)*this._lineHeight}(p===0||p===4)&&(F+=s?this._horizontalScrollbarHeight:this._lineHeight),y-=N,E+=F;let O;if(E-y>f){if(!C)return-1;O=y}else if(p===5||p===6)if(p===6&&S<=y&&E<=m)O=S;else{const P=Math.max(5*this._lineHeight,f*.2),D=y-P,M=E-f;O=Math.max(M,D)}else if(p===1||p===2)if(p===2&&S<=y&&E<=m)O=S;else{const P=(y+E)/2;O=Math.max(0,P-f/2)}else O=this._computeMinimumScrolling(S,m,y,E,p===3,p===4);return O}_computeScrollLeftToReveal(d){const a=this._context.viewLayout.getCurrentViewport(),s=this._context.configuration.options.get(133),l=a.left,h=l+a.width-s.verticalScrollbarWidth;let p=1073741824,S=0;if(d.type==="range"){const m=this._visibleRangesForLineRange(d.lineNumber,d.startColumn,d.endColumn);if(!m)return null;for(const C of m.ranges)p=Math.min(p,Math.round(C.left)),S=Math.max(S,Math.round(C.left+C.width))}else for(const m of d.selections){if(m.startLineNumber!==m.endLineNumber)return null;const C=this._visibleRangesForLineRange(m.startLineNumber,m.startColumn,m.endColumn);if(!C)return null;for(const y of C.ranges)p=Math.min(p,Math.round(y.left)),S=Math.max(S,Math.round(y.left+y.width))}return d.minimalReveal||(p=Math.max(0,p-r.HORIZONTAL_EXTRA_PX),S+=this._revealHorizontalRightPadding),d.type==="selections"&&S-p>a.width?null:{scrollLeft:this._computeMinimumScrolling(l,h,p,S),maxHorizontalOffset:S}}_computeMinimumScrolling(d,a,s,l,h,p){d=d|0,a=a|0,s=s|0,l=l|0,h=!!h,p=!!p;const S=a-d;if(l-s<S){if(h)return s;if(p)return Math.max(0,l-S);if(s<d)return s;if(l>a)return Math.max(0,l-S)}else return s;return d}}e.ViewLines=r,r.HORIZONTAL_EXTRA_PX=30}),define(se[15],re([1,0,27,6,2,9,34,56]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,I.createDecorator)("themeService");var b;(function(c){function d(a){return a&&typeof a=="object"&&typeof a.id=="string"}c.isThemeColor=d})(b=e.ThemeColor||(e.ThemeColor={}));function u(c){return{id:c}}e.themeColorFromId=u;var g;(function(c){function d(m){return m&&typeof m=="object"&&typeof m.id=="string"&&(typeof m.color=="undefined"||b.isThemeColor(m.color))}c.isThemeIcon=d;const a=new RegExp(`^\\$\\((${w.CSSIcon.iconNameExpression}(?:${w.CSSIcon.iconModifierExpression})?)\\)$`);function s(m){const C=a.exec(m);if(!C)return;const[,y]=C;return{id:y}}c.fromString=s;function l(m){return{id:m}}c.fromId=l;function h(m,C){let y=m.id;const E=y.lastIndexOf("~");return E!==-1&&(y=y.substring(0,E)),C&&(y=`${y}~${C}`),{id:y}}c.modify=h;function p(m){const C=m.id.lastIndexOf("~");if(C!==-1)return m.id.substring(C+1)}c.getModifier=p;function S(m,C){var y,E;return m.id===C.id&&((y=m.color)===null||y===void 0?void 0:y.id)===((E=C.color)===null||E===void 0?void 0:E.id)}c.isEqual=S;function f(m,C){return{id:m.id,color:C?u(C):void 0}}c.asThemeIcon=f,c.asClassNameArray=w.CSSIcon.asClassNameArray,c.asClassName=w.CSSIcon.asClassName,c.asCSSSelector=w.CSSIcon.asCSSSelector})(g=e.ThemeIcon||(e.ThemeIcon={}));function n(c){switch(c){case _.ColorScheme.DARK:return"vs-dark";case _.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case _.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=n,e.Extensions={ThemingContribution:"base.contributions.theming"};class i{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new v.Emitter}onColorThemeChange(d){return this.themingParticipants.push(d),this.onThemingParticipantAddedEmitter.fire(d),(0,k.toDisposable)(()=>{const a=this.themingParticipants.indexOf(d);this.themingParticipants.splice(a,1)})}getThemingParticipants(){return this.themingParticipants}}const t=new i;L.Registry.add(e.Extensions.ThemingContribution,t);function o(c){return t.onColorThemeChange(c)}e.registerThemingParticipant=o;class r extends k.Disposable{constructor(d){super();this.themeService=d,this.theme=d.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(a=>this.onThemeChange(a)))}onThemeChange(d){this.theme=d,this.updateStyles()}updateStyles(){}}e.Themable=r}),define(se[681],re([1,0,6,2,73,15]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let L=class extends v.Disposable{constructor(u){super();this._themeService=u,this._onCodeEditorAdd=this._register(new w.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new w.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new w.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new w.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new k.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(u){this._codeEditors[u.getId()]=u,this._onCodeEditorAdd.fire(u)}removeCodeEditor(u){delete this._codeEditors[u.getId()]&&this._onCodeEditorRemove.fire(u)}listCodeEditors(){return Object.keys(this._codeEditors).map(u=>this._codeEditors[u])}addDiffEditor(u){this._diffEditors[u.getId()]=u,this._onDiffEditorAdd.fire(u)}removeDiffEditor(u){delete this._diffEditors[u.getId()]&&this._onDiffEditorRemove.fire(u)}listDiffEditors(){return Object.keys(this._diffEditors).map(u=>this._diffEditors[u])}getFocusedCodeEditor(){let u=null;const g=this.listCodeEditors();for(const n of g){if(n.hasTextFocus())return n;n.hasWidgetFocus()&&(u=n)}return u}removeDecorationType(u){const g=this._decorationOptionProviders.get(u);g&&(g.refCount--,g.refCount<=0&&(this._decorationOptionProviders.delete(u),g.dispose(),this.listCodeEditors().forEach(n=>n.removeDecorationsByType(u))))}setModelProperty(u,g,n){const i=u.toString();let t;this._modelProperties.has(i)?t=this._modelProperties.get(i):(t=new Map,this._modelProperties.set(i,t)),t.set(g,n)}getModelProperty(u,g){const n=u.toString();if(this._modelProperties.has(n))return this._modelProperties.get(n).get(g)}openCodeEditor(u,g,n){return Se(this,void 0,void 0,function*(){for(const i of this._codeEditorOpenHandlers){const t=yield i(u,g,n);if(t!==null)return t}return null})}registerCodeEditorOpenHandler(u){const g=this._codeEditorOpenHandlers.unshift(u);return(0,v.toDisposable)(g)}};L=ke([fe(0,I.IThemeService)],L),e.AbstractCodeEditorService=L;class _{constructor(u){this._styleSheet=u}}e.GlobalStyleSheet=_}),define(se[682],re([1,0,7,33,76,47,15,25]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class b extends I.ViewPart{constructor(g,n,i,t){super(g);const o=this._context.configuration.options,r=o.get(93),c=o.get(68),d=o.get(35),a=o.get(96),s={listenOnDomNode:i.domNode,className:"editor-scrollable "+(0,L.getThemeTypeSelector)(g.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:c,fastScrollSensitivity:d,scrollPredominantAxis:a,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new k.SmoothScrollableElement(n.domNode,s,this._context.viewLayout.getScrollable())),I.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,v.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const l=(h,p,S)=>{const f={};if(p){const m=h.scrollTop;m&&(f.scrollTop=this._context.viewLayout.getCurrentScrollTop()+m,h.scrollTop=0)}if(S){const m=h.scrollLeft;m&&(f.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+m,h.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(f,1)};this._register(w.addDisposableListener(i.domNode,"scroll",h=>l(i.domNode,!0,!0))),this._register(w.addDisposableListener(n.domNode,"scroll",h=>l(n.domNode,!0,!1))),this._register(w.addDisposableListener(t.domNode,"scroll",h=>l(t.domNode,!0,!1))),this._register(w.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",h=>l(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const g=this._context.configuration.options,n=g.get(133);this.scrollbarDomNode.setLeft(n.contentLeft),g.get(66).side==="right"?this.scrollbarDomNode.setWidth(n.contentWidth+n.minimap.minimapWidth):this.scrollbarDomNode.setWidth(n.contentWidth),this.scrollbarDomNode.setHeight(n.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(g){this.scrollbar.delegateVerticalScrollbarPointerDown(g)}onConfigurationChanged(g){if(g.hasChanged(93)||g.hasChanged(68)||g.hasChanged(35)){const n=this._context.configuration.options,i=n.get(93),t=n.get(68),o=n.get(35),r=n.get(96),c={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:t,fastScrollSensitivity:o,scrollPredominantAxis:r};this.scrollbar.updateOptions(c)}return g.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(g){return!0}onThemeChanged(g){return this.scrollbar.updateClassName("editor-scrollable "+(0,L.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(g){}render(g){this.scrollbar.renderNow()}}e.EditorScrollbar=b,(0,L.registerThemingParticipant)((u,g)=>{const n=u.getColor(_.scrollbarShadow);n&&g.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${n} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${n} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${n} 6px 6px 6px -6px inset;
			}
		`);const i=u.getColor(_.scrollbarSliderBackground);i&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);const t=u.getColor(_.scrollbarSliderHoverBackground);t&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${t};
			}
		`);const o=u.getColor(_.scrollbarSliderActiveBackground);o&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${o};
			}
		`)})}),define(se[683],re([1,0,7,33,134,2,18,8,205,47,38,3,236,279,74,25,15,23,64,410,46,98,366]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const p=140,S=2;class f{constructor(D,M,R){const B=D.options,W=B.get(131),V=B.get(133),A=V.minimap,Y=B.get(45),ee=B.get(66);this.renderMinimap=A.renderMinimap,this.size=ee.size,this.minimapHeightIsEditorHeight=A.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=B.get(95),this.showSlider=ee.showSlider,this.autohide=ee.autohide,this.pixelRatio=W,this.typicalHalfwidthCharacterWidth=Y.typicalHalfwidthCharacterWidth,this.lineHeight=B.get(60),this.minimapLeft=A.minimapLeft,this.minimapWidth=A.minimapWidth,this.minimapHeight=V.height,this.canvasInnerWidth=A.minimapCanvasInnerWidth,this.canvasInnerHeight=A.minimapCanvasInnerHeight,this.canvasOuterWidth=A.minimapCanvasOuterWidth,this.canvasOuterHeight=A.minimapCanvasOuterHeight,this.isSampling=A.minimapIsSampling,this.editorHeight=V.height,this.fontScale=A.minimapScale,this.minimapLineHeight=A.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,h.once)(()=>s.MinimapCharRendererFactory.create(this.fontScale,Y.fontFamily)),this.defaultBackgroundColor=R.getColor(2),this.backgroundColor=f._getMinimapBackground(M,this.defaultBackgroundColor),this.foregroundAlpha=f._getMinimapForegroundOpacity(M)}static _getMinimapBackground(D,M){const R=D.getColor(r.minimapBackground);return R?new i.RGBA8(R.rgba.r,R.rgba.g,R.rgba.b,Math.round(255*R.rgba.a)):M}static _getMinimapForegroundOpacity(D){const M=D.getColor(r.minimapForegroundOpacity);return M?i.RGBA8._clamp(Math.round(255*M.rgba.a)):255}equals(D){return this.renderMinimap===D.renderMinimap&&this.size===D.size&&this.minimapHeightIsEditorHeight===D.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===D.scrollBeyondLastLine&&this.showSlider===D.showSlider&&this.autohide===D.autohide&&this.pixelRatio===D.pixelRatio&&this.typicalHalfwidthCharacterWidth===D.typicalHalfwidthCharacterWidth&&this.lineHeight===D.lineHeight&&this.minimapLeft===D.minimapLeft&&this.minimapWidth===D.minimapWidth&&this.minimapHeight===D.minimapHeight&&this.canvasInnerWidth===D.canvasInnerWidth&&this.canvasInnerHeight===D.canvasInnerHeight&&this.canvasOuterWidth===D.canvasOuterWidth&&this.canvasOuterHeight===D.canvasOuterHeight&&this.isSampling===D.isSampling&&this.editorHeight===D.editorHeight&&this.fontScale===D.fontScale&&this.minimapLineHeight===D.minimapLineHeight&&this.minimapCharWidth===D.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(D.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(D.backgroundColor)&&this.foregroundAlpha===D.foregroundAlpha}}class m{constructor(D,M,R,B,W,V,A,Y){this.scrollTop=D,this.scrollHeight=M,this.sliderNeeded=R,this._computedSliderRatio=B,this.sliderTop=W,this.sliderHeight=V,this.startLineNumber=A,this.endLineNumber=Y}getDesiredScrollTopFromDelta(D){return Math.round(this.scrollTop+D/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(D){return Math.round((D-this.sliderHeight/2)/this._computedSliderRatio)}static create(D,M,R,B,W,V,A,Y,ee,U,j){const Z=D.pixelRatio,ie=D.minimapLineHeight,Q=Math.floor(D.canvasInnerHeight/ie),J=D.lineHeight;if(D.minimapHeightIsEditorHeight){const oe=Y*D.lineHeight+(D.scrollBeyondLastLine?W-D.lineHeight:0),z=Math.max(1,Math.floor(W*W/oe)),X=Math.max(0,D.minimapHeight-z),$=X/(U-W),H=ee*$,K=X>0,ce=Math.floor(D.canvasInnerHeight/D.minimapLineHeight);return new m(ee,U,K,$,H,z,1,Math.min(A,ce))}let de;if(V&&R!==A){const oe=R-M+1;de=Math.floor(oe*ie/Z)}else{const oe=W/J;de=Math.floor(oe*ie/Z)}let x;D.scrollBeyondLastLine?x=(A-1)*ie/Z:x=Math.max(0,A*ie/Z-de),x=Math.min(D.minimapHeight-de,x);const ne=x/(U-W),te=ee*ne;let q=0;if(D.scrollBeyondLastLine&&(q=W/J-1),Q>=A+q){const oe=1,z=A,X=x>0;return new m(ee,U,X,ne,te,de,oe,z)}else{let oe=Math.max(1,Math.floor(M-te*Z/ie));j&&j.scrollHeight===U&&(j.scrollTop>ee&&(oe=Math.min(oe,j.startLineNumber)),j.scrollTop<ee&&(oe=Math.max(oe,j.startLineNumber)));const z=Math.min(A,oe+Q-1),X=(ee-B)/J,$=(M-oe+X)*ie/Z;return new m(ee,U,!0,ne,$,de,oe,z)}}}class C{constructor(D){this.dy=D}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}C.INVALID=new C(-1);class y{constructor(D,M,R){this.renderedLayout=D,this._imageData=M,this._renderedLines=new b.RenderedLinesCollection(()=>C.INVALID),this._renderedLines._set(D.startLineNumber,R)}linesEquals(D){if(!this.scrollEquals(D))return!1;const R=this._renderedLines._get().lines;for(let B=0,W=R.length;B<W;B++)if(R[B].dy===-1)return!1;return!0}scrollEquals(D){return this.renderedLayout.startLineNumber===D.startLineNumber&&this.renderedLayout.endLineNumber===D.endLineNumber}_get(){const D=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:D.rendLineNumberStart,lines:D.lines}}onLinesChanged(D,M){return this._renderedLines.onLinesChanged(D,M)}onLinesDeleted(D,M){this._renderedLines.onLinesDeleted(D,M)}onLinesInserted(D,M){this._renderedLines.onLinesInserted(D,M)}onTokensChanged(D){return this._renderedLines.onTokensChanged(D)}}class E{constructor(D,M,R,B){this._backgroundFillData=E._createBackgroundFillData(M,R,B),this._buffers=[D.createImageData(M,R),D.createImageData(M,R)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const D=this._buffers[this._lastUsedBuffer];return D.data.set(this._backgroundFillData),D}static _createBackgroundFillData(D,M,R){const B=R.r,W=R.g,V=R.b,A=R.a,Y=new Uint8ClampedArray(D*M*4);let ee=0;for(let U=0;U<M;U++)for(let j=0;j<D;j++)Y[ee]=B,Y[ee+1]=W,Y[ee+2]=V,Y[ee+3]=A,ee+=4;return Y}}class T{constructor(D,M){this.samplingRatio=D,this.minimapLines=M}static compute(D,M,R){if(D.renderMinimap===0||!D.isSampling)return[null,[]];const B=D.pixelRatio,W=D.lineHeight,V=D.scrollBeyondLastLine,{minimapLineCount:A}=g.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:M,scrollBeyondLastLine:V,height:D.editorHeight,lineHeight:W,pixelRatio:B}),Y=M/A,ee=Y/2;if(!R||R.minimapLines.length===0){const te=[];if(te[0]=1,A>1){for(let q=0,oe=A-1;q<oe;q++)te[q]=Math.round(q*Y+ee);te[A-1]=M}return[new T(Y,te),[]]}const U=R.minimapLines,j=U.length,Z=[];let ie=0,Q=0,J=1;const de=10;let x=[],ne=null;for(let te=0;te<A;te++){const q=Math.max(J,Math.round(te*Y)),oe=Math.max(q,Math.round((te+1)*Y));for(;ie<j&&U[ie]<q;){if(x.length<de){const X=ie+1+Q;ne&&ne.type==="deleted"&&ne._oldIndex===ie-1?ne.deleteToLineNumber++:(ne={type:"deleted",_oldIndex:ie,deleteFromLineNumber:X,deleteToLineNumber:X},x.push(ne)),Q--}ie++}let z;if(ie<j&&U[ie]<=oe)z=U[ie],ie++;else if(te===0?z=1:te+1===A?z=M:z=Math.round(te*Y+ee),x.length<de){const X=ie+1+Q;ne&&ne.type==="inserted"&&ne._i===te-1?ne.insertToLineNumber++:(ne={type:"inserted",_i:te,insertFromLineNumber:X,insertToLineNumber:X},x.push(ne)),Q++}Z[te]=z,J=z}if(x.length<de)for(;ie<j;){const te=ie+1+Q;ne&&ne.type==="deleted"&&ne._oldIndex===ie-1?ne.deleteToLineNumber++:(ne={type:"deleted",_oldIndex:ie,deleteFromLineNumber:te,deleteToLineNumber:te},x.push(ne)),Q--,ie++}else x=[{type:"flush"}];return[new T(Y,Z),x]}modelLineToMinimapLine(D){return Math.min(this.minimapLines.length,Math.max(1,Math.round(D/this.samplingRatio)))}modelLineRangeToMinimapLineRange(D,M){let R=this.modelLineToMinimapLine(D)-1;for(;R>0&&this.minimapLines[R-1]>=D;)R--;let B=this.modelLineToMinimapLine(M)-1;for(;B+1<this.minimapLines.length&&this.minimapLines[B+1]<=M;)B++;if(R===B){const W=this.minimapLines[R];if(W<D||W>M)return null}return[R+1,B+1]}decorationLineRangeToMinimapLineRange(D,M){let R=this.modelLineToMinimapLine(D),B=this.modelLineToMinimapLine(M);return D!==M&&B===R&&(B===this.minimapLines.length?R>1&&R--:B++),[R,B]}onLinesDeleted(D){const M=D.toLineNumber-D.fromLineNumber+1;let R=this.minimapLines.length,B=0;for(let W=this.minimapLines.length-1;W>=0&&!(this.minimapLines[W]<D.fromLineNumber);W--)this.minimapLines[W]<=D.toLineNumber?(this.minimapLines[W]=Math.max(1,D.fromLineNumber-1),R=Math.min(R,W),B=Math.max(B,W)):this.minimapLines[W]-=M;return[R,B]}onLinesInserted(D){const M=D.toLineNumber-D.fromLineNumber+1;for(let R=this.minimapLines.length-1;R>=0&&!(this.minimapLines[R]<D.fromLineNumber);R--)this.minimapLines[R]+=M}}class N extends u.ViewPart{constructor(D){super(D);this.tokensColorTracker=t.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new f(this._context.configuration,this._context.theme,this.tokensColorTracker);const[M]=T.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=M,this._shouldCheckSampling=!1,this._actual=new F(D.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const D=new f(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(D)?!1:(this.options=D,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(D){return this._onOptionsMaybeChanged()}onCursorStateChanged(D){return this._selections=D.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(D){return D.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(D){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(D){if(this._samplingState){const M=this._samplingState.modelLineRangeToMinimapLineRange(D.fromLineNumber,D.fromLineNumber+D.count-1);return M?this._actual.onLinesChanged(M[0],M[1]-M[0]+1):!1}else return this._actual.onLinesChanged(D.fromLineNumber,D.count)}onLinesDeleted(D){if(this._samplingState){const[M,R]=this._samplingState.onLinesDeleted(D);return M<=R&&this._actual.onLinesChanged(M+1,R-M+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(D.fromLineNumber,D.toLineNumber)}onLinesInserted(D){return this._samplingState?(this._samplingState.onLinesInserted(D),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(D.fromLineNumber,D.toLineNumber)}onScrollChanged(D){return this._actual.onScrollChanged()}onThemeChanged(D){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(D){if(this._samplingState){const M=[];for(const R of D.ranges){const B=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);B&&M.push({fromLineNumber:B[0],toLineNumber:B[1]})}return M.length?this._actual.onTokensChanged(M):!1}else return this._actual.onTokensChanged(D.ranges)}onTokensColorsChanged(D){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(D){return this._actual.onZonesChanged()}prepareRender(D){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(D){let M=D.visibleRange.startLineNumber,R=D.visibleRange.endLineNumber;this._samplingState&&(M=this._samplingState.modelLineToMinimapLine(M),R=this._samplingState.modelLineToMinimapLine(R));const B={viewportContainsWhitespaceGaps:D.viewportData.whitespaceViewportData.length>0,scrollWidth:D.scrollWidth,scrollHeight:D.scrollHeight,viewportStartLineNumber:M,viewportEndLineNumber:R,viewportStartLineNumberVerticalOffset:D.getVerticalOffsetForLineNumber(M),scrollTop:D.scrollTop,scrollLeft:D.scrollLeft,viewportWidth:D.viewportWidth,viewportHeight:D.viewportHeight};this._actual.render(B)}_recreateLineSampling(){this._minimapSelections=null;const D=Boolean(this._samplingState),[M,R]=T.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=M,D&&this._samplingState)for(const B of R)switch(B.type){case"deleted":this._actual.onLinesDeleted(B.deleteFromLineNumber,B.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(B.insertFromLineNumber,B.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(D){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[D-1]):this._context.viewModel.getLineContent(D)}getLineMaxColumn(D){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[D-1]):this._context.viewModel.getLineMaxColumn(D)}getMinimapLinesRenderingData(D,M,R){if(this._samplingState){const B=[];for(let W=0,V=M-D+1;W<V;W++)R[W]?B[W]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[D+W-1]):B[W]=null;return B}return this._context.viewModel.getMinimapLinesRenderingData(D,M,R).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const D of this._selections){const[M,R]=this._samplingState.decorationLineRangeToMinimapLineRange(D.startLineNumber,D.endLineNumber);this._minimapSelections.push(new d.Selection(M,D.startColumn,R,D.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(D,M){let R;if(this._samplingState){const W=this._samplingState.minimapLines[D-1],V=this._samplingState.minimapLines[M-1];R=new n.Range(W,1,V,this._context.viewModel.getLineMaxColumn(V))}else R=new n.Range(D,1,M,this._context.viewModel.getLineMaxColumn(M));const B=this._context.viewModel.getDecorationsInViewport(R,!0);if(this._samplingState){const W=[];for(const V of B){if(!V.options.minimap)continue;const A=V.range,Y=this._samplingState.modelLineToMinimapLine(A.startLineNumber),ee=this._samplingState.modelLineToMinimapLine(A.endLineNumber);W.push(new o.ViewModelDecoration(new n.Range(Y,A.startColumn,ee,A.endColumn),V.options))}return W}return B}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(D){this._samplingState&&(D=this._samplingState.minimapLines[D-1]),this._context.viewModel.revealRange("mouse",!1,new n.Range(D,1,D,1),1,0)}setScrollTop(D){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:D},1)}}e.Minimap=N;class F extends I.Disposable{constructor(D,M){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=D,this._model=M,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(r.minimapSelection),this._domNode=(0,v.createFastDomNode)(document.createElement("div")),u.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,v.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,v.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,v.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,v.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,v.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=w.addStandardDisposableListener(this._domNode.domNode,w.EventType.POINTER_DOWN,R=>{if(R.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(R.button===0&&this._lastRenderData){const ee=w.getDomNodePagePosition(this._slider.domNode),U=ee.top+ee.height/2;this._startSliderDragging(R,U,this._lastRenderData.renderedLayout)}return}const W=this._model.options.minimapLineHeight,V=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*R.offsetY;let Y=Math.floor(V/W)+this._lastRenderData.renderedLayout.startLineNumber;Y=Math.min(Y,this._model.getLineCount()),this._model.revealLineNumber(Y)}),this._sliderPointerMoveMonitor=new k.GlobalPointerMoveMonitor,this._sliderPointerDownListener=w.addStandardDisposableListener(this._slider.domNode,w.EventType.POINTER_DOWN,R=>{R.preventDefault(),R.stopPropagation(),R.button===0&&this._lastRenderData&&this._startSliderDragging(R,R.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=a.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=w.addDisposableListener(this._domNode.domNode,a.EventType.Start,R=>{R.preventDefault(),R.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(R))},{passive:!1}),this._sliderTouchMoveListener=w.addDisposableListener(this._domNode.domNode,a.EventType.Change,R=>{R.preventDefault(),R.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(R)},{passive:!1}),this._sliderTouchEndListener=w.addStandardDisposableListener(this._domNode.domNode,a.EventType.End,R=>{R.preventDefault(),R.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(D,M,R){if(!D.target||!(D.target instanceof Element))return;const B=D.pageX;this._slider.toggleClassName("active",!0);const W=(V,A)=>{const Y=Math.abs(A-B);if(L.isWindows&&Y>p){this._model.setScrollTop(R.scrollTop);return}const ee=V-M;this._model.setScrollTop(R.getDesiredScrollTopFromDelta(ee))};D.pageY!==M&&W(D.pageY,B),this._sliderPointerMoveMonitor.startMonitoring(D.target,D.pointerId,D.buttons,V=>W(V.pageY,V.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(D){const M=this._domNode.domNode.getBoundingClientRect().top,R=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(D.pageY-M);this._model.setScrollTop(R)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const D=["minimap"];return this._model.options.showSlider==="always"?D.push("slider-always"):D.push("slider-mouseover"),this._model.options.autohide&&D.push("autohide"),D.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(D,M){return this._lastRenderData?this._lastRenderData.onLinesChanged(D,M):!1}onLinesDeleted(D,M){var R;return(R=this._lastRenderData)===null||R===void 0||R.onLinesDeleted(D,M),!0}onLinesInserted(D,M){var R;return(R=this._lastRenderData)===null||R===void 0||R.onLinesInserted(D,M),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(r.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(D){return this._lastRenderData?this._lastRenderData.onTokensChanged(D):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(D){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}D.scrollLeft+D.viewportWidth>=D.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const R=m.create(this._model.options,D.viewportStartLineNumber,D.viewportEndLineNumber,D.viewportStartLineNumberVerticalOffset,D.viewportHeight,D.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),D.scrollTop,D.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(R.sliderNeeded?"block":"none"),this._slider.setTop(R.sliderTop),this._slider.setHeight(R.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(R.sliderHeight),this.renderDecorations(R),this._lastRenderData=this.renderLines(R)}renderDecorations(D){if(this._renderDecorations){this._renderDecorations=!1;const M=this._model.getSelections();M.sort(n.Range.compareRangesUsingStarts);const R=this._model.getMinimapDecorationsInViewport(D.startLineNumber,D.endLineNumber);R.sort((Z,ie)=>(Z.options.zIndex||0)-(ie.options.zIndex||0));const{canvasInnerWidth:B,canvasInnerHeight:W}=this._model.options,V=this._model.options.minimapLineHeight,A=this._model.options.minimapCharWidth,Y=this._model.getOptions().tabSize,ee=this._decorationsCanvas.domNode.getContext("2d");ee.clearRect(0,0,B,W);const U=new O(D.startLineNumber,D.endLineNumber,!1);this._renderSelectionLineHighlights(ee,M,U,D,V),this._renderDecorationsLineHighlights(ee,R,U,D,V);const j=new O(D.startLineNumber,D.endLineNumber,null);this._renderSelectionsHighlights(ee,M,j,D,V,Y,A,B),this._renderDecorationsHighlights(ee,R,j,D,V,Y,A,B)}}_renderSelectionLineHighlights(D,M,R,B,W){if(!this._selectionColor||this._selectionColor.isTransparent())return;D.fillStyle=this._selectionColor.transparent(.5).toString();let V=0,A=0;for(const Y of M){const ee=Math.max(B.startLineNumber,Y.startLineNumber),U=Math.min(B.endLineNumber,Y.endLineNumber);if(ee>U)continue;for(let ie=ee;ie<=U;ie++)R.set(ie,!0);const j=(ee-B.startLineNumber)*W,Z=(U-B.startLineNumber)*W+W;A>=j||(A>V&&D.fillRect(g.MINIMAP_GUTTER_WIDTH,V,D.canvas.width,A-V),V=j),A=Z}A>V&&D.fillRect(g.MINIMAP_GUTTER_WIDTH,V,D.canvas.width,A-V)}_renderDecorationsLineHighlights(D,M,R,B,W){const V=new Map;for(let A=M.length-1;A>=0;A--){const Y=M[A],ee=Y.options.minimap;if(!ee||ee.position!==l.MinimapPosition.Inline)continue;const U=Math.max(B.startLineNumber,Y.range.startLineNumber),j=Math.min(B.endLineNumber,Y.range.endLineNumber);if(U>j)continue;const Z=ee.getColor(this._theme.value);if(!Z||Z.isTransparent())continue;let ie=V.get(Z.toString());ie||(ie=Z.transparent(.5).toString(),V.set(Z.toString(),ie)),D.fillStyle=ie;for(let Q=U;Q<=j;Q++){if(R.has(Q))continue;R.set(Q,!0);const J=(U-B.startLineNumber)*W;D.fillRect(g.MINIMAP_GUTTER_WIDTH,J,D.canvas.width,W)}}}_renderSelectionsHighlights(D,M,R,B,W,V,A,Y){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const ee of M){const U=Math.max(B.startLineNumber,ee.startLineNumber),j=Math.min(B.endLineNumber,ee.endLineNumber);if(!(U>j))for(let Z=U;Z<=j;Z++)this.renderDecorationOnLine(D,R,ee,this._selectionColor,B,Z,W,W,V,A,Y)}}_renderDecorationsHighlights(D,M,R,B,W,V,A,Y){for(const ee of M){const U=ee.options.minimap;if(!U)continue;const j=Math.max(B.startLineNumber,ee.range.startLineNumber),Z=Math.min(B.endLineNumber,ee.range.endLineNumber);if(j>Z)continue;const ie=U.getColor(this._theme.value);if(!(!ie||ie.isTransparent()))for(let Q=j;Q<=Z;Q++)switch(U.position){case l.MinimapPosition.Inline:this.renderDecorationOnLine(D,R,ee.range,ie,B,Q,W,W,V,A,Y);continue;case l.MinimapPosition.Gutter:{const J=(Q-B.startLineNumber)*W,de=2;this.renderDecoration(D,ie,de,J,S,W);continue}}}}renderDecorationOnLine(D,M,R,B,W,V,A,Y,ee,U,j){const Z=(V-W.startLineNumber)*Y;if(Z+A<0||Z>this._model.options.canvasInnerHeight)return;const{startLineNumber:ie,endLineNumber:Q}=R,J=ie===V?R.startColumn:1,de=Q===V?R.endColumn:this._model.getLineMaxColumn(V),x=this.getXOffsetForPosition(M,V,J,ee,U,j),ne=this.getXOffsetForPosition(M,V,de,ee,U,j);this.renderDecoration(D,B,x,Z,ne-x,A)}getXOffsetForPosition(D,M,R,B,W,V){if(R===1)return g.MINIMAP_GUTTER_WIDTH;if((R-1)*W>=V)return V;let Y=D.get(M);if(!Y){const ee=this._model.getLineContent(M);Y=[g.MINIMAP_GUTTER_WIDTH];let U=g.MINIMAP_GUTTER_WIDTH;for(let j=1;j<ee.length+1;j++){const Z=ee.charCodeAt(j-1),ie=Z===9?B*W:_.isFullWidthCharacter(Z)?2*W:W,Q=U+ie;if(Q>=V){Y[j]=V;break}Y[j]=Q,U=Q}D.set(M,Y)}return R-1<Y.length?Y[R-1]:V}renderDecoration(D,M,R,B,W,V){D.fillStyle=M&&M.toString()||"",D.fillRect(R,B,W,V)}renderLines(D){const M=D.startLineNumber,R=D.endLineNumber,B=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(D)){const Ce=this._lastRenderData._get();return new y(D,Ce.imageData,Ce.lines)}const W=this._getBuffer();if(!W)return null;const[V,A,Y]=F._renderUntouchedLines(W,M,R,B,this._lastRenderData),ee=this._model.getMinimapLinesRenderingData(M,R,Y),U=this._model.getOptions().tabSize,j=this._model.options.defaultBackgroundColor,Z=this._model.options.backgroundColor,ie=this._model.options.foregroundAlpha,Q=this._model.tokensColorTracker,J=Q.backgroundIsLight(),de=this._model.options.renderMinimap,x=this._model.options.charRenderer(),ne=this._model.options.fontScale,te=this._model.options.minimapCharWidth,oe=(de===1?2:2+1)*ne,z=B>oe?Math.floor((B-oe)/2):0,X=Z.a/255,$=new i.RGBA8(Math.round((Z.r-j.r)*X+j.r),Math.round((Z.g-j.g)*X+j.g),Math.round((Z.b-j.b)*X+j.b),255);let H=0;const K=[];for(let Ce=0,Le=R-M+1;Ce<Le;Ce++)Y[Ce]&&F._renderLine(W,$,Z.a,J,de,te,Q,ie,x,H,z,U,ee[Ce],ne,B),K[Ce]=new C(H),H+=B;const ce=V===-1?0:V,he=(A===-1?W.height:A)-ce;return this._canvas.domNode.getContext("2d").putImageData(W,0,0,0,ce,W.width,he),new y(D,W,K)}static _renderUntouchedLines(D,M,R,B,W){const V=[];if(!W){for(let $=0,H=R-M+1;$<H;$++)V[$]=!0;return[-1,-1,V]}const A=W._get(),Y=A.imageData.data,ee=A.rendLineNumberStart,U=A.lines,j=U.length,Z=D.width,ie=D.data,Q=(R-M+1)*B*Z*4;let J=-1,de=-1,x=-1,ne=-1,te=-1,q=-1,oe=0;for(let $=M;$<=R;$++){const H=$-M,K=$-ee,ce=K>=0&&K<j?U[K].dy:-1;if(ce===-1){V[H]=!0,oe+=B;continue}const le=ce*Z*4,he=(ce+B)*Z*4,me=oe*Z*4,Ce=(oe+B)*Z*4;ne===le&&q===me?(ne=he,q=Ce):(x!==-1&&(ie.set(Y.subarray(x,ne),te),J===-1&&x===0&&x===te&&(J=ne),de===-1&&ne===Q&&x===te&&(de=x)),x=le,ne=he,te=me,q=Ce),V[H]=!1,oe+=B}x!==-1&&(ie.set(Y.subarray(x,ne),te),J===-1&&x===0&&x===te&&(J=ne),de===-1&&ne===Q&&x===te&&(de=x));const z=J===-1?-1:J/(Z*4),X=de===-1?-1:de/(Z*4);return[z,X,V]}static _renderLine(D,M,R,B,W,V,A,Y,ee,U,j,Z,ie,Q,J){const de=ie.content,x=ie.tokens,ne=D.width-V,te=J===1;let q=g.MINIMAP_GUTTER_WIDTH,oe=0,z=0;for(let X=0,$=x.getCount();X<$;X++){const H=x.getEndOffset(X),K=x.getForeground(X),ce=A.getColor(K);for(;oe<H;oe++){if(q>ne)return;const le=de.charCodeAt(oe);if(le===9){const he=Z-(oe+z)%Z;z+=he-1,q+=he*V}else if(le===32)q+=V;else{const he=_.isFullWidthCharacter(le)?2:1;for(let me=0;me<he;me++)if(W===2?ee.blockRenderChar(D,q,U+j,ce,Y,M,R,te):ee.renderChar(D,q,U+j,le,ce,Y,M,R,Q,B,te),q+=V,q>ne)return}}}}}class O{constructor(D,M,R){this._startLineNumber=D,this._endLineNumber=M,this._defaultValue=R,this._values=[];for(let B=0,W=this._endLineNumber-this._startLineNumber+1;B<W;B++)this._values[B]=R}has(D){return this.get(D)!==this._defaultValue}set(D,M){D<this._startLineNumber||D>this._endLineNumber||(this._values[D-this._startLineNumber]=M)}get(D){return D<this._startLineNumber||D>this._endLineNumber?this._defaultValue:this._values[D-this._startLineNumber]}}(0,c.registerThemingParticipant)((P,D)=>{const M=P.getColor(r.minimapSliderBackground);M&&D.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${M}; }`);const R=P.getColor(r.minimapSliderHoverBackground);R&&D.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${R}; }`);const B=P.getColor(r.minimapSliderActiveBackground);B&&D.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${B}; }`);const W=P.getColor(r.scrollbarShadow);W&&D.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(se[684],re([1,0,33,47,25,15,369]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class L extends v.ViewPart{constructor(b){super(b);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const g=this._context.configuration.options.get(93);this._useShadows=g.useShadows,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const b=this._useShadows&&this._scrollTop>0;return this._shouldShow!==b?(this._shouldShow=b,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const u=this._context.configuration.options.get(133);u.minimap.renderMinimap===0||u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?this._width=u.width:this._width=u.width-u.verticalScrollbarWidth}onConfigurationChanged(b){const g=this._context.configuration.options.get(93);return this._useShadows=g.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(b){return this._scrollTop=b.scrollTop,this._updateShouldShow()}prepareRender(b){}render(b){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=L,(0,I.registerThemingParticipant)((_,b)=>{const u=_.getColor(k.scrollbarShadow);u&&b.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${u} 0 6px 6px -6px inset; }`)})}),define(se[685],re([1,0,113,25,15,370]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class I{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class L{constructor(i,t){this.lineNumber=i,this.ranges=t}}function _(n){return new I(n)}function b(n){return new L(n.lineNumber,n.ranges.map(_))}class u extends w.DynamicViewOverlay{constructor(i){super();this._previousFrameVisibleRangesWithStyle=[],this._context=i;const t=this._context.configuration.options;this._lineHeight=t.get(60),this._roundedSelection=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(45).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options;return this._lineHeight=t.get(60),this._roundedSelection=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(45).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let t=0,o=i.length;t<o;t++)if(i[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,t,o){const r=this._typicalHalfwidthCharacterWidth/4;let c=null,d=null;if(o&&o.length>0&&t.length>0){const a=t[0].lineNumber;if(a===i.startLineNumber)for(let l=0;!c&&l<o.length;l++)o[l].lineNumber===a&&(c=o[l].ranges[0]);const s=t[t.length-1].lineNumber;if(s===i.endLineNumber)for(let l=o.length-1;!d&&l>=0;l--)o[l].lineNumber===s&&(d=o[l].ranges[0]);c&&!c.startStyle&&(c=null),d&&!d.startStyle&&(d=null)}for(let a=0,s=t.length;a<s;a++){const l=t[a].ranges[0],h=l.left,p=l.left+l.width,S={top:0,bottom:0},f={top:0,bottom:0};if(a>0){const m=t[a-1].ranges[0].left,C=t[a-1].ranges[0].left+t[a-1].ranges[0].width;g(h-m)<r?S.top=2:h>m&&(S.top=1),g(p-C)<r?f.top=2:m<p&&p<C&&(f.top=1)}else c&&(S.top=c.startStyle.top,f.top=c.endStyle.top);if(a+1<s){const m=t[a+1].ranges[0].left,C=t[a+1].ranges[0].left+t[a+1].ranges[0].width;g(h-m)<r?S.bottom=2:m<h&&h<C&&(S.bottom=1),g(p-C)<r?f.bottom=2:p<C&&(f.bottom=1)}else d&&(S.bottom=d.startStyle.bottom,f.bottom=d.endStyle.bottom);l.startStyle=S,l.endStyle=f}}_getVisibleRangesWithStyle(i,t,o){const c=(t.linesVisibleRangesForRange(i,!0)||[]).map(b);return!this._visibleRangesHaveGaps(c)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,c,o),c}_createSelectionPiece(i,t,o,r,c){return'<div class="cslr '+o+'" style="top:'+i.toString()+"px;left:"+r.toString()+"px;width:"+c.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(i,t,o,r){if(r.length===0)return;const c=!!r[0].ranges[0].startStyle,d=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),s=r[0].lineNumber,l=r[r.length-1].lineNumber;for(let h=0,p=r.length;h<p;h++){const S=r[h],f=S.lineNumber,m=f-t,C=o&&(f===l||f===s)?a:d,y=o&&f===s?1:0;let E="",T="";for(let N=0,F=S.ranges.length;N<F;N++){const O=S.ranges[N];if(c){const D=O.startStyle,M=O.endStyle;if(D.top===1||D.bottom===1){E+=this._createSelectionPiece(y,C,u.SELECTION_CLASS_NAME,O.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH);let R=u.EDITOR_BACKGROUND_CLASS_NAME;D.top===1&&(R+=" "+u.SELECTION_TOP_RIGHT),D.bottom===1&&(R+=" "+u.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(y,C,R,O.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH)}if(M.top===1||M.bottom===1){E+=this._createSelectionPiece(y,C,u.SELECTION_CLASS_NAME,O.left+O.width,u.ROUNDED_PIECE_WIDTH);let R=u.EDITOR_BACKGROUND_CLASS_NAME;M.top===1&&(R+=" "+u.SELECTION_TOP_LEFT),M.bottom===1&&(R+=" "+u.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(y,C,R,O.left+O.width,u.ROUNDED_PIECE_WIDTH)}}let P=u.SELECTION_CLASS_NAME;if(c){const D=O.startStyle,M=O.endStyle;D.top===0&&(P+=" "+u.SELECTION_TOP_LEFT),D.bottom===0&&(P+=" "+u.SELECTION_BOTTOM_LEFT),M.top===0&&(P+=" "+u.SELECTION_TOP_RIGHT),M.bottom===0&&(P+=" "+u.SELECTION_BOTTOM_RIGHT)}T+=this._createSelectionPiece(y,C,P,O.left,O.width)}i[m][0]+=E,i[m][1]+=T}}prepareRender(i){const t=[],o=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber;for(let d=o;d<=r;d++){const a=d-o;t[a]=["",""]}const c=[];for(let d=0,a=this._selections.length;d<a;d++){const s=this._selections[d];if(s.isEmpty()){c[d]=null;continue}const l=this._getVisibleRangesWithStyle(s,i,this._previousFrameVisibleRangesWithStyle[d]);c[d]=l,this._actualRenderOneSelection(t,o,this._selections.length>1,l)}this._previousFrameVisibleRangesWithStyle=c,this._renderResult=t.map(([d,a])=>d+a)}render(i,t){if(!this._renderResult)return"";const o=t-i;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.SelectionsOverlay=u,u.SELECTION_CLASS_NAME="selected-text",u.SELECTION_TOP_LEFT="top-left-radius",u.SELECTION_BOTTOM_LEFT="bottom-left-radius",u.SELECTION_TOP_RIGHT="top-right-radius",u.SELECTION_BOTTOM_RIGHT="bottom-right-radius",u.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",u.ROUNDED_PIECE_WIDTH=10,(0,k.registerThemingParticipant)((n,i)=>{const t=n.getColor(v.editorSelectionBackground);t&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const o=n.getColor(v.editorInactiveSelection);o&&i.addRule(`.monaco-editor .selected-text { background-color: ${o}; }`);const r=n.getColor(v.editorSelectionForeground);r&&!r.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${r}; }`)});function g(n){return n<0?-n:n}}),define(se[54],re([1,0,542,31,25,15,56]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,k.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(0,null)),e.editorLineHighlightBorder=(0,k.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:k.contrastBorder},w.localize(1,null)),e.editorRangeHighlight=(0,k.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},w.localize(2,null),!0),e.editorRangeHighlightBorder=(0,k.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(3,null),!0),e.editorSymbolHighlight=(0,k.registerColor)("editor.symbolHighlightBackground",{dark:k.editorFindMatchHighlight,light:k.editorFindMatchHighlight,hcDark:null,hcLight:null},w.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,k.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(5,null),!0),e.editorCursorForeground=(0,k.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:v.Color.black,hcDark:v.Color.white,hcLight:"#0F4A85"},w.localize(6,null)),e.editorCursorBackground=(0,k.registerColor)("editorCursor.background",null,w.localize(7,null)),e.editorWhitespaces=(0,k.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},w.localize(8,null)),e.editorIndentGuides=(0,k.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},w.localize(9,null)),e.editorActiveIndentGuides=(0,k.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},w.localize(10,null)),e.editorLineNumbers=(0,k.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:v.Color.white,hcLight:"#292929"},w.localize(11,null));const _=(0,k.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(12,null),!1,w.localize(13,null));e.editorActiveLineNumber=(0,k.registerColor)("editorLineNumber.activeForeground",{dark:_,light:_,hcDark:_,hcLight:_},w.localize(14,null)),e.editorRuler=(0,k.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:v.Color.lightgrey,hcDark:v.Color.white,hcLight:"#292929"},w.localize(15,null)),e.editorCodeLensForeground=(0,k.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},w.localize(16,null)),e.editorBracketMatchBackground=(0,k.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},w.localize(17,null)),e.editorBracketMatchBorder=(0,k.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:k.contrastBorder,hcLight:k.contrastBorder},w.localize(18,null)),e.editorOverviewRulerBorder=(0,k.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},w.localize(19,null)),e.editorOverviewRulerBackground=(0,k.registerColor)("editorOverviewRuler.background",null,w.localize(20,null)),e.editorGutter=(0,k.registerColor)("editorGutter.background",{dark:k.editorBackground,light:k.editorBackground,hcDark:k.editorBackground,hcLight:k.editorBackground},w.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,k.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:v.Color.fromHex("#fff").transparent(.8),hcLight:k.contrastBorder},w.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,k.registerColor)("editorUnnecessaryCode.opacity",{dark:v.Color.fromHex("#000a"),light:v.Color.fromHex("#0007"),hcDark:null,hcLight:null},w.localize(23,null)),e.ghostTextBorder=(0,k.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:v.Color.fromHex("#fff").transparent(.8),hcLight:v.Color.fromHex("#292929").transparent(.8)},w.localize(24,null)),e.ghostTextForeground=(0,k.registerColor)("editorGhostText.foreground",{dark:v.Color.fromHex("#ffffff56"),light:v.Color.fromHex("#0007"),hcDark:null,hcLight:null},w.localize(25,null)),e.ghostTextBackground=(0,k.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(26,null));const b=new v.Color(new v.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,k.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:b,light:b,hcDark:b,hcLight:b},w.localize(27,null),!0),e.overviewRulerError=(0,k.registerColor)("editorOverviewRuler.errorForeground",{dark:new v.Color(new v.RGBA(255,18,18,.7)),light:new v.Color(new v.RGBA(255,18,18,.7)),hcDark:new v.Color(new v.RGBA(255,50,50,1)),hcLight:"#B5200D"},w.localize(28,null)),e.overviewRulerWarning=(0,k.registerColor)("editorOverviewRuler.warningForeground",{dark:k.editorWarningForeground,light:k.editorWarningForeground,hcDark:k.editorWarningBorder,hcLight:k.editorWarningBorder},w.localize(29,null)),e.overviewRulerInfo=(0,k.registerColor)("editorOverviewRuler.infoForeground",{dark:k.editorInfoForeground,light:k.editorInfoForeground,hcDark:k.editorInfoBorder,hcLight:k.editorInfoBorder},w.localize(30,null)),e.editorBracketHighlightingForeground1=(0,k.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},w.localize(31,null)),e.editorBracketHighlightingForeground2=(0,k.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},w.localize(32,null)),e.editorBracketHighlightingForeground3=(0,k.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},w.localize(33,null)),e.editorBracketHighlightingForeground4=(0,k.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(34,null)),e.editorBracketHighlightingForeground5=(0,k.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(35,null)),e.editorBracketHighlightingForeground6=(0,k.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,k.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new v.Color(new v.RGBA(255,18,18,.8)),light:new v.Color(new v.RGBA(255,18,18,.8)),hcDark:new v.Color(new v.RGBA(255,50,50,1)),hcLight:""},w.localize(37,null)),e.editorBracketPairGuideBackground1=(0,k.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(38,null)),e.editorBracketPairGuideBackground2=(0,k.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(39,null)),e.editorBracketPairGuideBackground3=(0,k.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(40,null)),e.editorBracketPairGuideBackground4=(0,k.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(41,null)),e.editorBracketPairGuideBackground5=(0,k.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(42,null)),e.editorBracketPairGuideBackground6=(0,k.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,k.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,k.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,k.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,k.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,k.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,k.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(49,null)),e.editorUnicodeHighlightBorder=(0,k.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},w.localize(50,null)),e.editorUnicodeHighlightBackground=(0,k.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},w.localize(51,null)),(0,I.registerThemingParticipant)((u,g)=>{const n=u.getColor(k.editorBackground);n&&g.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${n}; }`);const i=u.getColor(e.editorLineHighlight),t=i&&!i.isTransparent()?i:n;t&&g.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${t}; }`);const o=u.getColor(k.editorForeground);o&&g.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${o}; }`);const r=u.getColor(e.editorGutter);r&&g.addRule(`.monaco-editor .margin { background-color: ${r}; }`);const c=u.getColor(e.editorRangeHighlight);c&&g.addRule(`.monaco-editor .rangeHighlight { background-color: ${c}; }`);const d=u.getColor(e.editorRangeHighlightBorder);d&&g.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,L.isHighContrast)(u.type)?"dotted":"solid"} ${d}; }`);const a=u.getColor(e.editorSymbolHighlight);a&&g.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const s=u.getColor(e.editorSymbolHighlightBorder);s&&g.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,L.isHighContrast)(u.type)?"dotted":"solid"} ${s}; }`);const l=u.getColor(e.editorWhitespaces);l&&(g.addRule(`.monaco-editor .mtkw { color: ${l} !important; }`),g.addRule(`.monaco-editor .mtkz { color: ${l} !important; }`))})}),define(se[686],re([1,0,113,54,17,15,23,56,358]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class b extends w.DynamicViewOverlay{constructor(i){super();this._context=i;const t=this._context.configuration.options,o=t.get(133);this._lineHeight=t.get(60),this._renderLineHighlight=t.get(86),this._renderLineHighlightOnlyWhenFocus=t.get(87),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new L.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const t=this._selections.map(r=>r.positionLineNumber);t.sort((r,c)=>r-c),k.equals(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,i=!0);const o=this._selections.every(r=>r.isEmpty());return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const t=this._context.configuration.options,o=t.get(133);return this._lineHeight=t.get(60),this._renderLineHighlight=t.get(86),this._renderLineHighlightOnlyWhenFocus=t.get(87),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(i),o=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber,c=this._cursorLineNumbers.length;let d=0;const a=[];for(let s=o;s<=r;s++){const l=s-o;for(;d<c&&this._cursorLineNumbers[d]<s;)d++;d<c&&this._cursorLineNumbers[d]===s?a[l]=t:a[l]=""}this._renderData=a}render(i,t){if(!this._renderData)return"";const o=t-i;return o>=this._renderData.length?"":this._renderData[o]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=b;class u extends b{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=u;class g extends b{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=g,(0,I.registerThemingParticipant)((n,i)=>{const t=n.getColor(v.editorLineHighlight);if(t&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(v.editorLineHighlightBorder)){const o=n.getColor(v.editorLineHighlightBorder);o&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${o}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${o}; }`),(0,_.isHighContrast)(n.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(se[687],re([1,0,113,54,15,11,17,20,248,188,361]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class g extends w.DynamicViewOverlay{constructor(t){super();this._context=t,this._primaryPosition=null;const o=this._context.configuration.options,r=o.get(134),c=o.get(45);this._lineHeight=o.get(60),this._spaceWidth=c.spaceWidth,this._maxIndentLeft=r.wrappingColumn===-1?-1:r.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options,r=o.get(134),c=o.get(45);return this._lineHeight=o.get(60),this._spaceWidth=c.spaceWidth,this._maxIndentLeft=r.wrappingColumn===-1?-1:r.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(t){var o;const c=t.selections[0].getPosition();return((o=this._primaryPosition)===null||o===void 0?void 0:o.equals(c))?!1:(this._primaryPosition=c,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var o,r,c,d;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const a=t.visibleRange.startLineNumber,s=t.visibleRange.endLineNumber,l=t.scrollWidth,h=this._lineHeight,p=this._primaryPosition,S=this.getGuidesByLine(a,s,p),f=[];for(let m=a;m<=s;m++){const C=m-a,y=S[C];let E="";const T=(r=(o=t.visibleRangeForPosition(new I.Position(m,1)))===null||o===void 0?void 0:o.left)!==null&&r!==void 0?r:0;for(const N of y){const F=N.column===-1?T+(N.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new I.Position(m,N.column)).left;if(F>l||this._maxIndentLeft>0&&F>this._maxIndentLeft)break;const O=N.horizontalLine?N.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",P=N.horizontalLine?((d=(c=t.visibleRangeForPosition(new I.Position(m,N.horizontalLine.endColumn)))===null||c===void 0?void 0:c.left)!==null&&d!==void 0?d:F+this._spaceWidth)-F:this._spaceWidth;E+=`<div class="core-guide ${N.className} ${O}" style="left:${F}px;height:${h}px;width:${P}px"></div>`}f[C]=E}this._renderResult=f}getGuidesByLine(t,o,r){const c=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,o,r,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?u.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?u.HorizontalGuidesState.EnabledForActive:u.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,d=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,o):null;let a=0,s=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&r){const S=this._context.viewModel.getActiveIndentGuide(r.lineNumber,t,o);a=S.startLineNumber,s=S.endLineNumber,l=S.indent}const{indentSize:h}=this._context.viewModel.model.getOptions(),p=[];for(let S=t;S<=o;S++){const f=new Array;p.push(f);const m=c?c[S-t]:[],C=new L.ArrayQueue(m),y=d?d[S-t]:[];for(let E=1;E<=y;E++){const T=(E-1)*h+1,N=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||m.length===0)&&a<=S&&S<=s&&E===l;f.push(...C.takeWhile(O=>O.visibleColumn<T)||[]);const F=C.peek();(!F||F.visibleColumn!==T||F.horizontalLine)&&f.push(new u.IndentGuide(T,-1,N?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}f.push(...C.takeWhile(E=>!0)||[])}return p}render(t,o){if(!this._renderResult)return"";const r=o-t;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.IndentGuidesOverlay=g;function n(i){if(!(i&&i.isTransparent()))return i}(0,k.registerThemingParticipant)((i,t)=>{const o=i.getColor(v.editorIndentGuides);o&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${o} inset; }`);const r=i.getColor(v.editorActiveIndentGuides)||o;r&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${r} inset; }`);const c=[{bracketColor:v.editorBracketHighlightingForeground1,guideColor:v.editorBracketPairGuideBackground1,guideColorActive:v.editorBracketPairGuideActiveBackground1},{bracketColor:v.editorBracketHighlightingForeground2,guideColor:v.editorBracketPairGuideBackground2,guideColorActive:v.editorBracketPairGuideActiveBackground2},{bracketColor:v.editorBracketHighlightingForeground3,guideColor:v.editorBracketPairGuideBackground3,guideColorActive:v.editorBracketPairGuideActiveBackground3},{bracketColor:v.editorBracketHighlightingForeground4,guideColor:v.editorBracketPairGuideBackground4,guideColorActive:v.editorBracketPairGuideActiveBackground4},{bracketColor:v.editorBracketHighlightingForeground5,guideColor:v.editorBracketPairGuideBackground5,guideColorActive:v.editorBracketPairGuideActiveBackground5},{bracketColor:v.editorBracketHighlightingForeground6,guideColor:v.editorBracketPairGuideBackground6,guideColorActive:v.editorBracketPairGuideActiveBackground6}],d=new b.BracketPairGuidesClassNames,a=c.map(s=>{var l,h;const p=i.getColor(s.bracketColor),S=i.getColor(s.guideColor),f=i.getColor(s.guideColorActive),m=n((l=n(S))!==null&&l!==void 0?l:p==null?void 0:p.transparent(.3)),C=n((h=n(f))!==null&&h!==void 0?h:p);if(!(!m||!C))return{guideColor:m,guideColorActive:C}}).filter(_.isDefined);if(a.length>0){for(let s=0;s<30;s++){const l=a[s%a.length];t.addRule(`.monaco-editor .${d.getInlineClassNameOfLevel(s).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${d.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${d.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${d.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(se[302],re([1,0,18,113,11,54,15,362]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class _ extends v.DynamicViewOverlay{constructor(u){super();this._context=u,this._readConfig(),this._lastCursorModelPosition=new k.Position(1,1),this._lastCursorViewPosition=new k.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const u=this._context.configuration.options;this._lineHeight=u.get(60);const g=u.get(61);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=u.get(85);const n=u.get(133);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(u){return this._readConfig(),!0}onCursorStateChanged(u){const g=u.selections[0].getPosition();this._lastCursorViewPosition=g,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(g);let n=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,n=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(n=!0),n}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}_getLineRenderLineNumber(u){const g=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(u,1));if(g.column!==1)return"";const n=g.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(n):this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===n||n%10==0?String(n):"":String(n)}prepareRender(u){if(this._renderLineNumbers===0){this._renderResult=null;return}const g=w.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",n=u.visibleRange.startLineNumber,i=u.visibleRange.endLineNumber,t='<div class="'+_.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let o=null;if(this._renderLineNumbers===2){o=new Array(i-n+1),this._lastCursorViewPosition.lineNumber>=n&&this._lastCursorViewPosition.lineNumber<=i&&(o[this._lastCursorViewPosition.lineNumber-n]=this._lastCursorModelPosition.lineNumber);{let d=0;for(let a=this._lastCursorViewPosition.lineNumber+1;a<=i;a++){const l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(a,1)).column!==1;l||d++,a>=n&&(o[a-n]=l?0:d)}}{let d=0;for(let a=this._lastCursorViewPosition.lineNumber-1;a>=n;a--){const l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(a,1)).column!==1;l||d++,a<=i&&(o[a-n]=l?0:d)}}}const r=this._context.viewModel.getLineCount(),c=[];for(let d=n;d<=i;d++){const a=d-n;if(!this._renderFinalNewline&&d===r&&this._context.viewModel.getLineLength(d)===0){c[a]="";continue}let s;if(o){const l=o[a];this._lastCursorViewPosition.lineNumber===d?s=`<span class="relative-current-line-number">${l}</span>`:l?s=String(l):s=""}else s=this._getLineRenderLineNumber(d);s?d===this._activeLineNumber?c[a]='<div class="active-line-number '+_.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+s+"</div>":c[a]=t+s+"</div>":c[a]=""}this._renderResult=c}render(u,g){if(!this._renderResult)return"";const n=g-u;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.LineNumbersOverlay=_,_.CLASS_NAME="line-numbers",(0,L.registerThemingParticipant)((b,u)=>{const g=b.getColor(I.editorLineNumbers);g&&u.addRule(`.monaco-editor .line-numbers { color: ${g}; }`);const n=b.getColor(I.editorActiveLineNumber);n&&u.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${n}; }`)})}),define(se[688],re([1,0,531,41,33,18,8,66,204,235,47,302,249,38,129,11,3,23,151,28,31,356]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class h{constructor(C,y,E,T,N){this._context=C,this.modelLineNumber=y,this.distanceToModelLineStart=E,this.widthOfHiddenLineTextBefore=T,this.distanceToModelLineEnd=N,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(C){const y=new r.Position(this.modelLineNumber,this.distanceToModelLineStart+1),E=new r.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(E),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=C.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=C.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(C){return this._previousPresentation||(C?this._previousPresentation=C:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const p=v.isFirefox;class S extends g.ViewPart{constructor(C,y,E){super(C);this._primaryCursorPosition=new r.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=y,this._visibleRangeProvider=E,this._scrollLeft=0,this._scrollTop=0;const T=this._context.configuration.options,N=T.get(133);this._setAccessibilityOptions(T),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=T.get(45),this._lineHeight=T.get(60),this._emptySelectionClipboard=T.get(33),this._copyWithSyntaxHighlighting=T.get(21),this._visibleTextArea=null,this._selections=[new d.Selection(1,1,1,1)],this._modelSelections=[new d.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,k.createFastDomNode)(document.createElement("textarea")),g.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("tabindex",String(T.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",w.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),T.get(30)&&T.get(82)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,k.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const F={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:D=>this._context.viewModel.getLineMaxColumn(D),getValueInRange:(D,M)=>this._context.viewModel.getValueInRange(D,M)},O={getDataToCopy:()=>{const D=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,I.isWindows),M=this._context.viewModel.model.getEOL(),R=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),B=Array.isArray(D)?D:null,W=Array.isArray(D)?D.join(M):D;let V,A=null;if(b.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536){const Y=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Y&&(V=Y.html,A=Y.mode)}return{isFromEmptySelection:R,multicursorText:B,text:W,html:V,mode:A}},getScreenReaderContent:D=>{if(this._accessibilitySupport===1){const M=this._selections[0];if(I.isMacintosh&&M.isEmpty()){const R=M.getStartPosition();let B=this._getWordBeforePosition(R);if(B.length===0&&(B=this._getCharacterBeforePosition(R)),B.length>0)return new u.TextAreaState(B,B.length,B.length,R,R)}if(v.isSafari&&!M.isEmpty()){const R="vscode-placeholder";return new u.TextAreaState(R,0,R.length,null,null)}return u.TextAreaState.EMPTY}if(v.isAndroid){const M=this._selections[0];if(M.isEmpty()){const R=M.getStartPosition(),[B,W]=this._getAndroidWordAtPosition(R);if(B.length>0)return new u.TextAreaState(B,W,W,R,R)}return u.TextAreaState.EMPTY}return u.PagedScreenReaderStrategy.fromEditorSelection(D,F,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(D,M,R)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(D,M,R)},P=this._register(new b.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new b.TextAreaInput(O,P,I.OS,v)),this._register(this._textAreaInput.onKeyDown(D=>{this._viewController.emitKeyDown(D)})),this._register(this._textAreaInput.onKeyUp(D=>{this._viewController.emitKeyUp(D)})),this._register(this._textAreaInput.onPaste(D=>{let M=!1,R=null,B=null;D.metadata&&(M=this._emptySelectionClipboard&&!!D.metadata.isFromEmptySelection,R=typeof D.metadata.multicursorText!="undefined"?D.metadata.multicursorText:null,B=D.metadata.mode),this._viewController.paste(D.text,M,R,B)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(D=>{D.replacePrevCharCnt||D.replaceNextCharCnt||D.positionDelta?(u._debugComposition&&console.log(` => compositionType: <<${D.text}>>, ${D.replacePrevCharCnt}, ${D.replaceNextCharCnt}, ${D.positionDelta}`),this._viewController.compositionType(D.text,D.replacePrevCharCnt,D.replaceNextCharCnt,D.positionDelta)):(u._debugComposition&&console.log(` => type: <<${D.text}>>`),this._viewController.type(D.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(D=>{this._viewController.setSelection(D)})),this._register(this._textAreaInput.onCompositionStart(D=>{const M=this.textArea.domNode,R=this._modelSelections[0],{distanceToModelLineStart:B,widthOfHiddenTextBefore:W}=(()=>{const A=M.value.substring(0,Math.min(M.selectionStart,M.selectionEnd)),Y=A.lastIndexOf(`
`),ee=A.substring(Y+1),U=ee.lastIndexOf("	"),j=ee.length-U-1,Z=R.getStartPosition(),ie=Math.min(Z.column-1,j),Q=Z.column-1-ie,J=ee.substring(0,ee.length-ie),de=f(J,this._fontInfo);return{distanceToModelLineStart:Q,widthOfHiddenTextBefore:de}})(),{distanceToModelLineEnd:V}=(()=>{const A=M.value.substring(Math.max(M.selectionStart,M.selectionEnd)),Y=A.indexOf(`
`),ee=Y===-1?A:A.substring(0,Y),U=ee.indexOf("	"),j=U===-1?ee.length:ee.length-U-1,Z=R.getEndPosition(),ie=Math.min(this._context.viewModel.model.getLineMaxColumn(Z.lineNumber)-Z.column,j);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Z.lineNumber)-Z.column-ie}})();this._context.viewModel.revealRange("keyboard",!0,c.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new h(this._context,R.startLineNumber,B,W,V),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(D=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(C){const y='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',E=this._context.viewModel.getLineContent(C.lineNumber),T=(0,o.getMapForWordSeparators)(y);let N=!0,F=C.column,O=!0,P=C.column,D=0;for(;D<50&&(N||O);){if(N&&F<=1&&(N=!1),N){const M=E.charCodeAt(F-2);T.get(M)!==0?N=!1:F--}if(O&&P>E.length&&(O=!1),O){const M=E.charCodeAt(P-1);T.get(M)!==0?O=!1:P++}D++}return[E.substring(F-1,P-1),C.column-F]}_getWordBeforePosition(C){const y=this._context.viewModel.getLineContent(C.lineNumber),E=(0,o.getMapForWordSeparators)(this._context.configuration.options.get(119));let T=C.column,N=0;for(;T>1;){const F=y.charCodeAt(T-2);if(E.get(F)!==0||N>50)return y.substring(T-1,C.column-1);N++,T--}return y.substring(0,C.column-1)}_getCharacterBeforePosition(C){if(C.column>1){const E=this._context.viewModel.getLineContent(C.lineNumber).charAt(C.column-2);if(!L.isHighSurrogate(E.charCodeAt(0)))return E}return""}_getAriaLabel(C){return C.get(2)===1?w.localize(1,null,I.isLinux?"Shift+Alt+F1":"Alt+F1"):C.get(4)}_setAccessibilityOptions(C){this._accessibilitySupport=C.get(2);const y=C.get(3);this._accessibilitySupport===2&&y===t.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=y}onConfigurationChanged(C){const y=this._context.configuration.options,E=y.get(133);return this._setAccessibilityOptions(y),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=y.get(45),this._lineHeight=y.get(60),this._emptySelectionClipboard=y.get(33),this._copyWithSyntaxHighlighting=y.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(y)),this.textArea.setAttribute("tabindex",String(y.get(114))),(C.hasChanged(30)||C.hasChanged(82))&&(y.get(30)&&y.get(82)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),C.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(C){return this._selections=C.selections.slice(0),this._modelSelections=C.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return this._scrollLeft=C.scrollLeft,this._scrollTop=C.scrollTop,!0}onZonesChanged(C){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(C){C.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",C.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),C.role&&this.textArea.setAttribute("role",C.role)}prepareRender(C){var y;this._primaryCursorPosition=new r.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=C.visibleRangeForPosition(this._primaryCursorPosition),(y=this._visibleTextArea)===null||y===void 0||y.prepareRender(C)}render(C){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const E=this._visibleTextArea.visibleTextareaStart,T=this._visibleTextArea.visibleTextareaEnd,N=this._visibleTextArea.startPosition,F=this._visibleTextArea.endPosition;if(N&&F&&E&&T&&T.left>=this._scrollLeft&&E.left<=this._scrollLeft+this._contentWidth){const O=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,P=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let D=this._visibleTextArea.widthOfHiddenLineTextBefore,M=this._contentLeft+E.left-this._scrollLeft,R=T.left-E.left+1;if(M<this._contentLeft){const ee=this._contentLeft-M;M+=ee,D+=ee,R-=ee}R>this._contentWidth&&(R=this._contentWidth);const B=this._context.viewModel.getViewLineData(N.lineNumber),W=B.tokens.findTokenIndexAtOffset(N.column-1),V=B.tokens.findTokenIndexAtOffset(F.column-1),A=W===V,Y=this._visibleTextArea.definePresentation(A?B.tokens.getPresentation(W):null);this.textArea.domNode.scrollTop=P*this._lineHeight,this.textArea.domNode.scrollLeft=D,this._doRender({lastRenderPosition:null,top:O,left:M,width:R,height:this._lineHeight,useCover:!1,color:(s.TokenizationRegistry.getColorMap()||[])[Y.foreground],italic:Y.italic,bold:Y.bold,underline:Y.underline,strikethrough:Y.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const C=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(C<this._contentLeft||C>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const y=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(y<0||y>this._contentHeight){this._renderAtTopLeft();return}if(I.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:C,width:p?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const E=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=E*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:C,width:p?0:1,height:p?0:1,useCover:!1})}_newlinecount(C){let y=0,E=-1;do{if(E=C.indexOf(`
`,E+1),E===-1)break;y++}while(!0);return y}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:p?0:1,height:p?0:1,useCover:!0})}_doRender(C){this._lastRenderPosition=C.lastRenderPosition;const y=this.textArea,E=this.textAreaCover;(0,_.applyFontInfo)(y,this._fontInfo),y.setTop(C.top),y.setLeft(C.left),y.setWidth(C.width),y.setHeight(C.height),y.setColor(C.color?l.Color.Format.CSS.formatHex(C.color):""),y.setFontStyle(C.italic?"italic":""),C.bold&&y.setFontWeight("bold"),y.setTextDecoration(`${C.underline?" underline":""}${C.strikethrough?" line-through":""}`),E.setTop(C.useCover?C.top:0),E.setLeft(C.useCover?C.left:0),E.setWidth(C.useCover?C.width:0),E.setHeight(C.useCover?C.height:0);const T=this._context.configuration.options;T.get(51)?E.setClassName("monaco-editor-background textAreaCover "+i.Margin.OUTER_CLASS_NAME):T.get(61).renderType!==0?E.setClassName("monaco-editor-background textAreaCover "+n.LineNumbersOverlay.CLASS_NAME):E.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=S;function f(m,C){if(m.length===0)return 0;const y=document.createElement("div");y.style.position="absolute",y.style.top="-50000px",y.style.width="50000px";const E=document.createElement("span");(0,_.applyFontInfo)(E,C),E.style.whiteSpace="pre",E.append(m),y.appendChild(E),document.body.appendChild(y);const T=E.offsetWidth;return document.body.removeChild(y),T}}),define(se[689],re([1,0,33,31,47,11,28,54,74]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class u{constructor(i,t){const o=i.options;this.lineHeight=o.get(60),this.pixelRatio=o.get(131),this.overviewRulerLanes=o.get(75),this.renderBorder=o.get(74);const r=t.getColor(_.editorOverviewRulerBorder);this.borderColor=r?r.toString():null,this.hideCursor=o.get(53);const c=t.getColor(_.editorCursorForeground);this.cursorColor=c?c.transparent(.7).toString():null,this.themeType=t.type;const d=o.get(66),a=d.enabled,s=d.side,l=t.getColor(_.editorOverviewRulerBackground),h=L.TokenizationRegistry.getDefaultBackground();let p=null;l!==void 0?p=l:a&&(p=h),p===null||s==="left"?this.backgroundColor=null:this.backgroundColor=v.Color.Format.CSS.formatHex(p);const f=o.get(133).overviewRuler;this.top=f.top,this.right=f.right,this.domWidth=f.width,this.domHeight=f.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[m,C]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=m,this.w=C}_initLanes(i,t,o){const r=t-i;if(o>=3){const c=Math.floor(r/3),d=Math.floor(r/3),a=r-c-d,s=i,l=s+c,h=s+c+a;return[[0,s,l,s,h,s,l,s],[0,c,a,c+a,d,c+a+d,a+d,c+a+d]]}else if(o===2){const c=Math.floor(r/2),d=r-c,a=i,s=a+c;return[[0,a,a,a,s,a,a,a],[0,c,c,c,d,c+d,c+d,c+d]]}else{const c=i,d=r;return[[0,c,c,c,c,c,c,c],[0,d,d,d,d,d,d,d]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class g extends k.ViewPart{constructor(i){super(i);this._domNode=(0,w.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=L.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new u(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,o=i.selections.length;t<o;t++)this._cursorPositions[t]=i.selections[t].getPosition();return this._cursorPositions.sort(I.Position.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const i=this._settings.canvasWidth,t=this._settings.canvasHeight,o=this._settings.lineHeight,r=this._context.viewLayout,c=this._context.viewLayout.getScrollHeight(),d=t/c,a=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,l=s/2|0,h=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?h.clearRect(0,0,i,t):(h.fillStyle=this._settings.backgroundColor,h.fillRect(0,0,i,t));const p=this._settings.x,S=this._settings.w;a.sort(b.OverviewRulerDecorationsGroup.cmp);for(const f of a){const m=f.color,C=f.data;h.fillStyle=m;let y=0,E=0,T=0;for(let N=0,F=C.length/3;N<F;N++){const O=C[3*N],P=C[3*N+1],D=C[3*N+2];let M=r.getVerticalOffsetForLineNumber(P)*d|0,R=(r.getVerticalOffsetForLineNumber(D)+o)*d|0;if(R-M<s){let W=(M+R)/2|0;W<l?W=l:W+l>t&&(W=t-l),M=W-l,R=W+l}M>T+1||O!==y?(N!==0&&h.fillRect(p[y],E,S[y],T-E),y=O,E=M,T=R):R>T&&(T=R)}h.fillRect(p[y],E,S[y],T-E)}if(!this._settings.hideCursor&&this._settings.cursorColor){const f=2*this._settings.pixelRatio|0,m=f/2|0,C=this._settings.x[7],y=this._settings.w[7];h.fillStyle=this._settings.cursorColor;let E=-100,T=-100;for(let N=0,F=this._cursorPositions.length;N<F;N++){const O=this._cursorPositions[N];let P=r.getVerticalOffsetForLineNumber(O.lineNumber)*d|0;P<m?P=m:P+m>t&&(P=t-m);const D=P-m,M=D+f;D>T+1?(N!==0&&h.fillRect(C,E,y,T-E),E=D,T=M):M>T&&(T=M)}h.fillRect(C,E,y,T-E)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(h.beginPath(),h.lineWidth=1,h.strokeStyle=this._settings.borderColor,h.moveTo(0,0),h.lineTo(0,t),h.stroke(),h.moveTo(0,0),h.lineTo(i,0),h.stroke())}}e.DecorationsOverviewRuler=g}),define(se[690],re([1,0,33,47,54,15,368]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class L extends v.ViewPart{constructor(b){super(b);this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const u=this._context.configuration.options;this._rulers=u.get(92),this._typicalHalfwidthCharacterWidth=u.get(45).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(b){const u=this._context.configuration.options;return this._rulers=u.get(92),this._typicalHalfwidthCharacterWidth=u.get(45).typicalHalfwidthCharacterWidth,!0}onScrollChanged(b){return b.scrollHeightChanged}prepareRender(b){}_ensureRulersCount(){const b=this._renderedRulers.length,u=this._rulers.length;if(b===u)return;if(b<u){const{tabSize:n}=this._context.viewModel.model.getOptions(),i=n;let t=u-b;for(;t>0;){const o=(0,w.createFastDomNode)(document.createElement("div"));o.setClassName("view-ruler"),o.setWidth(i),this.domNode.appendChild(o),this._renderedRulers.push(o),t--}return}let g=b-u;for(;g>0;){const n=this._renderedRulers.pop();this.domNode.removeChild(n),g--}}render(b){this._ensureRulersCount();for(let u=0,g=this._rulers.length;u<g;u++){const n=this._renderedRulers[u],i=this._rulers[u];n.setBoxShadow(i.color?`1px 0 0 0 ${i.color} inset`:""),n.setHeight(Math.min(b.scrollHeight,1e6)),n.setLeft(i.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=L,(0,I.registerThemingParticipant)((_,b)=>{const u=_.getColor(k.editorRuler);u&&b.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${u} inset; }`)})}),define(se[691],re([1,0,33,10,47,541,38,54,15,56,371]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class g extends k.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(82),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new I.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new v.TimeoutTimer,this._cursorFlatBlinkInterval=new v.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(82),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let o=0,r=this._secondaryCursors.length;o<r;o++)this._secondaryCursors[o].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t){if(this._primaryCursor.onCursorPositionChanged(i),this._updateBlinking(),this._secondaryCursors.length<t.length){const o=t.length-this._secondaryCursors.length;for(let r=0;r<o;r++){const c=new I.ViewCursor(this._context);this._domNode.domNode.insertBefore(c.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(c)}}else if(this._secondaryCursors.length>t.length){const o=this._secondaryCursors.length-t.length;for(let r=0;r<o;r++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o])}onCursorStateChanged(i){const t=[];for(let r=0,c=i.selections.length;r<c;r++)t[r]=i.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const o=i.selections[0].isEmpty();return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=o=>{for(let r=0,c=i.ranges.length;r<c;r++)if(i.ranges[r].fromLineNumber<=o.lineNumber&&o.lineNumber<=i.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const o of this._secondaryCursors)if(t(o.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,o=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!o&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},g.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},g.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case L.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case L.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case L.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case L.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case L.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case L.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,o=this._secondaryCursors.length;t<o;t++)this._secondaryCursors[t].prepareRender(i)}render(i){const t=[];let o=0;const r=this._primaryCursor.render(i);r&&(t[o++]=r);for(let c=0,d=this._secondaryCursors.length;c<d;c++){const a=this._secondaryCursors[c].render(i);a&&(t[o++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=g,g.BLINK_INTERVAL=500,(0,b.registerThemingParticipant)((n,i)=>{const t=n.getColor(_.editorCursorForeground);if(t){let o=n.getColor(_.editorCursorBackground);o||(o=t.opposite()),i.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${t}; }`),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${o}; }`),(0,u.isHighContrast)(n.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${o}; border-right: 1px solid ${o}; }`)}})}),define(se[692],re([1,0,6,2,3,54,15]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class _ extends v.Disposable{constructor(g){super();this.textModel=g,this.colorProvider=new b,this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=g.getOptions().bracketPairColorizationOptions,this._register(g.bracketPairs.onDidChange(n=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(g){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(g,n,i,t){return t?[]:n===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(g).map(r=>({id:`bracket${r.range.toString()}-${r.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(r,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:r.range})).toArray():[]}getAllDecorations(g,n){return g===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new k.Range(1,1,this.textModel.getLineCount(),1),g,n):[]}}e.ColorizedBracketPairsDecorationProvider=_;class b{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(g,n){return g.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(n?g.nestingLevelOfEqualBracketType:g.nestingLevel)}getInlineClassNameOfLevel(g){return`bracket-highlighting-${g%30}`}}(0,L.registerThemingParticipant)((u,g)=>{const n=[I.editorBracketHighlightingForeground1,I.editorBracketHighlightingForeground2,I.editorBracketHighlightingForeground3,I.editorBracketHighlightingForeground4,I.editorBracketHighlightingForeground5,I.editorBracketHighlightingForeground6],i=new b;g.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${u.getColor(I.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const t=n.map(o=>u.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const r=t[o%t.length];g.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${r}; }`)}})}),define(se[693],re([1,0,84,2,46,15,54,50,3,52,6,25,51]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class t extends v.Disposable{constructor(c){super();this.model=c,this._markersData=new Map,this._register((0,v.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(c,d){const a=[...this._markersData.keys()];this._markersData.clear();const s=this.model.deltaDecorations(a,d);for(let l=0;l<s.length;l++)this._markersData.set(s[l],c[l]);return a.length!==0||s.length!==0}getMarker(c){return this._markersData.get(c.id)}}let o=class extends v.Disposable{constructor(c,d){super();this._markerService=d,this._onDidChangeMarker=this._register(new g.Emitter),this._markerDecorations=new i.ResourceMap,c.getModels().forEach(a=>this._onModelAdded(a)),this._register(c.onModelAdded(this._onModelAdded,this)),this._register(c.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(c=>c.dispose()),this._markerDecorations.clear()}getMarker(c,d){const a=this._markerDecorations.get(c);return a&&a.getMarker(d)||null}_handleMarkerChange(c){c.forEach(d=>{const a=this._markerDecorations.get(d);a&&this._updateDecorations(a)})}_onModelAdded(c){const d=new t(c);this._markerDecorations.set(c.uri,d),this._updateDecorations(d)}_onModelRemoved(c){var d;const a=this._markerDecorations.get(c.uri);a&&(a.dispose(),this._markerDecorations.delete(c.uri)),(c.uri.scheme===u.Schemas.inMemory||c.uri.scheme===u.Schemas.internal||c.uri.scheme===u.Schemas.vscode)&&((d=this._markerService)===null||d===void 0||d.read({resource:c.uri}).map(s=>s.owner).forEach(s=>this._markerService.remove(s,[c.uri])))}_updateDecorations(c){const d=this._markerService.read({resource:c.model.uri,take:500}),a=d.map(s=>({range:this._createDecorationRange(c.model,s),options:this._createDecorationOption(s)}));c.update(d,a)&&this._onDidChangeMarker.fire(c.model)}_createDecorationRange(c,d){let a=b.Range.lift(d);if(d.severity===w.MarkerSeverity.Hint&&!this._hasMarkerTag(d,1)&&!this._hasMarkerTag(d,2)&&(a=a.setEndPosition(a.startLineNumber,a.startColumn+2)),a=c.validateRange(a),a.isEmpty()){const s=c.getLineLastNonWhitespaceColumn(a.startLineNumber)||c.getLineMaxColumn(a.startLineNumber);if(s===1||a.endColumn>=s)return a;const l=c.getWordAtPosition(a.getStartPosition());l&&(a=new b.Range(a.startLineNumber,l.startColumn,a.endLineNumber,l.endColumn))}else if(d.endColumn===Number.MAX_VALUE&&d.startColumn===1&&a.startLineNumber===a.endLineNumber){const s=c.getLineFirstNonWhitespaceColumn(d.startLineNumber);s<a.endColumn&&(a=new b.Range(a.startLineNumber,s,a.endLineNumber,a.endColumn),d.startColumn=s)}return a}_createDecorationOption(c){let d,a,s,l,h;switch(c.severity){case w.MarkerSeverity.Hint:this._hasMarkerTag(c,2)?d=void 0:this._hasMarkerTag(c,1)?d="squiggly-unnecessary":d="squiggly-hint",s=0;break;case w.MarkerSeverity.Warning:d="squiggly-warning",a=(0,I.themeColorFromId)(L.overviewRulerWarning),s=20,h={color:(0,I.themeColorFromId)(n.minimapWarning),position:k.MinimapPosition.Inline};break;case w.MarkerSeverity.Info:d="squiggly-info",a=(0,I.themeColorFromId)(L.overviewRulerInfo),s=10;break;case w.MarkerSeverity.Error:default:d="squiggly-error",a=(0,I.themeColorFromId)(L.overviewRulerError),s=30,h={color:(0,I.themeColorFromId)(n.minimapError),position:k.MinimapPosition.Inline};break}return c.tags&&(c.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),c.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:d,showIfCollapsed:!0,overviewRuler:{color:a,position:k.OverviewRulerLane.Right},minimap:h,zIndex:s,inlineClassName:l}}_hasMarkerTag(c,d){return c.tags?c.tags.indexOf(d)>=0:!1}};o=ke([fe(0,_.IModelService),fe(1,w.IMarkerService)],o),e.MarkerDecorationsService=o}),define(se[303],re([1,0,110,15,69,442,39]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let _=class{constructor(i,t,o,r){this._legend=i,this._themeService=t,this._languageService=o,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new g}getMetadata(i,t,o){const r=this._languageService.languageIdCodec.encodeLanguageId(o),c=this._hashTable.get(i,t,r);let d;if(c)d=c.metadata,this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${i} / ${t}: foreground ${w.TokenMetadata.getForeground(d)}, fontStyle ${w.TokenMetadata.getFontStyle(d).toString(2)}`);else{let a=this._legend.tokenTypes[i];const s=[];if(a){let l=t;for(let p=0;l>0&&p<this._legend.tokenModifiers.length;p++)l&1&&s.push(this._legend.tokenModifiers[p]),l=l>>1;l>0&&this._logService.getLevel()===k.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const h=this._themeService.getColorTheme().getTokenStyleMetadata(a,s,o);typeof h=="undefined"?d=2147483647:(d=0,typeof h.italic!="undefined"&&(d|=(h.italic?1:0)<<11|1),typeof h.bold!="undefined"&&(d|=(h.bold?2:0)<<11|2),typeof h.underline!="undefined"&&(d|=(h.underline?4:0)<<11|4),typeof h.strikethrough!="undefined"&&(d|=(h.strikethrough?8:0)<<11|8),h.foreground&&(d|=h.foreground<<15|16),d===0&&(d=2147483647))}else this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${i} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),d=2147483647,a="not-in-legend";this._hashTable.add(i,t,r,d),this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${i} (${a}) / ${t} (${s.join(" ")}): foreground ${w.TokenMetadata.getForeground(d)}, fontStyle ${w.TokenMetadata.getFontStyle(d).toString(2)}`)}return d}warnOverlappingSemanticTokens(i,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${i}, column ${t}`))}warnInvalidLengthSemanticTokens(i,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${i}, column ${t}`))}warnInvalidEditStart(i,t,o,r,c){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${i}, resultId: ${t}) at edit #${o}: The provided start offset ${r} is outside the previous data (length ${c}).`))}};_=ke([fe(1,v.IThemeService),fe(2,L.ILanguageService),fe(3,k.ILogService)],_),e.SemanticTokensProviderStyling=_;function b(n,i,t){const o=n.data,r=n.data.length/5|0,c=Math.max(Math.ceil(r/1024),400),d=[];let a=0,s=1,l=0;for(;a<r;){const h=a;let p=Math.min(h+c,r);if(p<r){let T=p;for(;T-1>h&&o[5*T]===0;)T--;if(T-1===h){let N=p;for(;N+1<r&&o[5*N]===0;)N++;p=N}else p=T}let S=new Uint32Array((p-h)*4),f=0,m=0,C=0,y=0;for(;a<p;){const T=5*a,N=o[T],F=o[T+1],O=s+N|0,P=N===0?l+F|0:F,D=o[T+2],M=P+D|0,R=o[T+3],B=o[T+4];if(M<=P)i.warnInvalidLengthSemanticTokens(O,P+1);else if(C===O&&y>P)i.warnOverlappingSemanticTokens(O,P+1);else{const W=i.getMetadata(R,B,t);W!==2147483647&&(m===0&&(m=O),S[f]=O-m,S[f+1]=P,S[f+2]=M,S[f+3]=W,f+=4,C=O,y=M)}s=O,l=P,a++}f!==S.length&&(S=S.subarray(0,f));const E=I.SparseMultilineTokens.create(m,S);d.push(E)}return d}e.toMultilineTokens2=b;class u{constructor(i,t,o,r){this.tokenTypeIndex=i,this.tokenModifierSet=t,this.languageId=o,this.metadata=r,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(i,t){for(let o=0;o<t;o++)i[o]=null}_hash2(i,t){return(i<<5)-i+t|0}_hashFunc(i,t,o){return this._hash2(this._hash2(i,t),o)%this._currentLength}get(i,t,o){const r=this._hashFunc(i,t,o);let c=this._elements[r];for(;c;){if(c.tokenTypeIndex===i&&c.tokenModifierSet===t&&c.languageId===o)return c;c=c.next}return null}add(i,t,o,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const d of c){let a=d;for(;a;){const s=a.next;a.next=null,this._add(a),a=s}}}this._add(new u(i,t,o,r))}_add(i){const t=this._hashFunc(i.tokenTypeIndex,i.tokenModifierSet,i.languageId);i.next=this._elements[t],this._elements[t]=i}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(se[694],re([1,0,7,64,27,6,2,187,555,44,25,15,377]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var i;(function(o){o.Hidden={type:0};class r{constructor(d,a,s,l){this.actions=d,this.trigger=a,this.editorPosition=s,this.widgetPosition=l,this.type=1}}o.Showing=r})(i||(i={}));let t=class Ti extends L.Disposable{constructor(r,c,d,a){super();this._editor=r,this._quickFixActionId=c,this._preferredFixActionId=d,this._keybindingService=a,this._onClick=this._register(new I.Emitter),this.onClick=this._onClick.event,this._state=i.Hidden,this._domNode=document.createElement("div"),this._domNode.className=k.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const l=this._editor.getModel();(this.state.type!==1||!l||this.state.editorPosition.lineNumber>=l.getLineCount())&&this.hide()})),v.Gesture.ignoreTarget(this._domNode),this._register(w.addStandardDisposableGenericMouseDownListener(this._domNode,s=>{if(this.state.type!==1)return;this._editor.focus(),s.preventDefault();const{top:l,height:h}=w.getDomNodePagePosition(this._domNode),p=this._editor.getOption(60);let S=Math.floor(p/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(S+=p),this._onClick.fire({x:s.posx,y:l+h+S,actions:this.state.actions,trigger:this.state.trigger})})),this._register(w.addDisposableListener(this._domNode,"mouseenter",s=>{(s.buttons&1)==1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(58)&&!this._editor.getOption(58).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(r,c,d){if(r.validActions.length<=0)return this.hide();const a=this._editor.getOptions();if(!a.get(58).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:l,column:h}=s.validatePosition(d),p=s.getOptions().tabSize,S=a.get(45),f=s.getLineContent(l),m=(0,_.computeIndentLevel)(f,p),C=S.spaceWidth*m>22,y=T=>T>2&&this._editor.getTopForLineNumber(T)===this._editor.getTopForLineNumber(T-1);let E=l;if(!C){if(l>1&&!y(l-1))E-=1;else if(!y(l+1))E+=1;else if(h*S.spaceWidth<22)return this.hide()}this.state=new i.Showing(r,c,d,{position:{lineNumber:E,column:1},preference:Ti._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=i.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(r){this._state=r,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...k.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...k.Codicon.lightbulbAutofix.classNamesArray);const c=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(c){this.title=b.localize(0,null,c.getLabel());return}}this._domNode.classList.remove(...k.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...k.Codicon.lightBulb.classNamesArray);const r=this._keybindingService.lookupKeybinding(this._quickFixActionId);r?this.title=b.localize(1,null,r.getLabel()):this.title=b.localize(2,null)}set title(r){this._domNode.title=r}};t._posPref=[0],t=ke([fe(3,u.IKeybindingService)],t),e.LightBulbWidget=t,(0,n.registerThemingParticipant)((o,r)=>{var c;const d=(c=o.getColor(g.editorBackground))===null||c===void 0?void 0:c.transparent(.7),a=o.getColor(g.editorLightBulbForeground);a&&r.addRule(`
		.monaco-editor .contentWidgets ${k.Codicon.lightBulb.cssSelector} {
			color: ${a};
			background-color: ${d};
		}`);const s=o.getColor(g.editorLightBulbAutoFixForeground);s&&r.addRule(`
		.monaco-editor .contentWidgets ${k.Codicon.lightbulbAutofix.cssSelector} {
			color: ${s};
			background-color: ${d};
		}`)})}),define(se[695],re([1,0,41,7,134,68,31,6,2,557,25,15,380]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const i=v.$;class t extends b.Disposable{constructor(h,p,S){super();this.model=p,this.domNode=i(".colorpicker-header"),v.append(h,this.domNode),this.pickedColorNode=v.append(this.domNode,i(".picked-color"));const f=(0,u.localize)(0,null);this.pickedColorNode.setAttribute("title",f);const m=v.append(this.domNode,i(".original-color"));m.style.backgroundColor=L.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(g.editorHoverBackground)||L.Color.white,this._register((0,n.registerThemingParticipant)((C,y)=>{this.backgroundColor=C.getColor(g.editorHoverBackground)||L.Color.white})),this._register(v.addDisposableListener(this.pickedColorNode,v.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(v.addDisposableListener(m,v.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(p.onDidChangeColor(this.onDidChangeColor,this)),this._register(p.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(p.color)||"",this.pickedColorNode.classList.toggle("light",p.color.rgba.a<.5?this.backgroundColor.isLighter():p.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(h){this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(h)||"",this.pickedColorNode.classList.toggle("light",h.rgba.a<.5?this.backgroundColor.isLighter():h.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(i(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=t;class o extends b.Disposable{constructor(h,p,S){super();this.model=p,this.pixelRatio=S,this.domNode=i(".colorpicker-body"),v.append(h,this.domNode),this.saturationBox=new r(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new d(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new a(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:h,v:p}){const S=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(S.h,h,p,S.a))}onDidOpacityChange(h){const p=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(p.h,p.s,p.v,h))}onDidHueChange(h){const p=this.model.color.hsva,S=(1-h)*360;this.model.color=new L.Color(new L.HSVA(S===360?0:S,p.s,p.v,p.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=o;class r extends b.Disposable{constructor(h,p,S){super();this.model=p,this.pixelRatio=S,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=i(".saturation-wrap"),v.append(h,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",v.append(this.domNode,this.canvas),this.selection=i(".saturation-selection"),v.append(this.domNode,this.selection),this.layout(),this._register(v.addDisposableListener(this.domNode,v.EventType.POINTER_DOWN,f=>this.onPointerDown(f))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(h){if(!h.target||!(h.target instanceof Element))return;this.monitor=this._register(new k.GlobalPointerMoveMonitor);const p=v.getDomNodePagePosition(this.domNode);h.target!==this.selection&&this.onDidChangePosition(h.offsetX,h.offsetY),this.monitor.startMonitoring(h.target,h.pointerId,h.buttons,f=>this.onDidChangePosition(f.pageX-p.left,f.pageY-p.top),()=>null);const S=v.addDisposableListener(document,v.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(h,p){const S=Math.max(0,Math.min(1,h/this.width)),f=Math.max(0,Math.min(1,1-p/this.height));this.paintSelection(S,f),this._onDidChange.fire({s:S,v:f})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const h=this.model.color.hsva;this.paintSelection(h.s,h.v)}paint(){const h=this.model.color.hsva,p=new L.Color(new L.HSVA(h.h,1,1,1)),S=this.canvas.getContext("2d"),f=S.createLinearGradient(0,0,this.canvas.width,0);f.addColorStop(0,"rgba(255, 255, 255, 1)"),f.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),f.addColorStop(1,"rgba(255, 255, 255, 0)");const m=S.createLinearGradient(0,0,0,this.canvas.height);m.addColorStop(0,"rgba(0, 0, 0, 0)"),m.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this.canvas.width,this.canvas.height),S.fillStyle=L.Color.Format.CSS.format(p),S.fill(),S.fillStyle=f,S.fill(),S.fillStyle=m,S.fill()}paintSelection(h,p){this.selection.style.left=`${h*this.width}px`,this.selection.style.top=`${this.height-p*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class c extends b.Disposable{constructor(h,p){super();this.model=p,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=v.append(h,i(".strip")),this.overlay=v.append(this.domNode,i(".overlay")),this.slider=v.append(this.domNode,i(".slider")),this.slider.style.top="0px",this._register(v.addDisposableListener(this.domNode,v.EventType.POINTER_DOWN,S=>this.onPointerDown(S))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const h=this.getValue(this.model.color);this.updateSliderPosition(h)}onPointerDown(h){if(!h.target||!(h.target instanceof Element))return;const p=this._register(new k.GlobalPointerMoveMonitor),S=v.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),h.target!==this.slider&&this.onDidChangeTop(h.offsetY),p.startMonitoring(h.target,h.pointerId,h.buttons,m=>this.onDidChangeTop(m.pageY-S.top),()=>null);const f=v.addDisposableListener(document,v.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),f.dispose(),p.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(h){const p=Math.max(0,Math.min(1,1-h/this.height));this.updateSliderPosition(p),this._onDidChange.fire(p)}updateSliderPosition(h){this.slider.style.top=`${(1-h)*this.height}px`}}class d extends c{constructor(h,p){super(h,p);this.domNode.classList.add("opacity-strip"),this._register(p.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(h){const{r:p,g:S,b:f}=h.rgba,m=new L.Color(new L.RGBA(p,S,f,1)),C=new L.Color(new L.RGBA(p,S,f,0));this.overlay.style.background=`linear-gradient(to bottom, ${m} 0%, ${C} 100%)`}getValue(h){return h.hsva.a}}class a extends c{constructor(h,p){super(h,p);this.domNode.classList.add("hue-strip")}getValue(h){return 1-h.hsva.h/360}}class s extends I.Widget{constructor(h,p,S,f){super();this.model=p,this.pixelRatio=S,this._register(w.PixelRatio.onDidChange(()=>this.layout()));const m=i(".colorpicker-widget");h.appendChild(m);const C=new t(m,this.model,f);this.body=new o(m,this.model,this.pixelRatio),this._register(C),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=s}),define(se[696],re([1,0,7,260,262,200,60,2,43,58,576,9,44,142,144,15,139]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let d=class{constructor(y){this._resolverService=y}hasChildren(y){return y instanceof c.ReferencesModel||y instanceof c.FileReferences}getChildren(y){if(y instanceof c.ReferencesModel)return y.groups;if(y instanceof c.FileReferences)return y.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};d=ke([fe(0,u.ITextModelService)],d),e.DataSource=d;class a{getHeight(){return 23}getTemplateId(y){return y instanceof c.FileReferences?p.id:f.id}}e.Delegate=a;let s=class{constructor(y){this._keybindingService=y}getKeyboardNavigationLabel(y){var E;if(y instanceof c.OneReference){const T=(E=y.parent.getPreview(y))===null||E===void 0?void 0:E.preview(y.range);if(T)return T.value}return(0,b.basename)(y.uri)}};s=ke([fe(0,i.IKeybindingService)],s),e.StringRepresentationProvider=s;class l{getId(y){return y instanceof c.OneReference?y.id:y.uri}}e.IdentityProvider=l;let h=class extends _.Disposable{constructor(y,E,T){super();this._labelService=E;const N=document.createElement("div");N.classList.add("reference-file"),this.file=this._register(new I.IconLabel(N,{supportHighlights:!0})),this.badge=new v.CountBadge(w.append(N,w.$(".count"))),this._register((0,o.attachBadgeStyler)(this.badge,T)),y.appendChild(N)}set(y,E){const T=(0,b.dirname)(y.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(y.uri),this._labelService.getUriLabel(T,{relative:!0}),{title:this._labelService.getUriLabel(y.uri),matches:E});const N=y.children.length;this.badge.setCount(N),N>1?this.badge.setTitleFormat((0,g.localize)(0,null,N)):this.badge.setTitleFormat((0,g.localize)(1,null,N))}};h=ke([fe(1,t.ILabelService),fe(2,r.IThemeService)],h);let p=class Mi{constructor(y){this._instantiationService=y,this.templateId=Mi.id}renderTemplate(y){return this._instantiationService.createInstance(h,y)}renderElement(y,E,T){T.set(y.element,(0,L.createMatches)(y.filterData))}disposeTemplate(y){y.dispose()}};p.id="FileReferencesRenderer",p=ke([fe(0,n.IInstantiationService)],p),e.FileReferencesRenderer=p;class S{constructor(y){this.label=new k.HighlightedLabel(y)}set(y,E){var T;const N=(T=y.parent.getPreview(y))===null||T===void 0?void 0:T.preview(y.range);if(!N||!N.value)this.label.set(`${(0,b.basename)(y.uri)}:${y.range.startLineNumber+1}:${y.range.startColumn+1}`);else{const{value:F,highlight:O}=N;E&&!L.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(F,(0,L.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(F,[O]))}}}class f{constructor(){this.templateId=f.id}renderTemplate(y){return new S(y)}renderElement(y,E,T){T.set(y.element,y.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=f,f.id="OneReferenceRenderer";class m{getWidgetAriaLabel(){return(0,g.localize)(2,null)}getAriaLabel(y){return y.ariaMessage}}e.AccessibilityProvider=m}),define(se[697],re([1,0,7,2,8,66,38,83,11,3,92,46,39,54,132,115,167,9,15,387]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const l=(s=window.trustedTypes)===null||s===void 0?void 0:s.createPolicy("editorGhostText",{createHTML:y=>y});let h=class extends v.Disposable{constructor(E,T,N,F){super();this.editor=E,this.model=T,this.instantiationService=N,this.languageService=F,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(S,this.editor)),this.additionalLinesWidget=this._register(new f(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new p(this.editor)),this._register(this.editor.onDidChangeConfiguration(O=>{(O.hasChanged(29)||O.hasChanged(107)||O.hasChanged(89)||O.hasChanged(84)||O.hasChanged(46)||O.hasChanged(45)||O.hasChanged(60))&&this.update()})),this._register((0,v.toDisposable)(()=>{var O;this.disposed=!0,this.update(),(O=this.viewMoreContentWidget)===null||O===void 0||O.dispose(),this.viewMoreContentWidget=void 0})),this._register(T.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(E){return this.additionalLinesWidget.viewZoneId===E}update(){var E;const T=this.model.ghostText;if(!this.editor.hasModel()||!T||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const N=new Array,F=new Array;function O(R,B){if(F.length>0){const W=F[F.length-1];B&&W.decorations.push(new o.LineDecoration(W.content.length+1,W.content.length+1+R[0].length,B,0)),W.content+=R[0],R=R.slice(1)}for(const W of R)F.push({content:W,decorations:B?[new o.LineDecoration(1,W.length+1,B,0)]:[]})}T instanceof c.GhostTextReplacement?this.replacementDecoration.setDecorations([{range:new u.Range(T.lineNumber,T.columnStart,T.lineNumber,T.columnStart+T.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const P=this.editor.getModel().getLineContent(T.lineNumber);let D,M=0;for(const R of T.parts){let B=R.lines;D===void 0?(N.push({column:R.column,text:B[0],preview:R.preview}),B=B.slice(1)):O([P.substring(M,R.column-1)],void 0),B.length>0&&(O(B,"ghost-text"),D===void 0&&R.column<=P.length&&(D=R.column)),M=R.column-1}D!==void 0&&O([P.substring(M)],void 0),this.partsWidget.setParts(T.lineNumber,N,D!==void 0?{column:D,length:P.length+1-D}:void 0),this.additionalLinesWidget.updateLines(T.lineNumber,F,T.additionalReservedLineCount),0<0?this.viewMoreContentWidget=this.renderViewMoreLines(new b.Position(T.lineNumber,this.editor.getModel().getLineMaxColumn(T.lineNumber)),"",0):((E=this.viewMoreContentWidget)===null||E===void 0||E.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(E,T,N){const F=this.editor.getOption(45),O=document.createElement("div");O.className="suggest-preview-additional-widget",(0,I.applyFontInfo)(O,F);const P=document.createElement("span");P.className="content-spacer",P.append(T),O.append(P);const D=document.createElement("span");D.className="content-newline suggest-preview-text",D.append("\u23CE  "),O.append(D);const M=new v.DisposableStore,R=document.createElement("div");return R.className="button suggest-preview-text",R.append(`+${N} lines\u2026`),M.add(w.addStandardDisposableListener(R,"mousedown",B=>{var W;(W=this.model)===null||W===void 0||W.setExpanded(!0),B.preventDefault(),this.editor.focus()})),O.append(R),new C(this.editor,E,O,M)}};h=ke([fe(2,d.IInstantiationService),fe(3,i.ILanguageService)],h),e.GhostTextWidget=h;class p{constructor(E){this.editor=E,this.decorationIds=[]}setDecorations(E){this.editor.changeDecorations(T=>{this.decorationIds=T.deltaDecorations(this.decorationIds,E)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class S{constructor(E){this.editor=E,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(E=>{this.decorationIds=E.deltaDecorations(this.decorationIds,[])})}setParts(E,T,N){if(!this.editor.getModel())return;const O=new Array;N&&O.push({range:u.Range.fromPositions(new b.Position(E,N.column),new b.Position(E,N.column+N.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(P=>{this.decorationIds=P.deltaDecorations(this.decorationIds,T.map(D=>({range:u.Range.fromPositions(new b.Position(E,D.column)),options:{description:"ghost-text",after:{content:D.text,inlineClassName:D.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:n.InjectedTextCursorStops.Left},showIfCollapsed:!0}})).concat(O))})}}class f{constructor(E,T){this.editor=E,this.languageIdCodec=T,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(E=>{this._viewZoneId&&(E.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(E,T,N){const F=this.editor.getModel();if(!F)return;const{tabSize:O}=F.getOptions();this.editor.changeViewZones(P=>{this._viewZoneId&&(P.removeZone(this._viewZoneId),this._viewZoneId=void 0);const D=Math.max(T.length,N);if(D>0){const M=document.createElement("div");m(M,O,T,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=P.addZone({afterLineNumber:E,heightInLines:D,domNode:M,afterColumnAffinity:1})}})}}function m(y,E,T,N,F){const O=N.get(29),P=N.get(107),D="none",M=N.get(84),R=N.get(46),B=N.get(45),W=N.get(60),V=(0,g.createStringBuilder)(1e4);V.appendASCIIString('<div class="suggest-preview-text">');for(let ee=0,U=T.length;ee<U;ee++){const j=T[ee],Z=j.content;V.appendASCIIString('<div class="view-line'),V.appendASCIIString('" style="top:'),V.appendASCIIString(String(ee*W)),V.appendASCIIString('px;width:1000000px;">');const ie=k.isBasicASCII(Z),Q=k.containsRTL(Z),J=_.LineTokens.createEmpty(Z,F);(0,r.renderViewLine)(new r.RenderLineInput(B.isMonospace&&!O,B.canUseHalfwidthRightwardsArrow,Z,!1,ie,Q,0,J,j.decorations,E,0,B.spaceWidth,B.middotWidth,B.wsmiddotWidth,P,D,M,R!==L.EditorFontLigatures.OFF,null),V),V.appendASCIIString("</div>")}V.appendASCIIString("</div>"),(0,I.applyFontInfo)(y,B);const A=V.build(),Y=l?l.createHTML(A):A;y.innerHTML=Y}class C extends v.Disposable{constructor(E,T,N,F){super();this.editor=E,this.position=T,this.domNode=N,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(F),this._register((0,v.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,a.registerThemingParticipant)((y,E)=>{const T=y.getColor(t.ghostTextForeground);T&&(E.addRule(`.monaco-editor .ghost-text-decoration { color: ${T.toString()} !important; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${T.toString()} !important; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${T.toString()} !important; }`));const N=y.getColor(t.ghostTextBackground);N&&(E.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${N.toString()}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${N.toString()}; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${N.toString()}; }`));const F=y.getColor(t.ghostTextBorder);F&&(E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${F}; }`),E.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${F}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${F}; }`))})}),define(se[304],re([1,0,98,2,20,156,46,54,15]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class u{constructor(n){this.options=n,this.rangeHighlightDecorationId=void 0}provide(n,i){var t;const o=new v.DisposableStore;n.canAcceptInBackground=!!((t=this.options)===null||t===void 0?void 0:t.canAcceptInBackground),n.matchOnLabel=n.matchOnDescription=n.matchOnDetail=n.sortByLabel=!1;const r=o.add(new v.MutableDisposable);return r.value=this.doProvide(n,i),o.add(this.onDidActiveTextEditorControlChange(()=>{r.value=void 0,r.value=this.doProvide(n,i)})),o}doProvide(n,i){const t=new v.DisposableStore,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const r={editor:o},c=(0,I.getCodeEditor)(o);if(c){let d=(0,k.withNullAsUndefined)(o.saveViewState());t.add(c.onDidChangeCursorPosition(()=>{d=(0,k.withNullAsUndefined)(o.saveViewState())})),r.restoreViewState=()=>{d&&o===this.activeTextEditorControl&&o.restoreViewState(d)},t.add((0,w.once)(i.onCancellationRequested)(()=>{var a;return(a=r.restoreViewState)===null||a===void 0?void 0:a.call(r)}))}t.add((0,v.toDisposable)(()=>this.clearDecorations(o))),t.add(this.provideWithTextEditor(r,n,i))}else t.add(this.provideWithoutTextEditor(n,i));return t}canProvideWithTextEditor(n){return!0}gotoLocation({editor:n},i){n.setSelection(i.range),n.revealRangeInCenter(i.range,0),i.preserveFocus||n.focus()}getModel(n){var i;return(0,I.isDiffEditor)(n)?(i=n.getModel())===null||i===void 0?void 0:i.modified:n.getModel()}addDecorations(n,i){n.changeDecorations(t=>{const o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const r=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,b.themeColorFromId)(_.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}],[c,d]=t.deltaDecorations(o,r);this.rangeHighlightDecorationId={rangeHighlightId:c,overviewRulerDecorationId:d}})}clearDecorations(n){const i=this.rangeHighlightDecorationId;i&&(n.changeDecorations(t=>{t.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=u}),define(se[698],re([1,0,2,156,304,597]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class L extends k.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(b){const u=(0,I.localize)(0,null);return b.items=[{label:u}],b.ariaLabel=u,w.Disposable.None}provideWithTextEditor(b,u,g){const n=b.editor,i=new w.DisposableStore;i.add(u.onDidAccept(r=>{const[c]=u.selectedItems;if(c){if(!this.isValidLineNumber(n,c.lineNumber))return;this.gotoLocation(b,{range:this.toRange(c.lineNumber,c.column),keyMods:u.keyMods,preserveFocus:r.inBackground}),r.inBackground||u.hide()}}));const t=()=>{const r=this.parsePosition(n,u.value.trim().substr(L.PREFIX.length)),c=this.getPickLabel(n,r.lineNumber,r.column);if(u.items=[{lineNumber:r.lineNumber,column:r.column,label:c}],u.ariaLabel=c,!this.isValidLineNumber(n,r.lineNumber)){this.clearDecorations(n);return}const d=this.toRange(r.lineNumber,r.column);n.revealRangeInCenter(d,0),this.addDecorations(n,d)};t(),i.add(u.onDidChangeValue(()=>t()));const o=(0,v.getCodeEditor)(n);return o&&o.getOptions().get(61).renderType===2&&(o.updateOptions({lineNumbers:"on"}),i.add((0,w.toDisposable)(()=>o.updateOptions({lineNumbers:"relative"})))),i}toRange(b=1,u=1){return{startLineNumber:b,startColumn:u,endLineNumber:b,endColumn:u}}parsePosition(b,u){const g=u.split(/,|:|#/).map(i=>parseInt(i,10)).filter(i=>!isNaN(i)),n=this.lineCount(b)+1;return{lineNumber:g[0]>0?g[0]:n+g[0],column:g[1]}}getPickLabel(b,u,g){if(this.isValidLineNumber(b,u))return this.isValidColumn(b,u,g)?(0,I.localize)(1,null,u,g):(0,I.localize)(2,null,u);const n=b.getPosition()||{lineNumber:1,column:1},i=this.lineCount(b);return i>1?(0,I.localize)(3,null,n.lineNumber,n.column,i):(0,I.localize)(4,null,n.lineNumber,n.column)}isValidLineNumber(b,u){return!u||typeof u!="number"?!1:u>0&&u<=this.lineCount(b)}isValidColumn(b,u,g){if(!g||typeof g!="number")return!1;const n=this.getModel(b);if(!n)return!1;const i={lineNumber:u,column:g};return n.validatePosition(i).equals(i)}lineCount(b){var u,g;return(g=(u=this.getModel(b))===null||u===void 0?void 0:u.getLineCount())!==null&&g!==void 0?g:0}}e.AbstractGotoLineQuickAccessProvider=L,L.PREFIX=":"}),define(se[699],re([1,0,10,21,27,485,2,8,3,28,170,304,598,19,17]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let r=class ri extends n.AbstractEditorNavigationQuickAccessProvider{constructor(s,l,h=Object.create(null)){super(h);this._languageFeaturesService=s,this._outlineModelService=l,this.options=h,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,i.localize)(0,null)),L.Disposable.None}provideWithTextEditor(s,l,h){const p=s.editor,S=this.getModel(p);return S?this._languageFeaturesService.documentSymbolProvider.has(S)?this.doProvideWithEditorSymbols(s,S,l,h):this.doProvideWithoutEditorSymbols(s,S,l,h):L.Disposable.None}doProvideWithoutEditorSymbols(s,l,h,p){const S=new L.DisposableStore;return this.provideLabelPick(h,(0,i.localize)(1,null)),(()=>Se(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(l,S))||p.isCancellationRequested||S.add(this.doProvideWithEditorSymbols(s,l,h,p))}))(),S}provideLabelPick(s,l){s.items=[{label:l,index:0,kind:14}],s.ariaLabel=l}waitForLanguageSymbolRegistry(s,l){return Se(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(s))return!0;const h=new w.DeferredPromise,p=l.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(s)&&(p.dispose(),h.complete(!0))}));return l.add((0,L.toDisposable)(()=>h.complete(!1))),h.p})}doProvideWithEditorSymbols(s,l,h,p){var S;const f=s.editor,m=new L.DisposableStore;m.add(h.onDidAccept(N=>{const[F]=h.selectedItems;F&&F.range&&(this.gotoLocation(s,{range:F.range.selection,keyMods:h.keyMods,preserveFocus:N.inBackground}),N.inBackground||h.hide())})),m.add(h.onDidTriggerItemButton(({item:N})=>{N&&N.range&&(this.gotoLocation(s,{range:N.range.selection,keyMods:h.keyMods,forceSideBySide:!0}),h.hide())}));const C=this.getDocumentSymbols(l,p);let y;const E=N=>Se(this,void 0,void 0,function*(){y==null||y.dispose(!0),h.busy=!1,y=new v.CancellationTokenSource(p),h.busy=!0;try{const F=(0,I.prepareQuery)(h.value.substr(ri.PREFIX.length).trim()),O=yield this.doGetSymbolPicks(C,F,void 0,y.token);if(p.isCancellationRequested)return;if(O.length>0){if(h.items=O,N&&F.original.length===0){const P=(0,o.findLast)(O,D=>Boolean(D.type!=="separator"&&D.range&&b.Range.containsPosition(D.range.decoration,N)));P&&(h.activeItems=[P])}}else F.original.length>0?this.provideLabelPick(h,(0,i.localize)(2,null)):this.provideLabelPick(h,(0,i.localize)(3,null))}finally{p.isCancellationRequested||(h.busy=!1)}});m.add(h.onDidChangeValue(()=>E(void 0))),E((S=f.getSelection())===null||S===void 0?void 0:S.getPosition());let T=2;return m.add(h.onDidChangeActive(()=>{const[N]=h.activeItems;if(N&&N.range){if(T-- >0)return;f.revealRangeInCenter(N.range.selection,0),this.addDecorations(f,N.range.decoration)}})),m}doGetSymbolPicks(s,l,h,p){return Se(this,void 0,void 0,function*(){const S=yield s;if(p.isCancellationRequested)return[];const f=l.original.indexOf(ri.SCOPE_PREFIX)===0,m=f?1:0;let C,y;l.values&&l.values.length>1?(C=(0,I.pieceToQuery)(l.values[0]),y=(0,I.pieceToQuery)(l.values.slice(1))):C=l;const E=[];for(let F=0;F<S.length;F++){const O=S[F],P=(0,_.trim)(O.name),D=`$(${u.SymbolKinds.toIcon(O.kind).id}) ${P}`,M=D.length-P.length;let R=O.containerName;(h==null?void 0:h.extraContainerLabel)&&(R?R=`${h.extraContainerLabel} \u2022 ${R}`:R=h.extraContainerLabel);let B,W,V,A;if(l.original.length>m){let ee=!1;if(C!==l&&([B,W]=(0,I.scoreFuzzy2)(D,Object.assign(Object.assign({},l),{values:void 0}),m,M),typeof B=="number"&&(ee=!0)),typeof B!="number"&&([B,W]=(0,I.scoreFuzzy2)(D,C,m,M),typeof B!="number"))continue;if(!ee&&y){if(R&&y.original.length>0&&([V,A]=(0,I.scoreFuzzy2)(R,y)),typeof V!="number")continue;typeof B=="number"&&(B+=V)}}const Y=O.tags&&O.tags.indexOf(1)>=0;E.push({index:F,kind:O.kind,score:B,label:D,ariaLabel:P,description:R,highlights:Y?void 0:{label:W,description:A},range:{selection:b.Range.collapseToStart(O.selectionRange),decoration:O.range},strikethrough:Y,buttons:(()=>{var ee,U;const j=((ee=this.options)===null||ee===void 0?void 0:ee.openSideBySideDirection)?(U=this.options)===null||U===void 0?void 0:U.openSideBySideDirection():void 0;if(!!j)return[{iconClass:j==="right"?k.Codicon.splitHorizontal.classNames:k.Codicon.splitVertical.classNames,tooltip:j==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]})()})}const T=E.sort((F,O)=>f?this.compareByKindAndScore(F,O):this.compareByScore(F,O));let N=[];if(f){let D=function(){O&&typeof F=="number"&&P>0&&(O.label=(0,_.format)(d[F]||c,P))},F,O,P=0;for(const M of T)F!==M.kind?(D(),F=M.kind,P=1,O={type:"separator"},N.push(O)):P++,N.push(M);D()}else T.length>0&&(N=[{label:(0,i.localize)(6,null,E.length),type:"separator"},...T]);return N})}compareByScore(s,l){if(typeof s.score!="number"&&typeof l.score=="number")return 1;if(typeof s.score=="number"&&typeof l.score!="number")return-1;if(typeof s.score=="number"&&typeof l.score=="number"){if(s.score>l.score)return-1;if(s.score<l.score)return 1}return s.index<l.index?-1:s.index>l.index?1:0}compareByKindAndScore(s,l){const h=d[s.kind]||c,p=d[l.kind]||c,S=h.localeCompare(p);return S===0?this.compareByScore(s,l):S}getDocumentSymbols(s,l){return Se(this,void 0,void 0,function*(){const h=yield this._outlineModelService.getOrCreate(s,l);return l.isCancellationRequested?[]:h.asListOfDocumentSymbols()})}};r.PREFIX="@",r.SCOPE_PREFIX=":",r.PREFIX_BY_CATEGORY=`${r.PREFIX}${r.SCOPE_PREFIX}`,r=ke([fe(0,t.ILanguageFeaturesService),fe(1,g.IOutlineModelService)],r),e.AbstractGotoSymbolQuickAccessProvider=r;const c=(0,i.localize)(7,null),d={[5]:(0,i.localize)(8,null),[11]:(0,i.localize)(9,null),[8]:(0,i.localize)(10,null),[12]:(0,i.localize)(11,null),[4]:(0,i.localize)(12,null),[22]:(0,i.localize)(13,null),[23]:(0,i.localize)(14,null),[24]:(0,i.localize)(15,null),[10]:(0,i.localize)(16,null),[2]:(0,i.localize)(17,null),[3]:(0,i.localize)(18,null),[25]:(0,i.localize)(19,null),[1]:(0,i.localize)(20,null),[6]:(0,i.localize)(21,null),[9]:(0,i.localize)(22,null),[21]:(0,i.localize)(23,null),[14]:(0,i.localize)(24,null),[0]:(0,i.localize)(25,null),[17]:(0,i.localize)(26,null),[15]:(0,i.localize)(27,null),[16]:(0,i.localize)(28,null),[18]:(0,i.localize)(29,null),[19]:(0,i.localize)(30,null),[7]:(0,i.localize)(31,null),[13]:(0,i.localize)(32,null)}}),define(se[700],re([1,0,2,11,601,16,44,25,15,392]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new I.RawContextKey("renameInputVisible",!1,(0,k.localize)(0,null));let u=class{constructor(n,i,t,o,r){this._editor=n,this._acceptKeybindings=i,this._themeService=t,this._keybindingService=o,this._disposables=new w.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(45)&&this._updateFont()})),this._disposables.add(t.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,k.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const n=()=>{var i,t;const[o,r]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(o),this._label.innerText=(0,k.localize)(2,null,(i=this._keybindingService.lookupKeybinding(o))===null||i===void 0?void 0:i.getLabel(),(t=this._keybindingService.lookupKeybinding(r))===null||t===void 0?void 0:t.getLabel())};n(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(n)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(n){var i,t,o,r;if(!this._input||!this._domNode)return;const c=n.getColor(_.widgetShadow);this._domNode.style.backgroundColor=String((i=n.getColor(_.editorWidgetBackground))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=c?` 0 0 8px 2px ${c}`:"",this._domNode.style.color=String((t=n.getColor(_.inputForeground))!==null&&t!==void 0?t:""),this._input.style.backgroundColor=String((o=n.getColor(_.inputBackground))!==null&&o!==void 0?o:"");const d=n.getColor(_.inputBorder);this._input.style.borderWidth=d?"1px":"0px",this._input.style.borderStyle=d?"solid":"none",this._input.style.borderColor=(r=d==null?void 0:d.toString())!==null&&r!==void 0?r:"none"}_updateFont(){if(!this._input||!this._label)return;const n=this._editor.getOption(45);this._input.style.fontFamily=n.fontFamily,this._input.style.fontWeight=n.fontWeight,this._input.style.fontSize=`${n.fontSize}px`,this._label.style.fontSize=`${n.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(n){n||this.cancelInput(!0)}acceptInput(n){var i;(i=this._currentAcceptInput)===null||i===void 0||i.call(this,n)}cancelInput(n){var i;(i=this._currentCancelInput)===null||i===void 0||i.call(this,n)}getInput(n,i,t,o,r,c){this._domNode.classList.toggle("preview",r),this._position=new v.Position(n.startLineNumber,n.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",t.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max((n.endColumn-n.startColumn)*1.1,20);const d=new w.DisposableStore;return new Promise(a=>{this._currentCancelInput=s=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,a(s),!0),this._currentAcceptInput=s=>{if(this._input.value.trim().length===0||this._input.value===i){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,a({newName:this._input.value,wantsPreview:r&&s})},d.add(c.onCancellationRequested(()=>this.cancelInput(!0))),d.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{d.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};u=ke([fe(2,b.IThemeService),fe(3,L.IKeybindingService),fe(4,I.IContextKeyService)],u),e.RenameInputField=u}),define(se[219],re([1,0,27,612,25,15]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,v.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,v.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,v.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,v.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,v.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,v.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,v.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,v.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,v.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,v.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,v.localize)(32,null)),(0,I.registerThemingParticipant)((L,_)=>{const b=L.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);b&&_.addRule(`${w.Codicon.symbolArray.cssSelector} { color: ${b}; }`);const u=L.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);u&&_.addRule(`${w.Codicon.symbolBoolean.cssSelector} { color: ${u}; }`);const g=L.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);g&&_.addRule(`${w.Codicon.symbolClass.cssSelector} { color: ${g}; }`);const n=L.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);n&&_.addRule(`${w.Codicon.symbolMethod.cssSelector} { color: ${n}; }`);const i=L.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);i&&_.addRule(`${w.Codicon.symbolColor.cssSelector} { color: ${i}; }`);const t=L.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);t&&_.addRule(`${w.Codicon.symbolConstant.cssSelector} { color: ${t}; }`);const o=L.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);o&&_.addRule(`${w.Codicon.symbolConstructor.cssSelector} { color: ${o}; }`);const r=L.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);r&&_.addRule(`
			${w.Codicon.symbolValue.cssSelector},${w.Codicon.symbolEnum.cssSelector} { color: ${r}; }`);const c=L.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);c&&_.addRule(`${w.Codicon.symbolEnumMember.cssSelector} { color: ${c}; }`);const d=L.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);d&&_.addRule(`${w.Codicon.symbolEvent.cssSelector} { color: ${d}; }`);const a=L.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);a&&_.addRule(`${w.Codicon.symbolField.cssSelector} { color: ${a}; }`);const s=L.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);s&&_.addRule(`${w.Codicon.symbolFile.cssSelector} { color: ${s}; }`);const l=L.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);l&&_.addRule(`${w.Codicon.symbolFolder.cssSelector} { color: ${l}; }`);const h=L.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&_.addRule(`${w.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const p=L.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);p&&_.addRule(`${w.Codicon.symbolInterface.cssSelector} { color: ${p}; }`);const S=L.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);S&&_.addRule(`${w.Codicon.symbolKey.cssSelector} { color: ${S}; }`);const f=L.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);f&&_.addRule(`${w.Codicon.symbolKeyword.cssSelector} { color: ${f}; }`);const m=L.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);m&&_.addRule(`${w.Codicon.symbolModule.cssSelector} { color: ${m}; }`);const C=L.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);C&&_.addRule(`${w.Codicon.symbolNamespace.cssSelector} { color: ${C}; }`);const y=L.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);y&&_.addRule(`${w.Codicon.symbolNull.cssSelector} { color: ${y}; }`);const E=L.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);E&&_.addRule(`${w.Codicon.symbolNumber.cssSelector} { color: ${E}; }`);const T=L.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);T&&_.addRule(`${w.Codicon.symbolObject.cssSelector} { color: ${T}; }`);const N=L.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);N&&_.addRule(`${w.Codicon.symbolOperator.cssSelector} { color: ${N}; }`);const F=L.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);F&&_.addRule(`${w.Codicon.symbolPackage.cssSelector} { color: ${F}; }`);const O=L.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);O&&_.addRule(`${w.Codicon.symbolProperty.cssSelector} { color: ${O}; }`);const P=L.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);P&&_.addRule(`${w.Codicon.symbolReference.cssSelector} { color: ${P}; }`);const D=L.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);D&&_.addRule(`${w.Codicon.symbolSnippet.cssSelector} { color: ${D}; }`);const M=L.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);M&&_.addRule(`${w.Codicon.symbolString.cssSelector} { color: ${M}; }`);const R=L.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);R&&_.addRule(`${w.Codicon.symbolStruct.cssSelector} { color: ${R}; }`);const B=L.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);B&&_.addRule(`${w.Codicon.symbolText.cssSelector} { color: ${B}; }`);const W=L.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);W&&_.addRule(`${w.Codicon.symbolTypeParameter.cssSelector} { color: ${W}; }`);const V=L.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);V&&_.addRule(`${w.Codicon.symbolUnit.cssSelector} { color: ${V}; }`);const A=L.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);A&&_.addRule(`${w.Codicon.symbolVariable.cssSelector} { color: ${A}; }`)})}),define(se[305],re([1,0,7,52,681,29,16,53,15]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let u=class extends k.AbstractCodeEditorService{constructor(n,i){super(i);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=n.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((t,o,r)=>Se(this,void 0,void 0,function*(){return o?this.doOpenEditor(o,t):null}))}_checkContextKey(){let n=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){n=!0;break}this._editorIsOpen.set(n)}setActiveCodeEditor(n){this._activeCodeEditor=n}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(n,i){if(!this.findModel(n,i.resource)){if(i.resource){const r=i.resource.scheme;if(r===v.Schemas.http||r===v.Schemas.https)return(0,w.windowOpenNoOpener)(i.resource.toString()),n}return null}const o=i.options?i.options.selection:null;if(o)if(typeof o.endLineNumber=="number"&&typeof o.endColumn=="number")n.setSelection(o),n.revealRangeInCenter(o,1);else{const r={lineNumber:o.startLineNumber,column:o.startColumn};n.setPosition(r),n.revealPositionInCenter(r,1)}return n}findModel(n,i){const t=n.getModel();return t&&t.uri.toString()!==i.toString()?null:t}};u=ke([fe(0,L.IContextKeyService),fe(1,b.IThemeService)],u),e.StandaloneCodeEditorService=u,(0,_.registerSingleton)(I.ICodeEditorService,u)}),define(se[701],re([1,0,54,25]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[v.editorBackground]:"#FFFFFE",[v.editorForeground]:"#000000",[v.editorInactiveSelection]:"#E5EBF1",[w.editorIndentGuides]:"#D3D3D3",[w.editorActiveIndentGuides]:"#939393",[v.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[v.editorBackground]:"#1E1E1E",[v.editorForeground]:"#D4D4D4",[v.editorInactiveSelection]:"#3A3D41",[w.editorIndentGuides]:"#404040",[w.editorActiveIndentGuides]:"#707070",[v.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[v.editorBackground]:"#000000",[v.editorForeground]:"#FFFFFF",[w.editorIndentGuides]:"#FFFFFF",[w.editorActiveIndentGuides]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[v.editorBackground]:"#FFFFFF",[v.editorForeground]:"#292929",[w.editorIndentGuides]:"#292929",[w.editorActiveIndentGuides]:"#292929"}}});var Dn=this&&this.__rest||function(G,e){var w={};for(var v in G)Object.prototype.hasOwnProperty.call(G,v)&&e.indexOf(v)<0&&(w[v]=G[v]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,v=Object.getOwnPropertySymbols(G);k<v.length;k++)e.indexOf(v[k])<0&&Object.prototype.propertyIsEnumerable.call(G,v[k])&&(w[v[k]]=G[v[k]]);return w};define(se[36],re([1,0,42,27,6,55,2,73,26,16,9,95,15]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function t(s){return s.command!==void 0}e.isIMenuItem=t;class o{constructor(l){if(o._instances.has(l))throw new TypeError(`MenuId with identifier '${l}' already exists. Use MenuId.for(ident) or a unique identifier`);o._instances.set(l,this),this.id=l}}e.MenuId=o,o._instances=new Map,o.CommandPalette=new o("CommandPalette"),o.DebugBreakpointsContext=new o("DebugBreakpointsContext"),o.DebugCallStackContext=new o("DebugCallStackContext"),o.DebugConsoleContext=new o("DebugConsoleContext"),o.DebugVariablesContext=new o("DebugVariablesContext"),o.DebugWatchContext=new o("DebugWatchContext"),o.DebugToolBar=new o("DebugToolBar"),o.DebugToolBarStop=new o("DebugToolBarStop"),o.EditorContext=new o("EditorContext"),o.SimpleEditorContext=new o("SimpleEditorContext"),o.EditorContent=new o("EditorContent"),o.EditorContextCopy=new o("EditorContextCopy"),o.EditorContextPeek=new o("EditorContextPeek"),o.EditorContextShare=new o("EditorContextShare"),o.EditorTitle=new o("EditorTitle"),o.EditorTitleRun=new o("EditorTitleRun"),o.EditorTitleContext=new o("EditorTitleContext"),o.EmptyEditorGroup=new o("EmptyEditorGroup"),o.EmptyEditorGroupContext=new o("EmptyEditorGroupContext"),o.ExplorerContext=new o("ExplorerContext"),o.ExtensionContext=new o("ExtensionContext"),o.GlobalActivity=new o("GlobalActivity"),o.CommandCenter=new o("CommandCenter"),o.LayoutControlMenuSubmenu=new o("LayoutControlMenuSubmenu"),o.LayoutControlMenu=new o("LayoutControlMenu"),o.MenubarMainMenu=new o("MenubarMainMenu"),o.MenubarAppearanceMenu=new o("MenubarAppearanceMenu"),o.MenubarDebugMenu=new o("MenubarDebugMenu"),o.MenubarEditMenu=new o("MenubarEditMenu"),o.MenubarCopy=new o("MenubarCopy"),o.MenubarFileMenu=new o("MenubarFileMenu"),o.MenubarGoMenu=new o("MenubarGoMenu"),o.MenubarHelpMenu=new o("MenubarHelpMenu"),o.MenubarLayoutMenu=new o("MenubarLayoutMenu"),o.MenubarNewBreakpointMenu=new o("MenubarNewBreakpointMenu"),o.MenubarPanelAlignmentMenu=new o("MenubarPanelAlignmentMenu"),o.MenubarPanelPositionMenu=new o("MenubarPanelPositionMenu"),o.MenubarPreferencesMenu=new o("MenubarPreferencesMenu"),o.MenubarRecentMenu=new o("MenubarRecentMenu"),o.MenubarSelectionMenu=new o("MenubarSelectionMenu"),o.MenubarShare=new o("MenubarShare"),o.MenubarSwitchEditorMenu=new o("MenubarSwitchEditorMenu"),o.MenubarSwitchGroupMenu=new o("MenubarSwitchGroupMenu"),o.MenubarTerminalMenu=new o("MenubarTerminalMenu"),o.MenubarViewMenu=new o("MenubarViewMenu"),o.MenubarHomeMenu=new o("MenubarHomeMenu"),o.OpenEditorsContext=new o("OpenEditorsContext"),o.ProblemsPanelContext=new o("ProblemsPanelContext"),o.SCMChangeContext=new o("SCMChangeContext"),o.SCMResourceContext=new o("SCMResourceContext"),o.SCMResourceFolderContext=new o("SCMResourceFolderContext"),o.SCMResourceGroupContext=new o("SCMResourceGroupContext"),o.SCMSourceControl=new o("SCMSourceControl"),o.SCMTitle=new o("SCMTitle"),o.SearchContext=new o("SearchContext"),o.StatusBarWindowIndicatorMenu=new o("StatusBarWindowIndicatorMenu"),o.StatusBarRemoteIndicatorMenu=new o("StatusBarRemoteIndicatorMenu"),o.TestItem=new o("TestItem"),o.TestItemGutter=new o("TestItemGutter"),o.TestPeekElement=new o("TestPeekElement"),o.TestPeekTitle=new o("TestPeekTitle"),o.TouchBarContext=new o("TouchBarContext"),o.TitleBarContext=new o("TitleBarContext"),o.TitleBarTitleContext=new o("TitleBarTitleContext"),o.TunnelContext=new o("TunnelContext"),o.TunnelPrivacy=new o("TunnelPrivacy"),o.TunnelProtocol=new o("TunnelProtocol"),o.TunnelPortInline=new o("TunnelInline"),o.TunnelTitle=new o("TunnelTitle"),o.TunnelLocalAddressInline=new o("TunnelLocalAddressInline"),o.TunnelOriginInline=new o("TunnelOriginInline"),o.ViewItemContext=new o("ViewItemContext"),o.ViewContainerTitle=new o("ViewContainerTitle"),o.ViewContainerTitleContext=new o("ViewContainerTitleContext"),o.ViewTitle=new o("ViewTitle"),o.ViewTitleContext=new o("ViewTitleContext"),o.CommentThreadTitle=new o("CommentThreadTitle"),o.CommentThreadActions=new o("CommentThreadActions"),o.CommentThreadTitleContext=new o("CommentThreadTitleContext"),o.CommentThreadCommentContext=new o("CommentThreadCommentContext"),o.CommentTitle=new o("CommentTitle"),o.CommentActions=new o("CommentActions"),o.InteractiveToolbar=new o("InteractiveToolbar"),o.InteractiveCellTitle=new o("InteractiveCellTitle"),o.InteractiveCellDelete=new o("InteractiveCellDelete"),o.InteractiveCellExecute=new o("InteractiveCellExecute"),o.InteractiveInputExecute=new o("InteractiveInputExecute"),o.NotebookToolbar=new o("NotebookToolbar"),o.NotebookCellTitle=new o("NotebookCellTitle"),o.NotebookCellDelete=new o("NotebookCellDelete"),o.NotebookCellInsert=new o("NotebookCellInsert"),o.NotebookCellBetween=new o("NotebookCellBetween"),o.NotebookCellListTop=new o("NotebookCellTop"),o.NotebookCellExecute=new o("NotebookCellExecute"),o.NotebookCellExecutePrimary=new o("NotebookCellExecutePrimary"),o.NotebookDiffCellInputTitle=new o("NotebookDiffCellInputTitle"),o.NotebookDiffCellMetadataTitle=new o("NotebookDiffCellMetadataTitle"),o.NotebookDiffCellOutputsTitle=new o("NotebookDiffCellOutputsTitle"),o.NotebookOutputToolbar=new o("NotebookOutputToolbar"),o.NotebookEditorLayoutConfigure=new o("NotebookEditorLayoutConfigure"),o.NotebookKernelSource=new o("NotebookKernelSource"),o.BulkEditTitle=new o("BulkEditTitle"),o.BulkEditContext=new o("BulkEditContext"),o.TimelineItemContext=new o("TimelineItemContext"),o.TimelineTitle=new o("TimelineTitle"),o.TimelineTitleContext=new o("TimelineTitleContext"),o.TimelineFilterSubMenu=new o("TimelineFilterSubMenu"),o.AccountsContext=new o("AccountsContext"),o.PanelTitle=new o("PanelTitle"),o.AuxiliaryBarTitle=new o("AuxiliaryBarTitle"),o.TerminalInstanceContext=new o("TerminalInstanceContext"),o.TerminalEditorInstanceContext=new o("TerminalEditorInstanceContext"),o.TerminalNewDropdownContext=new o("TerminalNewDropdownContext"),o.TerminalTabContext=new o("TerminalTabContext"),o.TerminalTabEmptyAreaContext=new o("TerminalTabEmptyAreaContext"),o.TerminalInlineTabContext=new o("TerminalInlineTabContext"),o.WebviewContext=new o("WebviewContext"),o.InlineCompletionsActions=new o("InlineCompletionsActions"),o.NewFile=new o("NewFile"),o.MergeInput1Toolbar=new o("MergeToolbar1Toolbar"),o.MergeInput2Toolbar=new o("MergeToolbar2Toolbar"),e.IMenuService=(0,g.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new k.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:s=>s===o.CommandPalette}}addCommand(s){return this.addCommands(I.Iterable.single(s))}addCommands(s){for(const l of s)this._commands.set(l.id,l);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,L.toDisposable)(()=>{let l=!1;for(const h of s)l=this._commands.delete(h.id)||l;l&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(s){return this._commands.get(s)}getCommands(){const s=new Map;return this._commands.forEach((l,h)=>s.set(h,l)),s}appendMenuItem(s,l){return this.appendMenuItems(I.Iterable.single({id:s,item:l}))}appendMenuItems(s){const l=new Set,h=new _.LinkedList;for(const{id:p,item:S}of s){let f=this._menuItems.get(p);f||(f=new _.LinkedList,this._menuItems.set(p,f)),h.push(f.push(S)),l.add(p)}return this._onDidChangeMenu.fire(l),(0,L.toDisposable)(()=>{if(h.size>0){for(const p of h)p();this._onDidChangeMenu.fire(l),h.clear()}})}getMenuItems(s){let l;return this._menuItems.has(s)?l=[...this._menuItems.get(s)]:l=[],s===o.CommandPalette&&this._appendImplicitItems(l),l}_appendImplicitItems(s){const l=new Set;for(const h of s)t(h)&&(l.add(h.command.id),h.alt&&l.add(h.alt.id));this._commands.forEach((h,p)=>{l.has(p)||s.push({command:h})})}};class r extends w.SubmenuAction{constructor(l,h,p,S){super(`submenuitem.${l.submenu.id}`,typeof l.title=="string"?l.title:l.title.value,[],"submenu");this.item=l,this._menuService=h,this._contextKeyService=p,this._options=S}get actions(){const l=[],h=this._menuService.createMenu(this.item.submenu,this._contextKeyService),p=h.getActions(this._options);h.dispose();for(const[,S]of p)S.length>0&&(l.push(...S),l.push(new w.Separator));return l.length&&l.pop(),l}}e.SubmenuItemAction=r;let c=class Ai{constructor(l,h,p,S,f,m){var C,y;if(this.hideActions=S,this._commandService=m,this.id=l.id,this.label=(p==null?void 0:p.renderShortTitle)&&l.shortTitle?typeof l.shortTitle=="string"?l.shortTitle:l.shortTitle.value:typeof l.title=="string"?l.title:l.title.value,this.tooltip=(y=typeof l.tooltip=="string"?l.tooltip:(C=l.tooltip)===null||C===void 0?void 0:C.value)!==null&&y!==void 0?y:"",this.enabled=!l.precondition||f.contextMatchesRules(l.precondition),this.checked=void 0,l.toggled){const E=l.toggled.condition?l.toggled:{condition:l.toggled};this.checked=f.contextMatchesRules(E.condition),this.checked&&E.tooltip&&(this.tooltip=typeof E.tooltip=="string"?E.tooltip:E.tooltip.value),E.title&&(this.label=typeof E.title=="string"?E.title:E.title.value)}this.item=l,this.alt=h?new Ai(h,void 0,p,S,f,m):void 0,this._options=p,i.ThemeIcon.isThemeIcon(l.icon)&&(this.class=v.CSSIcon.asClassName(l.icon))}run(...l){var h,p;let S=[];return((h=this._options)===null||h===void 0?void 0:h.arg)&&(S=[...S,this._options.arg]),((p=this._options)===null||p===void 0?void 0:p.shouldForwardArgs)&&(S=[...S,...l]),this._commandService.executeCommand(this.id,...S)}};c=ke([fe(4,u.IContextKeyService),fe(5,b.ICommandService)],c),e.MenuItemAction=c;class d{constructor(l){this.desc=l}}e.Action2=d;function a(s){const l=new L.DisposableStore,h=new s,p=h.desc,{f1:S,menu:f,keybinding:m,description:C}=p,y=Dn(p,["f1","menu","keybinding","description"]);if(l.add(b.CommandsRegistry.registerCommand({id:y.id,handler:(E,...T)=>h.run(E,...T),description:C})),Array.isArray(f)?l.add(e.MenuRegistry.appendMenuItems(f.map(E=>({id:E.id,item:Object.assign({command:y},E)})))):f&&l.add(e.MenuRegistry.appendMenuItem(f.id,Object.assign({command:y},f))),S&&(l.add(e.MenuRegistry.appendMenuItem(o.CommandPalette,{command:y,when:y.precondition})),l.add(e.MenuRegistry.addCommand(y))),Array.isArray(m))for(const E of m)n.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},E),{id:y.id,when:y.precondition?u.ContextKeyExpr.and(y.precondition,E.when):E.when}));else m&&n.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},m),{id:y.id,when:y.precondition?u.ContextKeyExpr.and(y.precondition,m.when):m.when}));return l}e.registerAction2=a}),define(se[13],re([1,0,533,22,29,11,50,58,36,26,16,9,95,34,86,20,69]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class d{constructor(D){this.id=D.id,this.precondition=D.precondition,this._kbOpts=D.kbOpts,this._menuOpts=D.menuOpts,this._description=D.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const D=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const M of D){let R=M.kbExpr;this.precondition&&(R?R=g.ContextKeyExpr.and(R,this.precondition):R=this.precondition);const B={id:this.id,weight:M.weight,args:M.args,when:R,primary:M.primary,secondary:M.secondary,win:M.win,linux:M.linux,mac:M.mac};i.KeybindingsRegistry.registerKeybindingRule(B)}}u.CommandsRegistry.registerCommand({id:this.id,handler:(D,M)=>this.runCommand(D,M),description:this._description})}_registerMenuItem(D){b.MenuRegistry.appendMenuItem(D.menuId,{group:D.group,command:{id:this.id,title:D.title,icon:D.icon,precondition:this.precondition},when:D.when,order:D.order})}}e.Command=d;class a extends d{constructor(){super(...arguments);this._implementations=[]}addImplementation(D,M,R){return this._implementations.push({priority:D,name:M,implementation:R}),this._implementations.sort((B,W)=>W.priority-B.priority),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B].implementation===R){this._implementations.splice(B,1);return}}}}runCommand(D,M){const R=D.get(c.ILogService);R.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const B of this._implementations){const W=B.implementation(D,M);if(W)return R.trace(`Command '${this.id}' was handled by '${B.name}'.`),typeof W=="boolean"?void 0:W}R.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=a;class s extends d{constructor(D,M){super(M);this.command=D}runCommand(D,M){return this.command.runCommand(D,M)}}e.ProxyCommand=s;class l extends d{static bindToContribution(D){return class extends l{constructor(R){super(R);this._callback=R.handler}runEditorCommand(R,B,W){const V=D(B);V&&this._callback(V,W)}}}runCommand(D,M){const R=D.get(k.ICodeEditorService),B=R.getFocusedCodeEditor()||R.getActiveCodeEditor();if(!!B)return B.invokeWithinContext(W=>{if(!!W.get(g.IContextKeyService).contextMatchesRules((0,r.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(W,B,M)})}}e.EditorCommand=l;class h extends l{constructor(D){super(h.convertOptions(D));this.label=D.label,this.alias=D.alias}static convertOptions(D){let M;Array.isArray(D.menuOpts)?M=D.menuOpts:D.menuOpts?M=[D.menuOpts]:M=[];function R(B){return B.menuId||(B.menuId=b.MenuId.EditorContext),B.title||(B.title=D.label),B.when=g.ContextKeyExpr.and(D.precondition,B.when),B}return Array.isArray(D.contextMenuOpts)?M.push(...D.contextMenuOpts.map(R)):D.contextMenuOpts&&M.push(R(D.contextMenuOpts)),D.menuOpts=M,D}runEditorCommand(D,M,R){return this.reportTelemetry(D,M),this.run(D,M,R||{})}reportTelemetry(D,M){D.get(o.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=h;class p extends h{constructor(){super(...arguments);this._implementations=[]}addImplementation(D,M){return this._implementations.push([D,M]),this._implementations.sort((R,B)=>B[0]-R[0]),{dispose:()=>{for(let R=0;R<this._implementations.length;R++)if(this._implementations[R][1]===M){this._implementations.splice(R,1);return}}}}run(D,M,R){for(const B of this._implementations){const W=B[1](D,M,R);if(W)return typeof W=="boolean"?void 0:W}}}e.MultiEditorAction=p;function S(P,D){u.CommandsRegistry.registerCommand(P,function(M,...R){const B=M.get(n.IInstantiationService),[W,V]=R;(0,r.assertType)(v.URI.isUri(W)),(0,r.assertType)(I.Position.isIPosition(V));const A=M.get(L.IModelService).getModel(W);if(A){const Y=I.Position.lift(V);return B.invokeFunction(D,A,Y,...R.slice(2))}return M.get(_.ITextModelService).createModelReference(W).then(Y=>new Promise((ee,U)=>{try{const j=B.invokeFunction(D,Y.object.textEditorModel,I.Position.lift(V),R.slice(2));ee(j)}catch(j){U(j)}}).finally(()=>{Y.dispose()}))})}e.registerModelAndPositionCommand=S;function f(P){return F.INSTANCE.registerEditorCommand(P),P}e.registerEditorCommand=f;function m(P){const D=new P;return F.INSTANCE.registerEditorAction(D),D}e.registerEditorAction=m;function C(P){return F.INSTANCE.registerEditorAction(P),P}e.registerMultiEditorAction=C;function y(P){F.INSTANCE.registerEditorAction(P)}e.registerInstantiatedEditorAction=y;function E(P,D){F.INSTANCE.registerEditorContribution(P,D)}e.registerEditorContribution=E;var T;(function(P){function D(V){return F.INSTANCE.getEditorCommand(V)}P.getEditorCommand=D;function M(){return F.INSTANCE.getEditorActions()}P.getEditorActions=M;function R(){return F.INSTANCE.getEditorContributions()}P.getEditorContributions=R;function B(V){return F.INSTANCE.getEditorContributions().filter(A=>V.indexOf(A.id)>=0)}P.getSomeEditorContributions=B;function W(){return F.INSTANCE.getDiffEditorContributions()}P.getDiffEditorContributions=W})(T=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const N={EditorCommonContributions:"editor.contributions"};class F{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(D,M){this.editorContributions.push({id:D,ctor:M})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(D){D.register(),this.editorActions.push(D)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(D){D.register(),this.editorCommands[D.id]=D}getEditorCommand(D){return this.editorCommands[D]||null}}F.INSTANCE=new F,t.Registry.add(N.EditorCommonContributions,F.INSTANCE);function O(P){return P.register(),P}e.UndoCommand=O(new a({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:b.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(0,null),order:1},{menuId:b.MenuId.CommandPalette,group:"",title:w.localize(1,null),order:1}]})),O(new s(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=O(new a({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:b.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(2,null),order:2},{menuId:b.MenuId.CommandPalette,group:"",title:w.localize(3,null),order:1}]})),O(new s(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=O(new a({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:b.MenuId.MenubarSelectionMenu,group:"1_basic",title:w.localize(4,null),order:1},{menuId:b.MenuId.CommandPalette,group:"",title:w.localize(5,null),order:1}]}))}),define(se[171],re([1,0,532,41,20,49,13,29,421,62,184,185,218,11,3,24,16,95]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const a=0;class s extends L.EditorCommand{runEditorCommand(F,O,P){const D=O._getViewModel();!D||this.runCoreEditorCommand(D,P||{})}}e.CoreEditorCommand=s;var l;(function(N){const F=function(P){if(!k.isObject(P))return!1;const D=P;return!(!k.isString(D.to)||!k.isUndefined(D.by)&&!k.isString(D.by)||!k.isUndefined(D.value)&&!k.isNumber(D.value)||!k.isUndefined(D.revealCursor)&&!k.isBoolean(D.revealCursor))};N.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:F,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Down:"down"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"};function O(P){let D;switch(P.to){case N.RawDirection.Up:D=1;break;case N.RawDirection.Down:D=2;break;default:return null}let M;switch(P.by){case N.RawUnit.Line:M=1;break;case N.RawUnit.WrappedLine:M=2;break;case N.RawUnit.Page:M=3;break;case N.RawUnit.HalfPage:M=4;break;case N.RawUnit.Editor:M=5;break;default:M=2}const R=Math.floor(P.value||1),B=!!P.revealCursor;return{direction:D,unit:M,value:R,revealCursor:B,select:!!P.select}}N.parse=O})(l=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(N){const F=function(O){if(!k.isObject(O))return!1;const P=O;return!(!k.isNumber(P.lineNumber)&&!k.isString(P.lineNumber)||!k.isUndefined(P.at)&&!k.isString(P.at))};N.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:F,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class p{constructor(F){F.addImplementation(1e4,"code-editor",(O,P)=>{const D=O.get(_.ICodeEditorService).getFocusedCodeEditor();return D&&D.hasTextFocus()?this._runEditorCommand(O,D,P):!1}),F.addImplementation(1e3,"generic-dom-input-textarea",(O,P)=>{const D=document.activeElement;return D&&["input","textarea"].indexOf(D.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),F.addImplementation(0,"generic-dom",(O,P)=>{const D=O.get(_.ICodeEditorService).getActiveCodeEditor();return D?(D.focus(),this._runEditorCommand(O,D,P)):!1})}_runEditorCommand(F,O,P){const D=this.runEditorCommand(F,O,P);return D||!0}}var S;(function(N){class F extends s{constructor(J){super(J);this._minimalReveal=J.minimalReveal,this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,[n.CursorMoveCommands.moveTo(J,J.getPrimaryCursorState(),this._inSelectionMode,de.position,de.viewPosition)])&&J.revealPrimaryCursor(de.source,!0,this._minimalReveal)}}N.MoveTo=(0,L.registerEditorCommand)(new F({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=(0,L.registerEditorCommand)(new F({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class O extends s{runCoreEditorCommand(J,de){J.model.pushStackElement();const x=this._getColumnSelectResult(J,J.getPrimaryCursorState(),J.getCursorColumnSelectData(),de);J.setCursorStates(de.source,3,x.viewStates.map(ne=>u.CursorState.fromViewState(ne))),J.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:x.fromLineNumber,fromViewVisualColumn:x.fromVisualColumn,toViewLineNumber:x.toLineNumber,toViewVisualColumn:x.toVisualColumn}),x.reversed?J.revealTopMostCursor(de.source):J.revealBottomMostCursor(de.source)}}N.ColumnSelect=(0,L.registerEditorCommand)(new class extends O{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Q,J,de,x){const ne=Q.model.validatePosition(x.position),te=Q.coordinatesConverter.validateViewPosition(new t.Position(x.viewPosition.lineNumber,x.viewPosition.column),ne),q=x.doColumnSelect?de.fromViewLineNumber:te.lineNumber,oe=x.doColumnSelect?de.fromViewVisualColumn:x.mouseColumn-1;return b.ColumnSelection.columnSelect(Q.cursorConfig,Q,q,oe,te.lineNumber,x.mouseColumn-1)}}),N.CursorColumnSelectLeft=(0,L.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(Q,J,de,x){return b.ColumnSelection.columnSelectLeft(Q.cursorConfig,Q,de)}}),N.CursorColumnSelectRight=(0,L.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(Q,J,de,x){return b.ColumnSelection.columnSelectRight(Q.cursorConfig,Q,de)}});class P extends O{constructor(J){super(J);this._isPaged=J.isPaged}_getColumnSelectResult(J,de,x,ne){return b.ColumnSelection.columnSelectUp(J.cursorConfig,J,x,this._isPaged)}}N.CursorColumnSelectUp=(0,L.registerEditorCommand)(new P({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),N.CursorColumnSelectPageUp=(0,L.registerEditorCommand)(new P({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class D extends O{constructor(J){super(J);this._isPaged=J.isPaged}_getColumnSelectResult(J,de,x,ne){return b.ColumnSelection.columnSelectDown(J.cursorConfig,J,x,this._isPaged)}}N.CursorColumnSelectDown=(0,L.registerEditorCommand)(new D({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),N.CursorColumnSelectPageDown=(0,L.registerEditorCommand)(new D({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class M extends s{constructor(){super({id:"cursorMove",precondition:void 0,description:n.CursorMove.description})}runCoreEditorCommand(J,de){const x=n.CursorMove.parse(de);!x||this._runCursorMove(J,de.source,x)}_runCursorMove(J,de,x){J.model.pushStackElement(),J.setCursorStates(de,3,M._move(J,J.getCursorStates(),x)),J.revealPrimaryCursor(de,!0)}static _move(J,de,x){const ne=x.select,te=x.value;switch(x.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return n.CursorMoveCommands.simpleMove(J,de,x.direction,ne,te,x.unit);case 11:case 13:case 12:case 14:return n.CursorMoveCommands.viewportMove(J,de,x.direction,ne,te);default:return null}}}N.CursorMoveImpl=M,N.CursorMove=(0,L.registerEditorCommand)(new M);class R extends s{constructor(J){super(J);this._staticArgs=J.args}runCoreEditorCommand(J,de){let x=this._staticArgs;this._staticArgs.value===-1&&(x={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:de.pageSize||J.cursorConfig.pageSize}),J.model.pushStackElement(),J.setCursorStates(de.source,3,n.CursorMoveCommands.simpleMove(J,J.getCursorStates(),x.direction,x.select,x.value,x.unit)),J.revealPrimaryCursor(de.source,!0)}}N.CursorLeft=(0,L.registerEditorCommand)(new R({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),N.CursorLeftSelect=(0,L.registerEditorCommand)(new R({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|15}})),N.CursorRight=(0,L.registerEditorCommand)(new R({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),N.CursorRightSelect=(0,L.registerEditorCommand)(new R({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|17}})),N.CursorUp=(0,L.registerEditorCommand)(new R({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),N.CursorUpSelect=(0,L.registerEditorCommand)(new R({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),N.CursorPageUp=(0,L.registerEditorCommand)(new R({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=(0,L.registerEditorCommand)(new R({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|11}})),N.CursorDown=(0,L.registerEditorCommand)(new R({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),N.CursorDownSelect=(0,L.registerEditorCommand)(new R({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),N.CursorPageDown=(0,L.registerEditorCommand)(new R({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=(0,L.registerEditorCommand)(new R({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|12}})),N.CreateCursor=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Q,J){let de;J.wholeLine?de=n.CursorMoveCommands.line(Q,Q.getPrimaryCursorState(),!1,J.position,J.viewPosition):de=n.CursorMoveCommands.moveTo(Q,Q.getPrimaryCursorState(),!1,J.position,J.viewPosition);const x=Q.getCursorStates();if(x.length>1){const ne=de.modelState?de.modelState.position:null,te=de.viewState?de.viewState.position:null;for(let q=0,oe=x.length;q<oe;q++){const z=x[q];if(!(ne&&!z.modelState.selection.containsPosition(ne))&&!(te&&!z.viewState.selection.containsPosition(te))){x.splice(q,1),Q.model.pushStackElement(),Q.setCursorStates(J.source,3,x);return}}}x.push(de),Q.model.pushStackElement(),Q.setCursorStates(J.source,3,x)}}),N.LastCursorMoveToSelect=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Q,J){const de=Q.getLastAddedCursorIndex(),x=Q.getCursorStates(),ne=x.slice(0);ne[de]=n.CursorMoveCommands.moveTo(Q,x[de],!0,J.position,J.viewPosition),Q.model.pushStackElement(),Q.setCursorStates(J.source,3,ne)}});class B extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,n.CursorMoveCommands.moveToBeginningOfLine(J,J.getCursorStates(),this._inSelectionMode)),J.revealPrimaryCursor(de.source,!0)}}N.CursorHome=(0,L.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),N.CursorHomeSelect=(0,L.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class W extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,this._exec(J.getCursorStates())),J.revealPrimaryCursor(de.source,!0)}_exec(J){const de=[];for(let x=0,ne=J.length;x<ne;x++){const te=J[x],q=te.modelState.position.lineNumber;de[x]=u.CursorState.fromModelState(te.modelState.move(this._inSelectionMode,q,1,0))}return de}}N.CursorLineStart=(0,L.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),N.CursorLineStartSelect=(0,L.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class V extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,n.CursorMoveCommands.moveToEndOfLine(J,J.getCursorStates(),this._inSelectionMode,de.sticky||!1)),J.revealPrimaryCursor(de.source,!0)}}N.CursorEnd=(0,L.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=(0,L.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(1,null),type:"boolean",default:!1}}}}]}}));class A extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,this._exec(J,J.getCursorStates())),J.revealPrimaryCursor(de.source,!0)}_exec(J,de){const x=[];for(let ne=0,te=de.length;ne<te;ne++){const q=de[ne],oe=q.modelState.position.lineNumber,z=J.model.getLineMaxColumn(oe);x[ne]=u.CursorState.fromModelState(q.modelState.move(this._inSelectionMode,oe,z,0))}return x}}N.CursorLineEnd=(0,L.registerEditorCommand)(new A({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),N.CursorLineEndSelect=(0,L.registerEditorCommand)(new A({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class Y extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,n.CursorMoveCommands.moveToBeginningOfBuffer(J,J.getCursorStates(),this._inSelectionMode)),J.revealPrimaryCursor(de.source,!0)}}N.CursorTop=(0,L.registerEditorCommand)(new Y({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),N.CursorTopSelect=(0,L.registerEditorCommand)(new Y({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class ee extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,n.CursorMoveCommands.moveToEndOfBuffer(J,J.getCursorStates(),this._inSelectionMode)),J.revealPrimaryCursor(de.source,!0)}}N.CursorBottom=(0,L.registerEditorCommand)(new ee({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),N.CursorBottomSelect=(0,L.registerEditorCommand)(new ee({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class U extends s{constructor(){super({id:"editorScroll",precondition:void 0,description:l.description})}runCoreEditorCommand(J,de){const x=l.parse(de);!x||this._runEditorScroll(J,de.source,x)}_runEditorScroll(J,de,x){const ne=this._computeDesiredScrollTop(J,x);if(x.revealCursor){const te=J.getCompletelyVisibleViewRangeAtScrollTop(ne);J.setCursorStates(de,3,[n.CursorMoveCommands.findPositionInViewportIfOutside(J,J.getPrimaryCursorState(),te,x.select)])}J.viewLayout.setScrollPosition({scrollTop:ne},0)}_computeDesiredScrollTop(J,de){if(de.unit===1){const te=J.getCompletelyVisibleViewRange(),q=J.coordinatesConverter.convertViewRangeToModelRange(te);let oe;de.direction===1?oe=Math.max(1,q.startLineNumber-de.value):oe=Math.min(J.model.getLineCount(),q.startLineNumber+de.value);const z=J.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(oe,1));return J.viewLayout.getVerticalOffsetForLineNumber(z.lineNumber)}if(de.unit===5){let te=0;return de.direction===2&&(te=J.model.getLineCount()-J.cursorConfig.pageSize),J.viewLayout.getVerticalOffsetForLineNumber(te)}let x;de.unit===3?x=J.cursorConfig.pageSize*de.value:de.unit===4?x=Math.round(J.cursorConfig.pageSize/2)*de.value:x=de.value;const ne=(de.direction===1?-1:1)*x;return J.viewLayout.getCurrentScrollTop()+ne*J.cursorConfig.lineHeight}}N.EditorScrollImpl=U,N.EditorScroll=(0,L.registerEditorCommand)(new U),N.ScrollLineUp=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(Q,J){N.EditorScroll._runEditorScroll(Q,J.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageUp=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(Q,J){N.EditorScroll._runEditorScroll(Q,J.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),N.ScrollEditorTop=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Q,J){N.EditorScroll._runEditorScroll(Q,J.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),N.ScrollLineDown=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(Q,J){N.EditorScroll._runEditorScroll(Q,J.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageDown=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(Q,J){N.EditorScroll._runEditorScroll(Q,J.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),N.ScrollEditorBottom=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Q,J){N.EditorScroll._runEditorScroll(Q,J.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class j extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,[n.CursorMoveCommands.word(J,J.getPrimaryCursorState(),this._inSelectionMode,de.position)]),J.revealPrimaryCursor(de.source,!0)}}N.WordSelect=(0,L.registerEditorCommand)(new j({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=(0,L.registerEditorCommand)(new j({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Q,J){const de=Q.getLastAddedCursorIndex(),x=Q.getCursorStates(),ne=x.slice(0),te=x[de];ne[de]=n.CursorMoveCommands.word(Q,te,te.modelState.hasSelection(),J.position),Q.model.pushStackElement(),Q.setCursorStates(J.source,3,ne)}});class Z extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){J.model.pushStackElement(),J.setCursorStates(de.source,3,[n.CursorMoveCommands.line(J,J.getPrimaryCursorState(),this._inSelectionMode,de.position,de.viewPosition)]),J.revealPrimaryCursor(de.source,!1)}}N.LineSelect=(0,L.registerEditorCommand)(new Z({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=(0,L.registerEditorCommand)(new Z({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ie extends s{constructor(J){super(J);this._inSelectionMode=J.inSelectionMode}runCoreEditorCommand(J,de){const x=J.getLastAddedCursorIndex(),ne=J.getCursorStates(),te=ne.slice(0);te[x]=n.CursorMoveCommands.line(J,ne[x],this._inSelectionMode,de.position,de.viewPosition),J.model.pushStackElement(),J.setCursorStates(de.source,3,te)}}N.LastCursorLineSelect=(0,L.registerEditorCommand)(new ie({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=(0,L.registerEditorCommand)(new ie({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.CancelSelection=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"cancelSelection",precondition:r.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Q,J){Q.model.pushStackElement(),Q.setCursorStates(J.source,3,[n.CursorMoveCommands.cancelSelection(Q,Q.getPrimaryCursorState())]),Q.revealPrimaryCursor(J.source,!0)}}),N.RemoveSecondaryCursors=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"removeSecondaryCursors",precondition:r.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:a+1,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Q,J){Q.model.pushStackElement(),Q.setCursorStates(J.source,3,[Q.getPrimaryCursorState()]),Q.revealPrimaryCursor(J.source,!0),(0,I.status)(w.localize(2,null))}}),N.RevealLine=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(Q,J){const de=J,x=de.lineNumber||0;let ne=typeof x=="number"?x+1:parseInt(x)+1;ne<1&&(ne=1);const te=Q.model.getLineCount();ne>te&&(ne=te);const q=new o.Range(ne,1,ne,Q.model.getLineMaxColumn(ne));let oe=0;if(de.at)switch(de.at){case h.RawAtArgument.Top:oe=3;break;case h.RawAtArgument.Center:oe=1;break;case h.RawAtArgument.Bottom:oe=4;break;default:break}const z=Q.coordinatesConverter.convertModelRangeToViewRange(q);Q.revealRange(J.source,!1,z,oe,0)}}),N.SelectAll=new class extends p{constructor(){super(L.SelectAllCommand)}runDOMCommand(){v.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Q,J,de){const x=J._getViewModel();!x||this.runCoreEditorCommand(x,de)}runCoreEditorCommand(Q,J){Q.model.pushStackElement(),Q.setCursorStates("keyboard",3,[n.CursorMoveCommands.selectAll(Q,Q.getPrimaryCursorState())])}},N.SetSelection=(0,L.registerEditorCommand)(new class extends s{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Q,J){Q.model.pushStackElement(),Q.setCursorStates(J.source,3,[u.CursorState.fromModelSelection(J.selection)])}})})(S=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const f=c.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,r.EditorContextKeys.columnSelection);function m(N,F){d.KeybindingsRegistry.registerKeybindingRule({id:N,primary:F,when:f,weight:a+1})}m(S.CursorColumnSelectLeft.id,1024|15),m(S.CursorColumnSelectRight.id,1024|17),m(S.CursorColumnSelectUp.id,1024|16),m(S.CursorColumnSelectPageUp.id,1024|11),m(S.CursorColumnSelectDown.id,1024|18),m(S.CursorColumnSelectPageDown.id,1024|12);function C(N){return N.register(),N}var y;(function(N){class F extends L.EditorCommand{runEditorCommand(P,D,M){const R=D._getViewModel();!R||this.runCoreEditingCommand(D,R,M||{})}}N.CoreEditingCommand=F,N.LineBreakInsert=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"lineBreakInsert",precondition:r.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(O,P,D){O.pushUndoStop(),O.executeCommands(this.id,i.TypeOperations.lineBreakInsert(P.cursorConfig,P.model,P.getCursorStates().map(M=>M.modelState.selection)))}}),N.Outdent=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"outdent",precondition:r.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:c.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(O,P,D){O.pushUndoStop(),O.executeCommands(this.id,i.TypeOperations.outdent(P.cursorConfig,P.model,P.getCursorStates().map(M=>M.modelState.selection))),O.pushUndoStop()}}),N.Tab=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"tab",precondition:r.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:c.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(O,P,D){O.pushUndoStop(),O.executeCommands(this.id,i.TypeOperations.tab(P.cursorConfig,P.model,P.getCursorStates().map(M=>M.modelState.selection))),O.pushUndoStop()}}),N.DeleteLeft=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(O,P,D){const[M,R]=g.DeleteOperations.deleteLeft(P.getPrevEditOperationType(),P.cursorConfig,P.model,P.getCursorStates().map(B=>B.modelState.selection),P.getCursorAutoClosedCharacters());M&&O.pushUndoStop(),O.executeCommands(this.id,R),P.setPrevEditOperationType(2)}}),N.DeleteRight=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:a,kbExpr:r.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(O,P,D){const[M,R]=g.DeleteOperations.deleteRight(P.getPrevEditOperationType(),P.cursorConfig,P.model,P.getCursorStates().map(B=>B.modelState.selection));M&&O.pushUndoStop(),O.executeCommands(this.id,R),P.setPrevEditOperationType(3)}}),N.Undo=new class extends p{constructor(){super(L.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(O,P,D){if(!(!P.hasModel()||P.getOption(82)===!0))return P.getModel().undo()}},N.Redo=new class extends p{constructor(){super(L.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(O,P,D){if(!(!P.hasModel()||P.getOption(82)===!0))return P.getModel().redo()}}})(y=e.CoreEditingCommands||(e.CoreEditingCommands={}));class E extends L.Command{constructor(F,O,P){super({id:F,precondition:void 0,description:P});this._handlerId=O}runCommand(F,O){const P=F.get(_.ICodeEditorService).getFocusedCodeEditor();!P||P.trigger("keyboard",this._handlerId,O)}}function T(N,F){C(new E("default:"+N,N)),C(new E(N,N,F))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(se[702],re([1,0,211,13]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let k=class{constructor(L,_){}dispose(){}};k.ID="editor.contrib.markerDecorations",k=ke([fe(1,w.IMarkerDecorationsService)],k),e.MarkerDecorationsContribution=k,(0,v.registerEditorContribution)(k.ID,k)}),define(se[703],re([1,0,171,11,18]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class I{constructor(_,b,u,g){this.configuration=_,this.viewModel=b,this.userInputEvents=u,this.commandDelegate=g}paste(_,b,u,g){this.commandDelegate.paste(_,b,u,g)}type(_){this.commandDelegate.type(_)}compositionType(_,b,u,g){this.commandDelegate.compositionType(_,b,u,g)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(_){w.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:_})}_validateViewColumn(_){const b=this.viewModel.getLineMinColumn(_.lineNumber);return _.column<b?new v.Position(_.lineNumber,b):_}_hasMulticursorModifier(_){switch(this.configuration.options.get(71)){case"altKey":return _.altKey;case"ctrlKey":return _.ctrlKey;case"metaKey":return _.metaKey;default:return!1}}_hasNonMulticursorModifier(_){switch(this.configuration.options.get(71)){case"altKey":return _.ctrlKey||_.metaKey;case"ctrlKey":return _.altKey||_.metaKey;case"metaKey":return _.ctrlKey||_.altKey;default:return!1}}dispatchMouse(_){const b=this.configuration.options,u=k.isLinux&&b.get(97),g=b.get(18);_.middleButton&&!u?this._columnSelect(_.position,_.mouseColumn,_.inSelectionMode):_.startedOnLineNumbers?this._hasMulticursorModifier(_)?_.inSelectionMode?this._lastCursorLineSelect(_.position):this._createCursor(_.position,!0):_.inSelectionMode?this._lineSelectDrag(_.position):this._lineSelect(_.position):_.mouseDownCount>=4?this._selectAll():_.mouseDownCount===3?this._hasMulticursorModifier(_)?_.inSelectionMode?this._lastCursorLineSelectDrag(_.position):this._lastCursorLineSelect(_.position):_.inSelectionMode?this._lineSelectDrag(_.position):this._lineSelect(_.position):_.mouseDownCount===2?_.onInjectedText||(this._hasMulticursorModifier(_)?this._lastCursorWordSelect(_.position):_.inSelectionMode?this._wordSelectDrag(_.position):this._wordSelect(_.position)):this._hasMulticursorModifier(_)?this._hasNonMulticursorModifier(_)||(_.shiftKey?this._columnSelect(_.position,_.mouseColumn,!0):_.inSelectionMode?this._lastCursorMoveToSelect(_.position):this._createCursor(_.position,!1)):_.inSelectionMode?_.altKey?this._columnSelect(_.position,_.mouseColumn,!0):g?this._columnSelect(_.position,_.mouseColumn,!0):this._moveToSelect(_.position):this.moveTo(_.position)}_usualArgs(_){return _=this._validateViewColumn(_),{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_}}moveTo(_){w.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_moveToSelect(_){w.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_columnSelect(_,b,u){_=this._validateViewColumn(_),w.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_,mouseColumn:b,doColumnSelect:u})}_createCursor(_,b){_=this._validateViewColumn(_),w.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_,wholeLine:b})}_lastCursorMoveToSelect(_){w.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_wordSelect(_){w.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_wordSelectDrag(_){w.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorWordSelect(_){w.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lineSelect(_){w.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lineSelectDrag(_){w.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorLineSelect(_){w.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorLineSelectDrag(_){w.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_selectAll(){w.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(_){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(_)}emitKeyDown(_){this.userInputEvents.emitKeyDown(_)}emitKeyUp(_){this.userInputEvents.emitKeyUp(_)}emitContextMenu(_){this.userInputEvents.emitContextMenu(_)}emitMouseMove(_){this.userInputEvents.emitMouseMove(_)}emitMouseLeave(_){this.userInputEvents.emitMouseLeave(_)}emitMouseUp(_){this.userInputEvents.emitMouseUp(_)}emitMouseDown(_){this.userInputEvents.emitMouseDown(_)}emitMouseDrag(_){this.userInputEvents.emitMouseDrag(_)}emitMouseDrop(_){this.userInputEvents.emitMouseDrop(_)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(_){this.userInputEvents.emitMouseWheel(_)}}e.ViewController=I}),define(se[704],re([1,0,7,23,33,14,679,688,703,233,511,47,509,686,445,682,189,687,302,680,446,249,447,683,448,689,455,690,684,685,691,449,11,3,127,456,452,131,15,301,444]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E,T,N,F,O,P,D,M,R,B,W,V,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class Y extends B.ViewEventHandler{constructor(j,Z,ie,Q,J,de){super();this._selections=[new v.Selection(1,1,1,1)],this._renderAnimationFrame=null;const x=new b.ViewController(Z,Q,J,j);this._context=new M.ViewContext(Z,ie,Q),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new _.TextAreaHandler(this._context,x,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),n.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new r.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new s.ViewLines(this._context,this._linesContent),this._viewZones=new F.ViewZones(this._context),this._viewParts.push(this._viewZones);const ne=new m.DecorationsOverviewRuler(this._context);this._viewParts.push(ne);const te=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(te);const q=new g.ContentViewOverlays(this._context);this._viewParts.push(q),q.addDynamicOverlay(new t.CurrentLineHighlightOverlay(this._context)),q.addDynamicOverlay(new T.SelectionsOverlay(this._context)),q.addDynamicOverlay(new d.IndentGuidesOverlay(this._context)),q.addDynamicOverlay(new o.DecorationsOverlay(this._context));const oe=new g.MarginViewOverlays(this._context);this._viewParts.push(oe),oe.addDynamicOverlay(new t.CurrentLineMarginHighlightOverlay(this._context)),oe.addDynamicOverlay(new c.GlyphMarginOverlay(this._context)),oe.addDynamicOverlay(new p.MarginViewLineDecorationsOverlay(this._context)),oe.addDynamicOverlay(new l.LinesDecorationsOverlay(this._context)),oe.addDynamicOverlay(new a.LineNumbersOverlay(this._context));const z=new h.Margin(this._context);z.getDomNode().appendChild(this._viewZones.marginDomNode),z.getDomNode().appendChild(oe.getDomNode()),this._viewParts.push(z),this._contentWidgets=new i.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new N.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new f.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const X=new y.Rulers(this._context);this._viewParts.push(X);const $=new A.BlockDecorations(this._context);this._viewParts.push($);const H=new S.Minimap(this._context);if(this._viewParts.push(H),ne){const K=this._scrollbar.getOverviewRulerLayoutInfo();K.parent.insertBefore(ne.getDomNode(),K.insertBefore)}this._linesContent.appendChild(q.getDomNode()),this._linesContent.appendChild(X.domNode),this._linesContent.appendChild($.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(z.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(te.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(H.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),de?de.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new L.PointerHandler(this._context,x,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:j=>{this._textAreaHandler.textArea.domNode.dispatchEvent(j)},getLastRenderData:()=>{const j=this._viewCursors.getLastRenderData()||[],Z=this._textAreaHandler.getLastRenderData();return new V.PointerHandlerLastRenderData(j,Z)},shouldSuppressMouseDownOnViewZone:j=>this._viewZones.shouldSuppressMouseDownOnViewZone(j),shouldSuppressMouseDownOnWidget:j=>this._contentWidgets.shouldSuppressMouseDownOnWidget(j),getPositionFromDOMInfo:(j,Z)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(j,Z)),visibleRangeForPosition:(j,Z)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new O.Position(j,Z))),getLineWidth:j=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(j))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:j=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(j))}}_applyLayout(){const Z=this._context.configuration.options.get(133);this.domNode.setWidth(Z.width),this.domNode.setHeight(Z.height),this._overflowGuardContainer.setWidth(Z.width),this._overflowGuardContainer.setHeight(Z.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const j=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,W.getThemeTypeSelector)(this._context.theme.type)+j}handleEvents(j){super.handleEvents(j),this._scheduleRender()}onConfigurationChanged(j){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(j){return this._selections=j.selections,!1}onFocusChanged(j){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(j){return this._context.theme.update(j.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const j of this._viewParts)j.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=w.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){ee(()=>this._actualRender())}_getViewPartsToRender(){const j=[];let Z=0;for(const ie of this._viewParts)ie.shouldRender()&&(j[Z++]=ie);return j}_actualRender(){if(!w.isInDOM(this.domNode.domNode))return;let j=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&j.length===0)return;const Z=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(Z.startLineNumber,Z.endLineNumber,Z.centeredLineNumber);const ie=new R.ViewportData(this._selections,Z,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ie),this._viewLines.shouldRender()&&(this._viewLines.renderText(ie),this._viewLines.onDidRender(),j=this._getViewPartsToRender());const Q=new D.RenderingContext(this._context.viewLayout,ie,this._viewLines);for(const J of j)J.prepareRender(Q);for(const J of j)J.render(Q),J.onDidRender()}delegateVerticalScrollbarPointerDown(j){this._scrollbar.delegateVerticalScrollbarPointerDown(j)}restoreState(j){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:j.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:j.scrollLeft},1)}getOffsetForColumn(j,Z){const ie=this._context.viewModel.model.validatePosition({lineNumber:j,column:Z}),Q=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ie);this._flushAccumulatedAndRenderNow();const J=this._viewLines.visibleRangeForPosition(new O.Position(Q.lineNumber,Q.column));return J?J.left:-1}getTargetAtClientPoint(j,Z){const ie=this._pointerHandler.getTargetAtClientPoint(j,Z);return ie?u.ViewUserInputEvents.convertViewToModelMouseTarget(ie,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(j){return new C.OverviewRuler(this._context,j)}change(j){this._viewZones.changeViewZones(j),this._scheduleRender()}render(j,Z){if(Z){this._viewLines.forceShouldRender();for(const ie of this._viewParts)ie.forceShouldRender()}j?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(j){this._textAreaHandler.setAriaOptions(j)}addContentWidget(j){this._contentWidgets.addWidget(j.widget),this.layoutContentWidget(j),this._scheduleRender()}layoutContentWidget(j){var Z,ie;let Q=j.position&&j.position.range||null;if(Q===null){const de=j.position?j.position.position:null;de!==null&&(Q=new P.Range(de.lineNumber,de.column,de.lineNumber,de.column))}const J=j.position?j.position.preference:null;this._contentWidgets.setWidgetPosition(j.widget,Q,J,(ie=(Z=j.position)===null||Z===void 0?void 0:Z.positionAffinity)!==null&&ie!==void 0?ie:null),this._scheduleRender()}removeContentWidget(j){this._contentWidgets.removeWidget(j.widget),this._scheduleRender()}addOverlayWidget(j){this._overlayWidgets.addWidget(j.widget),this.layoutOverlayWidget(j),this._scheduleRender()}layoutOverlayWidget(j){const Z=j.position?j.position.preference:null;this._overlayWidgets.setWidgetPosition(j.widget,Z)&&this._scheduleRender()}removeOverlayWidget(j){this._overlayWidgets.removeWidget(j.widget),this._scheduleRender()}}e.View=Y;function ee(U){try{return U()}catch(j){(0,I.onUnexpectedError)(j)}}}),define(se[705],re([1,0,49,65,59,13,23,24,547,16,375]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new u.RawContextKey("selectionAnchorSet",!1);let g=class Ri{constructor(c,d){this.editor=c,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(d),this.modelChangeListener=c.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(c){return c.getContribution(Ri.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const c=this.editor.getPosition();this.editor.changeDecorations(d=>{this.decorationId&&d.removeDecoration(this.decorationId),this.decorationId=d.addDecoration(L.Selection.fromPositions(c,c),{description:"selection-anchor",stickiness:1,hoverMessage:new v.MarkdownString().appendText((0,b.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,w.alert)((0,b.localize)(1,null,c.lineNumber,c.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const c=this.editor.getModel().getDecorationRange(this.decorationId);c&&this.editor.setPosition(c.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const c=this.editor.getModel().getDecorationRange(this.decorationId);if(c){const d=this.editor.getPosition();this.editor.setSelection(L.Selection.fromPositions(c.getStartPosition(),d)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const c=this.decorationId;this.editor.changeDecorations(d=>{d.removeDecoration(c),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};g.ID="editor.contrib.selectionAnchorController",g=ke([fe(1,u.IContextKeyService)],g);class n extends I.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,b.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|32),weight:100}})}run(c,d){var a;return Se(this,void 0,void 0,function*(){(a=g.get(d))===null||a===void 0||a.setSelectionAnchor()})}}class i extends I.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,b.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(c,d){var a;return Se(this,void 0,void 0,function*(){(a=g.get(d))===null||a===void 0||a.goToSelectionAnchor()})}}class t extends I.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,b.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|41),weight:100}})}run(c,d){var a;return Se(this,void 0,void 0,function*(){(a=g.get(d))===null||a===void 0||a.selectFromAnchorToCursor()})}}class o extends I.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,b.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(c,d){var a;return Se(this,void 0,void 0,function*(){(a=g.get(d))===null||a===void 0||a.cancelSelectionAnchor()})}}(0,I.registerEditorContribution)(g.ID,g),(0,I.registerEditorAction)(n),(0,I.registerEditorAction)(i),(0,I.registerEditorAction)(t),(0,I.registerEditorAction)(o)}),define(se[706],re([1,0,13,24,457,549]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends w.EditorAction{constructor(g,n){super(n);this.left=g}run(g,n){if(!n.hasModel())return;const i=[],t=n.getSelections();for(const o of t)i.push(new k.MoveCaretCommand(o,this.left));n.pushUndoStop(),n.executeCommands(this.id,i),n.pushUndoStop()}}class _ extends L{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:I.localize(0,null),alias:"Move Selected Text Left",precondition:v.EditorContextKeys.writable})}}class b extends L{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:I.localize(1,null),alias:"Move Selected Text Right",precondition:v.EditorContextKeys.writable})}}(0,w.registerEditorAction)(_),(0,w.registerEditorAction)(b)}),define(se[707],re([1,0,13,109,183,3,24,550]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class b extends w.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:_.localize(0,null),alias:"Transpose Letters",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(g,n){if(!n.hasModel())return;const i=n.getModel(),t=[],o=n.getSelections();for(const r of o){if(!r.isEmpty())continue;const c=r.startLineNumber,d=r.startColumn,a=i.getLineMaxColumn(c);if(c===1&&(d===1||d===2&&a===2))continue;const s=d===a?r.getPosition():k.MoveOperations.rightPosition(i,r.getPosition().lineNumber,r.getPosition().column),l=k.MoveOperations.leftPosition(i,s),h=k.MoveOperations.leftPosition(i,l),p=i.getValueInRange(I.Range.fromPositions(h,l)),S=i.getValueInRange(I.Range.fromPositions(l,s)),f=I.Range.fromPositions(h,s);t.push(new v.ReplaceCommand(f,S+p))}t.length>0&&(n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop())}}(0,w.registerEditorAction)(b)}),define(se[708],re([1,0,41,18,204,13,29,24,551,36,93]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const n="9_cutcopypaste",i=v.isNative||document.queryCommandSupported("cut"),t=v.isNative||document.queryCommandSupported("copy"),o=typeof navigator.clipboard=="undefined"||w.isFirefox?document.queryCommandSupported("paste"):!0;function r(a){return a.register(),a}e.CutAction=i?r(new I.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:v.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(0,null),order:1},{menuId:u.MenuId.EditorContext,group:n,title:b.localize(1,null),when:_.EditorContextKeys.writable,order:1},{menuId:u.MenuId.CommandPalette,group:"",title:b.localize(2,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:n,title:b.localize(3,null),when:_.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=t?r(new I.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:v.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(4,null),order:2},{menuId:u.MenuId.EditorContext,group:n,title:b.localize(5,null),order:2},{menuId:u.MenuId.CommandPalette,group:"",title:b.localize(6,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:n,title:b.localize(7,null),order:2}]})):void 0,u.MenuRegistry.appendMenuItem(u.MenuId.MenubarEditMenu,{submenu:u.MenuId.MenubarCopy,title:{value:b.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextCopy,title:{value:b.localize(9,null),original:"Copy As"},group:n,order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextShare,title:{value:b.localize(10,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=o?r(new I.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:v.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(11,null),order:4},{menuId:u.MenuId.EditorContext,group:n,title:b.localize(12,null),when:_.EditorContextKeys.writable,order:4},{menuId:u.MenuId.CommandPalette,group:"",title:b.localize(13,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:n,title:b.localize(14,null),when:_.EditorContextKeys.writable,order:4}]})):void 0;class c extends I.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:b.localize(15,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(s,l){!l.hasModel()||!l.getOption(33)&&l.getSelection().isEmpty()||(k.CopyOptions.forceCopyWithSyntaxHighlighting=!0,l.focus(),document.execCommand("copy"),k.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function d(a,s){!a||(a.addImplementation(1e4,"code-editor",(l,h)=>{const p=l.get(L.ICodeEditorService).getFocusedCodeEditor();if(p&&p.hasTextFocus()){const S=p.getOption(33),f=p.getSelection();return f&&f.isEmpty()&&!S||document.execCommand(s),!0}return!1}),a.addImplementation(0,"generic-dom",(l,h)=>(document.execCommand(s),!0)))}d(e.CutAction,"cut"),d(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(a,s)=>{const l=a.get(L.ICodeEditorService),h=a.get(g.IClipboardService),p=l.getFocusedCodeEditor();return p&&p.hasTextFocus()?!document.execCommand("paste")&&v.isWeb?(()=>Se(void 0,void 0,void 0,function*(){const f=yield h.readText();if(f!==""){const m=k.InMemoryClipboardMetadataManager.INSTANCE.get(f);let C=!1,y=null,E=null;m&&(C=p.getOption(33)&&!!m.isFromEmptySelection,y=typeof m.multicursorText!="undefined"?m.multicursorText:null,E=m.mode),p.trigger("keyboard","paste",{text:f,pasteOnNewLine:C,multicursorText:y,mode:E})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(a,s)=>(document.execCommand("paste"),!0))),t&&(0,I.registerEditorAction)(c)}),define(se[709],re([1,0,59,13,3,24,32,251,458,558,36]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n extends v.EditorAction{constructor(d,a){super(a);this._type=d}run(d,a){const s=d.get(L.ILanguageConfigurationService);if(!a.hasModel())return;const l=a.getModel(),h=[],p=l.getOptions(),S=a.getOption(19),f=a.getSelections().map((C,y)=>({selection:C,index:y,ignoreFirstLine:!1}));f.sort((C,y)=>k.Range.compareRangesUsingStarts(C.selection,y.selection));let m=f[0];for(let C=1;C<f.length;C++){const y=f[C];m.selection.endLineNumber===y.selection.startLineNumber&&(m.index<y.index?y.ignoreFirstLine=!0:(m.ignoreFirstLine=!0,m=y))}for(const C of f)h.push(new b.LineCommentCommand(s,C.selection,p.tabSize,this._type,S.insertSpace,S.ignoreEmptyLines,C.ignoreFirstLine));a.pushUndoStop(),a.executeCommands(this.id,h),a.pushUndoStop()}}class i extends n{constructor(){super(0,{id:"editor.action.commentLine",label:u.localize(0,null),alias:"Toggle Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(1,null),order:1}})}}class t extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:u.localize(2,null),alias:"Add Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|33),weight:100}})}}class o extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:u.localize(3,null),alias:"Remove Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|51),weight:100}})}}class r extends v.EditorAction{constructor(){super({id:"editor.action.blockComment",label:u.localize(4,null),alias:"Toggle Block Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(5,null),order:2}})}run(d,a){const s=d.get(L.ILanguageConfigurationService);if(!a.hasModel())return;const l=a.getOption(19),h=[],p=a.getSelections();for(const S of p)h.push(new _.BlockCommentCommand(S,l.insertSpace,s));a.pushUndoStop(),a.executeCommands(this.id,h),a.pushUndoStop()}}(0,v.registerEditorAction)(i),(0,v.registerEditorAction)(t),(0,v.registerEditorAction)(o),(0,v.registerEditorAction)(r)}),define(se[710],re([1,0,7,135,42,2,18,13,24,559,36,16,79,44,30]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let r=class Pi{constructor(a,s,l,h,p,S,f){this._contextMenuService=s,this._contextViewService=l,this._contextKeyService=h,this._keybindingService=p,this._menuService=S,this._configurationService=f,this._toDispose=new I.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=a,this._toDispose.add(this._editor.onContextMenu(m=>this._onContextMenu(m))),this._toDispose.add(this._editor.onMouseWheel(m=>{if(this._contextMenuIsBeingShownCount>0){const C=this._contextViewService.getContextViewElement(),y=m.srcElement;y.shadowRoot&&w.getShadowRoot(C)===y.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(m=>{!this._editor.getOption(20)||m.keyCode===58&&(m.preventDefault(),m.stopPropagation(),this.showContextMenu())}))}static get(a){return a.getContribution(Pi.ID)}_onContextMenu(a){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),a.target.position&&!this._editor.getSelection().containsPosition(a.target.position)&&this._editor.setPosition(a.target.position);return}if(a.target.type===12||a.target.type===6&&a.target.detail.injectedText)return;if(a.event.preventDefault(),a.event.stopPropagation(),a.target.type===11)return this._showScrollbarContextMenu({x:a.event.posx-1,width:2,y:a.event.posy-1,height:2});if(a.target.type!==6&&a.target.type!==7&&a.target.type!==1)return;if(this._editor.focus(),a.target.position){let l=!1;for(const h of this._editor.getSelections())if(h.containsPosition(a.target.position)){l=!0;break}l||this._editor.setPosition(a.target.position)}let s=null;a.target.type!==1&&(s={x:a.event.posx-1,width:2,y:a.event.posy-1,height:2}),this.showContextMenu(s)}showContextMenu(a){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const s=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?g.MenuId.SimpleEditorContext:g.MenuId.EditorContext);s.length>0&&this._doShowContextMenu(s,a)}_getMenuActions(a,s){const l=[],h=this._menuService.createMenu(s,this._contextKeyService),p=h.getActions({arg:a.uri});h.dispose();for(const S of p){const[,f]=S;let m=0;for(const C of f)if(C instanceof g.SubmenuItemAction){const y=this._getMenuActions(a,C.item.submenu);y.length>0&&(l.push(new k.SubmenuAction(C.id,C.label,y)),m++)}else l.push(C),m++;m&&l.push(new k.Separator)}return l.length&&l.pop(),l}_doShowContextMenu(a,s=null){if(!this._editor.hasModel())return;const l=this._editor.getOption(54);if(this._editor.updateOptions({hover:{enabled:!1}}),!s){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const p=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),S=w.getDomNodePagePosition(this._editor.getDomNode()),f=S.left+p.left,m=S.top+p.top+p.height;s={x:f,y:m}}const h=this._editor.getOption(117)&&!L.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:h?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>a,getActionViewItem:p=>{const S=this._keybindingFor(p);if(S)return new v.ActionViewItem(p,p,{label:!0,keybinding:S.getLabel(),isMenu:!0});const f=p;return typeof f.getActionViewItem=="function"?f.getActionViewItem():new v.ActionViewItem(p,p,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:p=>this._keybindingFor(p),onHide:p=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:l})}})}_showScrollbarContextMenu(a){if(!this._editor.hasModel())return;const s=this._editor.getOption(66);let l=0;const h=C=>({id:`menu-action-${++l}`,label:C.label,tooltip:"",class:void 0,enabled:typeof C.enabled=="undefined"?!0:C.enabled,checked:C.checked,run:C.run}),p=(C,y)=>new k.SubmenuAction(`menu-action-${++l}`,C,y,void 0),S=(C,y,E,T,N)=>{if(!y)return h({label:C,enabled:y,run:()=>{}});const F=P=>()=>{this._configurationService.updateValue(E,P)},O=[];for(const P of N)O.push(h({label:P.label,checked:T===P.value,run:F(P.value)}));return p(C,O)},f=[];f.push(h({label:u.localize(0,null),checked:s.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!s.enabled)}})),f.push(new k.Separator),f.push(h({label:u.localize(1,null),enabled:s.enabled,checked:s.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!s.renderCharacters)}})),f.push(S(u.localize(2,null),s.enabled,"editor.minimap.size",s.size,[{label:u.localize(3,null),value:"proportional"},{label:u.localize(4,null),value:"fill"},{label:u.localize(5,null),value:"fit"}])),f.push(S(u.localize(6,null),s.enabled,"editor.minimap.showSlider",s.showSlider,[{label:u.localize(7,null),value:"mouseover"},{label:u.localize(8,null),value:"always"}]));const m=this._editor.getOption(117)&&!L.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:m?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>f,onHide:C=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(a){return this._keybindingService.lookupKeybinding(a.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};r.ID="editor.contrib.contextmenu",r=ke([fe(1,i.IContextMenuService),fe(2,i.IContextViewService),fe(3,n.IContextKeyService),fe(4,t.IKeybindingService),fe(5,g.IMenuService),fe(6,o.IConfigurationService)],r),e.ContextMenuController=r;class c extends _.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:u.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(a,s){var l;(l=r.get(s))===null||l===void 0||l.showContextMenu()}}(0,_.registerEditorContribution)(r.ID,r),(0,_.registerEditorAction)(c)}),define(se[711],re([1,0,2,13,24,561]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class L{constructor(i){this.selections=i}equals(i){const t=this.selections.length,o=i.selections.length;if(t!==o)return!1;for(let r=0;r<t;r++)if(!this.selections[r].equalsSelection(i.selections[r]))return!1;return!0}}class _{constructor(i,t,o){this.cursorState=i,this.scrollTop=t,this.scrollLeft=o}}class b extends w.Disposable{constructor(i){super();this._editor=i,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(i.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const o=new L(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new _(o,i.getScrollTop(),i.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(i){return i.getContribution(b.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new _(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new _(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(i){this._isCursorUndoRedo=!0,this._editor.setSelections(i.cursorState.selections),this._editor.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=b,b.ID="editor.contrib.cursorUndoRedoController";class u extends v.EditorAction{constructor(){super({id:"cursorUndo",label:I.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:k.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(i,t,o){var r;(r=b.get(t))===null||r===void 0||r.cursorUndo()}}e.CursorUndo=u;class g extends v.EditorAction{constructor(){super({id:"cursorRedo",label:I.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(i,t,o){var r;(r=b.get(t))===null||r===void 0||r.cursorRedo()}}e.CursorRedo=g,(0,v.registerEditorContribution)(b.ID,b),(0,v.registerEditorAction)(u),(0,v.registerEditorAction)(g)}),define(se[712],re([1,0,13,16,21,73,9,53,563]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const u=(0,L.createDecorator)("IEditorCancelService"),g=new v.RawContextKey("cancellableOperation",!1,(0,b.localize)(0,null));(0,_.registerSingleton)(u,class{constructor(){this._tokens=new WeakMap}add(i,t){let o=this._tokens.get(i);o||(o=i.invokeWithinContext(c=>{const d=g.bindTo(c.get(v.IContextKeyService)),a=new I.LinkedList;return{key:d,tokens:a}}),this._tokens.set(i,o));let r;return o.key.set(!0),r=o.tokens.push(t),()=>{r&&(r(),o.key.set(!o.tokens.isEmpty()),r=void 0)}}cancel(i){const t=this._tokens.get(i);if(!t)return;const o=t.tokens.pop();o&&(o.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class n extends k.CancellationTokenSource{constructor(t,o){super(o);this.editor=t,this._unregister=t.invokeWithinContext(r=>r.get(u).add(t,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=n,(0,w.registerEditorCommand)(new class extends w.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:g})}runEditorCommand(i,t){i.get(u).cancel(t)}})}),define(se[96],re([1,0,8,3,21,2,712]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class _{constructor(n,i){if(this.flags=i,(this.flags&1)!=0){const t=n.getModel();this.modelVersionId=t?w.format("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=n.getPosition():this.position=null,(this.flags&2)!=0?this.selection=n.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=n.getScrollLeft(),this.scrollTop=n.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(n){if(!(n instanceof _))return!1;const i=n;return!(this.modelVersionId!==i.modelVersionId||this.scrollLeft!==i.scrollLeft||this.scrollTop!==i.scrollTop||!this.position&&i.position||this.position&&!i.position||this.position&&i.position&&!this.position.equals(i.position)||!this.selection&&i.selection||this.selection&&!i.selection||this.selection&&i.selection&&!this.selection.equalsRange(i.selection))}validate(n){return this._equals(new _(n,this.flags))}}e.EditorState=_;class b extends L.EditorKeybindingCancellationTokenSource{constructor(n,i,t,o){super(n,o);this._listener=new I.DisposableStore,i&4&&this._listener.add(n.onDidChangeCursorPosition(r=>{(!t||!v.Range.containsPosition(t,r.position))&&this.cancel()})),i&2&&this._listener.add(n.onDidChangeCursorSelection(r=>{(!t||!v.Range.containsRange(t,r.selection))&&this.cancel()})),i&8&&this._listener.add(n.onDidScrollChange(r=>this.cancel())),i&1&&(this._listener.add(n.onDidChangeModel(r=>this.cancel())),this._listener.add(n.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=b;class u extends k.CancellationTokenSource{constructor(n,i){super(i);this._listener=n.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=u}),define(se[172],re([1,0,17,21,14,2,22,96,3,23,50,26,71,133,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorPreviewCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.refactorPreviewCommandId="editor.action.refactor.preview",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class r{constructor(p,S){this.action=p,this.provider=S}resolve(p){var S;return Se(this,void 0,void 0,function*(){if(((S=this.provider)===null||S===void 0?void 0:S.resolveCodeAction)&&!this.action.edit){let f;try{f=yield this.provider.resolveCodeAction(this.action,p)}catch(m){(0,k.onUnexpectedExternalError)(m)}f&&(this.action.edit=f.edit)}return this})}}e.CodeActionItem=r;class c extends I.Disposable{constructor(p,S,f){super();this.documentation=S,this._register(f),this.allActions=[...p].sort(c.codeActionsComparator),this.validActions=this.allActions.filter(({action:m})=>!m.disabled)}static codeActionsPreferredComparator(p,S){return p.isPreferred&&!S.isPreferred?-1:!p.isPreferred&&S.isPreferred?1:0}static codeActionsComparator({action:p},{action:S}){return(0,w.isNonEmptyArray)(p.diagnostics)?(0,w.isNonEmptyArray)(S.diagnostics)?c.codeActionsPreferredComparator(p,S):-1:(0,w.isNonEmptyArray)(S.diagnostics)?1:c.codeActionsPreferredComparator(p,S)}get hasAutoFix(){return this.validActions.some(({action:p})=>!!p.kind&&t.CodeActionKind.QuickFix.contains(new t.CodeActionKind(p.kind))&&!!p.isPreferred)}}const d={actions:[],documentation:void 0};function a(h,p,S,f,m,C){var y;return Se(this,void 0,void 0,function*(){const E=f.filter||{},T={only:(y=E.include)===null||y===void 0?void 0:y.value,trigger:f.type},N=new _.TextModelCancellationTokenSource(p,C),F=s(h,p,E),O=new I.DisposableStore,P=F.map(M=>Se(this,void 0,void 0,function*(){try{m.report(M);const R=yield M.provideCodeActions(p,S,T,N.token);if(R&&O.add(R),N.token.isCancellationRequested)return d;const B=((R==null?void 0:R.actions)||[]).filter(V=>V&&(0,t.filtersAction)(E,V)),W=l(M,B,E.include);return{actions:B.map(V=>new r(V,M)),documentation:W}}catch(R){if((0,k.isCancellationError)(R))throw R;return(0,k.onUnexpectedExternalError)(R),d}})),D=h.onDidChange(()=>{const M=h.all(p);(0,w.equals)(M,F)||N.cancel()});try{const M=yield Promise.all(P),R=M.map(W=>W.actions).flat(),B=(0,w.coalesce)(M.map(W=>W.documentation));return new c(R,B,O)}finally{D.dispose(),N.dispose()}})}e.getCodeActions=a;function s(h,p,S){return h.all(p).filter(f=>f.providedCodeActionKinds?f.providedCodeActionKinds.some(m=>(0,t.mayIncludeActionsOfKind)(S,new t.CodeActionKind(m))):!0)}function l(h,p,S){if(!h.documentation)return;const f=h.documentation.map(m=>({kind:new t.CodeActionKind(m.kind),command:m.command}));if(S){let m;for(const C of f)C.kind.contains(S)&&(m?m.kind.contains(C.kind)&&(m=C):m=C);if(m)return m==null?void 0:m.command}for(const m of p)if(!!m.kind){for(const C of f)if(C.kind.contains(new t.CodeActionKind(m.kind)))return C.command}}n.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,p,S,f,m){return Se(this,void 0,void 0,function*(){if(!(p instanceof L.URI))throw(0,k.illegalArgument)();const{codeActionProvider:C}=h.get(o.ILanguageFeaturesService),y=h.get(g.IModelService).getModel(p);if(!y)throw(0,k.illegalArgument)();const E=u.Selection.isISelection(S)?u.Selection.liftSelection(S):b.Range.isIRange(S)?y.validateRange(S):void 0;if(!E)throw(0,k.illegalArgument)();const T=typeof f=="string"?new t.CodeActionKind(f):void 0,N=yield a(C,y,E,{type:1,triggerAction:t.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:T}},i.Progress.None,v.CancellationToken.None),F=[],O=Math.min(N.validActions.length,typeof m=="number"?m:0);for(let P=0;P<O;P++)F.push(N.validActions[P].resolve(v.CancellationToken.None));try{return yield Promise.all(F),N.validActions.map(P=>P.action)}finally{setTimeout(()=>N.dispose(),100)}})})}),define(se[306],re([1,0,7,114,42,14,147,2,11,19,172,133,553,30,16,79,44,86,15,27,75,378,126,219]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=e.Context=void 0,e.Context={Visible:new o.RawContextKey("codeActionMenuVisible",!1,(0,i.localize)(0,null))};class h extends k.Action{constructor(F,O){super(F.command?F.command.id:F.title,p(F.title),void 0,!F.disabled,O);this.action=F}}function p(N){return N.replace(/\r\n|\r|\n/g," ")}const S="codeActionWidget",f=24,m=26;let C=!1,y=class{constructor(F,O){this.acceptKeybindings=F,this.keybindingService=O}get templateId(){return S}renderTemplate(F){const O=Object.create(null);O.disposables=[],O.root=F,O.text=document.createElement("span");const P=document.createElement("div");return P.className="icon-container",O.icon=document.createElement("div"),P.append(O.icon),F.append(P),F.append(O.text),O}renderElement(F,O,P){var D,M;const R=P,B=F.isSeparator,W=F.isHeader;if(B)R.root.classList.add("separator"),R.root.style.height="10px";else if(W){const V=F.headerTitle;R.text.textContent=V,F.isEnabled=!1,R.root.classList.add("group-header")}else{const V=F.action.label;if(F.isEnabled=F.action.enabled,F.action instanceof h){const A=((D=F.params)===null||D===void 0?void 0:D.options.fromLightbulb)?n.CodeActionTriggerSource.Lightbulb:(M=F.params)===null||M===void 0?void 0:M.trigger.triggerAction;if(F.isDocumentation=F.action.action.kind===E.documentationID,F.isDocumentation){F.isEnabled=!1,R.root.classList.add("documentation");const Y=R.root,ee=w.append(Y,w.$(".codeActionWidget-action-bar")),U=C?{id:"hideMoreCodeActions",label:(0,i.localize)(1,null),enabled:!0,run:()=>E.toggleDisabledOptions(F.params)}:{id:"showMoreCodeActions",label:(0,i.localize)(2,null),enabled:!0,run:()=>E.toggleDisabledOptions(F.params)},j=new l.ActionBar(ee);R.disposables.push(j),A===n.CodeActionTriggerSource.Refactor&&(F.params.codeActions.validActions.length>0||F.params.codeActions.allActions.length===F.params.codeActions.validActions.length)?j.push([F.action,U],{icon:!1,label:!0}):j.push([F.action],{icon:!1,label:!0})}else{R.text.textContent=V;const Y=F.action.action.kind;n.CodeActionKind.SurroundWith.contains(new n.CodeActionKind(String(Y)))?R.icon.className=s.Codicon.symbolArray.classNames:n.CodeActionKind.Extract.contains(new n.CodeActionKind(String(Y)))?R.icon.className=s.Codicon.wrench.classNames:n.CodeActionKind.Convert.contains(new n.CodeActionKind(String(Y)))?(R.icon.className=s.Codicon.zap.classNames,R.icon.style.color="var(--vscode-editorLightBulbAutoFix-foreground)"):(n.CodeActionKind.QuickFix.contains(new n.CodeActionKind(String(Y))),R.icon.className=s.Codicon.lightBulb.classNames,R.icon.style.color="var(--vscode-editorLightBulb-foreground)"),F.action.action.disabled?R.root.title=F.action.action.disabled:(()=>{var U,j;const[Z,ie]=this.acceptKeybindings;R.root.title=(0,i.localize)(3,null,(U=this.keybindingService.lookupKeybinding(Z))===null||U===void 0?void 0:U.getLabel(),(j=this.keybindingService.lookupKeybinding(ie))===null||j===void 0?void 0:j.getLabel())})()}}}F.isEnabled?R.root.classList.remove("option-disabled"):(R.root.classList.add("option-disabled"),R.root.style.backgroundColor="transparent !important",R.icon.style.opacity="0.4")}disposeTemplate(F){F.disposables=(0,_.dispose)(F.disposables)}};y=ke([fe(1,c.IKeybindingService)],y);let E=class jt extends _.Disposable{constructor(F,O,P,D,M,R,B,W,V,A){super();this._editor=F,this._delegate=O,this._contextMenuService=P,this._languageFeaturesService=M,this._telemetryService=R,this._configurationService=W,this._contextViewService=V,this._contextKeyService=A,this._showingActions=this._register(new _.MutableDisposable),this.codeActionList=this._register(new _.MutableDisposable),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeparator=!1,this._keybindingResolver=new T({getKeybindings:()=>D.getKeybindings()}),this._ctxMenuWidgetVisible=e.Context.Visible.bindTo(this._contextKeyService),this.listRenderer=new y(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],D)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(F){return this._configurationService.getValue("editor.useCustomCodeActionMenu",{resource:F.uri})}isCodeActionWidgetHeadersShown(F){return this._configurationService.getValue("editor.customCodeActionMenu.showHeaders",{resource:F.uri})}_onListSelection(F){F.elements.length&&F.elements.forEach(O=>{O.isEnabled&&(O.action.run(),this.hideCodeActionWidget())})}_onListHover(F){var O,P,D,M;F.element?((P=F.element)===null||P===void 0?void 0:P.isEnabled)?((D=this.codeActionList.value)===null||D===void 0||D.setFocus([F.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(F.element),this.currSelectedItem=F.element.index):(this.currSelectedItem=void 0,(M=this.codeActionList.value)===null||M===void 0||M.setFocus([F.element.index])):(this.currSelectedItem=void 0,(O=this.codeActionList.value)===null||O===void 0||O.setFocus([]))}_onListClick(F){var O;F.element&&(F.element.isEnabled||(this.currSelectedItem=void 0,(O=this.codeActionList.value)===null||O===void 0||O.setFocus([])))}renderCodeActionMenuList(F,O,P){var D;const M=new _.DisposableStore,R=document.createElement("div"),B=document.createElement("div");this.block=F.appendChild(B),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",M.add(w.addDisposableListener(this.block,w.EventType.MOUSE_DOWN,J=>J.stopPropagation())),R.id="codeActionMenuWidget",R.classList.add("codeActionMenuWidget"),F.appendChild(R),this.codeActionList.value=new v.List("codeActionWidget",R,{getHeight(J){return J.isSeparator?10:J.isHeader?m:f},getTemplateId(J){return"codeActionWidget"}},[this.listRenderer],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:J=>{if(J.action instanceof h){let de=J.action.label;return J.action.enabled||J.action instanceof h&&(de=(0,i.localize)(4,null,de,J.action.action.disabled)),de}return null},getWidgetAriaLabel:()=>(0,i.localize)(5,null),getRole:()=>"option",getWidgetRole:()=>"code-action-widget"}});const W=document.createElement("div");this.pointerBlock=F.appendChild(W),this.pointerBlock.classList.add("context-view-pointerBlock"),this.pointerBlock.style.position="fixed",this.pointerBlock.style.cursor="initial",this.pointerBlock.style.left="0",this.pointerBlock.style.top="0",this.pointerBlock.style.width="100%",this.pointerBlock.style.height="100%",this.pointerBlock.style.zIndex="2",M.add(w.addDisposableListener(this.pointerBlock,w.EventType.POINTER_MOVE,()=>{var J;return(J=this.pointerBlock)===null||J===void 0?void 0:J.remove()})),M.add(w.addDisposableListener(this.pointerBlock,w.EventType.MOUSE_DOWN,()=>{var J;return(J=this.pointerBlock)===null||J===void 0?void 0:J.remove()})),M.add(this.codeActionList.value.onMouseClick(J=>this._onListClick(J))),M.add(this.codeActionList.value.onMouseOver(J=>this._onListHover(J))),M.add(this.codeActionList.value.onDidChangeFocus(()=>{var J;return(J=this.codeActionList.value)===null||J===void 0?void 0:J.domFocus()})),M.add(this.codeActionList.value.onDidChangeSelection(J=>this._onListSelection(J))),M.add(this._editor.onDidLayoutChange(()=>this.hideCodeActionWidget()));const V=this._editor.getModel();if(!V)return M;let A=0;const Y=[];if(!this.isCodeActionWidgetHeadersShown(V))Y.push(...O);else{const J=[],de=[],x=[],ne=[],te=[],q=[],oe=[],z=[],X=[];O.forEach(H=>{if(H instanceof h){const K=H.action.kind;n.CodeActionKind.SurroundWith.contains(new n.CodeActionKind(String(K)))?te.push(H):n.CodeActionKind.QuickFix.contains(new n.CodeActionKind(String(K)))?de.push(H):n.CodeActionKind.Extract.contains(new n.CodeActionKind(String(K)))?x.push(H):n.CodeActionKind.Convert.contains(new n.CodeActionKind(String(K)))?ne.push(H):n.CodeActionKind.Source.contains(new n.CodeActionKind(String(K)))?q.push(H):K===jt.documentationID?z.push(H):X.push(H)}else H.id==="vs.actions.separator"&&oe.push(H)}),J.push(de,x,ne,te,q,X,oe,z);const $=(H,K)=>{Y.push(H),Y.push(...K),A++};J.forEach(H=>{if(H.length>0&&H[0]instanceof h){const K=H[0].action.kind;n.CodeActionKind.SurroundWith.contains(new n.CodeActionKind(String(K)))?$((0,i.localize)(6,null),H):n.CodeActionKind.QuickFix.contains(new n.CodeActionKind(String(K)))?$((0,i.localize)(7,null),H):n.CodeActionKind.Extract.contains(new n.CodeActionKind(String(K)))?$((0,i.localize)(8,null),H):n.CodeActionKind.Convert.contains(new n.CodeActionKind(String(K)))?$((0,i.localize)(9,null),H):n.CodeActionKind.Source.contains(new n.CodeActionKind(String(K)))?$((0,i.localize)(10,null),H):K===jt.documentationID?Y.push(...H):$((0,i.localize)(11,null),H)}else Y.push(...H)})}Y.forEach((J,de)=>{if(typeof J=="string"){const x={isEnabled:!1,isSeparator:!1,index:de,isHeader:!0,headerTitle:J};this.options.push(x)}else{const x=J.class==="separator";x&&(this.hasSeparator=!0);const ne={action:J,isEnabled:J.enabled,isSeparator:x,index:de,params:P};J.enabled&&this.viewItems.push(ne),this.options.push(ne)}}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const U=(this.hasSeparator?(Y.length-1)*f+10:Y.length*f)+A*m-A*f;R.style.height=String(U)+"px",this.codeActionList.value.layout(U);const j=[];this.options.forEach((J,de)=>{var x,ne;if(!this.codeActionList.value)return;const te=(ne=document.getElementById((x=this.codeActionList.value)===null||x===void 0?void 0:x.getElementID(de)))===null||ne===void 0?void 0:ne.getElementsByTagName("span")[0].offsetWidth;j.push(Number(te))});let Z=Math.max(...j);P.trigger.triggerAction===n.CodeActionTriggerSource.Refactor&&Z<230&&(Z=230),R.style.width=Z+52+5+"px",(D=this.codeActionList.value)===null||D===void 0||D.layout(U,Z),this.viewItems.length<1||this.viewItems.every(J=>J.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const ie=w.trackFocus(F),Q=ie.onDidBlur(()=>{this.hideCodeActionWidget()});return M.add(Q),M.add(ie),this._ctxMenuWidgetVisible.set(!0),M}focusPrevious(){var F;if(typeof this.focusedEnabledItem=="undefined")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const O=this.focusedEnabledItem;let P;do this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),P=this.viewItems[this.focusedEnabledItem],(F=this.codeActionList.value)===null||F===void 0||F.setFocus([P.index]),this.currSelectedItem=P.index;while(this.focusedEnabledItem!==O&&(!P.isEnabled||P.action.id===k.Separator.ID));return!0}focusNext(){var F;if(typeof this.focusedEnabledItem=="undefined")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const O=this.focusedEnabledItem;let P;do this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,P=this.viewItems[this.focusedEnabledItem],(F=this.codeActionList.value)===null||F===void 0||F.setFocus([P.index]),this.currSelectedItem=P.index;while(this.focusedEnabledItem!==O&&(!P.isEnabled||P.action.id===k.Separator.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var F;typeof this.currSelectedItem=="number"&&((F=this.codeActionList.value)===null||F===void 0||F.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeparator=!1,this._contextViewService.hideContextView()}codeActionTelemetry(F,O,P){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:F,validCodeActions:P.validActions.length,cancelled:O})}showContextViewHelper(F,O){this._contextViewService.showContextView({getAnchor:()=>F.anchor,render:P=>this.renderCodeActionMenuList(P,O,F),onHide:P=>{const D=F.options.fromLightbulb?n.CodeActionTriggerSource.Lightbulb:F.trigger.triggerAction;this.codeActionTelemetry(D,P,F.codeActions),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1)}static toggleDisabledOptions(F){F.menuObj.hideCodeActionWidget(),C=!C;const O=C?F.codeActions.allActions:F.codeActions.validActions,P=F.menuObj.getMenuActions(F.trigger,O,F.codeActions.documentation);F.menuObj.showContextViewHelper(F,P)}show(F,O,P,D){return Se(this,void 0,void 0,function*(){const M=this._editor.getModel();if(!M)return;let R=D.includeDisabledActions?O.allActions:O.validActions;if(F.triggerAction===n.CodeActionTriggerSource.Refactor&&O.validActions.length>0&&(R=C?O.allActions:O.validActions),!R.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,I.canceled)();this._visible=!0,this._showingActions.value=O;const B=this.getMenuActions(F,R,O.documentation),W=b.Position.isIPosition(P)?this._toCoords(P):P||{x:0,y:0},V={options:D,trigger:F,codeActions:O,anchor:W,menuActions:B,showDisabled:!0,visible:this._visible,menuObj:this},A=this._keybindingResolver.getResolver(),Y=this._editor.getOption(117);this.isCodeActionWidgetEnabled(M)?this.showContextViewHelper(V,B):this._contextMenuService.showContextMenu({domForShadowRoot:Y?this._editor.getDomNode():void 0,getAnchor:()=>W,getActions:()=>B,onHide:ee=>{const U=D.fromLightbulb?n.CodeActionTriggerSource.Lightbulb:F.triggerAction;this.codeActionTelemetry(U,ee,O),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:ee=>ee instanceof h?A(ee.action):void 0})})}getMenuActions(F,O,P){var D,M;const R=A=>new h(A.action,()=>this._delegate.onSelectCodeAction(A,F)),B=O.map(R),W=[...P],V=this._editor.getModel();if(V&&B.length)for(const A of this._languageFeaturesService.codeActionProvider.all(V))A._getAdditionalMenuItems&&W.push(...A._getAdditionalMenuItems({trigger:F.type,only:(M=(D=F.filter)===null||D===void 0?void 0:D.include)===null||M===void 0?void 0:M.value},O.map(Y=>Y.action)));return W.length&&B.push(new k.Separator,...W.map(A=>R(new g.CodeActionItem({title:A.title,command:A,kind:jt.documentationID},void 0)))),B}_toCoords(F){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(F,1),this._editor.render();const O=this._editor.getScrolledVisiblePosition(F),P=w.getDomNodePagePosition(this._editor.getDomNode()),D=P.left+O.left,M=P.top+O.top+O.height;return{x:D,y:M}}};E.documentationID="_documentation",E=ke([fe(2,r.IContextMenuService),fe(3,c.IKeybindingService),fe(4,u.ILanguageFeaturesService),fe(5,d.ITelemetryService),fe(6,a.IThemeService),fe(7,t.IConfigurationService),fe(8,r.IContextViewService),fe(9,o.IContextKeyService)],E),e.CodeActionMenu=E;class T{constructor(F){this._keybindingProvider=F}getResolver(){const F=new L.Lazy(()=>this._keybindingProvider.getKeybindings().filter(O=>T.codeActionCommands.indexOf(O.command)>=0).filter(O=>O.resolvedKeybinding).map(O=>{let P=O.commandArgs;return O.command===g.organizeImportsCommandId?P={kind:n.CodeActionKind.SourceOrganizeImports.value}:O.command===g.fixAllCommandId&&(P={kind:n.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:O.resolvedKeybinding},n.CodeActionCommandArgs.fromUser(P,{kind:n.CodeActionKind.None,apply:"never"}))}));return O=>{if(O.kind){const P=this.bestKeybindingForCodeAction(O,F.getValue());return P==null?void 0:P.resolvedKeybinding}}}bestKeybindingForCodeAction(F,O){if(!F.kind)return;const P=new n.CodeActionKind(F.kind);return O.filter(D=>D.kind.contains(P)).filter(D=>D.preferred?F.isPreferred:!0).reduceRight((D,M)=>D?D.kind.contains(M.kind)?M:D:M,void 0)}}e.CodeActionKeybindingResolver=T,T.codeActionCommands=[g.refactorCommandId,g.codeActionCommandId,g.sourceActionCommandId,g.organizeImportsCommandId,g.fixAllCommandId]});var Rt=this&&this.__classPrivateFieldGet||function(G,e,w,v){if(w==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?G!==e||!v:!e.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?v:w==="a"?v.call(G):v?v.value:e.get(G)},oi=this&&this.__classPrivateFieldSet||function(G,e,w,v,k){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?G!==e||!k:!e.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?k.call(G,w):k?k.value=w:e.set(G,w),w};define(se[713],re([1,0,10,14,6,2,43,3,16,71,172,133]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new b.RawContextKey("supportedCodeAction","");class t extends I.Disposable{constructor(a,s,l,h=250){super();this._editor=a,this._markerService=s,this._signalChange=l,this._delay=h,this._autoTriggerTimer=this._register(new w.TimeoutTimer),this._register(this._markerService.onMarkerChanged(p=>this._onMarkerChanges(p))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(a){const s=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);return this._createEventAndSignalChange(a,s)}_onMarkerChanges(a){const s=this._editor.getModel();!s||a.some(l=>(0,L.isEqual)(l,s.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfMarker(a){const s=this._editor.getModel();if(!!s)for(const l of this._markerService.read({resource:s.uri})){const h=s.validateRange(l);if(_.Range.intersectRanges(h,a))return _.Range.lift(h)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const s=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&a.type===2){const{lineNumber:h,column:p}=l.getPosition(),S=s.getLineContent(h);if(S.length===0)return;if(p===1){if(/\s/.test(S[0]))return}else if(p===s.getLineMaxColumn(h)){if(/\s/.test(S[S.length-1]))return}else if(/\s/.test(S[p-2])&&/\s/.test(S[p-1]))return}return l}_createEventAndSignalChange(a,s){const l=this._editor.getModel();if(!s||!l){this._signalChange(void 0);return}const h=this._getRangeOfMarker(s),p=h?h.getStartPosition():s.getStartPosition(),S={trigger:a,selection:s,position:p};return this._signalChange(S),S}}var o;(function(d){d.Empty={type:0};class a{constructor(l,h,p,S){this.trigger=l,this.rangeOrSelection=h,this.position=p,this._cancellablePromise=S,this.type=1,this.actions=S.catch(f=>{if((0,v.isCancellationError)(f))return r;throw f})}cancel(){this._cancellablePromise.cancel()}}d.Triggered=a})(o=e.CodeActionsState||(e.CodeActionsState={}));const r={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class c extends I.Disposable{constructor(a,s,l,h,p){super();this._editor=a,this._registry=s,this._markerService=l,this._progressService=p,this._codeActionOracle=this._register(new I.MutableDisposable),this._state=o.Empty,this._onDidChangeState=this._register(new k.Emitter),this.onDidChangeState=this._onDidChangeState.event,i.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(h),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Rt(this,i,"f")||(oi(this,i,!0,"f"),super.dispose(),this.setState(o.Empty,!0))}_update(){if(Rt(this,i,"f"))return;this._codeActionOracle.value=void 0,this.setState(o.Empty);const a=this._editor.getModel();if(a&&this._registry.has(a)&&!this._editor.getOption(82)){const s=[];for(const l of this._registry.all(a))Array.isArray(l.providedCodeActionKinds)&&s.push(...l.providedCodeActionKinds);this._supportedCodeActions.set(s.join(" ")),this._codeActionOracle.value=new t(this._editor,this._markerService,l=>{var h;if(!l){this.setState(o.Empty);return}const p=(0,w.createCancelablePromise)(S=>(0,g.getCodeActions)(this._registry,a,l.selection,l.trigger,u.Progress.None,S));l.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(p,250)),this.setState(new o.Triggered(l.trigger,l.selection,l.position,p))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(a){var s;(s=this._codeActionOracle.value)===null||s===void 0||s.trigger(a)}setState(a,s){a!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=a,!s&&!Rt(this,i,"f")&&this._onDidChangeState.fire(a))}}e.CodeActionModel=c,i=new WeakMap}),define(se[714],re([1,0,13,165,568]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:k.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(u,g){v.EditorZoom.setZoomLevel(v.EditorZoom.getZoomLevel()+1)}}class L extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:k.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(u,g){v.EditorZoom.setZoomLevel(v.EditorZoom.getZoomLevel()-1)}}class _ extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:k.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(u,g){v.EditorZoom.setZoomLevel(0)}}(0,w.registerEditorAction)(I),(0,w.registerEditorAction)(L),(0,w.registerEditorAction)(_)}),define(se[307],re([1,0,49,17,21,14,55,73,20,22,96,156,11,3,23,102,58,252,569,26,635,9,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function S(P){if(P=P.filter(B=>B.range),!P.length)return;let{range:D}=P[0];for(let B=1;B<P.length;B++)D=t.Range.plusRange(D,P[B].range);const{startLineNumber:M,endLineNumber:R}=D;M===R?P.length===1?(0,w.alert)(a.localize(0,null,M)):(0,w.alert)(a.localize(1,null,P.length,M)):P.length===1?(0,w.alert)(a.localize(2,null,M,R)):(0,w.alert)(a.localize(3,null,P.length,M,R))}e.alertFormattingEdits=S;function f(P,D,M){const R=[],B=new Set,W=P.ordered(M);for(const A of W)R.push(A),A.extensionId&&B.add(l.ExtensionIdentifier.toKey(A.extensionId));const V=D.ordered(M);for(const A of V){if(A.extensionId){if(B.has(l.ExtensionIdentifier.toKey(A.extensionId)))continue;B.add(l.ExtensionIdentifier.toKey(A.extensionId))}R.push({displayName:A.displayName,extensionId:A.extensionId,provideDocumentFormattingEdits(Y,ee,U){return A.provideDocumentRangeFormattingEdits(Y,Y.getFullModelRange(),ee,U)}})}return R}e.getRealAndSyntheticDocumentFormattersOrdered=f;class m{static setFormatterSelector(D){return{dispose:m._selectors.unshift(D)}}static select(D,M,R){return Se(this,void 0,void 0,function*(){if(D.length===0)return;const B=L.Iterable.first(m._selectors);if(B)return yield B(D,M,R)})}}e.FormattingConflicts=m,m._selectors=new _.LinkedList;function C(P,D,M,R,B,W){return Se(this,void 0,void 0,function*(){const V=P.get(h.IInstantiationService),{documentRangeFormattingEditProvider:A}=P.get(p.ILanguageFeaturesService),Y=(0,n.isCodeEditor)(D)?D.getModel():D,ee=A.ordered(Y),U=yield m.select(ee,Y,R);U&&(B.report(U),yield V.invokeFunction(y,U,D,M,W))})}e.formatDocumentRangesWithSelectedProvider=C;function y(P,D,M,R,B){return Se(this,void 0,void 0,function*(){const W=P.get(r.IEditorWorkerService);let V,A;(0,n.isCodeEditor)(M)?(V=M.getModel(),A=new g.EditorStateCancellationTokenSource(M,1|4,void 0,B)):(V=M,A=new g.TextModelCancellationTokenSource(M,B));const Y=[];let ee=0;for(const Q of(0,v.asArray)(R).sort(t.Range.compareRangesUsingStarts))ee>0&&t.Range.areIntersectingOrTouching(Y[ee-1],Q)?Y[ee-1]=t.Range.fromPositions(Y[ee-1].getStartPosition(),Q.getEndPosition()):ee=Y.push(Q);const U=Q=>Se(this,void 0,void 0,function*(){return(yield D.provideDocumentRangeFormattingEdits(V,Q,V.getFormattingOptions(),A.token))||[]}),j=(Q,J)=>{if(!Q.length||!J.length)return!1;const de=Q.reduce((x,ne)=>t.Range.plusRange(x,ne.range),Q[0].range);if(!J.some(x=>t.Range.intersectRanges(de,x.range)))return!1;for(const x of Q)for(const ne of J)if(t.Range.intersectRanges(x.range,ne.range))return!0;return!1},Z=[],ie=[];try{for(const Q of Y){if(A.token.isCancellationRequested)return!0;ie.push(yield U(Q))}for(let Q=0;Q<Y.length;++Q)for(let J=Q+1;J<Y.length;++J){if(A.token.isCancellationRequested)return!0;if(j(ie[Q],ie[J])){const de=t.Range.plusRange(Y[Q],Y[J]),x=yield U(de);Y.splice(J,1),Y.splice(Q,1),Y.push(de),ie.splice(J,1),ie.splice(Q,1),ie.push(x),Q=0,J=0}}for(const Q of ie){if(A.token.isCancellationRequested)return!0;const J=yield W.computeMoreMinimalEdits(V.uri,Q);J&&Z.push(...J)}}finally{A.dispose()}if(Z.length===0)return!1;if((0,n.isCodeEditor)(M))d.FormattingEdit.execute(M,Z,!0),S(Z),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:Q}]=Z,J=new o.Selection(Q.startLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn);V.pushEditOperations([J],Z.map(de=>({text:de.text,range:t.Range.lift(de.range),forceMoveMarkers:!0})),de=>{for(const{range:x}of de)if(t.Range.areIntersectingOrTouching(x,J))return[new o.Selection(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=y;function E(P,D,M,R,B){return Se(this,void 0,void 0,function*(){const W=P.get(h.IInstantiationService),V=P.get(p.ILanguageFeaturesService),A=(0,n.isCodeEditor)(D)?D.getModel():D,Y=f(V.documentFormattingEditProvider,V.documentRangeFormattingEditProvider,A),ee=yield m.select(Y,A,M);ee&&(R.report(ee),yield W.invokeFunction(T,ee,D,M,B))})}e.formatDocumentWithSelectedProvider=E;function T(P,D,M,R,B){return Se(this,void 0,void 0,function*(){const W=P.get(r.IEditorWorkerService);let V,A;(0,n.isCodeEditor)(M)?(V=M.getModel(),A=new g.EditorStateCancellationTokenSource(M,1|4,void 0,B)):(V=M,A=new g.TextModelCancellationTokenSource(M,B));let Y;try{const ee=yield D.provideDocumentFormattingEdits(V,V.getFormattingOptions(),A.token);if(Y=yield W.computeMoreMinimalEdits(V.uri,ee),A.token.isCancellationRequested)return!0}finally{A.dispose()}if(!Y||Y.length===0)return!1;if((0,n.isCodeEditor)(M))d.FormattingEdit.execute(M,Y,R!==2),R!==2&&(S(Y),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1));else{const[{range:ee}]=Y,U=new o.Selection(ee.startLineNumber,ee.startColumn,ee.endLineNumber,ee.endColumn);V.pushEditOperations([U],Y.map(j=>({text:j.text,range:t.Range.lift(j.range),forceMoveMarkers:!0})),j=>{for(const{range:Z}of j)if(t.Range.areIntersectingOrTouching(Z,U))return[new o.Selection(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=T;function N(P,D,M,R,B,W){return Se(this,void 0,void 0,function*(){const V=D.documentRangeFormattingEditProvider.ordered(M);for(const A of V){const Y=yield Promise.resolve(A.provideDocumentRangeFormattingEdits(M,R,B,W)).catch(I.onUnexpectedExternalError);if((0,v.isNonEmptyArray)(Y))return yield P.computeMoreMinimalEdits(M.uri,Y)}})}e.getDocumentRangeFormattingEditsUntilResult=N;function F(P,D,M,R,B){return Se(this,void 0,void 0,function*(){const W=f(D.documentFormattingEditProvider,D.documentRangeFormattingEditProvider,M);for(const V of W){const A=yield Promise.resolve(V.provideDocumentFormattingEdits(M,R,B)).catch(I.onUnexpectedExternalError);if((0,v.isNonEmptyArray)(A))return yield P.computeMoreMinimalEdits(M.uri,A)}})}e.getDocumentFormattingEditsUntilResult=F;function O(P,D,M,R,B,W,V){const A=D.onTypeFormattingEditProvider.ordered(M);return A.length===0||A[0].autoFormatTriggerCharacters.indexOf(B)<0?Promise.resolve(void 0):Promise.resolve(A[0].provideOnTypeFormattingEdits(M,R,B,W,V)).catch(I.onUnexpectedExternalError).then(Y=>P.computeMoreMinimalEdits(M.uri,Y))}e.getOnTypeFormattingEdits=O,s.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(P,...D){return Se(this,void 0,void 0,function*(){const[M,R,B]=D;(0,b.assertType)(u.URI.isUri(M)),(0,b.assertType)(t.Range.isIRange(R));const W=P.get(c.ITextModelService),V=P.get(r.IEditorWorkerService),A=P.get(p.ILanguageFeaturesService),Y=yield W.createModelReference(M);try{return N(V,A,Y.object.textEditorModel,t.Range.lift(R),B,k.CancellationToken.None)}finally{Y.dispose()}})}),s.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(P,...D){return Se(this,void 0,void 0,function*(){const[M,R]=D;(0,b.assertType)(u.URI.isUri(M));const B=P.get(c.ITextModelService),W=P.get(r.IEditorWorkerService),V=P.get(p.ILanguageFeaturesService),A=yield B.createModelReference(M);try{return F(W,V,A.object.textEditorModel,R,k.CancellationToken.None)}finally{A.dispose()}})}),s.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(P,...D){return Se(this,void 0,void 0,function*(){const[M,R,B,W]=D;(0,b.assertType)(u.URI.isUri(M)),(0,b.assertType)(i.Position.isIPosition(R)),(0,b.assertType)(typeof B=="string");const V=P.get(c.ITextModelService),A=P.get(r.IEditorWorkerService),Y=P.get(p.ILanguageFeaturesService),ee=yield V.createModelReference(M);try{return O(A,Y,ee.object.textEditorModel,i.Position.lift(R),B,W,k.CancellationToken.None)}finally{ee.dispose()}})})}),define(se[715],re([1,0,17,21,14,59,2,13,29,108,3,24,102,19,307,252,570,26,16,9,71]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(C,y,E){this._editor=C,this._languageFeaturesService=y,this._workerService=E,this._disposables=new L.DisposableStore,this._sessionDisposables=new L.DisposableStore,this._disposables.add(y.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(C.onDidChangeModel(()=>this._update())),this._disposables.add(C.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(C.onDidChangeConfiguration(T=>{T.hasChanged(50)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(50)||!this._editor.hasModel())return;const C=this._editor.getModel(),[y]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(C);if(!y||!y.autoFormatTriggerCharacters)return;const E=new u.CharacterSet;for(const T of y.autoFormatTriggerCharacters)E.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{const N=T.charCodeAt(T.length-1);E.has(N)&&this._trigger(String.fromCharCode(N))}))}_trigger(C){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const y=this._editor.getModel(),E=this._editor.getPosition(),T=new v.CancellationTokenSource,N=this._editor.onDidChangeModelContent(F=>{if(F.isFlush){T.cancel(),N.dispose();return}for(let O=0,P=F.changes.length;O<P;O++)if(F.changes[O].range.endLineNumber<=E.lineNumber){T.cancel(),N.dispose();return}});(0,o.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,y,E,C,y.getFormattingOptions(),T.token).then(F=>{T.token.isCancellationRequested||(0,w.isNonEmptyArray)(F)&&(r.FormattingEdit.execute(this._editor,F,!0),(0,o.alertFormattingEdits)(F))}).finally(()=>{N.dispose()})}};h.ID="editor.contrib.autoFormat",h=ke([fe(1,t.ILanguageFeaturesService),fe(2,i.IEditorWorkerService)],h);let p=class{constructor(C,y,E){this.editor=C,this._languageFeaturesService=y,this._instantiationService=E,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._callOnDispose.add(C.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(C.onDidChangeModel(()=>this._update())),this._callOnDispose.add(C.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(y.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(49)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:C})=>this._trigger(C))))}_trigger(C){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(o.formatDocumentRangesWithSelectedProvider,this.editor,C,2,l.Progress.None,v.CancellationToken.None).catch(k.onUnexpectedError)}};p.ID="editor.contrib.formatOnPaste",p=ke([fe(1,t.ILanguageFeaturesService),fe(2,s.IInstantiationService)],p);class S extends _.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:c.localize(0,null),alias:"Format Document",precondition:a.ContextKeyExpr.and(n.EditorContextKeys.notInCompositeEditor,n.EditorContextKeys.writable,n.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(C,y){return Se(this,void 0,void 0,function*(){if(y.hasModel()){const E=C.get(s.IInstantiationService);yield C.get(l.IEditorProgressService).showWhile(E.invokeFunction(o.formatDocumentWithSelectedProvider,y,1,l.Progress.None,v.CancellationToken.None),250)}})}}class f extends _.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:c.localize(1,null),alias:"Format Selection",precondition:a.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:n.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(C,y){return Se(this,void 0,void 0,function*(){if(!y.hasModel())return;const E=C.get(s.IInstantiationService),T=y.getModel(),N=y.getSelections().map(O=>O.isEmpty()?new g.Range(O.startLineNumber,1,O.startLineNumber,T.getLineMaxColumn(O.startLineNumber)):O);yield C.get(l.IEditorProgressService).showWhile(E.invokeFunction(o.formatDocumentRangesWithSelectedProvider,y,N,1,l.Progress.None,v.CancellationToken.None),250)})}}(0,_.registerEditorContribution)(h.ID,h),(0,_.registerEditorContribution)(p.ID,p),(0,_.registerEditorAction)(S),(0,_.registerEditorAction)(f),d.CommandsRegistry.registerCommand("editor.action.format",m=>Se(void 0,void 0,void 0,function*(){const C=m.get(b.ICodeEditorService).getFocusedCodeEditor();if(!C||!C.hasModel())return;const y=m.get(d.ICommandService);C.getSelection().isEmpty()?yield y.executeCommand("editor.action.formatDocument"):yield y.executeCommand("editor.action.formatSelection")}))}),define(se[220],re([1,0,17,21,14,13,19,139]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function b(r,c,d,a){return Se(this,void 0,void 0,function*(){const l=d.ordered(r).map(p=>Promise.resolve(a(p,r,c)).then(void 0,S=>{(0,k.onUnexpectedExternalError)(S)})),h=yield Promise.all(l);return(0,w.coalesce)(h.flat())})}function u(r,c,d,a){return b(c,d,r,(s,l,h)=>s.provideDefinition(l,h,a))}e.getDefinitionsAtPosition=u;function g(r,c,d,a){return b(c,d,r,(s,l,h)=>s.provideDeclaration(l,h,a))}e.getDeclarationsAtPosition=g;function n(r,c,d,a){return b(c,d,r,(s,l,h)=>s.provideImplementation(l,h,a))}e.getImplementationsAtPosition=n;function i(r,c,d,a){return b(c,d,r,(s,l,h)=>s.provideTypeDefinition(l,h,a))}e.getTypeDefinitionsAtPosition=i;function t(r,c,d,a,s){return b(c,d,r,(l,h,p)=>Se(this,void 0,void 0,function*(){const S=yield l.provideReferences(h,p,{includeDeclaration:!0},s);if(!a||!S||S.length!==2)return S;const f=yield l.provideReferences(h,p,{includeDeclaration:!1},s);return f&&f.length===1?f:S}))}e.getReferencesAtPosition=t;function o(r){return Se(this,void 0,void 0,function*(){const c=yield r(),d=new _.ReferencesModel(c,""),a=d.references.map(s=>s.link);return d.dispose(),a})}(0,I.registerModelAndPositionCommand)("_executeDefinitionProvider",(r,c,d)=>{const a=r.get(L.ILanguageFeaturesService),s=u(a.definitionProvider,c,d,v.CancellationToken.None);return o(()=>s)}),(0,I.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(r,c,d)=>{const a=r.get(L.ILanguageFeaturesService),s=i(a.typeDefinitionProvider,c,d,v.CancellationToken.None);return o(()=>s)}),(0,I.registerModelAndPositionCommand)("_executeDeclarationProvider",(r,c,d)=>{const a=r.get(L.ILanguageFeaturesService),s=g(a.declarationProvider,c,d,v.CancellationToken.None);return o(()=>s)}),(0,I.registerModelAndPositionCommand)("_executeReferenceProvider",(r,c,d)=>{const a=r.get(L.ILanguageFeaturesService),s=t(a.referenceProvider,c,d,!1,v.CancellationToken.None);return o(()=>s)}),(0,I.registerModelAndPositionCommand)("_executeImplementationProvider",(r,c,d)=>{const a=r.get(L.ILanguageFeaturesService),s=n(a.implementationProvider,c,d,v.CancellationToken.None);return o(()=>s)})}),define(se[716],re([1,0,6,2,43,13,29,3,579,16,53,9,44,95,40]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new u.RawContextKey("hasSymbols",!1,(0,b.localize)(0,null)),e.ISymbolNavigationService=(0,n.createDecorator)("ISymbolNavigationService");let r=class{constructor(a,s,l,h){this._editorService=s,this._notificationService=l,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(a)}reset(){var a,s;this._ctxHasSymbols.reset(),(a=this._currentState)===null||a===void 0||a.dispose(),(s=this._currentMessage)===null||s===void 0||s.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(a){const s=a.parent.parent;if(s.references.length<=1){this.reset();return}this._currentModel=s,this._currentIdx=s.references.indexOf(a),this._ctxHasSymbols.set(!0),this._showMessage();const l=new c(this._editorService),h=l.onDidChange(p=>{if(this._ignoreEditorChange)return;const S=this._editorService.getActiveCodeEditor();if(!S)return;const f=S.getModel(),m=S.getPosition();if(!f||!m)return;let C=!1,y=!1;for(const E of s.references)if((0,k.isEqual)(E.uri,f.uri))C=!0,y=y||_.Range.containsPosition(E.range,m);else if(C)break;(!C||!y)&&this.reset()});this._currentState=(0,v.combinedDisposable)(l,h)}revealNext(a){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const s=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:s.uri,options:{selection:_.Range.collapseToStart(s.range),selectionRevealType:3}},a).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var a;(a=this._currentMessage)===null||a===void 0||a.dispose();const s=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),l=s?(0,b.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,s.getLabel()):(0,b.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(l)}};r=ke([fe(0,u.IContextKeyService),fe(1,L.ICodeEditorService),fe(2,o.INotificationService),fe(3,i.IKeybindingService)],r),(0,g.registerSingleton)(e.ISymbolNavigationService,r,!0),(0,I.registerEditorCommand)(new class extends I.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(d,a){return d.get(e.ISymbolNavigationService).revealNext(a)}}),t.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(d){d.get(e.ISymbolNavigationService).reset()}});let c=class{constructor(a){this._listener=new Map,this._disposables=new v.DisposableStore,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(a.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(a.onCodeEditorAdd(this._onDidAddEditor,this)),a.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,v.dispose)(this._listener.values())}_onDidAddEditor(a){this._listener.set(a,(0,v.combinedDisposable)(a.onDidChangeCursorPosition(s=>this._onDidChange.fire({editor:a})),a.onDidChangeModelContent(s=>this._onDidChange.fire({editor:a}))))}_onDidRemoveEditor(a){var s;(s=this._listener.get(a))===null||s===void 0||s.dispose(),this._listener.delete(a)}};c=ke([fe(0,L.ICodeEditorService)],c)}),define(se[308],re([1,0,10,21,14,13,19]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class _{constructor(t,o,r){this.provider=t,this.hover=o,this.ordinal=r}}e.HoverProviderResult=_;function b(i,t,o,r,c){return Se(this,void 0,void 0,function*(){try{const d=yield Promise.resolve(i.provideHover(o,r,c));if(d&&n(d))return new _(i,d,t)}catch(d){(0,k.onUnexpectedExternalError)(d)}})}function u(i,t,o,r){const d=i.ordered(t).map((a,s)=>b(a,s,t,o,r));return w.AsyncIterableObject.fromPromises(d).coalesce()}e.getHover=u;function g(i,t,o,r){return u(i,t,o,r).map(c=>c.hover).toPromise()}e.getHoverPromise=g,(0,I.registerModelAndPositionCommand)("_executeHoverProvider",(i,t,o)=>{const r=i.get(L.ILanguageFeaturesService);return g(r.hoverProvider,t,o,v.CancellationToken.None)});function n(i){const t=typeof i.range!="undefined",o=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return t&&o}}),define(se[221],re([1,0,7,17,10,65,2,118,11,3,39,308,581,30,45,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const c=w.$;class d{constructor(h,p,S,f){this.owner=h,this.range=p,this.contents=S,this.ordinal=f}isValidForHoverAnchor(h){return h.type===1&&this.range.startColumn<=h.range.startColumn&&this.range.endColumn>=h.range.endColumn}}e.MarkdownHover=d;let a=class{constructor(h,p,S,f,m){this._editor=h,this._languageService=p,this._openerService=S,this._configurationService=f,this._languageFeaturesService=m,this.hoverOrdinal=2}createLoadingMessage(h){return new d(this,h.range,[new I.MarkdownString().appendText(i.localize(0,null))],2e3)}computeSync(h,p){if(!this._editor.hasModel()||h.type!==1)return[];const S=this._editor.getModel(),f=h.range.startLineNumber,m=S.getLineMaxColumn(f),C=[];let y=1e3;const E=S.getLineLength(f),T=S.getLanguageIdAtPosition(h.range.startLineNumber,h.range.startColumn),N=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:T});typeof N=="number"&&E>=N&&C.push(new d(this,h.range,[{value:i.localize(1,null)}],y++));for(const F of p){const O=F.range.startLineNumber===f?F.range.startColumn:1,P=F.range.endLineNumber===f?F.range.endColumn:m,D=F.options.hoverMessage;if(!D||(0,I.isEmptyMarkdownString)(D))continue;const M=new u.Range(h.range.startLineNumber,O,h.range.startLineNumber,P);C.push(new d(this,M,(0,v.asArray)(D),y++))}return C}computeAsync(h,p,S){if(!this._editor.hasModel()||h.type!==1)return k.AsyncIterableObject.EMPTY;const f=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(f))return k.AsyncIterableObject.EMPTY;const m=new b.Position(h.range.startLineNumber,h.range.startColumn);return(0,n.getHover)(this._languageFeaturesService.hoverProvider,f,m,S).filter(C=>!(0,I.isEmptyMarkdownString)(C.hover.contents)).map(C=>{const y=C.hover.range?u.Range.lift(C.hover.range):h.range;return new d(this,y,C.hover.contents,C.ordinal)})}renderHoverParts(h,p){return s(h,p,this._editor,this._languageService,this._openerService)}};a=ke([fe(1,g.ILanguageService),fe(2,o.IOpenerService),fe(3,t.IConfigurationService),fe(4,r.ILanguageFeaturesService)],a),e.MarkdownHoverParticipant=a;function s(l,h,p,S,f){h.sort((C,y)=>C.ordinal-y.ordinal);const m=new L.DisposableStore;for(const C of h)for(const y of C.contents){if((0,I.isEmptyMarkdownString)(y))continue;const E=c("div.hover-row.markdown-hover"),T=w.append(E,c("div.hover-contents")),N=m.add(new _.MarkdownRenderer({editor:p},S,f));m.add(N.onDidRenderAsync(()=>{T.className="hover-contents code-hover-contents",l.onContentsChanged()}));const F=m.add(N.render(y));T.appendChild(F.element),l.fragment.appendChild(E)}return m}e.renderMarkdownHovers=s}),define(se[717],re([1,0,2,8,13,217,61,3,23,24,32,50,253,584,85,180,215]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function d(F,O,P,D,M){if(F.getLineCount()===1&&F.getLineMaxColumn(1)===1)return[];const R=O.getLanguageConfiguration(F.getLanguageId()).indentationRules;if(!R)return[];for(D=Math.min(D,F.getLineCount());P<=D&&R.unIndentedLinePattern;){const Q=F.getLineContent(P);if(!R.unIndentedLinePattern.test(Q))break;P++}if(P>D-1)return[];const{tabSize:B,indentSize:W,insertSpaces:V}=F.getOptions(),A=(Q,J)=>(J=J||1,I.ShiftCommand.shiftIndent(Q,Q.length+J,B,W,V)),Y=(Q,J)=>(J=J||1,I.ShiftCommand.unshiftIndent(Q,Q.length+J,B,W,V)),ee=[];let U;const j=F.getLineContent(P);let Z=j;if(M!=null){U=M;const Q=v.getLeadingWhitespace(j);Z=U+j.substring(Q.length),R.decreaseIndentPattern&&R.decreaseIndentPattern.test(Z)&&(U=Y(U),Z=U+j.substring(Q.length)),j!==Z&&ee.push(L.EditOperation.replaceMove(new b.Selection(P,1,P,Q.length+1),(0,r.normalizeIndentation)(U,W,V)))}else U=v.getLeadingWhitespace(j);let ie=U;R.increaseIndentPattern&&R.increaseIndentPattern.test(Z)?(ie=A(ie),U=A(U)):R.indentNextLinePattern&&R.indentNextLinePattern.test(Z)&&(ie=A(ie)),P++;for(let Q=P;Q<=D;Q++){const J=F.getLineContent(Q),de=v.getLeadingWhitespace(J),x=ie+J.substring(de.length);R.decreaseIndentPattern&&R.decreaseIndentPattern.test(x)&&(ie=Y(ie),U=Y(U)),de!==ie&&ee.push(L.EditOperation.replaceMove(new b.Selection(Q,1,Q,de.length+1),(0,r.normalizeIndentation)(ie,W,V))),!(R.unIndentedLinePattern&&R.unIndentedLinePattern.test(J))&&(R.increaseIndentPattern&&R.increaseIndentPattern.test(x)?(U=A(U),ie=U):R.indentNextLinePattern&&R.indentNextLinePattern.test(x)?ie=A(ie):ie=U)}return ee}e.getReindentEditOperations=d;class a extends k.EditorAction{constructor(){super({id:a.ID,label:t.localize(0,null),alias:"Convert Indentation to Spaces",precondition:u.EditorContextKeys.writable})}run(O,P){const D=P.getModel();if(!D)return;const M=D.getOptions(),R=P.getSelection();if(!R)return;const B=new T(R,M.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[B]),P.pushUndoStop(),D.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=a,a.ID="editor.action.indentationToSpaces";class s extends k.EditorAction{constructor(){super({id:s.ID,label:t.localize(1,null),alias:"Convert Indentation to Tabs",precondition:u.EditorContextKeys.writable})}run(O,P){const D=P.getModel();if(!D)return;const M=D.getOptions(),R=P.getSelection();if(!R)return;const B=new N(R,M.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[B]),P.pushUndoStop(),D.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=s,s.ID="editor.action.indentationToTabs";class l extends k.EditorAction{constructor(O,P){super(P);this.insertSpaces=O}run(O,P){const D=O.get(o.IQuickInputService),M=O.get(n.IModelService),R=P.getModel();if(!R)return;const B=M.getCreationOptions(R.getLanguageId(),R.uri,R.isForSimpleWidget),W=[1,2,3,4,5,6,7,8].map(A=>({id:A.toString(),label:A.toString(),description:A===B.tabSize?t.localize(2,null):void 0})),V=Math.min(R.getOptions().tabSize-1,7);setTimeout(()=>{D.pick(W,{placeHolder:t.localize(3,null),activeItem:W[V]}).then(A=>{A&&R&&!R.isDisposed()&&R.updateOptions({tabSize:parseInt(A.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=l;class h extends l{constructor(){super(!1,{id:h.ID,label:t.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=h,h.ID="editor.action.indentUsingTabs";class p extends l{constructor(){super(!0,{id:p.ID,label:t.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=p,p.ID="editor.action.indentUsingSpaces";class S extends k.EditorAction{constructor(){super({id:S.ID,label:t.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(O,P){const D=O.get(n.IModelService),M=P.getModel();if(!M)return;const R=D.getCreationOptions(M.getLanguageId(),M.uri,M.isForSimpleWidget);M.detectIndentation(R.insertSpaces,R.tabSize)}}e.DetectIndentation=S,S.ID="editor.action.detectIndentation";class f extends k.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:t.localize(7,null),alias:"Reindent Lines",precondition:u.EditorContextKeys.writable})}run(O,P){const D=O.get(g.ILanguageConfigurationService),M=P.getModel();if(!M)return;const R=d(M,D,1,M.getLineCount());R.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,R),P.pushUndoStop())}}e.ReindentLinesAction=f;class m extends k.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:t.localize(8,null),alias:"Reindent Selected Lines",precondition:u.EditorContextKeys.writable})}run(O,P){const D=O.get(g.ILanguageConfigurationService),M=P.getModel();if(!M)return;const R=P.getSelections();if(R===null)return;const B=[];for(const W of R){let V=W.startLineNumber,A=W.endLineNumber;if(V!==A&&W.endColumn===1&&A--,V===1){if(V===A)continue}else V--;const Y=d(M,D,V,A);B.push(...Y)}B.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,B),P.pushUndoStop())}}e.ReindentSelectedLinesAction=m;class C{constructor(O,P){this._initialSelection=P,this._edits=[],this._selectionId=null;for(const D of O)D.range&&typeof D.text=="string"&&this._edits.push(D)}getEditOperations(O,P){for(const M of this._edits)P.addEditOperation(_.Range.lift(M.range),M.text);let D=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(D=!0,this._selectionId=P.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(D=!0,this._selectionId=P.trackSelection(this._initialSelection,!1))),D||(this._selectionId=P.trackSelection(this._initialSelection))}computeCursorState(O,P){return P.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=C;let y=class{constructor(O,P){this.editor=O,this._languageConfigurationService=P,this.callOnDispose=new w.DisposableStore,this.callOnModel=new w.DisposableStore,this.callOnDispose.add(O.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(O.onDidChangeModel(()=>this.update())),this.callOnDispose.add(O.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(49))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:O})=>{this.trigger(O)})))}trigger(O){const P=this.editor.getSelections();if(P===null||P.length>1)return;const D=this.editor.getModel();if(!D||!D.tokenization.isCheapToTokenize(O.getStartPosition().lineNumber))return;const M=this.editor.getOption(9),{tabSize:R,indentSize:B,insertSpaces:W}=D.getOptions(),V=[],A={shiftIndent:j=>I.ShiftCommand.shiftIndent(j,j.length+1,R,B,W),unshiftIndent:j=>I.ShiftCommand.unshiftIndent(j,j.length+1,R,B,W)};let Y=O.startLineNumber;for(;Y<=O.endLineNumber;){if(this.shouldIgnoreLine(D,Y)){Y++;continue}break}if(Y>O.endLineNumber)return;let ee=D.getLineContent(Y);if(!/\S/.test(ee.substring(0,O.startColumn-1))){const j=(0,c.getGoodIndentForLine)(M,D,D.getLanguageId(),Y,A,this._languageConfigurationService);if(j!==null){const Z=v.getLeadingWhitespace(ee),ie=i.getSpaceCnt(j,R),Q=i.getSpaceCnt(Z,R);if(ie!==Q){const J=i.generateIndent(ie,R,W);V.push({range:new _.Range(Y,1,Y,Z.length+1),text:J}),ee=J+ee.substr(Z.length)}else{const J=(0,c.getIndentMetadata)(D,Y,this._languageConfigurationService);if(J===0||J===8)return}}}const U=Y;for(;Y<O.endLineNumber;){if(!/\S/.test(D.getLineContent(Y+1))){Y++;continue}break}if(Y!==O.endLineNumber){const j={tokenization:{getLineTokens:ie=>D.tokenization.getLineTokens(ie),getLanguageId:()=>D.getLanguageId(),getLanguageIdAtPosition:(ie,Q)=>D.getLanguageIdAtPosition(ie,Q)},getLineContent:ie=>ie===U?ee:D.getLineContent(ie)},Z=(0,c.getGoodIndentForLine)(M,j,D.getLanguageId(),Y+1,A,this._languageConfigurationService);if(Z!==null){const ie=i.getSpaceCnt(Z,R),Q=i.getSpaceCnt(v.getLeadingWhitespace(D.getLineContent(Y+1)),R);if(ie!==Q){const J=ie-Q;for(let de=Y+1;de<=O.endLineNumber;de++){const x=D.getLineContent(de),ne=v.getLeadingWhitespace(x),q=i.getSpaceCnt(ne,R)+J,oe=i.generateIndent(q,R,W);oe!==ne&&V.push({range:new _.Range(de,1,de,ne.length+1),text:oe})}}}}if(V.length>0){this.editor.pushUndoStop();const j=new C(V,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",j),this.editor.pushUndoStop()}}shouldIgnoreLine(O,P){O.tokenization.forceTokenization(P);const D=O.getLineFirstNonWhitespaceColumn(P);if(D===0)return!0;const M=O.tokenization.getLineTokens(P);if(M.getCount()>0){const R=M.findTokenIndexAtOffset(D);if(R>=0&&M.getStandardTokenType(R)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};y.ID="editor.contrib.autoIndentOnPaste",y=ke([fe(1,g.ILanguageConfigurationService)],y),e.AutoIndentOnPaste=y;function E(F,O,P,D){if(F.getLineCount()===1&&F.getLineMaxColumn(1)===1)return;let M="";for(let B=0;B<P;B++)M+=" ";const R=new RegExp(M,"gi");for(let B=1,W=F.getLineCount();B<=W;B++){let V=F.getLineFirstNonWhitespaceColumn(B);if(V===0&&(V=F.getLineMaxColumn(B)),V===1)continue;const A=new _.Range(B,1,B,V),Y=F.getValueInRange(A),ee=D?Y.replace(/\t/ig,M):Y.replace(R,"	");O.addEditOperation(A,ee)}}class T{constructor(O,P){this.selection=O,this.tabSize=P,this.selectionId=null}getEditOperations(O,P){this.selectionId=P.trackSelection(this.selection),E(O,P,this.tabSize,!0)}computeCursorState(O,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=T;class N{constructor(O,P){this.selection=O,this.tabSize=P,this.selectionId=null}getEditOperations(O,P){this.selectionId=P.trackSelection(this.selection),E(O,P,this.tabSize,!1)}computeCursorState(O,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=N,(0,k.registerEditorContribution)(y.ID,y),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(h),(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(S),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(m)}),define(se[718],re([1,0,13,185,24,588]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class L extends w.EditorAction{constructor(){super({id:"expandLineSelection",label:I.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:k.EditorContextKeys.textInputFocus,primary:2048|42}})}run(b,u,g){if(g=g||{},!u.hasModel())return;const n=u._getViewModel();n.model.pushStackElement(),n.setCursorStates(g.source,3,v.CursorMoveCommands.expandLineSelection(n,n.getCursorStates())),n.revealPrimaryCursor(g.source,!0)}}e.ExpandLineSelectionAction=L,(0,w.registerEditorAction)(L)}),define(se[719],re([1,0,59,171,13,109,411,218,61,11,3,23,24,465,668,466,589,36,32]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class s extends k.EditorAction{constructor(de,x){super(x);this.down=de}run(de,x){if(!x.hasModel())return;const ne=x.getSelections().map((oe,z)=>({selection:oe,index:z,ignore:!1}));ne.sort((oe,z)=>g.Range.compareRangesUsingStarts(oe.selection,z.selection));let te=ne[0];for(let oe=1;oe<ne.length;oe++){const z=ne[oe];te.selection.endLineNumber===z.selection.startLineNumber&&(te.index<z.index?z.ignore=!0:(te.ignore=!0,te=z))}const q=[];for(const oe of ne)q.push(new t.CopyLinesCommand(oe.selection,this.down,oe.ignore));x.pushUndoStop(),x.executeCommands(this.id,q),x.pushUndoStop()}}class l extends s{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:c.localize(0,null),alias:"Copy Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(1,null),order:1}})}}class h extends s{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:c.localize(2,null),alias:"Copy Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(3,null),order:2}})}}class p extends k.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:c.localize(4,null),alias:"Duplicate Selection",precondition:i.EditorContextKeys.writable,menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(5,null),order:5}})}run(de,x,ne){if(!x.hasModel())return;const te=[],q=x.getSelections(),oe=x.getModel();for(const z of q)if(z.isEmpty())te.push(new t.CopyLinesCommand(z,!0));else{const X=new n.Selection(z.endLineNumber,z.endColumn,z.endLineNumber,z.endColumn);te.push(new I.ReplaceCommandThatSelectsText(X,oe.getValueInRange(z)))}x.pushUndoStop(),x.executeCommands(this.id,te),x.pushUndoStop()}}e.DuplicateSelectionAction=p;class S extends k.EditorAction{constructor(de,x){super(x);this.down=de}run(de,x){const ne=de.get(a.ILanguageConfigurationService),te=[],q=x.getSelections()||[],oe=x.getOption(9);for(const z of q)te.push(new o.MoveLinesCommand(z,this.down,oe,ne));x.pushUndoStop(),x.executeCommands(this.id,te),x.pushUndoStop()}}class f extends S{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:c.localize(6,null),alias:"Move Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(7,null),order:3}})}}class m extends S{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:c.localize(8,null),alias:"Move Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(9,null),order:4}})}}class C extends k.EditorAction{constructor(de,x){super(x);this.descending=de}run(de,x){const ne=x.getSelections()||[];for(const q of ne)if(!r.SortLinesCommand.canRun(x.getModel(),q,this.descending))return;const te=[];for(let q=0,oe=ne.length;q<oe;q++)te[q]=new r.SortLinesCommand(ne[q],this.descending);x.pushUndoStop(),x.executeCommands(this.id,te),x.pushUndoStop()}}e.AbstractSortLinesAction=C;class y extends C{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:c.localize(10,null),alias:"Sort Lines Ascending",precondition:i.EditorContextKeys.writable})}}e.SortLinesAscendingAction=y;class E extends C{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:c.localize(11,null),alias:"Sort Lines Descending",precondition:i.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class T extends k.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:c.localize(12,null),alias:"Delete Duplicate Lines",precondition:i.EditorContextKeys.writable})}run(de,x){if(!x.hasModel())return;const ne=x.getModel();if(ne.getLineCount()===1&&ne.getLineMaxColumn(1)===1)return;const te=[],q=[];let oe=0;for(const z of x.getSelections()){const X=new Set,$=[];for(let le=z.startLineNumber;le<=z.endLineNumber;le++){const he=ne.getLineContent(le);X.has(he)||($.push(he),X.add(he))}const H=new n.Selection(z.startLineNumber,1,z.endLineNumber,ne.getLineMaxColumn(z.endLineNumber)),K=z.startLineNumber-oe,ce=new n.Selection(K,1,K+$.length-1,$[$.length-1].length);te.push(b.EditOperation.replace(H,$.join(`
`))),q.push(ce),oe+=z.endLineNumber-z.startLineNumber+1-$.length}x.pushUndoStop(),x.executeEdits(this.id,te,q),x.pushUndoStop()}}e.DeleteDuplicateLinesAction=T;class N extends k.EditorAction{constructor(){super({id:N.ID,label:c.localize(13,null),alias:"Trim Trailing Whitespace",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|54),weight:100}})}run(de,x,ne){let te=[];ne.reason==="auto-save"&&(te=(x.getSelections()||[]).map(z=>new u.Position(z.positionLineNumber,z.positionColumn)));const q=x.getSelection();if(q===null)return;const oe=new L.TrimTrailingWhitespaceCommand(q,te);x.pushUndoStop(),x.executeCommands(this.id,[oe]),x.pushUndoStop()}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class F extends k.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:c.localize(14,null),alias:"Delete Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(de,x){if(!x.hasModel())return;const ne=this._getLinesToRemove(x),te=x.getModel();if(te.getLineCount()===1&&te.getLineMaxColumn(1)===1)return;let q=0;const oe=[],z=[];for(let X=0,$=ne.length;X<$;X++){const H=ne[X];let K=H.startLineNumber,ce=H.endLineNumber,le=1,he=te.getLineMaxColumn(ce);ce<te.getLineCount()?(ce+=1,he=1):K>1&&(K-=1,le=te.getLineMaxColumn(K)),oe.push(b.EditOperation.replace(new n.Selection(K,le,ce,he),"")),z.push(new n.Selection(K-q,H.positionColumn,K-q,H.positionColumn)),q+=H.endLineNumber-H.startLineNumber+1}x.pushUndoStop(),x.executeEdits(this.id,oe,z),x.pushUndoStop()}_getLinesToRemove(de){const x=de.getSelections().map(q=>{let oe=q.endLineNumber;return q.startLineNumber<q.endLineNumber&&q.endColumn===1&&(oe-=1),{startLineNumber:q.startLineNumber,selectionStartColumn:q.selectionStartColumn,endLineNumber:oe,positionColumn:q.positionColumn}});x.sort((q,oe)=>q.startLineNumber===oe.startLineNumber?q.endLineNumber-oe.endLineNumber:q.startLineNumber-oe.startLineNumber);const ne=[];let te=x[0];for(let q=1;q<x.length;q++)te.endLineNumber+1>=x[q].startLineNumber?te.endLineNumber=x[q].endLineNumber:(ne.push(te),te=x[q]);return ne.push(te),ne}}e.DeleteLinesAction=F;class O extends k.EditorAction{constructor(){super({id:"editor.action.indentLines",label:c.localize(15,null),alias:"Indent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(de,x){const ne=x._getViewModel();!ne||(x.pushUndoStop(),x.executeCommands(this.id,_.TypeOperations.indent(ne.cursorConfig,x.getModel(),x.getSelections())),x.pushUndoStop())}}e.IndentLinesAction=O;class P extends k.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:c.localize(16,null),alias:"Outdent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(de,x){v.CoreEditingCommands.Outdent.runEditorCommand(de,x,null)}}class D extends k.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:c.localize(17,null),alias:"Insert Line Above",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(de,x){const ne=x._getViewModel();!ne||(x.pushUndoStop(),x.executeCommands(this.id,_.TypeOperations.lineInsertBefore(ne.cursorConfig,x.getModel(),x.getSelections())))}}e.InsertLineBeforeAction=D;class M extends k.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:c.localize(18,null),alias:"Insert Line Below",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(de,x){const ne=x._getViewModel();!ne||(x.pushUndoStop(),x.executeCommands(this.id,_.TypeOperations.lineInsertAfter(ne.cursorConfig,x.getModel(),x.getSelections())))}}e.InsertLineAfterAction=M;class R extends k.EditorAction{run(de,x){if(!x.hasModel())return;const ne=x.getSelection(),te=this._getRangesToDelete(x),q=[];for(let X=0,$=te.length-1;X<$;X++){const H=te[X],K=te[X+1];g.Range.intersectRanges(H,K)===null?q.push(H):te[X+1]=g.Range.plusRange(H,K)}q.push(te[te.length-1]);const oe=this._getEndCursorState(ne,q),z=q.map(X=>b.EditOperation.replace(X,""));x.pushUndoStop(),x.executeEdits(this.id,z,oe),x.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=R;class B extends R{constructor(){super({id:"deleteAllLeft",label:c.localize(19,null),alias:"Delete All Left",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(de,x){let ne=null;const te=[];let q=0;return x.forEach(oe=>{let z;if(oe.endColumn===1&&q>0){const X=oe.startLineNumber-q;z=new n.Selection(X,oe.startColumn,X,oe.startColumn)}else z=new n.Selection(oe.startLineNumber,oe.startColumn,oe.startLineNumber,oe.startColumn);q+=oe.endLineNumber-oe.startLineNumber,oe.intersectRanges(de)?ne=z:te.push(z)}),ne&&te.unshift(ne),te}_getRangesToDelete(de){const x=de.getSelections();if(x===null)return[];let ne=x;const te=de.getModel();return te===null?[]:(ne.sort(g.Range.compareRangesUsingStarts),ne=ne.map(q=>{if(q.isEmpty())if(q.startColumn===1){const oe=Math.max(1,q.startLineNumber-1),z=q.startLineNumber===1?1:te.getLineContent(oe).length+1;return new g.Range(oe,z,q.startLineNumber,1)}else return new g.Range(q.startLineNumber,1,q.startLineNumber,q.startColumn);else return new g.Range(q.startLineNumber,1,q.endLineNumber,q.endColumn)}),ne)}}e.DeleteAllLeftAction=B;class W extends R{constructor(){super({id:"deleteAllRight",label:c.localize(20,null),alias:"Delete All Right",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(de,x){let ne=null;const te=[];for(let q=0,oe=x.length,z=0;q<oe;q++){const X=x[q],$=new n.Selection(X.startLineNumber-z,X.startColumn,X.startLineNumber-z,X.startColumn);X.intersectRanges(de)?ne=$:te.push($)}return ne&&te.unshift(ne),te}_getRangesToDelete(de){const x=de.getModel();if(x===null)return[];const ne=de.getSelections();if(ne===null)return[];const te=ne.map(q=>{if(q.isEmpty()){const oe=x.getLineMaxColumn(q.startLineNumber);return q.startColumn===oe?new g.Range(q.startLineNumber,q.startColumn,q.startLineNumber+1,1):new g.Range(q.startLineNumber,q.startColumn,q.startLineNumber,oe)}return q});return te.sort(g.Range.compareRangesUsingStarts),te}}e.DeleteAllRightAction=W;class V extends k.EditorAction{constructor(){super({id:"editor.action.joinLines",label:c.localize(21,null),alias:"Join Lines",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(de,x){const ne=x.getSelections();if(ne===null)return;let te=x.getSelection();if(te===null)return;ne.sort(g.Range.compareRangesUsingStarts);const q=[],oe=ne.reduce((ce,le)=>ce.isEmpty()?ce.endLineNumber===le.startLineNumber?(te.equalsSelection(ce)&&(te=le),le):le.startLineNumber>ce.endLineNumber+1?(q.push(ce),le):new n.Selection(ce.startLineNumber,ce.startColumn,le.endLineNumber,le.endColumn):le.startLineNumber>ce.endLineNumber?(q.push(ce),le):new n.Selection(ce.startLineNumber,ce.startColumn,le.endLineNumber,le.endColumn));q.push(oe);const z=x.getModel();if(z===null)return;const X=[],$=[];let H=te,K=0;for(let ce=0,le=q.length;ce<le;ce++){const he=q[ce],me=he.startLineNumber,Ce=1;let Le=0,ye,De;const Ae=z.getLineContent(he.endLineNumber).length-he.endColumn;if(he.isEmpty()||he.startLineNumber===he.endLineNumber){const ae=he.getStartPosition();ae.lineNumber<z.getLineCount()?(ye=me+1,De=z.getLineMaxColumn(ye)):(ye=ae.lineNumber,De=z.getLineMaxColumn(ae.lineNumber))}else ye=he.endLineNumber,De=z.getLineMaxColumn(ye);let pe=z.getLineContent(me);for(let ae=me+1;ae<=ye;ae++){const ge=z.getLineContent(ae),_e=z.getLineFirstNonWhitespaceColumn(ae);if(_e>=1){let we=!0;pe===""&&(we=!1),we&&(pe.charAt(pe.length-1)===" "||pe.charAt(pe.length-1)==="	")&&(we=!1,pe=pe.replace(/[\s\uFEFF\xA0]+$/g," "));const Ee=ge.substr(_e-1);pe+=(we?" ":"")+Ee,we?Le=Ee.length+1:Le=Ee.length}else Le=0}const ue=new g.Range(me,Ce,ye,De);if(!ue.isEmpty()){let ae;he.isEmpty()?(X.push(b.EditOperation.replace(ue,pe)),ae=new n.Selection(ue.startLineNumber-K,pe.length-Le+1,me-K,pe.length-Le+1)):he.startLineNumber===he.endLineNumber?(X.push(b.EditOperation.replace(ue,pe)),ae=new n.Selection(he.startLineNumber-K,he.startColumn,he.endLineNumber-K,he.endColumn)):(X.push(b.EditOperation.replace(ue,pe)),ae=new n.Selection(he.startLineNumber-K,he.startColumn,he.startLineNumber-K,pe.length-Ae)),g.Range.intersectRanges(ue,te)!==null?H=ae:$.push(ae)}K+=ue.endLineNumber-ue.startLineNumber}$.unshift(H),x.pushUndoStop(),x.executeEdits(this.id,X,$),x.pushUndoStop()}}e.JoinLinesAction=V;class A extends k.EditorAction{constructor(){super({id:"editor.action.transpose",label:c.localize(22,null),alias:"Transpose characters around the cursor",precondition:i.EditorContextKeys.writable})}run(de,x){const ne=x.getSelections();if(ne===null)return;const te=x.getModel();if(te===null)return;const q=[];for(let oe=0,z=ne.length;oe<z;oe++){const X=ne[oe];if(!X.isEmpty())continue;const $=X.getStartPosition(),H=te.getLineMaxColumn($.lineNumber);if($.column>=H){if($.lineNumber===te.getLineCount())continue;const K=new g.Range($.lineNumber,Math.max(1,$.column-1),$.lineNumber+1,1),ce=te.getValueInRange(K).split("").reverse().join("");q.push(new I.ReplaceCommand(new n.Selection($.lineNumber,Math.max(1,$.column-1),$.lineNumber+1,1),ce))}else{const K=new g.Range($.lineNumber,Math.max(1,$.column-1),$.lineNumber,$.column+1),ce=te.getValueInRange(K).split("").reverse().join("");q.push(new I.ReplaceCommandThatPreservesSelection(K,ce,new n.Selection($.lineNumber,$.column+1,$.lineNumber,$.column+1)))}}x.pushUndoStop(),x.executeCommands(this.id,q),x.pushUndoStop()}}e.TransposeAction=A;class Y extends k.EditorAction{run(de,x){const ne=x.getSelections();if(ne===null)return;const te=x.getModel();if(te===null)return;const q=x.getOption(119),oe=[];for(const z of ne)if(z.isEmpty()){const X=z.getStartPosition(),$=x.getConfiguredWordAtPosition(X);if(!$)continue;const H=new g.Range(X.lineNumber,$.startColumn,X.lineNumber,$.endColumn),K=te.getValueInRange(H);oe.push(b.EditOperation.replace(H,this._modifyText(K,q)))}else{const X=te.getValueInRange(z);oe.push(b.EditOperation.replace(z,this._modifyText(X,q)))}x.pushUndoStop(),x.executeEdits(this.id,oe),x.pushUndoStop()}}e.AbstractCaseAction=Y;class ee extends Y{constructor(){super({id:"editor.action.transformToUppercase",label:c.localize(23,null),alias:"Transform to Uppercase",precondition:i.EditorContextKeys.writable})}_modifyText(de,x){return de.toLocaleUpperCase()}}e.UpperCaseAction=ee;class U extends Y{constructor(){super({id:"editor.action.transformToLowercase",label:c.localize(24,null),alias:"Transform to Lowercase",precondition:i.EditorContextKeys.writable})}_modifyText(de,x){return de.toLocaleLowerCase()}}e.LowerCaseAction=U;class j{constructor(de,x){this._pattern=de,this._flags=x,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class Z extends Y{constructor(){super({id:"editor.action.transformToTitlecase",label:c.localize(25,null),alias:"Transform to Title Case",precondition:i.EditorContextKeys.writable})}_modifyText(de,x){const ne=Z.titleBoundary.get();return ne?de.toLocaleLowerCase().replace(ne,te=>te.toLocaleUpperCase()):de}}e.TitleCaseAction=Z,Z.titleBoundary=new j("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ie extends Y{constructor(){super({id:"editor.action.transformToSnakecase",label:c.localize(26,null),alias:"Transform to Snake Case",precondition:i.EditorContextKeys.writable})}_modifyText(de,x){const ne=ie.caseBoundary.get(),te=ie.singleLetters.get();return!ne||!te?de:de.replace(ne,"$1_$2").replace(te,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ie,ie.caseBoundary=new j("(\\p{Ll})(\\p{Lu})","gmu"),ie.singleLetters=new j("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Q extends Y{constructor(){super({id:"editor.action.transformToKebabcase",label:c.localize(27,null),alias:"Transform to Kebab Case",precondition:i.EditorContextKeys.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(x=>x.isSupported())}_modifyText(de,x){const ne=Q.caseBoundary.get(),te=Q.singleLetters.get(),q=Q.underscoreBoundary.get();return!ne||!te||!q?de:de.replace(q,"$1-$3").replace(ne,"$1-$2").replace(te,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=Q,Q.caseBoundary=new j("(\\p{Ll})(\\p{Lu})","gmu"),Q.singleLetters=new j("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Q.underscoreBoundary=new j("(\\S)(_)(\\S)","gm"),(0,k.registerEditorAction)(l),(0,k.registerEditorAction)(h),(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(m),(0,k.registerEditorAction)(y),(0,k.registerEditorAction)(E),(0,k.registerEditorAction)(T),(0,k.registerEditorAction)(N),(0,k.registerEditorAction)(F),(0,k.registerEditorAction)(O),(0,k.registerEditorAction)(P),(0,k.registerEditorAction)(D),(0,k.registerEditorAction)(M),(0,k.registerEditorAction)(B),(0,k.registerEditorAction)(W),(0,k.registerEditorAction)(V),(0,k.registerEditorAction)(A),(0,k.registerEditorAction)(ee),(0,k.registerEditorAction)(U),ie.caseBoundary.isSupported()&&ie.singleLetters.isSupported()&&(0,k.registerEditorAction)(ie),Z.titleBoundary.isSupported()&&(0,k.registerEditorAction)(Z),Q.isSupported()&&(0,k.registerEditorAction)(Q)}),define(se[145],re([1,0,49,10,2,13,3,592,16,389]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let u=class ai{constructor(t,o){this._messageWidget=new k.MutableDisposable,this._messageListeners=new k.DisposableStore,this._editor=t,this._visible=ai.MESSAGE_VISIBLE.bindTo(o)}static get(t){return t.getContribution(ai.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,o){(0,w.alert)(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new n(this._editor,o,t),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new v.TimeoutTimer(()=>this.closeMessage(),3e3));let r;this._messageListeners.add(this._editor.onMouseMove(c=>{!c.target.position||(r?r.containsPosition(c.target.position)||this.closeMessage():r=new L.Range(o.lineNumber-3,1,c.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(n.fadeOut(this._messageWidget.value))}};u.ID="editor.contrib.messageController",u.MESSAGE_VISIBLE=new b.RawContextKey("messageVisible",!1,_.localize(0,null)),u=ke([fe(1,b.IContextKeyService)],u),e.MessageController=u;const g=I.EditorCommand.bindToContribution(u.get);(0,I.registerEditorCommand)(new g({id:"leaveEditorMessage",precondition:u.MESSAGE_VISIBLE,handler:i=>i.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class n{constructor(t,{lineNumber:o,column:r},c){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:r},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const d=document.createElement("div");d.classList.add("anchor","top"),this._domNode.appendChild(d);const a=document.createElement("div");a.classList.add("message"),a.textContent=c,this._domNode.appendChild(a);const s=document.createElement("div");s.classList.add("anchor","below"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(t){const o=()=>{t.dispose(),clearTimeout(r),t.getDomNode().removeEventListener("animationend",o)},r=setTimeout(o,110);return t.getDomNode().addEventListener("animationend",o),t.getDomNode().classList.add("fadeOut"),{dispose:o}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(t){this._domNode.classList.toggle("below",t===2)}}(0,I.registerEditorContribution)(u.ID,u)});var oi=this&&this.__classPrivateFieldSet||function(G,e,w,v,k){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?G!==e||!k:!e.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?k.call(G,w):k?k.value=w:e.set(G,w),w},Rt=this&&this.__classPrivateFieldGet||function(G,e,w,v){if(w==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?G!==e||!v:!e.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?v:w==="a"?v.call(G):v?v.value:e.get(G)};define(se[720],re([1,0,14,147,2,145,9,306,694]),function(G,e,w,v,k,I,L,_,b){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let g=class extends k.Disposable{constructor(i,t,o,r,c){super();this._editor=i,this.delegate=r,this._activeCodeActions=this._register(new k.MutableDisposable),this.previewOn=!1,u.set(this,!1),this._codeActionWidget=new v.Lazy(()=>this._register(c.createInstance(_.CodeActionMenu,this._editor,{onSelectCodeAction:(d,a)=>Se(this,void 0,void 0,function*(){this.previewOn?this.delegate.applyCodeAction(d,!0,Boolean(this.previewOn)):this.delegate.applyCodeAction(d,!0,Boolean(a.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new v.Lazy(()=>{const d=this._register(c.createInstance(b.LightBulbWidget,this._editor,t,o));return this._register(d.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1,fromLightbulb:!0}))),d})}dispose(){oi(this,u,!0,"f"),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(i){this._codeActionWidget.hasValue()&&(i?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(i){var t,o,r,c,d;return Se(this,void 0,void 0,function*(){if(i.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let a;try{a=yield i.actions}catch(s){(0,w.onUnexpectedError)(s);return}if(!Rt(this,u,"f"))if(this._lightBulbWidget.getValue().update(a,i.trigger,i.position),i.trigger.type===1){if((o=i.trigger.filter)===null||o===void 0?void 0:o.include){const l=this.tryGetValidActionToApply(i.trigger,a);if(l){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(l,!1,!1)}finally{a.dispose()}return}if(i.trigger.context){const h=this.getInvalidActionThatWouldHaveBeenApplied(i.trigger,a);if(h&&h.action.disabled){(r=I.MessageController.get(this._editor))===null||r===void 0||r.showMessage(h.action.disabled,i.trigger.context.position),a.dispose();return}}}const s=!!((c=i.trigger.filter)===null||c===void 0?void 0:c.include);if(i.trigger.context&&(!a.allActions.length||!s&&!a.validActions.length)){(d=I.MessageController.get(this._editor))===null||d===void 0||d.showMessage(i.trigger.context.notAvailableMessage,i.trigger.context.position),this._activeCodeActions.value=a,a.dispose();return}this._activeCodeActions.value=a,this._codeActionWidget.getValue().show(i.trigger,a,i.position,{includeDisabledActions:s,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?a.dispose():this._activeCodeActions.value=a})}getInvalidActionThatWouldHaveBeenApplied(i,t){if(!!t.allActions.length&&(i.autoApply==="first"&&t.validActions.length===0||i.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:o})=>o.disabled)}tryGetValidActionToApply(i,t){if(!!t.validActions.length&&(i.autoApply==="first"&&t.validActions.length>0||i.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(i,t,o,r){return Se(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(i,t,o,r)})}};u=new WeakMap,g=ke([fe(4,L.IInstantiationService)],g),e.CodeActionUi=g}),define(se[309],re([1,0,21,147,2,8,13,140,24,19,172,720,145,552,26,16,9,84,71,40,86,713,133,306]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorPreview=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.ApplyCodeActionReason=e.QuickFixController=void 0;function f(ee){return r.ContextKeyExpr.regex(h.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,I.escapeRegExpCharacters)(ee.value)+"\\b"))}function m(ee,U,j,Z){const ie=p.CodeActionCommandArgs.fromUser(U,{kind:p.CodeActionKind.Refactor,apply:"never"});return F(ee,typeof(U==null?void 0:U.kind)=="string"?ie.preferred?t.localize(0,null,U.kind):t.localize(1,null,U.kind):ie.preferred?t.localize(2,null):t.localize(3,null),{include:p.CodeActionKind.Refactor.contains(ie.kind)?ie.kind:p.CodeActionKind.None,onlyIncludePreferredActions:ie.preferred},ie.apply,j,Z)}const C={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:t.localize(4,null)},apply:{type:"string",description:t.localize(5,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[t.localize(6,null),t.localize(7,null),t.localize(8,null)]},preferred:{type:"boolean",default:!1,description:t.localize(9,null)}}};let y=class Oi extends k.Disposable{constructor(U,j,Z,ie,Q,J){super();this._instantiationService=Q,this._editor=U,this._model=this._register(new h.CodeActionModel(this._editor,J.codeActionProvider,j,Z,ie)),this._register(this._model.onDidChangeState(de=>this.update(de))),this._ui=new v.Lazy(()=>this._register(new n.CodeActionUi(U,O.Id,V.Id,{applyCodeAction:(de,x,ne)=>Se(this,void 0,void 0,function*(){try{yield this._applyCodeAction(de,ne)}finally{x&&this._trigger({type:2,triggerAction:p.CodeActionTriggerSource.QuickFix,filter:{}})}})},this._instantiationService)))}static get(U){return U.getContribution(Oi.ID)}update(U){this._ui.getValue().update(U)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(U){this._ui.hasValue()&&this._ui.getValue().navigateList(U)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(U,j,Z){return this._ui.getValue().showCodeActionList(U,j,Z,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(U,j,Z,ie,Q){var J;if(!this._editor.hasModel())return;(J=i.MessageController.get(this._editor))===null||J===void 0||J.closeMessage();const de=this._editor.getPosition();this._trigger({type:1,triggerAction:j,filter:Z,autoApply:ie,context:{notAvailableMessage:U,position:de},preview:Q})}_trigger(U){return this._model.trigger(U)}_applyCodeAction(U,j){return this._instantiationService.invokeFunction(T,U,E.FromCodeActions,{preview:j,editor:this._editor})}};y.ID="editor.contrib.quickFixController",y=ke([fe(1,d.IMarkerService),fe(2,r.IContextKeyService),fe(3,a.IEditorProgressService),fe(4,c.IInstantiationService),fe(5,u.ILanguageFeaturesService)],y),e.QuickFixController=y;var E;(function(ee){ee.OnSave="onSave",ee.FromProblemsView="fromProblemsView",ee.FromCodeActions="fromCodeActions"})(E=e.ApplyCodeActionReason||(e.ApplyCodeActionReason={}));function T(ee,U,j,Z){return Se(this,void 0,void 0,function*(){const ie=ee.get(_.IBulkEditService),Q=ee.get(o.ICommandService),J=ee.get(l.ITelemetryService),de=ee.get(s.INotificationService);if(J.publicLog2("codeAction.applyCodeAction",{codeActionTitle:U.action.title,codeActionKind:U.action.kind,codeActionIsPreferred:!!U.action.isPreferred,reason:j}),yield U.resolve(w.CancellationToken.None),U.action.edit&&(yield ie.apply(U.action.edit,{editor:Z==null?void 0:Z.editor,label:U.action.title,quotableLabel:U.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:Z==null?void 0:Z.preview})),U.action.command)try{yield Q.executeCommand(U.action.command.id,...U.action.command.arguments||[])}catch(x){const ne=N(x);de.error(typeof ne=="string"?ne:t.localize(10,null))}})}e.applyCodeAction=T;function N(ee){return typeof ee=="string"?ee:ee instanceof Error&&typeof ee.message=="string"?ee.message:void 0}function F(ee,U,j,Z,ie=!1,Q=p.CodeActionTriggerSource.Default){if(ee.hasModel()){const J=y.get(ee);J==null||J.manualTriggerAtCurrentPosition(U,Q,j,Z,ie)}}class O extends L.EditorAction{constructor(){super({id:O.Id,label:t.localize(11,null),alias:"Quick Fix...",precondition:r.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(U,j){return F(j,t.localize(12,null),void 0,void 0,!1,p.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=O,O.Id="editor.action.quickFix";class P extends L.EditorCommand{constructor(){super({id:g.codeActionCommandId,precondition:r.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:C}]}})}runEditorCommand(U,j,Z){const ie=p.CodeActionCommandArgs.fromUser(Z,{kind:p.CodeActionKind.Empty,apply:"ifSingle"});return F(j,typeof(Z==null?void 0:Z.kind)=="string"?ie.preferred?t.localize(13,null,Z.kind):t.localize(14,null,Z.kind):ie.preferred?t.localize(15,null):t.localize(16,null),{include:ie.kind,includeSourceActions:!0,onlyIncludePreferredActions:ie.preferred},ie.apply)}}e.CodeActionCommand=P;class D extends L.EditorAction{constructor(){super({id:g.refactorCommandId,label:t.localize(17,null),alias:"Refactor...",precondition:r.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:r.ContextKeyExpr.and(b.EditorContextKeys.writable,f(p.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:C}]}})}run(U,j,Z){return m(j,Z,!1,p.CodeActionTriggerSource.Refactor)}}e.RefactorAction=D;class M extends L.EditorAction{constructor(){super({id:g.refactorPreviewCommandId,label:t.localize(18,null),alias:"Refactor Preview...",precondition:r.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:C}]}})}run(U,j,Z){return m(j,Z,!0,p.CodeActionTriggerSource.RefactorPreview)}}e.RefactorPreview=M;class R extends L.EditorAction{constructor(){super({id:g.sourceActionCommandId,label:t.localize(19,null),alias:"Source Action...",precondition:r.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:r.ContextKeyExpr.and(b.EditorContextKeys.writable,f(p.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:C}]}})}run(U,j,Z){const ie=p.CodeActionCommandArgs.fromUser(Z,{kind:p.CodeActionKind.Source,apply:"never"});return F(j,typeof(Z==null?void 0:Z.kind)=="string"?ie.preferred?t.localize(20,null,Z.kind):t.localize(21,null,Z.kind):ie.preferred?t.localize(22,null):t.localize(23,null),{include:p.CodeActionKind.Source.contains(ie.kind)?ie.kind:p.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:ie.preferred},ie.apply,void 0,p.CodeActionTriggerSource.SourceAction)}}e.SourceAction=R;class B extends L.EditorAction{constructor(){super({id:g.organizeImportsCommandId,label:t.localize(24,null),alias:"Organize Imports",precondition:r.ContextKeyExpr.and(b.EditorContextKeys.writable,f(p.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(U,j){return F(j,t.localize(25,null),{include:p.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,p.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=B;class W extends L.EditorAction{constructor(){super({id:g.fixAllCommandId,label:t.localize(26,null),alias:"Fix All",precondition:r.ContextKeyExpr.and(b.EditorContextKeys.writable,f(p.CodeActionKind.SourceFixAll))})}run(U,j){return F(j,t.localize(27,null),{include:p.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,p.CodeActionTriggerSource.FixAll)}}e.FixAllAction=W;class V extends L.EditorAction{constructor(){super({id:V.Id,label:t.localize(28,null),alias:"Auto Fix...",precondition:r.ContextKeyExpr.and(b.EditorContextKeys.writable,f(p.CodeActionKind.QuickFix)),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(U,j){return F(j,t.localize(29,null),{include:p.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,p.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=V,V.Id="editor.action.autoFix";const A=L.EditorCommand.bindToContribution(y.get),Y=100+90;(0,L.registerEditorCommand)(new A({id:"hideCodeActionMenuWidget",precondition:S.Context.Visible,handler(ee){ee.hideCodeActionMenu()},kbOpts:{weight:Y,primary:9,secondary:[1024|9]}})),(0,L.registerEditorCommand)(new A({id:"focusPreviousCodeAction",precondition:S.Context.Visible,handler(ee){ee.navigateCodeActionList(!0)},kbOpts:{weight:Y+1e5,primary:16,secondary:[2048|16]}})),(0,L.registerEditorCommand)(new A({id:"focusNextCodeAction",precondition:S.Context.Visible,handler(ee){ee.navigateCodeActionList(!1)},kbOpts:{weight:Y+1e5,primary:18,secondary:[2048|18]}})),(0,L.registerEditorCommand)(new A({id:"onEnterSelectCodeAction",precondition:S.Context.Visible,handler(ee){ee.selectedOption()},kbOpts:{weight:Y+1e5,primary:3,secondary:[2048|84]}})),(0,L.registerEditorCommand)(new A({id:"onEnterSelectCodeActionWithPreview",precondition:S.Context.Visible,handler(ee){ee.selectedOptionWithPreview()},kbOpts:{weight:Y+1e5,primary:2048|3}}))}),define(se[721],re([1,0,13,309,667]),function(G,e,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(v.QuickFixController.ID,v.QuickFixController),(0,w.registerEditorAction)(v.QuickFixAction),(0,w.registerEditorAction)(v.RefactorAction),(0,w.registerEditorAction)(v.RefactorPreview),(0,w.registerEditorAction)(v.SourceAction),(0,w.registerEditorAction)(v.OrganizeImportsAction),(0,w.registerEditorAction)(v.AutoFixAction),(0,w.registerEditorAction)(v.FixAllAction),(0,w.registerEditorCommand)(new v.CodeActionCommand)}),define(se[722],re([1,0,2,13,145,599]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class L extends w.Disposable{constructor(b){super();this.editor=b,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const b=k.MessageController.get(this.editor);b&&this.editor.hasModel()&&(this.editor.isSimpleWidget?b.showMessage(I.localize(0,null),this.editor.getPosition()):b.showMessage(I.localize(1,null),this.editor.getPosition()))}}e.ReadOnlyMessageController=L,L.ID="editor.contrib.readOnlyMessageController",(0,v.registerEditorContribution)(L.ID,L)}),define(se[723],re([1,0,49,10,21,14,2,20,22,96,13,140,29,11,3,24,168,145,600,94,16,9,69,40,71,34,700,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(D,M,R){this.model=D,this.position=M,this._providerRenameIdx=0,this._providers=R.ordered(D)}hasProvider(){return this._providers.length>0}resolveRenameLocation(D){return Se(this,void 0,void 0,function*(){const M=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const B=this._providers[this._providerRenameIdx];if(!B.resolveRenameLocation)break;const W=yield B.resolveRenameLocation(this.model,this.position,D);if(!!W){if(W.rejectReason){M.push(W.rejectReason);continue}return W}}const R=this.model.getWordAtPosition(this.position);return R?{range:new o.Range(this.position.lineNumber,R.startColumn,this.position.lineNumber,R.endColumn),text:R.word,rejectReason:M.length>0?M.join(`
`):void 0}:{range:o.Range.fromPositions(this.position),text:"",rejectReason:M.length>0?M.join(`
`):void 0}})}provideRenameEdits(D,M){return Se(this,void 0,void 0,function*(){return this._provideRenameEdits(D,this._providerRenameIdx,[],M)})}_provideRenameEdits(D,M,R,B){return Se(this,void 0,void 0,function*(){const W=this._providers[M];if(!W)return{edits:[],rejectReason:R.join(`
`)};const V=yield W.provideRenameEdits(this.model,this.position,D,B);if(V){if(V.rejectReason)return this._provideRenameEdits(D,M+1,R.concat(V.rejectReason),B)}else return this._provideRenameEdits(D,M+1,R.concat(a.localize(0,null)),B);return V})}}function T(P,D,M,R){return Se(this,void 0,void 0,function*(){const B=new E(D,M,P),W=yield B.resolveRenameLocation(k.CancellationToken.None);return(W==null?void 0:W.rejectReason)?{edits:[],rejectReason:W.rejectReason}:B.provideRenameEdits(R,k.CancellationToken.None)})}e.rename=T;let N=class Fi{constructor(D,M,R,B,W,V,A,Y){this.editor=D,this._instaService=M,this._notificationService=R,this._bulkEditService=B,this._progressService=W,this._logService=V,this._configService=A,this._languageFeaturesService=Y,this._disposableStore=new L.DisposableStore,this._cts=new k.CancellationTokenSource,this._renameInputField=this._disposableStore.add(new v.IdleValue(()=>this._disposableStore.add(this._instaService.createInstance(C.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(D){return D.getContribution(Fi.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var D,M;return Se(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const R=this.editor.getPosition(),B=new E(this.editor.getModel(),R,this._languageFeaturesService.renameProvider);if(!B.hasProvider())return;this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1);let W;try{const Z=B.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Z,250),W=yield Z}catch(Z){(D=d.MessageController.get(this.editor))===null||D===void 0||D.showMessage(Z||a.localize(1,null),R);return}if(!W)return;if(W.rejectReason){(M=d.MessageController.get(this.editor))===null||M===void 0||M.showMessage(W.rejectReason,R);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1,W.range);const V=this.editor.getSelection();let A=0,Y=W.text.length;!o.Range.isEmpty(V)&&!o.Range.spansMultipleLines(V)&&o.Range.containsRange(W.range,V)&&(A=Math.max(0,V.startColumn-W.range.startColumn),Y=Math.min(W.range.endColumn,V.endColumn)-W.range.startColumn);const ee=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),U=yield this._renameInputField.value.getInput(W.range,W.text,A,Y,ee,this._cts.token);if(typeof U=="boolean"){U&&this.editor.focus();return}this.editor.focus();const j=(0,v.raceCancellation)(B.provideRenameEdits(U.newName,this._cts.token),this._cts.token).then(Z=>Se(this,void 0,void 0,function*(){if(!(!Z||!this.editor.hasModel())){if(Z.rejectReason){this._notificationService.info(Z.rejectReason);return}this.editor.setSelection(o.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Z,{editor:this.editor,showPreview:U.wantsPreview,label:a.localize(2,null,W==null?void 0:W.text,U.newName),code:"undoredo.rename",quotableLabel:a.localize(3,null,W==null?void 0:W.text,U.newName),respectAutoSaveConfig:!0}).then(ie=>{ie.ariaSummary&&(0,w.alert)(a.localize(4,null,W.text,U.newName,ie.ariaSummary))}).catch(ie=>{this._notificationService.error(a.localize(5,null)),this._logService.error(ie)})}}),Z=>{this._notificationService.error(a.localize(6,null)),this._logService.error(Z)});return this._progressService.showWhile(j,250),j})}acceptRenameInput(D){this._renameInputField.value.acceptInput(D)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};N.ID="editor.contrib.renameController",N=ke([fe(1,h.IInstantiationService),fe(2,S.INotificationService),fe(3,n.IBulkEditService),fe(4,f.IEditorProgressService),fe(5,p.ILogService),fe(6,c.ITextResourceConfigurationService),fe(7,y.ILanguageFeaturesService)],N);class F extends g.EditorAction{constructor(){super({id:"editor.action.rename",label:a.localize(7,null),alias:"Rename Symbol",precondition:l.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(D,M){const R=D.get(i.ICodeEditorService),[B,W]=Array.isArray(M)&&M||[void 0,void 0];return b.URI.isUri(B)&&t.Position.isIPosition(W)?R.openCodeEditor({resource:B},R.getActiveCodeEditor()).then(V=>{!V||(V.setPosition(W),V.invokeWithinContext(A=>(this.reportTelemetry(A,V),this.run(A,V))))},I.onUnexpectedError):super.runCommand(D,M)}run(D,M){const R=N.get(M);return R?R.run():Promise.resolve()}}e.RenameAction=F,(0,g.registerEditorContribution)(N.ID,N),(0,g.registerEditorAction)(F);const O=g.EditorCommand.bindToContribution(N.get);(0,g.registerEditorCommand)(new O({id:"acceptRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:P=>P.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:3}})),(0,g.registerEditorCommand)(new O({id:"acceptRenameInputWithPreview",precondition:l.ContextKeyExpr.and(C.CONTEXT_RENAME_INPUT_VISIBLE,l.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:P=>P.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:1024+3}})),(0,g.registerEditorCommand)(new O({id:"cancelRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:P=>P.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,g.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(P,D,M,...R){const[B]=R;(0,_.assertType)(typeof B=="string");const{renameProvider:W}=P.get(y.ILanguageFeaturesService);return T(W,D,M,B)}),(0,g.registerModelAndPositionCommand)("_executePrepareRename",function(P,D,M){return Se(this,void 0,void 0,function*(){const{renameProvider:R}=P.get(y.ILanguageFeaturesService),W=yield new E(D,M,R).resolveRenameLocation(k.CancellationToken.None);if(W==null?void 0:W.rejectReason)throw new Error(W.rejectReason);return W})}),m.Registry.as(s.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:a.localize(8,null),default:!0,type:"boolean"}}})}),define(se[724],re([1,0,17,21,14,13,11,3,23,24,254,467,602,36,26,19,58,20,22]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class s{constructor(C,y){this.index=C,this.ranges=y}mov(C){const y=this.index+(C?1:-1);if(y<0||y>=this.ranges.length)return this;const E=new s(y,this.ranges);return E.ranges[y].equalsRange(this.ranges[this.index])?E.mov(C):E}}let l=class Bi{constructor(C,y){this._editor=C,this._languageFeaturesService=y,this._ignoreSelection=!1}static get(C){return C.getContribution(Bi.ID)}dispose(){var C;(C=this._selectionListener)===null||C===void 0||C.dispose()}run(C){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const y=this._editor.getSelections(),E=this._editor.getModel();if(this._state||(yield f(this._languageFeaturesService.selectionRangeProvider,E,y.map(N=>N.getPosition()),this._editor.getOption(103),v.CancellationToken.None).then(N=>{var F;if(!(!w.isNonEmptyArray(N)||N.length!==y.length)&&!(!this._editor.hasModel()||!w.equals(this._editor.getSelections(),y,(O,P)=>O.equalsSelection(P)))){for(let O=0;O<N.length;O++)N[O]=N[O].filter(P=>P.containsPosition(y[O].getStartPosition())&&P.containsPosition(y[O].getEndPosition())),N[O].unshift(y[O]);this._state=N.map(O=>new s(0,O)),(F=this._selectionListener)===null||F===void 0||F.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var O;this._ignoreSelection||((O=this._selectionListener)===null||O===void 0||O.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(N=>N.mov(C));const T=this._state.map(N=>b.Selection.fromPositions(N.ranges[N.index].getStartPosition(),N.ranges[N.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}})}};l.ID="editor.contrib.smartSelectController",l=ke([fe(1,r.ILanguageFeaturesService)],l);class h extends I.EditorAction{constructor(C,y){super(y);this._forward=C}run(C,y){return Se(this,void 0,void 0,function*(){const E=l.get(y);E&&(yield E.run(this._forward))})}}class p extends h{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:i.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(1,null),order:2}})}}o.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class S extends h{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:i.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(3,null),order:3}})}}(0,I.registerEditorContribution)(l.ID,l),(0,I.registerEditorAction)(p),(0,I.registerEditorAction)(S);function f(m,C,y,E,T){return Se(this,void 0,void 0,function*(){const N=m.all(C).concat(new n.WordSelectionRangeProvider);N.length===1&&N.unshift(new g.BracketSelectionRangeProvider);const F=[],O=[];for(const P of N)F.push(Promise.resolve(P.provideSelectionRanges(C,y,T)).then(D=>{if(w.isNonEmptyArray(D)&&D.length===y.length)for(let M=0;M<y.length;M++){O[M]||(O[M]=[]);for(const R of D[M])_.Range.isIRange(R.range)&&_.Range.containsPosition(R.range,y[M])&&O[M].push(_.Range.lift(R.range))}},k.onUnexpectedExternalError));return yield Promise.all(F),O.map(P=>{if(P.length===0)return[];P.sort((B,W)=>L.Position.isBefore(B.getStartPosition(),W.getStartPosition())?1:L.Position.isBefore(W.getStartPosition(),B.getStartPosition())||L.Position.isBefore(B.getEndPosition(),W.getEndPosition())?-1:L.Position.isBefore(W.getEndPosition(),B.getEndPosition())?1:0);const D=[];let M;for(const B of P)(!M||_.Range.containsRange(B,M)&&!_.Range.equalsRange(B,M))&&(D.push(B),M=B);if(!E.selectLeadingAndTrailingWhitespace)return D;const R=[D[0]];for(let B=1;B<D.length;B++){const W=D[B-1],V=D[B];if(V.startLineNumber!==W.startLineNumber||V.endLineNumber!==W.endLineNumber){const A=new _.Range(W.startLineNumber,C.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,C.getLineLastNonWhitespaceColumn(W.endLineNumber));A.containsRange(W)&&!A.equalsRange(W)&&V.containsRange(A)&&!V.equalsRange(A)&&R.push(A);const Y=new _.Range(W.startLineNumber,1,W.endLineNumber,C.getLineMaxColumn(W.endLineNumber));Y.containsRange(W)&&!Y.equalsRange(A)&&V.containsRange(Y)&&!V.equalsRange(Y)&&R.push(Y)}R.push(V)}return R})})}e.provideSelectionRanges=f,o.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(m,...C){return Se(this,void 0,void 0,function*(){const[y,E]=C;(0,d.assertType)(a.URI.isUri(y));const T=m.get(r.ILanguageFeaturesService).selectionRangeProvider,N=yield m.get(c.ITextModelService).createModelReference(y);try{return f(T,N.object.textEditorModel,E,{selectLeadingAndTrailingWhitespace:!0},v.CancellationToken.None)}finally{N.dispose()}})})}),define(se[725],re([1,0,605,36,30,16]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleStickyScroll=void 0;class L extends v.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,w.localize)(0,null),mnemonicTitle:(0,w.localize)(1,null),original:"Toggle Sticky Scroll"},category:{value:(0,w.localize)(2,null),original:"View"},toggled:I.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),menu:[{id:v.MenuId.CommandPalette},{id:v.MenuId.MenubarViewMenu,group:"5_editor",order:6}]})}run(b){return Se(this,void 0,void 0,function*(){const u=b.get(k.IConfigurationService),g=!u.getValue("editor.stickyScroll.enabled");return u.updateValue("editor.stickyScroll.enabled",g)})}}e.ToggleStickyScroll=L}),define(se[103],re([1,0,21,14,60,2,57,20,22,11,3,58,89,606,36,26,16,19,298]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:a.historyNavigationVisible,HasFocusedSuggestion:new c.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,t.localize)(0,null)),DetailsVisible:new c.RawContextKey("suggestWidgetDetailsVisible",!1,(0,t.localize)(1,null)),MultipleSuggestions:new c.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,t.localize)(2,null)),MakesTextEdit:new c.RawContextKey("suggestionMakesTextEdit",!0,(0,t.localize)(3,null)),AcceptSuggestionsOnEnter:new c.RawContextKey("acceptSuggestionOnEnter",!0,(0,t.localize)(4,null)),HasInsertAndReplaceRange:new c.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,t.localize)(5,null)),InsertMode:new c.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,t.localize)(6,null)}),CanResolve:new c.RawContextKey("suggestionCanResolve",!1,(0,t.localize)(7,null))},e.suggestWidgetStatusbarMenu=new o.MenuId("suggestWidgetStatusBar");class s{constructor(P,D,M,R){this.position=P,this.completion=D,this.container=M,this.provider=R,this.isInvalid=!1,this.score=k.FuzzyScore.Default,this.distance=0,this.textLabel=typeof D.label=="string"?D.label:D.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=D.sortText&&D.sortText.toLowerCase(),this.filterTextLow=D.filterText&&D.filterText.toLowerCase(),this.extensionId=D.extensionId,g.Range.isIRange(D.range)?(this.editStart=new u.Position(D.range.startLineNumber,D.range.startColumn),this.editInsertEnd=new u.Position(D.range.endLineNumber,D.range.endColumn),this.editReplaceEnd=new u.Position(D.range.endLineNumber,D.range.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(D.range)||D.range.startLineNumber!==P.lineNumber):(this.editStart=new u.Position(D.range.insert.startLineNumber,D.range.insert.startColumn),this.editInsertEnd=new u.Position(D.range.insert.endLineNumber,D.range.insert.endColumn),this.editReplaceEnd=new u.Position(D.range.replace.endLineNumber,D.range.replace.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(D.range.insert)||g.Range.spansMultipleLines(D.range.replace)||D.range.insert.startLineNumber!==P.lineNumber||D.range.replace.startLineNumber!==P.lineNumber||D.range.insert.startColumn!==D.range.replace.startColumn),typeof R.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(P){return Se(this,void 0,void 0,function*(){if(!this._resolveCache){const D=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(M=>{Object.assign(this.completion,M),this._isResolved=!0,D.dispose()},M=>{(0,v.isCancellationError)(M)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=s;class l{constructor(P=2,D=new Set,M=new Set,R=!0){this.snippetSortOrder=P,this.kindFilter=D,this.providerFilter=M,this.showDeprecated=R}}e.CompletionOptions=l,l.default=new l;let h;function p(){return h}e.getSnippetSuggestSupport=p;class S{constructor(P,D,M,R){this.items=P,this.needsClipboard=D,this.durations=M,this.disposable=R}}e.CompletionItemModel=S;function f(O,P,D,M=l.default,R={triggerKind:0},B=w.CancellationToken.None){return Se(this,void 0,void 0,function*(){const W=new L.StopWatch(!0);D=D.clone();const V=P.getWordAtPosition(D),A=V?new g.Range(D.lineNumber,V.startColumn,D.lineNumber,V.endColumn):g.Range.fromPositions(D),Y={replace:A,insert:A.setEndPosition(D.lineNumber,D.column)},ee=[],U=new I.DisposableStore,j=[];let Z=!1;const ie=(J,de,x)=>{var ne,te,q;let oe=!1;if(!de)return oe;for(const z of de.suggestions)if(!M.kindFilter.has(z.kind)){if(!M.showDeprecated&&((ne=z==null?void 0:z.tags)===null||ne===void 0?void 0:ne.includes(1)))continue;z.range||(z.range=Y),z.sortText||(z.sortText=typeof z.label=="string"?z.label:z.label.label),!Z&&z.insertTextRules&&z.insertTextRules&4&&(Z=i.SnippetParser.guessNeedsClipboard(z.insertText)),ee.push(new s(D,z,de,J)),oe=!0}return(0,I.isDisposable)(de)&&U.add(de),j.push({providerName:(te=J._debugDisplayName)!==null&&te!==void 0?te:"unknown_provider",elapsedProvider:(q=de.duration)!==null&&q!==void 0?q:-1,elapsedOverall:x.elapsed()}),oe},Q=(()=>Se(this,void 0,void 0,function*(){if(!h||M.kindFilter.has(27)||M.providerFilter.size>0&&!M.providerFilter.has(h))return;const J=new L.StopWatch(!0),de=yield h.provideCompletionItems(P,D,R,B);ie(h,de,J)}))();for(const J of O.orderedGroups(P)){let de=!1;if(yield Promise.all(J.map(x=>Se(this,void 0,void 0,function*(){if(!(M.providerFilter.size>0&&!M.providerFilter.has(x)))try{const ne=new L.StopWatch(!0),te=yield x.provideCompletionItems(P,D,R,B);de=ie(x,te,ne)||de}catch(ne){(0,v.onUnexpectedExternalError)(ne)}}))),de||B.isCancellationRequested)break}return yield Q,B.isCancellationRequested?(U.dispose(),Promise.reject(new v.CancellationError)):new S(ee.sort(T(M.snippetSortOrder)),Z,{entries:j,elapsed:W.elapsed()},U)})}e.provideSuggestionItems=f;function m(O,P){if(O.sortTextLow&&P.sortTextLow){if(O.sortTextLow<P.sortTextLow)return-1;if(O.sortTextLow>P.sortTextLow)return 1}return O.textLabel<P.textLabel?-1:O.textLabel>P.textLabel?1:O.completion.kind-P.completion.kind}function C(O,P){if(O.completion.kind!==P.completion.kind){if(O.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return m(O,P)}function y(O,P){if(O.completion.kind!==P.completion.kind){if(O.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return m(O,P)}const E=new Map;E.set(0,C),E.set(2,y),E.set(1,m);function T(O){return E.get(O)}e.getSuggestionComparator=T,r.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(O,...P)=>Se(void 0,void 0,void 0,function*(){const[D,M,R,B]=P;(0,_.assertType)(b.URI.isUri(D)),(0,_.assertType)(u.Position.isIPosition(M)),(0,_.assertType)(typeof R=="string"||!R),(0,_.assertType)(typeof B=="number"||!B);const{completionProvider:W}=O.get(d.ILanguageFeaturesService),V=yield O.get(n.ITextModelService).createModelReference(D);try{const A={incomplete:!1,suggestions:[]},Y=[],ee=yield f(W,V.object.textEditorModel,u.Position.lift(M),void 0,{triggerCharacter:R,triggerKind:R?1:0});for(const U of ee.items)Y.length<(B??0)&&Y.push(U.resolve(w.CancellationToken.None)),A.incomplete=A.incomplete||U.container.incomplete,A.suggestions.push(U.completion);try{return yield Promise.all(Y),A}finally{setTimeout(()=>ee.disposable.dispose(),100)}}finally{V.dispose()}}));function N(O,P){var D;(D=O.getContribution("editor.contrib.suggestController"))===null||D===void 0||D.triggerSuggest(new Set().add(P),void 0,!0)}e.showSimpleSuggestions=N;class F{static isAllOff(P){return P.other==="off"&&P.comments==="off"&&P.strings==="off"}static isAllOn(P){return P.other==="on"&&P.comments==="on"&&P.strings==="on"}static valueFor(P,D){switch(D){case 1:return P.comments;case 2:return P.strings;default:return P.other}}}e.QuickSuggestionsOptions=F}),define(se[726],re([1,0,21,60,55,2,13,29,3,19,160,255,103,299,256,93,9]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class d{constructor(p,S,f,m,C,y){this.range=p,this.insertText=S,this.filterText=f,this.additionalTextEdits=m,this.command=C,this.completion=y}}let a=class extends I.RefCountedDisposable{constructor(p,S,f,m,C,y){super(C.disposable);this.model=p,this.line=S,this.word=f,this.completionModel=m,this._suggestMemoryService=y}canBeReused(p,S,f){return this.model===p&&this.line===S&&this.word.word.length>0&&this.word.startColumn===f.startColumn&&this.word.endColumn<f.endColumn&&this.completionModel.incomplete.size===0}get items(){var p;const S=[],{items:f}=this.completionModel,m=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},f),C=k.Iterable.slice(f,m),y=k.Iterable.slice(f,0,m);let E=5;for(const T of k.Iterable.concat(C,y)){if(T.score===v.FuzzyScore.Default)continue;const N=new b.Range(T.editStart.lineNumber,T.editStart.column,T.editInsertEnd.lineNumber,T.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),F=T.completion.insertTextRules&&T.completion.insertTextRules&g.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:T.completion.insertText}:T.completion.insertText;S.push(new d(N,F,(p=T.filterTextLow)!==null&&p!==void 0?p:T.labelLow,T.completion.additionalTextEdits,T.completion.command,T)),E-->=0&&T.resolve(w.CancellationToken.None)}return S}};a=ke([fe(5,t.ISuggestMemoryService)],a);let s=class{constructor(p,S,f,m){this._getEditorOption=p,this._languageFeatureService=S,this._clipboardService=f,this._suggestMemoryService=m}provideInlineCompletions(p,S,f,m){var C;return Se(this,void 0,void 0,function*(){if(f.selectedSuggestionInfo)return;const y=this._getEditorOption(80,p);if(i.QuickSuggestionsOptions.isAllOff(y))return;p.tokenization.tokenizeIfCheap(S.lineNumber);const E=p.tokenization.getLineTokens(S.lineNumber),T=E.getStandardTokenType(E.findTokenIndexAtOffset(Math.max(S.column-1-1,0)));if(i.QuickSuggestionsOptions.valueFor(y,T)!=="inline")return;let N=p.getWordAtPosition(S),F;if((N==null?void 0:N.word)||(F=this._getTriggerCharacterInfo(p,S)),!(N==null?void 0:N.word)&&!F||(N||(N=p.getWordUntilPosition(S)),N.endColumn!==S.column))return;let O;const P=p.getValueInRange(new b.Range(S.lineNumber,1,S.lineNumber,S.column));if(!F&&((C=this._lastResult)===null||C===void 0?void 0:C.canBeReused(p,S.lineNumber,N))){const D=new n.LineContext(P,S.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=D,this._lastResult.acquire(),O=this._lastResult}else{const D=yield(0,i.provideSuggestionItems)(this._languageFeatureService.completionProvider,p,S,new i.CompletionOptions(void 0,void 0,F==null?void 0:F.providers),F&&{triggerKind:1,triggerCharacter:F.ch},m);let M;D.needsClipboard&&(M=yield this._clipboardService.readText());const R=new n.CompletionModel(D.items,S.column,new n.LineContext(P,0),o.WordDistance.None,this._getEditorOption(108,p),this._getEditorOption(102,p),{boostFullMatch:!1,firstMatchCanBeWeak:!1},M);O=new a(p,S.lineNumber,N,R,D,this._suggestMemoryService)}return this._lastResult=O,O})}handleItemDidShow(p,S){S.completion.resolve(w.CancellationToken.None)}freeInlineCompletions(p){p.release()}_getTriggerCharacterInfo(p,S){var f;const m=p.getValueInRange(b.Range.fromPositions({lineNumber:S.lineNumber,column:S.column-1},S)),C=new Set;for(const y of this._languageFeatureService.completionProvider.all(p))((f=y.triggerCharacters)===null||f===void 0?void 0:f.includes(m))&&C.add(y);if(C.size!==0)return{providers:C,ch:m}}};s=ke([fe(1,u.ILanguageFeaturesService),fe(2,r.IClipboardService),fe(3,t.ISuggestMemoryService)],s),e.SuggestInlineCompletions=s;let l=class kt{constructor(p,S,f,m){if(++kt._counter==1){const C=m.createInstance(s,(y,E)=>{var T;return((T=f.listCodeEditors().find(F=>F.getModel()===E))!==null&&T!==void 0?T:p).getOption(y)});kt._disposable=S.inlineCompletionsProvider.register("*",C)}}dispose(){var p;--kt._counter==0&&((p=kt._disposable)===null||p===void 0||p.dispose(),kt._disposable=void 0)}};l._counter=0,l=ke([fe(1,u.ILanguageFeaturesService),fe(2,_.ICodeEditorService),fe(3,c.IInstantiationService)],l),(0,L.registerEditorContribution)("suggest.inlineCompletionsProvider",l)}),define(se[310],re([1,0,49,273,13,613]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class L extends k.EditorAction{constructor(){super({id:L.ID,label:I.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(b,u){const n=!v.TabFocus.getTabFocusMode();v.TabFocus.setTabFocusMode(n),n?(0,w.alert)(I.localize(1,null)):(0,w.alert)(I.localize(2,null))}}e.ToggleTabFocusModeAction=L,L.ID="editor.action.toggleTabFocusMode",(0,k.registerEditorAction)(L)}),define(se[727],re([1,0,57,13,614]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends v.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:k.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(_,b){if(!b.hasModel())return;const u=b.getModel();u.tokenization.resetTokenization();const g=new w.StopWatch(!0);u.tokenization.forceTokenization(u.getLineCount()),g.stop(),console.log(`tokenization took ${g.elapsed()}`)}}(0,v.registerEditorAction)(I)}),define(se[728],re([1,0,2,43,13,29,616,141]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const b="ignoreUnusualLineTerminators";function u(i,t,o){i.setModelProperty(t.uri,b,o)}function g(i,t){return i.getModelProperty(t.uri,b)}let n=class extends w.Disposable{constructor(t,o,r){super();this._editor=t,this._dialogService=o,this._codeEditorService=r,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(c=>{c.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Se(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||g(this._codeEditorService,t)===!0||this._editor.getOption(82))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:L.localize(0,null),message:L.localize(1,null),detail:L.localize(2,null,(0,v.basename)(t.uri)),primaryButton:L.localize(3,null),secondaryButton:L.localize(4,null)})).confirmed){u(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};n.ID="editor.contrib.unusualLineTerminatorsDetector",n=ke([fe(1,_.IDialogService),fe(2,I.ICodeEditorService)],n),e.UnusualLineTerminatorsDetector=n,(0,k.registerEditorContribution)(n.ID,n)}),define(se[311],re([1,0,13,109,38,62,157,129,11,3,23,24,32,618,78,16,291]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class d extends w.EditorCommand{constructor(Q){super(Q);this._inSelectionMode=Q.inSelectionMode,this._wordNavigationType=Q.wordNavigationType}runEditorCommand(Q,J,de){if(!J.hasModel())return;const x=(0,_.getMapForWordSeparators)(J.getOption(119)),ne=J.getModel(),q=J.getSelections().map(oe=>{const z=new b.Position(oe.positionLineNumber,oe.positionColumn),X=this._move(x,ne,z,this._wordNavigationType);return this._moveTo(oe,X,this._inSelectionMode)});if(ne.pushStackElement(),J._getViewModel().setCursorStates("moveWordCommand",3,q.map(oe=>I.CursorState.fromModelSelection(oe))),q.length===1){const oe=new b.Position(q[0].positionLineNumber,q[0].positionColumn);J.revealPosition(oe,0)}}_moveTo(Q,J,de){return de?new g.Selection(Q.selectionStartLineNumber,Q.selectionStartColumn,J.lineNumber,J.column):new g.Selection(J.lineNumber,J.column,J.lineNumber,J.column)}}e.MoveWordCommand=d;class a extends d{_move(Q,J,de,x){return L.WordOperations.moveWordLeft(Q,J,de,x)}}e.WordLeftCommand=a;class s extends d{_move(Q,J,de,x){return L.WordOperations.moveWordRight(Q,J,de,x)}}e.WordRightCommand=s;class l extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=l;class h extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class p extends a{constructor(){var Q;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,(Q=r.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Q===void 0?void 0:Q.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=p;class S extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=S;class f extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=f;class m extends a{constructor(){var Q;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,(Q=r.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Q===void 0?void 0:Q.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=m;class C extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Q,J,de,x){return super._move((0,_.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),J,de,x)}}e.CursorWordAccessibilityLeft=C;class y extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Q,J,de,x){return super._move((0,_.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),J,de,x)}}e.CursorWordAccessibilityLeftSelect=y;class E extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class T extends s{constructor(){var Q;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,(Q=r.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Q===void 0?void 0:Q.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=T;class N extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=N;class F extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=F;class O extends s{constructor(){var Q;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,(Q=r.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Q===void 0?void 0:Q.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=O;class P extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=P;class D extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Q,J,de,x){return super._move((0,_.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),J,de,x)}}e.CursorWordAccessibilityRight=D;class M extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Q,J,de,x){return super._move((0,_.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),J,de,x)}}e.CursorWordAccessibilityRightSelect=M;class R extends w.EditorCommand{constructor(Q){super(Q);this._whitespaceHeuristics=Q.whitespaceHeuristics,this._wordNavigationType=Q.wordNavigationType}runEditorCommand(Q,J,de){const x=Q.get(i.ILanguageConfigurationService);if(!J.hasModel())return;const ne=(0,_.getMapForWordSeparators)(J.getOption(119)),te=J.getModel(),q=J.getSelections(),oe=J.getOption(5),z=J.getOption(8),X=x.getLanguageConfiguration(te.getLanguageId()).getAutoClosingPairs(),$=J._getViewModel(),H=q.map(K=>{const ce=this._delete({wordSeparators:ne,model:te,selection:K,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:J.getOption(6),autoClosingBrackets:oe,autoClosingQuotes:z,autoClosingPairs:X,autoClosedCharacters:$.getCursorAutoClosedCharacters()},this._wordNavigationType);return new v.ReplaceCommand(ce,"")});J.pushUndoStop(),J.executeCommands(this.id,H),J.pushUndoStop()}}e.DeleteWordCommand=R;class B extends R{_delete(Q,J){const de=L.WordOperations.deleteWordLeft(Q,J);return de||new u.Range(1,1,1,1)}}e.DeleteWordLeftCommand=B;class W extends R{_delete(Q,J){const de=L.WordOperations.deleteWordRight(Q,J);if(de)return de;const x=Q.model.getLineCount(),ne=Q.model.getLineMaxColumn(x);return new u.Range(x,ne,x,ne)}}e.DeleteWordRightCommand=W;class V extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:n.EditorContextKeys.writable})}}e.DeleteWordStartLeft=V;class A extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:n.EditorContextKeys.writable})}}e.DeleteWordEndLeft=A;class Y extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=Y;class ee extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:n.EditorContextKeys.writable})}}e.DeleteWordStartRight=ee;class U extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:n.EditorContextKeys.writable})}}e.DeleteWordEndRight=U;class j extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=j;class Z extends w.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:n.EditorContextKeys.writable,label:t.localize(0,null),alias:"Delete Word"})}run(Q,J,de){if(!J.hasModel())return;const x=(0,_.getMapForWordSeparators)(J.getOption(119)),ne=J.getModel(),q=J.getSelections().map(oe=>{const z=L.WordOperations.deleteInsideWord(x,ne,oe);return new v.ReplaceCommand(z,"")});J.pushUndoStop(),J.executeCommands(this.id,q),J.pushUndoStop()}}e.DeleteInsideWord=Z,(0,w.registerEditorCommand)(new l),(0,w.registerEditorCommand)(new h),(0,w.registerEditorCommand)(new p),(0,w.registerEditorCommand)(new S),(0,w.registerEditorCommand)(new f),(0,w.registerEditorCommand)(new m),(0,w.registerEditorCommand)(new E),(0,w.registerEditorCommand)(new T),(0,w.registerEditorCommand)(new N),(0,w.registerEditorCommand)(new F),(0,w.registerEditorCommand)(new O),(0,w.registerEditorCommand)(new P),(0,w.registerEditorCommand)(new C),(0,w.registerEditorCommand)(new y),(0,w.registerEditorCommand)(new D),(0,w.registerEditorCommand)(new M),(0,w.registerEditorCommand)(new V),(0,w.registerEditorCommand)(new A),(0,w.registerEditorCommand)(new Y),(0,w.registerEditorCommand)(new ee),(0,w.registerEditorCommand)(new U),(0,w.registerEditorCommand)(new j),(0,w.registerEditorAction)(Z)}),define(se[729],re([1,0,13,157,3,24,311,26]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class b extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(d,a){const s=v.WordPartOperations.deleteWordPartLeft(d);return s||new k.Range(1,1,1,1)}}e.DeleteWordPartLeft=b;class u extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(d,a){const s=v.WordPartOperations.deleteWordPartRight(d);if(s)return s;const l=d.model.getLineCount(),h=d.model.getLineMaxColumn(l);return new k.Range(l,h,l,h)}}e.DeleteWordPartRight=u;class g extends L.MoveWordCommand{_move(d,a,s,l){return v.WordPartOperations.moveWordPartLeft(d,a,s)}}e.WordPartLeftCommand=g;class n extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=n,_.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=i,_.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class t extends L.MoveWordCommand{_move(d,a,s,l){return v.WordPartOperations.moveWordPartRight(d,a,s)}}e.WordPartRightCommand=t;class o extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=o;class r extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=r,(0,w.registerEditorCommand)(new b),(0,w.registerEditorCommand)(new u),(0,w.registerEditorCommand)(new n),(0,w.registerEditorCommand)(new i),(0,w.registerEditorCommand)(new o),(0,w.registerEditorCommand)(new r)}),define(se[730],re([1,0,7,33,199,49,68,2,18,8,22,13,24,310,16,9,44,45,25,15,77,399]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new o.RawContextKey("accessibilityHelpWidgetVisible",!1);let p=class Wi extends _.Disposable{constructor(E,T){super();this._editor=E,this._widget=this._register(T.createInstance(f,this._editor))}static get(E){return E.getContribution(Wi.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};p.ID="editor.contrib.accessibilityHelpController",p=ke([fe(1,r.IInstantiationService)],p);function S(y,E){return!y||y.length===0?l.AccessibilityHelpNLS.noSelection:y.length===1?E?u.format(l.AccessibilityHelpNLS.singleSelectionRange,y[0].positionLineNumber,y[0].positionColumn,E):u.format(l.AccessibilityHelpNLS.singleSelection,y[0].positionLineNumber,y[0].positionColumn):E?u.format(l.AccessibilityHelpNLS.multiSelectionRange,y.length,E):y.length>0?u.format(l.AccessibilityHelpNLS.multiSelection,y.length):""}let f=class qt extends L.Widget{constructor(E,T,N,F){super();this._contextKeyService=T,this._keybindingService=N,this._openerService=F,this._editor=E,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=(0,v.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,v.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(w.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",O=>{if(!!this._isVisible&&(O.equals(2048|35)&&((0,I.alert)(l.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),w.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),O.preventDefault(),O.stopPropagation()),O.equals(2048|38))){(0,I.alert)(l.AccessibilityHelpNLS.openingDocs);let P=this._editor.getRawOptions().accessibilityHelpUrl;typeof P=="undefined"&&(P="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(g.URI.parse(P)),O.preventDefault(),O.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return qt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,T,N){const F=this._keybindingService.lookupKeybinding(E);return F?u.format(T,F.getAriaLabel()):u.format(N,E)}_buildContent(){const E=this._editor.getOptions(),T=this._editor.getSelections();let N=0;if(T){const D=this._editor.getModel();D&&T.forEach(M=>{N+=D.getValueLengthInRange(M)})}let F=S(T,N);E.get(55)?E.get(82)?F+=l.AccessibilityHelpNLS.readonlyDiffEditor:F+=l.AccessibilityHelpNLS.editableDiffEditor:E.get(82)?F+=l.AccessibilityHelpNLS.readonlyEditor:F+=l.AccessibilityHelpNLS.editableEditor;const O=b.isMacintosh?l.AccessibilityHelpNLS.changeConfigToOnMac:l.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:F+=`

 - `+O;break;case 2:F+=`

 - `+l.AccessibilityHelpNLS.auto_on;break;case 1:F+=`

 - `+l.AccessibilityHelpNLS.auto_off,F+=" "+O;break}E.get(132)?F+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOnMsg,l.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):F+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOffMsg,l.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const P=b.isMacintosh?l.AccessibilityHelpNLS.openDocMac:l.AccessibilityHelpNLS.openDocWinLinux;F+=`

 - `+P,F+=`

`+l.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,k.renderFormattedText)(F)),this._contentDomNode.domNode.setAttribute("aria-label",F)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,w.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const E=this._editor.getLayoutInfo(),T=Math.max(5,Math.min(qt.WIDTH,E.width-40)),N=Math.max(5,Math.min(qt.HEIGHT,E.height-40));this._domNode.setWidth(T),this._domNode.setHeight(N);const F=Math.round((E.height-N)/2);this._domNode.setTop(F);const O=Math.round((E.width-T)/2);this._domNode.setLeft(O)}};f.ID="editor.contrib.accessibilityHelpWidget",f.WIDTH=500,f.HEIGHT=300,f=ke([fe(1,o.IContextKeyService),fe(2,c.IKeybindingService),fe(3,d.IOpenerService)],f);class m extends n.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:l.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(E,T){const N=p.get(T);N==null||N.show()}}(0,n.registerEditorContribution)(p.ID,p),(0,n.registerEditorAction)(m);const C=n.EditorCommand.bindToContribution(p.get);(0,n.registerEditorCommand)(new C({id:"closeAccessibilityHelp",precondition:h,handler:y=>y.hide(),kbOpts:{weight:100+100,kbExpr:i.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,s.registerThemingParticipant)((y,E)=>{const T=y.getColor(a.editorWidgetBackground);T&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${T}; }`);const N=y.getColor(a.editorWidgetForeground);N&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${N}; }`);const F=y.getColor(a.widgetShadow);F&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${F}; }`);const O=y.getColor(a.contrastBorder);O&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${O}; }`)})}),define(se[731],re([1,0,7,2,13,400]),function(G,e,w,v,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class I extends v.Disposable{constructor(b){super();this.editor=b,this.widget=null}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=I,I.ID="editor.contrib.iPadShowKeyboard";class L extends v.Disposable{constructor(b){super();this.editor=b,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(w.addDisposableListener(this._domNode,"touchstart",u=>{this.editor.focus()})),this._register(w.addDisposableListener(this._domNode,"focus",u=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return L.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}L.ID="editor.contrib.ShowKeyboardWidget",(0,k.registerEditorContribution)(I.ID,I)}),define(se[732],re([1,0,7,31,2,13,28,110,138,39,116,25,15,77,56,401]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=class xi extends k.Disposable{constructor(h,p,S){super();this._editor=h,this._languageService=S,this._widget=null,this._register(this._editor.onDidChangeModel(f=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(f=>this.stop())),this._register(L.TokenizationRegistry.onDidChange(f=>this.stop())),this._register(this._editor.onKeyUp(f=>f.keyCode===9&&this.stop()))}static get(h){return h.getContribution(xi.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new s(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};r.ID="editor.contrib.inspectTokens",r=ke([fe(1,g.IStandaloneThemeService),fe(2,u.ILanguageService)],r);class c extends I.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:t.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(h,p){const S=r.get(p);S==null||S.launch()}}function d(l){let h="";for(let p=0,S=l.length;p<S;p++){const f=l.charCodeAt(p);switch(f){case 9:h+="\u2192";break;case 32:h+="\xB7";break;default:h+=String.fromCharCode(f)}}return h}function a(l,h){const p=L.TokenizationRegistry.get(h);if(p)return p;const S=l.encodeLanguageId(h);return{getInitialState:()=>b.NullState,tokenize:(f,m,C)=>(0,b.nullTokenize)(h,C),tokenizeEncoded:(f,m,C)=>(0,b.nullTokenizeEncoded)(S,C)}}class s extends k.Disposable{constructor(h,p){super();this.allowEditorOverflow=!0,this._editor=h,this._languageService=p,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=a(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(S=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return s._ID}_compute(h){const p=this._getTokensAtLine(h.lineNumber);let S=0;for(let E=p.tokens1.length-1;E>=0;E--){const T=p.tokens1[E];if(h.column-1>=T.offset){S=E;break}}let f=0;for(let E=p.tokens2.length>>>1;E>=0;E--)if(h.column-1>=p.tokens2[E<<1]){f=E;break}const m=this._model.getLineContent(h.lineNumber);let C="";if(S<p.tokens1.length){const E=p.tokens1[S].offset,T=S+1<p.tokens1.length?p.tokens1[S+1].offset:m.length;C=m.substring(E,T)}(0,w.reset)(this._domNode,(0,w.$)("h2.tm-token",void 0,d(C),(0,w.$)("span.tm-token-length",void 0,`${C.length} ${C.length===1?"char":"chars"}`))),(0,w.append)(this._domNode,(0,w.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const y=(f<<1)+1<p.tokens2.length?this._decodeMetadata(p.tokens2[(f<<1)+1]):null;(0,w.append)(this._domNode,(0,w.$)("table.tm-metadata-table",void 0,(0,w.$)("tbody",void 0,(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"language"),(0,w.$)("td.tm-metadata-value",void 0,`${y?y.languageId:"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"token type"),(0,w.$)("td.tm-metadata-value",void 0,`${y?this._tokenTypeToString(y.tokenType):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"font style"),(0,w.$)("td.tm-metadata-value",void 0,`${y?this._fontStyleToString(y.fontStyle):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"foreground"),(0,w.$)("td.tm-metadata-value",void 0,`${y?v.Color.Format.CSS.formatHex(y.foreground):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"background"),(0,w.$)("td.tm-metadata-value",void 0,`${y?v.Color.Format.CSS.formatHex(y.background):"-?-"}`))))),(0,w.append)(this._domNode,(0,w.$)("hr.tokens-inspect-separator")),S<p.tokens1.length&&(0,w.append)(this._domNode,(0,w.$)("span.tm-token-type",void 0,p.tokens1[S].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(h){const p=L.TokenizationRegistry.getColorMap(),S=_.TokenMetadata.getLanguageId(h),f=_.TokenMetadata.getTokenType(h),m=_.TokenMetadata.getFontStyle(h),C=_.TokenMetadata.getForeground(h),y=_.TokenMetadata.getBackground(h);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(S),tokenType:f,fontStyle:m,foreground:p[C],background:p[y]}}_tokenTypeToString(h){switch(h){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(h){let p="";return h&1&&(p+="italic "),h&2&&(p+="bold "),h&4&&(p+="underline "),h&8&&(p+="strikethrough "),p.length===0&&(p="---"),p}_getTokensAtLine(h){const p=this._getStateBeforeLine(h),S=this._tokenizationSupport.tokenize(this._model.getLineContent(h),!0,p),f=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(h),!0,p);return{startState:p,tokens1:S.tokens,tokens2:f.tokens,endState:S.endState}}_getStateBeforeLine(h){let p=this._tokenizationSupport.getInitialState();for(let S=1;S<h;S++)p=this._tokenizationSupport.tokenize(this._model.getLineContent(S),!0,p).endState;return p}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}s._ID="editor.contrib.inspectTokensWidget",(0,I.registerEditorContribution)(r.ID,r),(0,I.registerEditorAction)(c),(0,i.registerThemingParticipant)((l,h)=>{const p=l.getColor(n.editorHoverBorder);if(p){const m=(0,o.isHighContrast)(l.type)?2:1;h.addRule(`.monaco-editor .tokens-inspect-widget { border: ${m}px solid ${p}; }`),h.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${p}; }`)}const S=l.getColor(n.editorHoverBackground);S&&h.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${S}; }`);const f=l.getColor(n.editorHoverForeground);f&&h.addRule(`.monaco-editor .tokens-inspect-widget { color: ${f}; }`)})}),define(se[733],re([1,0,34,119,77,29,676,20,9,44,26,86,141,13,24,85]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let c=class extends L.AbstractEditorCommandsQuickAccessProvider{constructor(s,l,h,p,S,f){super({showAlias:!1},s,h,p,S,f);this.codeEditorService=l}get activeTextEditorControl(){return(0,_.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Se(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};c=ke([fe(0,b.IInstantiationService),fe(1,I.ICodeEditorService),fe(2,u.IKeybindingService),fe(3,g.ICommandService),fe(4,n.ITelemetryService),fe(5,i.IDialogService)],c),e.StandaloneCommandsQuickAccessProvider=c;class d extends t.EditorAction{constructor(){super({id:d.ID,label:k.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(s){s.get(r.IQuickInputService).quickAccess.show(c.PREFIX)}}e.GotoLineAction=d,d.ID="editor.action.quickCommand",(0,t.registerEditorAction)(d),w.Registry.as(v.Extensions.Quickaccess).registerQuickAccessProvider({ctor:c,prefix:c.PREFIX,helpEntries:[{description:k.QuickCommandNLS.quickCommandHelp,commandId:d.ID}]})}),define(se[734],re([1,0,698,34,119,29,20,77,6,13,24,85]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let i=class extends w.AbstractGotoLineQuickAccessProvider{constructor(r){super();this.editorService=r,this.onDidActiveTextEditorControlChange=b.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};i=ke([fe(0,I.ICodeEditorService)],i),e.StandaloneGotoLineQuickAccessProvider=i;class t extends u.EditorAction{constructor(){super({id:t.ID,label:_.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(r){r.get(n.IQuickInputService).quickAccess.show(i.PREFIX)}}e.GotoLineAction=t,t.ID="editor.action.gotoLine",(0,u.registerEditorAction)(t),v.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:i.PREFIX,helpEntries:[{description:_.GoToLineNLS.gotoLineActionLabel,commandId:t.ID}]})}),define(se[735],re([1,0,699,34,119,29,20,77,6,13,24,85,170,19,126,219]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let o=class extends w.AbstractGotoSymbolQuickAccessProvider{constructor(d,a,s){super(a,s);this.editorService=d,this.onDidActiveTextEditorControlChange=b.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};o=ke([fe(0,I.ICodeEditorService),fe(1,t.ILanguageFeaturesService),fe(2,i.IOutlineModelService)],o),e.StandaloneGotoSymbolQuickAccessProvider=o;class r extends u.EditorAction{constructor(){super({id:r.ID,label:_.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:g.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(d){d.get(n.IQuickInputService).quickAccess.show(w.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoSymbolAction=r,r.ID="editor.action.quickOutline",(0,u.registerEditorAction)(r),v.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:_.QuickOutlineNLS.quickOutlineActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:r.ID},{description:_.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(se[222],re([1,0,7,48,135,492,42,193,2,18,619,36,16,79,9,44,40,80,15,56,20,404]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function h(y,E,T,N,F,O,P){const D=y.getActions(E);p(D,T,!1,typeof N=="string"?R=>R===N:N,F,O,P)}e.createAndFillInActionBarActions=h;function p(y,E,T,N=D=>D==="navigation",F=Number.MAX_SAFE_INTEGER,O=()=>!1,P=!1){let D,M;Array.isArray(E)?(D=E,M=E):(D=E.primary,M=E.secondary);const R=new Set;for(const[B,W]of y){let V;N(B)?(V=D,V.length>0&&P&&V.push(new L.Separator)):(V=M,V.length>0&&V.push(new L.Separator));for(let A of W){T&&(A=A instanceof n.MenuItemAction&&A.alt?A.alt:A);const Y=V.push(A);A instanceof L.SubmenuAction&&R.add({group:B,action:A,index:Y-1})}}for(const{group:B,action:W,index:V}of R){const A=N(B)?D:M,Y=W.actions;(Y.length<=1||A.length+Y.length-2<=F)&&O(W,B,A.length)&&A.splice(V,1,...Y)}if(D!==M&&D.length>F){const B=D.splice(F,D.length-F);M.unshift(...B,new L.Separator)}}let S=class extends k.ActionViewItem{constructor(E,T,N,F,O,P,D){super(void 0,E,{icon:!!(E.class||E.item.icon),label:!E.class&&!E.item.icon,draggable:T==null?void 0:T.draggable,keybinding:T==null?void 0:T.keybinding,hoverDelegate:T==null?void 0:T.hoverDelegate});this._keybindingService=N,this._notificationService=F,this._contextKeyService=O,this._themeService=P,this._contextMenuService=D,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new b.MutableDisposable),this._altKey=w.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(E){return Se(this,void 0,void 0,function*(){E.preventDefault(),E.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(T){this._notificationService.error(T)}})}render(E){super.render(E),E.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let T=!1,N=this._altKey.keyStatus.altKey||(u.isWindows||u.isLinux)&&this._altKey.keyStatus.shiftKey;const F=()=>{var O;const P=T&&N&&!!((O=this._commandAction.alt)===null||O===void 0?void 0:O.enabled);P!==this._wantsAltCommand&&(this._wantsAltCommand=P,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(O=>{N=O.altKey||(u.isWindows||u.isLinux)&&O.shiftKey,F()})),this._register((0,w.addDisposableListener)(E,"mouseleave",O=>{T=!1,F()})),this._register((0,w.addDisposableListener)(E,"mouseenter",O=>{T=!0,F()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var E;const T=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),N=T&&T.getLabel(),F=this._commandAction.tooltip||this._commandAction.label;let O=N?(0,g.localize)(0,null,F,N):F;if(!this._wantsAltCommand&&((E=this._menuItemAction.alt)===null||E===void 0?void 0:E.enabled)){const P=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,D=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),M=D&&D.getLabel(),R=M?(0,g.localize)(1,null,P,M):P;O=(0,g.localize)(2,null,O,_.UILabelProvider.modifierLabels[u.OS].altKey,R)}return O}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(E){var T;this._itemClassDispose.value=void 0;const{element:N,label:F}=this;if(!N||!F)return;const O=this._commandAction.checked&&((T=E.toggled)===null||T===void 0?void 0:T.icon)?E.toggled.icon:E.icon;if(!!O)if(a.ThemeIcon.isThemeIcon(O)){const P=a.ThemeIcon.asClassNameArray(O);F.classList.add(...P),this._itemClassDispose.value=(0,b.toDisposable)(()=>{F.classList.remove(...P)})}else F.style.backgroundImage=(0,s.isDark)(this._themeService.getColorTheme().type)?(0,w.asCSSUrl)(O.dark):(0,w.asCSSUrl)(O.light),F.classList.add("icon"),this._itemClassDispose.value=(0,b.combinedDisposable)((0,b.toDisposable)(()=>{F.style.backgroundImage="",F.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};S=ke([fe(2,r.IKeybindingService),fe(3,c.INotificationService),fe(4,i.IContextKeyService),fe(5,a.IThemeService),fe(6,t.IContextMenuService)],S),e.MenuEntryActionViewItem=S;let f=class extends I.DropdownMenuActionViewItem{constructor(E,T,N,F){var O,P;const D=Object.assign({},T??Object.create(null),{menuAsChild:(O=T==null?void 0:T.menuAsChild)!==null&&O!==void 0?O:!1,classNames:(P=T==null?void 0:T.classNames)!==null&&P!==void 0?P:a.ThemeIcon.isThemeIcon(E.item.icon)?a.ThemeIcon.asClassName(E.item.icon):void 0});super(E,{getActions:()=>E.actions},N,D);this._contextMenuService=N,this._themeService=F}render(E){super.render(E),(0,l.assertType)(this.element),E.classList.add("menu-entry");const T=this._action,{icon:N}=T.item;if(N&&!a.ThemeIcon.isThemeIcon(N)){this.element.classList.add("icon");const F=()=>{this.element&&(this.element.style.backgroundImage=(0,s.isDark)(this._themeService.getColorTheme().type)?(0,w.asCSSUrl)(N.dark):(0,w.asCSSUrl)(N.light))};F(),this._register(this._themeService.onDidColorThemeChange(()=>{F()}))}}};f=ke([fe(2,t.IContextMenuService),fe(3,a.IThemeService)],f),e.SubmenuEntryActionViewItem=f;let m=class extends k.BaseActionViewItem{constructor(E,T,N,F,O,P,D,M){var R,B,W;super(null,E);this._keybindingService=N,this._notificationService=F,this._contextMenuService=O,this._menuService=P,this._instaService=D,this._storageService=M,this._container=null,this._options=T,this._storageKey=`${E.item.submenu.id}_lastActionId`;let V;const A=M.get(this._storageKey,1);A&&(V=E.actions.find(ee=>A===ee.id)),V||(V=E.actions[0]),this._defaultAction=this._instaService.createInstance(S,V,{keybinding:this._getDefaultActionKeybindingLabel(V)});const Y=Object.assign({},T??Object.create(null),{menuAsChild:(R=T==null?void 0:T.menuAsChild)!==null&&R!==void 0?R:!0,classNames:(B=T==null?void 0:T.classNames)!==null&&B!==void 0?B:["codicon","codicon-chevron-down"],actionRunner:(W=T==null?void 0:T.actionRunner)!==null&&W!==void 0?W:new L.ActionRunner});this._dropdown=new I.DropdownMenuActionViewItem(E,E.actions,this._contextMenuService,Y),this._dropdown.actionRunner.onDidRun(ee=>{ee.action instanceof n.MenuItemAction&&this.update(ee.action)})}update(E){this._storageService.store(this._storageKey,E.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(S,E,{keybinding:this._getDefaultActionKeybindingLabel(E)}),this._defaultAction.actionRunner=new class extends L.ActionRunner{runAction(T,N){return Se(this,void 0,void 0,function*(){yield T.run(void 0)})}},this._container&&this._defaultAction.render((0,w.prepend)(this._container,(0,w.$)(".action-container")))}_getDefaultActionKeybindingLabel(E){var T;let N;if((T=this._options)===null||T===void 0?void 0:T.renderKeybindingWithDefaultActionLabel){const F=this._keybindingService.lookupKeybinding(E.id);F&&(N=`(${F.getLabel()})`)}return N}setActionContext(E){super.setActionContext(E),this._defaultAction.setActionContext(E),this._dropdown.setActionContext(E)}render(E){this._container=E,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const T=(0,w.$)(".action-container");this._defaultAction.render((0,w.append)(this._container,T)),this._register((0,w.addDisposableListener)(T,w.EventType.KEY_DOWN,F=>{const O=new v.StandardKeyboardEvent(F);O.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),O.stopPropagation())}));const N=(0,w.$)(".dropdown-action-container");this._dropdown.render((0,w.append)(this._container,N)),this._register((0,w.addDisposableListener)(N,w.EventType.KEY_DOWN,F=>{var O;const P=new v.StandardKeyboardEvent(F);P.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(O=this._defaultAction.element)===null||O===void 0||O.focus(),P.stopPropagation())}))}focus(E){E?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(E){E?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};m=ke([fe(2,r.IKeybindingService),fe(3,c.INotificationService),fe(4,t.IContextMenuService),fe(5,n.IMenuService),fe(6,o.IInstantiationService),fe(7,d.IStorageService)],m),e.DropdownWithDefaultActionViewItem=m;function C(y,E,T){return E instanceof n.MenuItemAction?y.createInstance(S,E,T):E instanceof n.SubmenuItemAction?E.item.rememberDefaultAction?y.createInstance(m,E,T):y.createInstance(f,E,T):void 0}e.createActionViewItem=C}),define(se[736],re([1,0,7,75,2,103,611,222,36,16,9]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class n extends _.MenuEntryActionViewItem{updateLabel(){const o=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!o)return super.updateLabel();this.label&&(this.label.textContent=(0,L.localize)(0,null,this._action.label,n.symbolPrintEnter(o)))}static symbolPrintEnter(o){var r;return(r=o.getLabel())===null||r===void 0?void 0:r.replace(/\benter\b/gi,"\u23CE")}}let i=class{constructor(o,r,c,d){this._menuService=c,this._contextKeyService=d,this._menuDisposables=new k.DisposableStore,this.element=w.append(o,w.$(".suggest-status-bar"));const a=s=>s instanceof b.MenuItemAction?r.createInstance(n,s,void 0):void 0;this._leftActions=new v.ActionBar(this.element,{actionViewItemProvider:a}),this._rightActions=new v.ActionBar(this.element,{actionViewItemProvider:a}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const o=this._menuService.createMenu(I.suggestWidgetStatusbarMenu,this._contextKeyService),r=()=>{const c=[],d=[];for(const[a,s]of o.getActions())a==="left"?c.push(...s):d.push(...s);this._leftActions.clear(),this._leftActions.push(c),this._rightActions.clear(),this._rightActions.push(d)};this._menuDisposables.add(o.onDidChange(()=>r())),this._menuDisposables.add(o)}hide(){this._menuDisposables.clear()}};i=ke([fe(1,g.IInstantiationService),fe(2,b.IMenuService),fe(3,u.IContextKeyService)],i),e.SuggestWidgetStatus=i}),define(se[737],re([1,0,10,6,2,36,26,16,42,80,17,620]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let i=class{constructor(d,a){this._commandService=d,this._hiddenStates=new t(a)}createMenu(d,a,s){return new o(d,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},s),this._commandService,a,this)}};i=ke([fe(0,L.ICommandService),fe(1,u.IStorageService)],i),e.MenuService=i;let t=class Pt{constructor(d){this._storageService=d,this._disposables=new k.DisposableStore,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const a=d.get(Pt._key,0,"{}");this._data=JSON.parse(a)}catch{this._data=Object.create(null)}this._disposables.add(d.onDidChangeValue(a=>{if(a.key===Pt._key){if(!this._ignoreChangeEvent)try{const s=d.get(Pt._key,0,"{}");this._data=JSON.parse(s)}catch(s){console.log("FAILED to read storage after UPDATE",s)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(d,a){var s,l;return(l=(s=this._data[d.id])===null||s===void 0?void 0:s.includes(a))!==null&&l!==void 0?l:!1}updateHidden(d,a,s){const l=this._data[d.id];if(s)l?l.indexOf(a)<0&&l.push(a):this._data[d.id]=[a];else if(l){const h=l.indexOf(a);h>=0&&(0,g.removeFastWithoutKeepingOrder)(l,h),l.length===0&&delete this._data[d.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const d=JSON.stringify(this._data);this._storageService.store(Pt._key,d,0,0)}finally{this._ignoreChangeEvent=!1}}};t._key="menu.hiddenCommands",t=ke([fe(0,u.IStorageService)],t);let o=class Nt{constructor(d,a,s,l,h,p){this._id=d,this._hiddenStates=a,this._options=s,this._commandService=l,this._contextKeyService=h,this._menuService=p,this._disposables=new k.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const S=new w.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},s.eventDebounceDelay);this._disposables.add(S),this._disposables.add(I.MenuRegistry.onDidChangeMenu(C=>{C.has(d)&&S.schedule()}));const f=this._disposables.add(new k.DisposableStore),m=()=>{const C=new w.RunOnceScheduler(()=>this._onDidChange.fire(this),s.eventDebounceDelay);f.add(C),f.add(h.onDidChangeContext(y=>{y.affectsSome(this._contextKeys)&&C.schedule()})),f.add(a.onDidChange(()=>{C.schedule()}))};this._onDidChange=new v.Emitter({onFirstListenerAdd:m,onLastListenerRemove:f.clear.bind(f)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const d=I.MenuRegistry.getMenuItems(this._id);let a;d.sort(Nt._compareMenuItems);for(const s of d){const l=s.group||"";(!a||a[0]!==l)&&(a=[l,[]],this._menuGroups.push(a)),a[1].push(s),this._collectContextKeys(s)}}_collectContextKeys(d){if(Nt._fillInKbExprKeys(d.when,this._contextKeys),(0,I.isIMenuItem)(d)){if(d.command.precondition&&Nt._fillInKbExprKeys(d.command.precondition,this._contextKeys),d.command.toggled){const a=d.command.toggled.condition||d.command.toggled;Nt._fillInKbExprKeys(a,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&I.MenuRegistry.getMenuItems(d.submenu).forEach(this._collectContextKeys,this)}getActions(d){const a=[],s=[];for(const l of this._menuGroups){const[h,p]=l,S=[],f=[];for(const m of p)if(this._contextKeyService.contextMatchesRules(m.when)){let C;if((0,I.isIMenuItem)(m)){const E=r(this._id,m.command,this._hiddenStates);C=new I.MenuItemAction(m.command,m.alt,d,E,this._contextKeyService,this._commandService)}else C=new I.SubmenuItemAction(m,this._menuService,this._contextKeyService,d),C.actions.length===0&&(C=void 0);C&&f.push(C)}f.length>0&&a.push([h,f]),S.length>0&&s.push(S)}return a}static _fillInKbExprKeys(d,a){if(d)for(const s of d.keys())a.add(s)}static _compareMenuItems(d,a){const s=d.group,l=a.group;if(s!==l){if(s){if(!l)return-1}else return 1;if(s==="navigation")return-1;if(l==="navigation")return 1;const S=s.localeCompare(l);if(S!==0)return S}const h=d.order||0,p=a.order||0;return h<p?-1:h>p?1:Nt._compareTitles((0,I.isIMenuItem)(d)?d.command.title:d.title,(0,I.isIMenuItem)(a)?a.command.title:a.title)}static _compareTitles(d,a){const s=typeof d=="string"?d:d.original,l=typeof a=="string"?a:a.original;return s.localeCompare(l)}};o=ke([fe(3,L.ICommandService),fe(4,_.IContextKeyService),fe(5,I.IMenuService)],o);function r(c,d,a){const s=`${c.id}/${d.id}`,l=typeof d.title=="string"?d.title:d.title.value,h=(0,b.toAction)({id:s,label:(0,n.localize)(0,null,l),run(){a.updateHidden(c,d.id,!0)}}),p=(0,b.toAction)({id:s,label:l,get checked(){return!a.isHidden(c,d.id)},run(){const S=!a.isHidden(c,d.id);a.updateHidden(c,d.id,S)}});return{hide:h,toggle:p,get isHidden(){return!p.checked}}}}),define(se[738],re([1,0,7,6,2,44,40,86,15,677,79]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let n=class extends k.Disposable{constructor(t,o,r,c,d){super();this._onDidShowContextMenu=new v.Emitter,this._onDidHideContextMenu=new v.Emitter,this.contextMenuHandler=new u.ContextMenuHandler(r,t,o,c,d)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:o=>{var r;(r=t.onHide)===null||r===void 0||r.call(t,o),this._onDidHideContextMenu.fire()}})),w.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};n=ke([fe(0,_.ITelemetryService),fe(1,L.INotificationService),fe(2,g.IContextViewService),fe(3,I.IKeybindingService),fe(4,b.IThemeService)],n),e.ContextMenuService=n}),define(se[173],re([1,0,7,499,114,501,164,504,503,269,6,2,626,30,94,16,291,79,9,44,34,144,15]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,a.createDecorator)("listService");let S=class{constructor(K){this._themeService=K,this.disposables=new n.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(K){var ce,le;K!==this._lastFocusedWidget&&((ce=this._lastFocusedWidget)===null||ce===void 0||ce.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=K,(le=this._lastFocusedWidget)===null||le===void 0||le.getHTMLElement().classList.add("last-focused"))}register(K,ce){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const he=new k.DefaultStyleController((0,w.createStyleSheet)(),"");this.disposables.add((0,h.attachListStyler)(he,this._themeService))}if(this.lists.some(he=>he.widget===K))throw new Error("Cannot register the same widget multiple times");const le={widget:K,extraContextKeys:ce};return this.lists.push(le),K.getHTMLElement()===document.activeElement&&this.setLastFocusedList(K),(0,n.combinedDisposable)(K.onDidFocus(()=>this.setLastFocusedList(K)),(0,n.toDisposable)(()=>this.lists.splice(this.lists.indexOf(le),1)),K.onDidDispose(()=>{this.lists=this.lists.filter(he=>he!==le),this._lastFocusedWidget===K&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};S=ke([fe(0,p.IThemeService)],S),e.ListService=S,e.RawWorkbenchListFocusContextKey=new r.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new r.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=r.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,r.ContextKeyExpr.not(c.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new r.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new r.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new r.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new r.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new r.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new r.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new r.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new r.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new r.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new r.RawContextKey("treeFindOpen",!1);const f="listTypeNavigationMode",m="listAutomaticKeyboardNavigation";function C(H,K){const ce=H.createScoped(K.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(ce),ce}const y="workbench.list.multiSelectModifier",E="workbench.list.openMode",T="workbench.list.horizontalScrolling",N="workbench.list.defaultFindMode",F="workbench.list.keyboardNavigation",O="workbench.tree.indent",P="workbench.tree.renderIndentGuides",D="workbench.list.smoothScrolling",M="workbench.list.mouseWheelScrollSensitivity",R="workbench.list.fastScrollSensitivity",B="workbench.tree.expandMode";function W(H){return H.getValue(y)==="alt"}class V extends n.Disposable{constructor(K){super();this.configurationService=K,this.useAltAsMultipleSelectionModifier=W(K),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(K=>{K.affectsConfiguration(y)&&(this.useAltAsMultipleSelectionModifier=W(this.configurationService))}))}isSelectionSingleChangeEvent(K){return this.useAltAsMultipleSelectionModifier?K.browserEvent.altKey:(0,k.isSelectionSingleChangeEvent)(K)}isSelectionRangeChangeEvent(K){return(0,k.isSelectionRangeChangeEvent)(K)}}function A(H,K){var ce;const le=H.get(t.IConfigurationService),he=H.get(s.IKeybindingService),me=new n.DisposableStore;return[Object.assign(Object.assign({},K),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Le){return he.mightProducePrintableCharacter(Le)}},smoothScrolling:Boolean(le.getValue(D)),mouseWheelScrollSensitivity:le.getValue(M),fastScrollSensitivity:le.getValue(R),multipleSelectionController:(ce=K.multipleSelectionController)!==null&&ce!==void 0?ce:me.add(new V(le)),keyboardNavigationEventFilter:J(he)}),me]}let Y=class extends k.List{constructor(K,ce,le,he,me,Ce,Le,ye,De,Ae){const pe=typeof me.horizontalScrolling!="undefined"?me.horizontalScrolling:Boolean(De.getValue(T)),[ue,ae]=Ae.invokeFunction(A,me);super(K,ce,le,he,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,h.computeStyles)(ye.getColorTheme(),h.defaultListStyles)),ue),{horizontalScrolling:pe}));this.disposables.add(ae),this.contextKeyService=C(Ce,this),this.themeService=ye,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(me.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(me.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=me.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(De),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),me.overrideStyles&&this.updateStyles(me.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const _e=this.getSelection(),we=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(_e.length>0||we.length>0),this.listMultiSelection.set(_e.length>1),this.listDoubleSelection.set(_e.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const _e=this.getSelection(),we=this.getFocus();this.listHasSelectionOrFocus.set(_e.length>0||we.length>0)})),this.disposables.add(De.onDidChangeConfiguration(_e=>{_e.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(De));let we={};if(_e.affectsConfiguration(T)&&this.horizontalScrolling===void 0){const Ee=Boolean(De.getValue(T));we=Object.assign(Object.assign({},we),{horizontalScrolling:Ee})}if(_e.affectsConfiguration(D)){const Ee=Boolean(De.getValue(D));we=Object.assign(Object.assign({},we),{smoothScrolling:Ee})}if(_e.affectsConfiguration(M)){const Ee=De.getValue(M);we=Object.assign(Object.assign({},we),{mouseWheelScrollSensitivity:Ee})}if(_e.affectsConfiguration(R)){const Ee=De.getValue(R);we=Object.assign(Object.assign({},we),{fastScrollSensitivity:Ee})}Object.keys(we).length>0&&this.updateOptions(we)})),this.navigator=new Z(this,Object.assign({configurationService:De},me)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var ce;(ce=this._styler)===null||ce===void 0||ce.dispose(),this._styler=(0,h.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),super.dispose()}};Y=ke([fe(5,r.IContextKeyService),fe(6,e.IListService),fe(7,p.IThemeService),fe(8,t.IConfigurationService),fe(9,a.IInstantiationService)],Y),e.WorkbenchList=Y;let ee=class extends v.PagedList{constructor(K,ce,le,he,me,Ce,Le,ye,De,Ae){const pe=typeof me.horizontalScrolling!="undefined"?me.horizontalScrolling:Boolean(De.getValue(T)),[ue,ae]=Ae.invokeFunction(A,me);super(K,ce,le,he,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,h.computeStyles)(ye.getColorTheme(),h.defaultListStyles)),ue),{horizontalScrolling:pe}));this.disposables=new n.DisposableStore,this.disposables.add(ae),this.contextKeyService=C(Ce,this),this.themeService=ye,this.horizontalScrolling=me.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(me.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(me.selectionNavigation)),this._useAltAsMultipleSelectionModifier=W(De),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),me.overrideStyles&&this.updateStyles(me.overrideStyles),me.overrideStyles&&this.disposables.add((0,h.attachListStyler)(this,ye,me.overrideStyles)),this.disposables.add(De.onDidChangeConfiguration(_e=>{_e.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(De));let we={};if(_e.affectsConfiguration(T)&&this.horizontalScrolling===void 0){const Ee=Boolean(De.getValue(T));we=Object.assign(Object.assign({},we),{horizontalScrolling:Ee})}if(_e.affectsConfiguration(D)){const Ee=Boolean(De.getValue(D));we=Object.assign(Object.assign({},we),{smoothScrolling:Ee})}if(_e.affectsConfiguration(M)){const Ee=De.getValue(M);we=Object.assign(Object.assign({},we),{mouseWheelScrollSensitivity:Ee})}if(_e.affectsConfiguration(R)){const Ee=De.getValue(R);we=Object.assign(Object.assign({},we),{fastScrollSensitivity:Ee})}Object.keys(we).length>0&&this.updateOptions(we)})),this.navigator=new Z(this,Object.assign({configurationService:De},me)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var ce;(ce=this._styler)===null||ce===void 0||ce.dispose(),this._styler=(0,h.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),this.disposables.dispose(),super.dispose()}};ee=ke([fe(5,r.IContextKeyService),fe(6,e.IListService),fe(7,p.IThemeService),fe(8,t.IConfigurationService),fe(9,a.IInstantiationService)],ee),e.WorkbenchPagedList=ee;let U=class extends I.Table{constructor(K,ce,le,he,me,Ce,Le,ye,De,Ae,pe){const ue=typeof Ce.horizontalScrolling!="undefined"?Ce.horizontalScrolling:Boolean(Ae.getValue(T)),[ae,ge]=pe.invokeFunction(A,Ce);super(K,ce,le,he,me,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,h.computeStyles)(De.getColorTheme(),h.defaultListStyles)),ae),{horizontalScrolling:ue}));this.disposables.add(ge),this.contextKeyService=C(Le,this),this.themeService=De,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ce.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(Ce.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Ce.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(Ae),this.disposables.add(this.contextKeyService),this.disposables.add(ye.register(this)),Ce.overrideStyles&&this.updateStyles(Ce.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const we=this.getSelection(),Ee=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(we.length>0||Ee.length>0),this.listMultiSelection.set(we.length>1),this.listDoubleSelection.set(we.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const we=this.getSelection(),Ee=this.getFocus();this.listHasSelectionOrFocus.set(we.length>0||Ee.length>0)})),this.disposables.add(Ae.onDidChangeConfiguration(we=>{we.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(Ae));let Ee={};if(we.affectsConfiguration(T)&&this.horizontalScrolling===void 0){const be=Boolean(Ae.getValue(T));Ee=Object.assign(Object.assign({},Ee),{horizontalScrolling:be})}if(we.affectsConfiguration(D)){const be=Boolean(Ae.getValue(D));Ee=Object.assign(Object.assign({},Ee),{smoothScrolling:be})}if(we.affectsConfiguration(M)){const be=Ae.getValue(M);Ee=Object.assign(Object.assign({},Ee),{mouseWheelScrollSensitivity:be})}if(we.affectsConfiguration(R)){const be=Ae.getValue(R);Ee=Object.assign(Object.assign({},Ee),{fastScrollSensitivity:be})}Object.keys(Ee).length>0&&this.updateOptions(Ee)})),this.navigator=new ie(this,Object.assign({configurationService:Ae},Ce)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var ce;(ce=this._styler)===null||ce===void 0||ce.dispose(),this._styler=(0,h.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),this.disposables.dispose(),super.dispose()}};U=ke([fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,p.IThemeService),fe(9,t.IConfigurationService),fe(10,a.IInstantiationService)],U),e.WorkbenchTable=U;class j extends n.Disposable{constructor(K,ce){var le;super();this.widget=K,this._onDidOpen=this._register(new g.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(g.Event.filter(this.widget.onDidChangeSelection,he=>he.browserEvent instanceof KeyboardEvent)(he=>this.onSelectionFromKeyboard(he))),this._register(this.widget.onPointer(he=>this.onPointer(he.element,he.browserEvent))),this._register(this.widget.onMouseDblClick(he=>this.onMouseDblClick(he.element,he.browserEvent))),typeof(ce==null?void 0:ce.openOnSingleClick)!="boolean"&&(ce==null?void 0:ce.configurationService)?(this.openOnSingleClick=(ce==null?void 0:ce.configurationService.getValue(E))!=="doubleClick",this._register(ce==null?void 0:ce.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(ce==null?void 0:ce.configurationService.getValue(E))!=="doubleClick"}))):this.openOnSingleClick=(le=ce==null?void 0:ce.openOnSingleClick)!==null&&le!==void 0?le:!0}onSelectionFromKeyboard(K){if(K.elements.length!==1)return;const ce=K.browserEvent,le=typeof ce.preserveFocus=="boolean"?ce.preserveFocus:!0,he=typeof ce.pinned=="boolean"?ce.pinned:!le,me=!1;this._open(this.getSelectedElement(),le,he,me,K.browserEvent)}onPointer(K,ce){if(!this.openOnSingleClick||ce.detail===2)return;const he=ce.button===1,me=!0,Ce=he,Le=ce.ctrlKey||ce.metaKey||ce.altKey;this._open(K,me,Ce,Le,ce)}onMouseDblClick(K,ce){if(!ce)return;const le=ce.target;if(le.classList.contains("monaco-tl-twistie")||le.classList.contains("monaco-icon-label")&&le.classList.contains("folder-icon")&&ce.offsetX<16)return;const me=!1,Ce=!0,Le=ce.ctrlKey||ce.metaKey||ce.altKey;this._open(K,me,Ce,Le,ce)}_open(K,ce,le,he,me){!K||this._onDidOpen.fire({editorOptions:{preserveFocus:ce,pinned:le,revealIfVisible:!0},sideBySide:he,element:K,browserEvent:me})}}class Z extends j{constructor(K,ce){super(K,ce);this.widget=K}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ie extends j{constructor(K,ce){super(K,ce)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Q extends j{constructor(K,ce){super(K,ce)}getSelectedElement(){var K;return(K=this.widget.getSelection()[0])!==null&&K!==void 0?K:void 0}}function J(H){let K=!1;return ce=>{if(ce.toKeybinding().isModifierKey())return!1;if(K)return K=!1,!1;const le=H.softDispatch(ce,ce.target);return(le==null?void 0:le.enterChord)?(K=!0,!1):(K=!1,!le)}}let de=class extends u.ObjectTree{constructor(K,ce,le,he,me,Ce,Le,ye,De,Ae){const{options:pe,getTypeNavigationMode:ue,disposable:ae}=Ce.invokeFunction(z,me);super(K,ce,le,he,pe);this.disposables.add(ae),this.internals=new X(this,me,ue,me.overrideStyles,Le,ye,De,Ae),this.disposables.add(this.internals)}updateOptions(K){super.updateOptions(K),this.internals.updateOptions(K)}};de=ke([fe(5,a.IInstantiationService),fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,p.IThemeService),fe(9,t.IConfigurationService)],de),e.WorkbenchObjectTree=de;let x=class extends u.CompressibleObjectTree{constructor(K,ce,le,he,me,Ce,Le,ye,De,Ae){const{options:pe,getTypeNavigationMode:ue,disposable:ae}=Ce.invokeFunction(z,me);super(K,ce,le,he,pe);this.disposables.add(ae),this.internals=new X(this,me,ue,me.overrideStyles,Le,ye,De,Ae),this.disposables.add(this.internals)}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};x=ke([fe(5,a.IInstantiationService),fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,p.IThemeService),fe(9,t.IConfigurationService)],x),e.WorkbenchCompressibleObjectTree=x;let ne=class extends b.DataTree{constructor(K,ce,le,he,me,Ce,Le,ye,De,Ae,pe){const{options:ue,getTypeNavigationMode:ae,disposable:ge}=Le.invokeFunction(z,Ce);super(K,ce,le,he,me,ue);this.disposables.add(ge),this.internals=new X(this,Ce,ae,Ce.overrideStyles,ye,De,Ae,pe),this.disposables.add(this.internals)}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};ne=ke([fe(6,a.IInstantiationService),fe(7,r.IContextKeyService),fe(8,e.IListService),fe(9,p.IThemeService),fe(10,t.IConfigurationService)],ne),e.WorkbenchDataTree=ne;let te=class extends _.AsyncDataTree{constructor(K,ce,le,he,me,Ce,Le,ye,De,Ae,pe){const{options:ue,getTypeNavigationMode:ae,disposable:ge}=Le.invokeFunction(z,Ce);super(K,ce,le,he,me,ue);this.disposables.add(ge),this.internals=new X(this,Ce,ae,Ce.overrideStyles,ye,De,Ae,pe),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};te=ke([fe(6,a.IInstantiationService),fe(7,r.IContextKeyService),fe(8,e.IListService),fe(9,p.IThemeService),fe(10,t.IConfigurationService)],te),e.WorkbenchAsyncDataTree=te;let q=class extends _.CompressibleAsyncDataTree{constructor(K,ce,le,he,me,Ce,Le,ye,De,Ae,pe,ue){const{options:ae,getTypeNavigationMode:ge,disposable:_e}=ye.invokeFunction(z,Le);super(K,ce,le,he,me,Ce,ae);this.disposables.add(_e),this.internals=new X(this,Le,ge,Le.overrideStyles,De,Ae,pe,ue),this.disposables.add(this.internals)}updateOptions(K){super.updateOptions(K),this.internals.updateOptions(K)}};q=ke([fe(7,a.IInstantiationService),fe(8,r.IContextKeyService),fe(9,e.IListService),fe(10,p.IThemeService),fe(11,t.IConfigurationService)],q),e.WorkbenchCompressibleAsyncDataTree=q;function oe(H){const K=H.getValue(N);if(K==="highlight")return L.TreeFindMode.Highlight;if(K==="filter")return L.TreeFindMode.Filter;const ce=H.getValue(F);if(ce==="simple"||ce==="highlight")return L.TreeFindMode.Highlight;if(ce==="filter")return L.TreeFindMode.Filter}function z(H,K){var ce;const le=H.get(t.IConfigurationService),he=H.get(d.IContextViewService),me=H.get(r.IContextKeyService),Ce=H.get(a.IInstantiationService),Le=()=>{const ue=me.getContextKeyValue(f);if(ue==="automatic")return k.TypeNavigationMode.Automatic;if(ue==="trigger"||me.getContextKeyValue(m)===!1)return k.TypeNavigationMode.Trigger},ye=K.horizontalScrolling!==void 0?K.horizontalScrolling:Boolean(le.getValue(T)),[De,Ae]=Ce.invokeFunction(A,K),pe=K.additionalScrollHeight;return{getTypeNavigationMode:Le,disposable:Ae,options:Object.assign(Object.assign({keyboardSupport:!1},De),{indent:typeof le.getValue(O)=="number"?le.getValue(O):void 0,renderIndentGuides:le.getValue(P),smoothScrolling:Boolean(le.getValue(D)),defaultFindMode:oe(le),horizontalScrolling:ye,additionalScrollHeight:pe,hideTwistiesOfChildlessElements:K.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ce=K.expandOnlyOnTwistieClick)!==null&&ce!==void 0?ce:le.getValue(B)==="doubleClick",contextViewProvider:he})}}let X=class{constructor(K,ce,le,he,me,Ce,Le,ye){var De;this.tree=K,this.themeService=Le,this.disposables=[],this.contextKeyService=C(me,K),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ce.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ce.selectionNavigation)),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((De=ce.findWidgetEnabled)!==null&&De!==void 0?De:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=W(ye),this.updateStyleOverrides(he);const pe=()=>{const ae=K.getFocus()[0];if(!ae)return;const ge=K.getNode(ae);this.treeElementCanCollapse.set(ge.collapsible&&!ge.collapsed),this.treeElementHasParent.set(!!K.getParentElement(ae)),this.treeElementCanExpand.set(ge.collapsible&&ge.collapsed),this.treeElementHasChild.set(!!K.getFirstElementChild(ae))},ue=new Set;ue.add(f),ue.add(m),this.disposables.push(this.contextKeyService,Ce.register(K),K.onDidChangeSelection(()=>{const ae=K.getSelection(),ge=K.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ae.length>0||ge.length>0),this.hasMultiSelection.set(ae.length>1),this.hasDoubleSelection.set(ae.length===2)})}),K.onDidChangeFocus(()=>{const ae=K.getSelection(),ge=K.getFocus();this.hasSelectionOrFocus.set(ae.length>0||ge.length>0),pe()}),K.onDidChangeCollapseState(pe),K.onDidChangeModel(pe),K.onDidChangeFindOpenState(ae=>this.treeFindOpen.set(ae)),ye.onDidChangeConfiguration(ae=>{let ge={};if(ae.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(ye)),ae.affectsConfiguration(O)){const _e=ye.getValue(O);ge=Object.assign(Object.assign({},ge),{indent:_e})}if(ae.affectsConfiguration(P)){const _e=ye.getValue(P);ge=Object.assign(Object.assign({},ge),{renderIndentGuides:_e})}if(ae.affectsConfiguration(D)){const _e=Boolean(ye.getValue(D));ge=Object.assign(Object.assign({},ge),{smoothScrolling:_e})}if((ae.affectsConfiguration(N)||ae.affectsConfiguration(F))&&K.updateOptions({defaultFindMode:oe(ye)}),ae.affectsConfiguration(T)&&ce.horizontalScrolling===void 0){const _e=Boolean(ye.getValue(T));ge=Object.assign(Object.assign({},ge),{horizontalScrolling:_e})}if(ae.affectsConfiguration(B)&&ce.expandOnlyOnTwistieClick===void 0&&(ge=Object.assign(Object.assign({},ge),{expandOnlyOnTwistieClick:ye.getValue(B)==="doubleClick"})),ae.affectsConfiguration(M)){const _e=ye.getValue(M);ge=Object.assign(Object.assign({},ge),{mouseWheelScrollSensitivity:_e})}if(ae.affectsConfiguration(R)){const _e=ye.getValue(R);ge=Object.assign(Object.assign({},ge),{fastScrollSensitivity:_e})}Object.keys(ge).length>0&&K.updateOptions(ge)}),this.contextKeyService.onDidChangeContext(ae=>{ae.affectsSome(ue)&&K.updateOptions({typeNavigationMode:le()})})),this.navigator=new Q(K,Object.assign({configurationService:ye},ce)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(K){K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyleOverrides(K){(0,n.dispose)(this.styler),this.styler=K?(0,h.attachListStyler)(this.tree,this.themeService,K):n.Disposable.None}dispose(){this.disposables=(0,n.dispose)(this.disposables),(0,n.dispose)(this.styler),this.styler=void 0}};X=ke([fe(4,r.IContextKeyService),fe(5,e.IListService),fe(6,p.IThemeService),fe(7,t.IConfigurationService)],X),l.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[y]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[T]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[O]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(6,null)},[P]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(7,null)},[D]:{type:"boolean",default:!1,description:(0,i.localize)(8,null)},[M]:{type:"number",default:1,markdownDescription:(0,i.localize)(9,null)},[R]:{type:"number",default:5,description:(0,i.localize)(10,null)},[N]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,i.localize)(11,null),(0,i.localize)(12,null)],default:"highlight",description:(0,i.localize)(13,null)},[F]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(14,null),(0,i.localize)(15,null),(0,i.localize)(16,null)],default:"highlight",description:(0,i.localize)(17,null),deprecated:!0,deprecationMessage:(0,i.localize)(18,null)},[B]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(19,null)}}})}),define(se[739],re([1,0,7,91,48,64,6,2,45,25,15]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let n=class extends _.Disposable{constructor(t,o,r={},c){var d;super();this._link=o,this._enabled=!0,this.el=(0,w.append)(t,(0,w.$)("a.monaco-link",{tabIndex:(d=o.tabIndex)!==null&&d!==void 0?d:0,href:o.href,title:o.title},o.label)),this.el.setAttribute("role","button");const a=this._register(new v.DomEmitter(this.el,"click")),s=this._register(new v.DomEmitter(this.el,"keypress")),l=L.Event.chain(s.event).map(S=>new k.StandardKeyboardEvent(S)).filter(S=>S.keyCode===3).event,h=this._register(new v.DomEmitter(this.el,I.EventType.Tap)).event;this._register(I.Gesture.addTarget(this.el));const p=L.Event.any(a.event,l,h);this._register(p(S=>{!this.enabled||(w.EventHelper.stop(S,!0),(r==null?void 0:r.opener)?r.opener(this._link.href):c.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}};n=ke([fe(3,b.IOpenerService)],n),e.Link=n,(0,g.registerThemingParticipant)((i,t)=>{const o=i.getColor(u.textLinkForeground);o&&t.addRule(`.monaco-link { color: ${o}; }`);const r=i.getColor(u.textLinkActiveForeground);r&&t.addRule(`.monaco-link:hover { color: ${r}; }`)})}),define(se[740],re([1,0,21,530,78,16,9,117,173,673,25,144,15]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let t=class extends i.Themable{constructor(r,c,d,a,s){super(d);this.instantiationService=r,this.contextKeyService=c,this.accessibilityService=a,this.layoutService=s,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(u.QuickAccessController))),this._quickAccess}createController(r=this.layoutService,c){const d={idPrefix:"quickInput_",container:r.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:s=>this.setContextKey(s),returnFocus:()=>r.focus(),createList:(s,l,h,p,S)=>this.instantiationService.createInstance(b.WorkbenchList,s,l,h,p,S),styles:this.computeStyles()},a=this._register(new v.QuickInputController(Object.assign(Object.assign({},d),c)));return a.layout(r.dimension,r.offset.quickPickTop),this._register(r.onDidLayout(s=>a.layout(s,r.offset.quickPickTop))),this._register(a.onShow(()=>this.resetContextKeys())),this._register(a.onHide(()=>this.resetContextKeys())),a}setContextKey(r){let c;r&&(c=this.contexts.get(r),c||(c=new I.RawContextKey(r,!1).bindTo(this.contextKeyService),this.contexts.set(r,c))),!(c&&c.get())&&(this.resetContextKeys(),c==null||c.set(!0))}resetContextKeys(){this.contexts.forEach(r=>{r.get()&&r.reset()})}pick(r,c={},d=w.CancellationToken.None){return this.controller.pick(r,c,d)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,n.computeStyles)(this.theme,{quickInputBackground:g.quickInputBackground,quickInputForeground:g.quickInputForeground,quickInputTitleBackground:g.quickInputTitleBackground,contrastBorder:g.contrastBorder,widgetShadow:g.widgetShadow})),inputBox:(0,n.computeStyles)(this.theme,{inputForeground:g.inputForeground,inputBackground:g.inputBackground,inputBorder:g.inputBorder,inputValidationInfoBackground:g.inputValidationInfoBackground,inputValidationInfoForeground:g.inputValidationInfoForeground,inputValidationInfoBorder:g.inputValidationInfoBorder,inputValidationWarningBackground:g.inputValidationWarningBackground,inputValidationWarningForeground:g.inputValidationWarningForeground,inputValidationWarningBorder:g.inputValidationWarningBorder,inputValidationErrorBackground:g.inputValidationErrorBackground,inputValidationErrorForeground:g.inputValidationErrorForeground,inputValidationErrorBorder:g.inputValidationErrorBorder}),countBadge:(0,n.computeStyles)(this.theme,{badgeBackground:g.badgeBackground,badgeForeground:g.badgeForeground,badgeBorder:g.contrastBorder}),button:(0,n.computeStyles)(this.theme,{buttonForeground:g.buttonForeground,buttonBackground:g.buttonBackground,buttonHoverBackground:g.buttonHoverBackground,buttonBorder:g.contrastBorder}),progressBar:(0,n.computeStyles)(this.theme,{progressBarBackground:g.progressBarBackground}),keybindingLabel:(0,n.computeStyles)(this.theme,{keybindingLabelBackground:g.keybindingLabelBackground,keybindingLabelForeground:g.keybindingLabelForeground,keybindingLabelBorder:g.keybindingLabelBorder,keybindingLabelBottomBorder:g.keybindingLabelBottomBorder,keybindingLabelShadow:g.widgetShadow}),list:(0,n.computeStyles)(this.theme,{listBackground:g.quickInputBackground,listInactiveFocusForeground:g.quickInputListFocusForeground,listInactiveSelectionIconForeground:g.quickInputListFocusIconForeground,listInactiveFocusBackground:g.quickInputListFocusBackground,listFocusOutline:g.activeContrastBorder,listInactiveFocusOutline:g.activeContrastBorder,pickerGroupBorder:g.pickerGroupBorder,pickerGroupForeground:g.pickerGroupForeground})}}};t=ke([fe(0,L.IInstantiationService),fe(1,I.IContextKeyService),fe(2,i.IThemeService),fe(3,k.IAccessibilityService),fe(4,_.ILayoutService)],t),e.QuickInputService=t}),define(se[741],re([1,0,13,15,21,9,16,78,293,29,740,98,402]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=e.EditorScopedQuickInputService=void 0;let i=class extends g.QuickInputService{constructor(d,a,s,l,h,p){super(a,s,l,h,new b.EditorScopedLayoutService(d.getContainerDomNode(),p));this.host=void 0;const S=o.get(d);if(S){const f=S.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return f.getDomNode()},get dimension(){return d.getLayoutInfo()},get onDidLayout(){return d.onDidLayoutChange},focus:()=>d.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};i=ke([fe(1,I.IInstantiationService),fe(2,L.IContextKeyService),fe(3,v.IThemeService),fe(4,_.IAccessibilityService),fe(5,u.ICodeEditorService)],i),e.EditorScopedQuickInputService=i;let t=class{constructor(d,a){this.instantiationService=d,this.codeEditorService=a,this.mapEditorToService=new Map}get activeService(){const d=this.codeEditorService.getFocusedCodeEditor();if(!d)throw new Error("Quick input service needs a focused editor to work.");let a=this.mapEditorToService.get(d);if(!a){const s=a=this.instantiationService.createInstance(i,d);this.mapEditorToService.set(d,a),(0,n.once)(d.onDidDispose)(()=>{s.dispose(),this.mapEditorToService.delete(d)})}return a}get quickAccess(){return this.activeService.quickAccess}pick(d,a={},s=k.CancellationToken.None){return this.activeService.pick(d,a,s)}createQuickPick(){return this.activeService.createQuickPick()}};t=ke([fe(0,I.IInstantiationService),fe(1,u.ICodeEditorService)],t),e.StandaloneQuickInputService=t;class o{constructor(d){this.editor=d,this.widget=new r(this.editor)}static get(d){return d.getContribution(o.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=o,o.ID="editor.controller.quickInput";class r{constructor(d){this.codeEditor=d,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return r.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=r,r.ID="editor.contrib.quickInputWidget",(0,w.registerEditorContribution)(o.ID,o)}),define(se[742],re([1,0,27,82,25,15]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var L;(function(_){function b(u){switch(u){case v.default.Ignore:return"severity-ignore "+w.Codicon.info.classNames;case v.default.Info:return w.Codicon.info.classNames;case v.default.Warning:return w.Codicon.warning.classNames;case v.default.Error:return w.Codicon.error.classNames;default:return""}}_.className=b})(L=e.SeverityIcon||(e.SeverityIcon={})),(0,I.registerThemingParticipant)((_,b)=>{const u=_.getColor(k.problemsErrorIconForeground);if(u){const i=w.Codicon.error.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.text-search-provider-messages .providerMessage ${i},
			.extensions-viewlet > .extensions ${i} {
				color: ${u};
			}
		`)}const g=_.getColor(k.problemsWarningIconForeground);if(g){const i=w.Codicon.warning.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.extension-editor ${i},
			.text-search-provider-messages .providerMessage ${i},
			.preferences-editor ${i} {
				color: ${g};
			}
		`)}const n=_.getColor(k.problemsInfoIconForeground);if(n){const i=w.Codicon.info.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.text-search-provider-messages .providerMessage ${i},
			.extension-editor ${i} {
				color: ${n};
			}
		`)}})}),define(se[81],re([1,0,10,27,6,20,22,631,213,34,15]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var n;(function(l){function h(p,S){let f=p.defaults;for(;g.ThemeIcon.isThemeIcon(f);){const m=o.getIcon(f.id);if(!m)return;f=m.defaults}return f}l.getDefinition=h})(n=e.IconContribution||(e.IconContribution={}));var i;(function(l){function h(S){return{weight:S.weight,style:S.style,src:S.src.map(f=>({format:f.format,location:f.location.toString()}))}}l.toJSONObject=h;function p(S){const f=m=>(0,I.isString)(m)?m:void 0;if(S&&Array.isArray(S.src)&&S.src.every(m=>(0,I.isString)(m.format)&&(0,I.isString)(m.location)))return{weight:f(S.weight),style:f(S.style),src:S.src.map(m=>({format:m.format,location:L.URI.parse(m.location)}))}}l.fromJSONObject=p})(i=e.IconFontDefinition||(e.IconFontDefinition={}));class t{constructor(){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,_.localize)(0,null)},fontCharacter:{type:"string",description:(0,_.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${v.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(h,p,S,f){const m=this.iconsById[h];if(m){if(S&&!m.description){m.description=S,this.iconSchema.properties[h].markdownDescription=`${S} $(${h})`;const E=this.iconReferenceSchema.enum.indexOf(h);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=S),this._onDidChange.fire()}return m}const C={id:h,description:S,defaults:p,deprecationMessage:f};this.iconsById[h]=C;const y={$ref:"#/definitions/icons"};return f&&(y.deprecationMessage=f),S&&(y.markdownDescription=`${S}: $(${h})`),this.iconSchema.properties[h]=y,this.iconReferenceSchema.enum.push(h),this.iconReferenceSchema.enumDescriptions.push(S||""),this._onDidChange.fire(),{id:h}}getIcons(){return Object.keys(this.iconsById).map(h=>this.iconsById[h])}getIcon(h){return this.iconsById[h]}getIconSchema(){return this.iconSchema}toString(){const h=(m,C)=>m.id.localeCompare(C.id),p=m=>{for(;g.ThemeIcon.isThemeIcon(m.defaults);)m=this.iconsById[m.defaults.id];return`codicon codicon-${m?m.id:""}`},S=[];S.push("| preview     | identifier                        | default codicon ID                | description"),S.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const f=Object.keys(this.iconsById).map(m=>this.iconsById[m]);for(const m of f.filter(C=>!!C.description).sort(h))S.push(`|<i class="${p(m)}"></i>|${m.id}|${g.ThemeIcon.isThemeIcon(m.defaults)?m.defaults.id:m.id}|${m.description||""}|`);S.push("| preview     | identifier                        "),S.push("| ----------- | --------------------------------- |");for(const m of f.filter(C=>!g.ThemeIcon.isThemeIcon(C.defaults)).sort(h))S.push(`|<i class="${p(m)}"></i>|${m.id}|`);return S.join(`
`)}}const o=new t;u.Registry.add(e.Extensions.IconContribution,o);function r(l,h,p,S){return o.registerIcon(l,h,p,S)}e.registerIcon=r;function c(){return o}e.getIconRegistry=c;function d(){for(const l of v.Codicon.getAll())o.registerIcon(l.id,l.definition,l.description)}d(),e.iconsSchemaId="vscode://schemas/icons";const a=u.Registry.as(b.Extensions.JSONContribution);a.registerSchema(e.iconsSchemaId,o.getIconSchema());const s=new w.RunOnceScheduler(()=>a.notifySchemaChanged(e.iconsSchemaId),200);o.onDidChange(()=>{s.isScheduled()||s.schedule()}),e.widgetClose=r("widget-close",v.Codicon.close,(0,_.localize)(2,null)),e.gotoPreviousLocation=r("goto-previous-location",v.Codicon.arrowUp,(0,_.localize)(3,null)),e.gotoNextLocation=r("goto-next-location",v.Codicon.arrowDown,(0,_.localize)(4,null)),e.syncing=g.ThemeIcon.modify(v.Codicon.sync,"spin"),e.spinningLoading=g.ThemeIcon.modify(v.Codicon.loading,"spin")}),define(se[743],re([1,0,536,7,33,75,76,42,2,66,13,29,38,83,11,54,115,74,16,25,15,27,81,39,373]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const m=3;class C{constructor(R,B,W,V){this.originalLineStart=R,this.originalLineEnd=B,this.modifiedLineStart=W,this.modifiedLineEnd=V}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class y{constructor(R){this.entries=R}}const E=(0,p.registerIcon)("diff-review-insert",h.Codicon.add,w.localize(0,null)),T=(0,p.registerIcon)("diff-review-remove",h.Codicon.remove,w.localize(1,null)),N=(0,p.registerIcon)("diff-review-close",h.Codicon.close,w.localize(2,null));let F=class It extends b.Disposable{constructor(R,B){super();this._languageService=B,this._width=0,this._diffEditor=R,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new I.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new _.Action("diffreview.close",w.localize(3,null),"close-diff-review "+l.ThemeIcon.asClassName(N),!0,()=>Se(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new L.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(R.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(R.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(v.addStandardDisposableListener(this.domNode.domNode,"click",W=>{W.preventDefault();const V=v.findParentWithClass(W.target,"diff-review-row");V&&this._goToRow(V)})),this._register(v.addStandardDisposableListener(this.domNode.domNode,"keydown",W=>{(W.equals(18)||W.equals(2048|18)||W.equals(512|18))&&(W.preventDefault(),this._goToRow(this._getNextRow())),(W.equals(16)||W.equals(2048|16)||W.equals(512|16))&&(W.preventDefault(),this._goToRow(this._getPrevRow())),(W.equals(9)||W.equals(2048|9)||W.equals(512|9)||W.equals(1024|9))&&(W.preventDefault(),this.hide()),(W.equals(10)||W.equals(3))&&(W.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let R=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let V=0,A=this._diffs.length;V<A;V++)if(this._diffs[V]===this._currentDiff){W=V;break}R=this._diffs.length+W-1}else R=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;R=R%this._diffs.length;const B=this._diffs[R].entries;this._diffEditor.setPosition(new o.Position(B[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:B[0].modifiedLineStart,endColumn:1073741824,endLineNumber:B[B.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let R=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let V=0,A=this._diffs.length;V<A;V++)if(this._diffs[V]===this._currentDiff){W=V;break}R=W+1}else R=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;R=R%this._diffs.length;const B=this._diffs[R].entries;this._diffEditor.setPosition(new o.Position(B[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:B[0].modifiedLineStart,endColumn:1073741824,endLineNumber:B[B.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let R=-1;const B=this._getCurrentFocusedRow();if(B){const W=parseInt(B.getAttribute("data-line"),10);isNaN(W)||(R=W)}this.hide(),R!==-1&&(this._diffEditor.setPosition(new o.Position(R,1)),this._diffEditor.revealPosition(new o.Position(R,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const R=this._getCurrentFocusedRow();return R?R.previousElementSibling?R.previousElementSibling:R:this._getFirstRow()}_getNextRow(){const R=this._getCurrentFocusedRow();return R?R.nextElementSibling?R.nextElementSibling:R:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const R=document.activeElement;return R&&/diff-review-row/.test(R.className)?R:null}_goToRow(R){const B=this._getCurrentFocusedRow();R.tabIndex=0,R.focus(),B&&B!==R&&(B.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(R,B,W){this._width=B,this.shadow.setTop(R-6),this.shadow.setWidth(B),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(R),this.domNode.setWidth(B),this.domNode.setHeight(W),this._content.setHeight(W),this._content.setWidth(B),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const R=this._diffEditor.getLineChanges();if(!R||R.length===0)return[];const B=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel();return!B||!W?[]:It._mergeAdjacent(R,B.getLineCount(),W.getLineCount())}static _mergeAdjacent(R,B,W){if(!R||R.length===0)return[];const V=[];let A=0;for(let j=0,Z=R.length;j<Z;j++){const ie=R[j],Q=ie.originalStartLineNumber,J=ie.originalEndLineNumber,de=ie.modifiedStartLineNumber,x=ie.modifiedEndLineNumber,ne=[];let te=0;{const q=J===0?Q:Q-1,oe=x===0?de:de-1;let z=1,X=1;if(j>0){const K=R[j-1];K.originalEndLineNumber===0?z=K.originalStartLineNumber+1:z=K.originalEndLineNumber+1,K.modifiedEndLineNumber===0?X=K.modifiedStartLineNumber+1:X=K.modifiedEndLineNumber+1}let $=q-m+1,H=oe-m+1;if($<z){const K=z-$;$=$+K,H=H+K}if(H<X){const K=X-H;$=$+K,H=H+K}ne[te++]=new C($,q,H,oe)}J!==0&&(ne[te++]=new C(Q,J,0,0)),x!==0&&(ne[te++]=new C(0,0,de,x));{const q=J===0?Q+1:J+1,oe=x===0?de+1:x+1;let z=B,X=W;if(j+1<Z){const K=R[j+1];K.originalEndLineNumber===0?z=K.originalStartLineNumber:z=K.originalStartLineNumber-1,K.modifiedEndLineNumber===0?X=K.modifiedStartLineNumber:X=K.modifiedStartLineNumber-1}let $=q+m-1,H=oe+m-1;if($>z){const K=z-$;$=$+K,H=H+K}if(H>X){const K=X-H;$=$+K,H=H+K}ne[te++]=new C(q,$,oe,H)}V[A++]=new y(ne)}let Y=V[0].entries;const ee=[];let U=0;for(let j=1,Z=V.length;j<Z;j++){const ie=V[j].entries,Q=Y[Y.length-1],J=ie[0];if(Q.getType()===0&&J.getType()===0&&J.originalLineStart<=Q.originalLineEnd){Y[Y.length-1]=new C(Q.originalLineStart,J.originalLineEnd,Q.modifiedLineStart,J.modifiedLineEnd),Y=Y.concat(ie.slice(1));continue}ee[U++]=new y(Y),Y=ie}return ee[U++]=new y(Y),ee}_findDiffIndex(R){const B=R.lineNumber;for(let W=0,V=this._diffs.length;W<V;W++){const A=this._diffs[W].entries,Y=A[A.length-1].modifiedLineEnd;if(B<=Y)return W}return 0}_render(){const R=this._diffEditor.getOriginalEditor().getOptions(),B=this._diffEditor.getModifiedEditor().getOptions(),W=this._diffEditor.getOriginalEditor().getModel(),V=this._diffEditor.getModifiedEditor().getModel(),A=W.getOptions(),Y=V.getOptions();if(!this._isVisible||!W||!V){v.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const ee=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[ee]===this._currentDiff)return;this._currentDiff=this._diffs[ee];const U=this._diffs[ee].entries,j=document.createElement("div");j.className="diff-review-table",j.setAttribute("role","list"),j.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,u.applyFontInfo)(j,B.get(45));let Z=0,ie=0,Q=0,J=0;for(let H=0,K=U.length;H<K;H++){const ce=U[H],le=ce.originalLineStart,he=ce.originalLineEnd,me=ce.modifiedLineStart,Ce=ce.modifiedLineEnd;le!==0&&(Z===0||le<Z)&&(Z=le),he!==0&&(ie===0||he>ie)&&(ie=he),me!==0&&(Q===0||me<Q)&&(Q=me),Ce!==0&&(J===0||Ce>J)&&(J=Ce)}const de=document.createElement("div");de.className="diff-review-row";const x=document.createElement("div");x.className="diff-review-cell diff-review-summary";const ne=ie-Z+1,te=J-Q+1;x.appendChild(document.createTextNode(`${ee+1}/${this._diffs.length}: @@ -${Z},${ne} +${Q},${te} @@`)),de.setAttribute("data-line",String(Q));const q=H=>H===0?w.localize(4,null):H===1?w.localize(5,null):w.localize(6,null,H),oe=q(ne),z=q(te);de.setAttribute("aria-label",w.localize(7,null,ee+1,this._diffs.length,Z,oe,Q,z)),de.appendChild(x),de.setAttribute("role","listitem"),j.appendChild(de);const X=B.get(60);let $=Q;for(let H=0,K=U.length;H<K;H++){const ce=U[H];It._renderSection(j,ce,$,X,this._width,R,W,A,B,V,Y,this._languageService.languageIdCodec),ce.modifiedLineStart!==0&&($=ce.modifiedLineEnd)}v.clearNode(this._content.domNode),this._content.domNode.appendChild(j),this.scrollbar.scanDomNode()}static _renderSection(R,B,W,V,A,Y,ee,U,j,Z,ie,Q){const J=B.getType();let de="diff-review-row",x="";const ne="diff-review-spacer";let te=null;switch(J){case 1:de="diff-review-row line-insert",x=" char-insert",te=E;break;case 2:de="diff-review-row line-delete",x=" char-delete",te=T;break}const q=B.originalLineStart,oe=B.originalLineEnd,z=B.modifiedLineStart,X=B.modifiedLineEnd,$=Math.max(X-z,oe-q),H=Y.get(133),K=H.glyphMarginWidth+H.lineNumbersWidth,ce=j.get(133),le=10+ce.glyphMarginWidth+ce.lineNumbersWidth;for(let he=0;he<=$;he++){const me=q===0?0:q+he,Ce=z===0?0:z+he,Le=document.createElement("div");Le.style.minWidth=A+"px",Le.className=de,Le.setAttribute("role","listitem"),Ce!==0&&(W=Ce),Le.setAttribute("data-line",String(W));const ye=document.createElement("div");ye.className="diff-review-cell",ye.style.height=`${V}px`,Le.appendChild(ye);const De=document.createElement("span");De.style.width=K+"px",De.style.minWidth=K+"px",De.className="diff-review-line-number"+x,me!==0?De.appendChild(document.createTextNode(String(me))):De.innerText="\xA0",ye.appendChild(De);const Ae=document.createElement("span");Ae.style.width=le+"px",Ae.style.minWidth=le+"px",Ae.style.paddingRight="10px",Ae.className="diff-review-line-number"+x,Ce!==0?Ae.appendChild(document.createTextNode(String(Ce))):Ae.innerText="\xA0",ye.appendChild(Ae);const pe=document.createElement("span");if(pe.className=ne,te){const ge=document.createElement("span");ge.className=l.ThemeIcon.asClassName(te),ge.innerText="\xA0\xA0",pe.appendChild(ge)}else pe.innerText="\xA0\xA0";ye.appendChild(pe);let ue;if(Ce!==0){let ge=this._renderLine(Z,j,ie.tabSize,Ce,Q);It._ttPolicy&&(ge=It._ttPolicy.createHTML(ge)),ye.insertAdjacentHTML("beforeend",ge),ue=Z.getLineContent(Ce)}else{let ge=this._renderLine(ee,Y,U.tabSize,me,Q);It._ttPolicy&&(ge=It._ttPolicy.createHTML(ge)),ye.insertAdjacentHTML("beforeend",ge),ue=ee.getLineContent(me)}ue.length===0&&(ue=w.localize(8,null));let ae="";switch(J){case 0:me===Ce?ae=w.localize(9,null,ue,me):ae=w.localize(10,null,ue,me,Ce);break;case 1:ae=w.localize(11,null,ue,Ce);break;case 2:ae=w.localize(12,null,ue,me);break}Le.setAttribute("aria-label",ae),R.appendChild(Le)}}static _renderLine(R,B,W,V,A){const Y=R.getLineContent(V),ee=B.get(45),U=t.LineTokens.createEmpty(Y,A),j=d.ViewLineRenderingData.isBasicASCII(Y,R.mightContainNonBasicASCII()),Z=d.ViewLineRenderingData.containsRTL(Y,j,R.mightContainRTL());return(0,c.renderViewLine2)(new c.RenderLineInput(ee.isMonospace&&!B.get(29),ee.canUseHalfwidthRightwardsArrow,Y,!1,j,Z,0,U,[],W,0,ee.spaceWidth,ee.middotWidth,ee.wsmiddotWidth,B.get(107),B.get(89),B.get(84),B.get(46)!==i.EditorFontLigatures.OFF,null)).html}};F._ttPolicy=(f=window.trustedTypes)===null||f===void 0?void 0:f.createPolicy("diffReview",{createHTML:M=>M}),F=ke([fe(1,S.ILanguageService)],F),e.DiffReview=F,(0,l.registerThemingParticipant)((M,R)=>{const B=M.getColor(r.editorLineNumbers);B&&R.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${B}; }`);const W=M.getColor(s.scrollbarShadow);W&&R.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${W} 0 -6px 6px -6px inset; }`)});class O extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:w.localize(13,null),alias:"Go to Next Difference",precondition:a.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(R,B){const W=D(R);W==null||W.diffReviewNext()}}class P extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:w.localize(14,null),alias:"Go to Previous Difference",precondition:a.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(R,B){const W=D(R);W==null||W.diffReviewPrev()}}function D(M){const R=M.get(n.ICodeEditorService),B=R.listDiffEditors(),W=R.getActiveCodeEditor();if(!W)return null;for(let V=0,A=B.length;V<A;V++){const Y=B[V];if(Y.getModifiedEditor().getId()===W.getId()||Y.getOriginalEditor().getId()===W.getId())return Y}return null}(0,g.registerEditorAction)(O),(0,g.registerEditorAction)(P)}),define(se[744],re([1,0,7,49,76,27,6,2,8,20,39,19,118,642,212,595,16,45,25,81,56,15,390]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const p=w.$,S=(0,s.registerIcon)("parameter-hints-next",I.Codicon.chevronDown,r.localize(0,null)),f=(0,s.registerIcon)("parameter-hints-previous",I.Codicon.chevronUp,r.localize(1,null));let m=class zi extends _.Disposable{constructor(y,E,T,N,F){super();this.editor=y,this.renderDisposeables=this._register(new _.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new i.MarkdownRenderer({editor:y},N,T)),this.model=this._register(new t.ParameterHintsModel(y,F.signatureHelpProvider)),this.keyVisible=o.Context.Visible.bindTo(E),this.keyMultipleSignatures=o.Context.MultipleSignatures.bindTo(E),this._register(this.model.onChangedHints(O=>{O?(this.show(),this.render(O)):this.hide()}))}createParameterHintDOMNodes(){const y=p(".editor-widget.parameter-hints-widget"),E=w.append(y,p(".phwrapper"));E.tabIndex=-1;const T=w.append(E,p(".controls")),N=w.append(T,p(".button"+h.ThemeIcon.asCSSSelector(f))),F=w.append(T,p(".overloads")),O=w.append(T,p(".button"+h.ThemeIcon.asCSSSelector(S)));this._register(w.addDisposableListener(N,"click",W=>{w.EventHelper.stop(W),this.previous()})),this._register(w.addDisposableListener(O,"click",W=>{w.EventHelper.stop(W),this.next()}));const P=p(".body"),D=new k.DomScrollableElement(P,{alwaysConsumeMouseWheel:!0});this._register(D),E.appendChild(D.getDomNode());const M=w.append(P,p(".signature")),R=w.append(P,p(".docs"));y.style.userSelect="text",this.domNodes={element:y,signature:M,overloads:F,docs:R,scrollbar:D},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(W=>{this.visible&&this.editor.layoutContentWidget(this)}));const B=()=>{if(!this.domNodes)return;const W=this.editor.getOption(45);this.domNodes.element.style.fontSize=`${W.fontSize}px`,this.domNodes.element.style.lineHeight=`${W.lineHeight/W.fontSize}`};B(),this._register(L.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(W=>W.hasChanged(45)).on(B,null)),this._register(this.editor.onDidLayoutChange(W=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var y;(y=this.domNodes)===null||y===void 0||y.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var y;this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(y=this.domNodes)===null||y===void 0||y.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(y){var E;if(this.renderDisposeables.clear(),!this.domNodes)return;const T=y.signatures.length>1;this.domNodes.element.classList.toggle("multiple",T),this.keyMultipleSignatures.set(T),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const N=y.signatures[y.activeSignature];if(!N)return;const F=w.append(this.domNodes.signature,p(".code")),O=this.editor.getOption(45);F.style.fontSize=`${O.fontSize}px`,F.style.fontFamily=O.fontFamily;const P=N.parameters.length>0,D=(E=N.activeParameter)!==null&&E!==void 0?E:y.activeParameter;if(P)this.renderParameters(F,N,D);else{const B=w.append(F,p("span"));B.textContent=N.label}const M=N.parameters[D];if(M==null?void 0:M.documentation){const B=p("span.documentation");if(typeof M.documentation=="string")B.textContent=M.documentation;else{const W=this.renderMarkdownDocs(M.documentation);B.appendChild(W.element)}w.append(this.domNodes.docs,p("p",{},B))}if(N.documentation!==void 0)if(typeof N.documentation=="string")w.append(this.domNodes.docs,p("p",{},N.documentation));else{const B=this.renderMarkdownDocs(N.documentation);w.append(this.domNodes.docs,B.element)}const R=this.hasDocs(N,M);if(this.domNodes.signature.classList.toggle("has-docs",R),this.domNodes.docs.classList.toggle("empty",!R),this.domNodes.overloads.textContent=String(y.activeSignature+1).padStart(y.signatures.length.toString().length,"0")+"/"+y.signatures.length,M){let B="";const W=N.parameters[D];Array.isArray(W.label)?B=N.label.substring(W.label[0],W.label[1]):B=W.label,W.documentation&&(B+=typeof W.documentation=="string"?`, ${W.documentation}`:`, ${W.documentation.value}`),N.documentation&&(B+=typeof N.documentation=="string"?`, ${N.documentation}`:`, ${N.documentation.value}`),this.announcedLabel!==B&&(v.alert(r.localize(2,null,B)),this.announcedLabel=B)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(y){const E=this.renderDisposeables.add(this.markdownRenderer.render(y,{asyncRenderCallback:()=>{var T;(T=this.domNodes)===null||T===void 0||T.scrollbar.scanDomNode()}}));return E.element.classList.add("markdown-docs"),E}hasDocs(y,E){return!!(E&&typeof E.documentation=="string"&&(0,u.assertIsDefined)(E.documentation).length>0||E&&typeof E.documentation=="object"&&(0,u.assertIsDefined)(E.documentation).value.length>0||y.documentation&&typeof y.documentation=="string"&&(0,u.assertIsDefined)(y.documentation).length>0||y.documentation&&typeof y.documentation=="object"&&(0,u.assertIsDefined)(y.documentation.value).length>0)}renderParameters(y,E,T){const[N,F]=this.getParameterLabelOffsets(E,T),O=document.createElement("span");O.textContent=E.label.substring(0,N);const P=document.createElement("span");P.textContent=E.label.substring(N,F),P.className="parameter active";const D=document.createElement("span");D.textContent=E.label.substring(F),w.append(y,O,P,D)}getParameterLabelOffsets(y,E){const T=y.parameters[E];if(T){if(Array.isArray(T.label))return T.label;if(T.label.length){const N=new RegExp(`(\\W|^)${(0,b.escapeRegExpCharacters)(T.label)}(?=\\W|$)`,"g");N.test(y.label);const F=N.lastIndex-T.label.length;return F>=0?[F,N.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return zi.ID}trigger(y){this.model.trigger(y,0)}updateMaxHeight(){if(!this.domNodes)return;const E=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=E;const T=this.domNodes.element.getElementsByClassName("phwrapper");T.length&&(T[0].style.maxHeight=E)}};m.ID="editor.widget.parameterHintsWidget",m=ke([fe(1,c.IContextKeyService),fe(2,d.IOpenerService),fe(3,g.ILanguageService),fe(4,n.ILanguageFeaturesService)],m),e.ParameterHintsWidget=m,e.editorHoverWidgetHighlightForeground=(0,a.registerColor)("editorHoverWidget.highlightForeground",{dark:a.listHighlightForeground,light:a.listHighlightForeground,hcDark:a.listHighlightForeground,hcLight:a.listHighlightForeground},r.localize(3,null)),(0,h.registerThemingParticipant)((C,y)=>{const E=C.getColor(a.editorHoverBorder);if(E){const M=(0,l.isHighContrast)(C.type)?2:1;y.addRule(`.monaco-editor .parameter-hints-widget { border: ${M}px solid ${E}; }`),y.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${E.transparent(.5)}; }`),y.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${E.transparent(.5)}; }`)}const T=C.getColor(a.editorHoverBackground);T&&y.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${T}; }`);const N=C.getColor(a.textLinkForeground);N&&y.addRule(`.monaco-editor .parameter-hints-widget a { color: ${N}; }`);const F=C.getColor(a.textLinkActiveForeground);F&&y.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${F}; }`);const O=C.getColor(a.editorHoverForeground);O&&y.addRule(`.monaco-editor .parameter-hints-widget { color: ${O}; }`);const P=C.getColor(a.textCodeBlockBackground);P&&y.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${P}; }`);const D=C.getColor(e.editorHoverWidgetHighlightForeground);D&&y.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${D}}`)})}),define(se[745],re([1,0,2,13,24,28,212,594,16,9,744]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let n=class Vi extends w.Disposable{constructor(c,d){super();this.editor=c,this.widget=this._register(d.createInstance(g.ParameterHintsWidget,this.editor))}static get(c){return c.getContribution(Vi.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(c){this.widget.trigger(c)}};n.ID="editor.controller.parameterHints",n=ke([fe(1,u.IInstantiationService)],n);class i extends v.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:_.localize(0,null),alias:"Trigger Parameter Hints",precondition:k.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(c,d){const a=n.get(d);a&&a.trigger({triggerKind:I.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=i,(0,v.registerEditorContribution)(n.ID,n),(0,v.registerEditorAction)(i);const t=100+75,o=v.EditorCommand.bindToContribution(n.get);(0,v.registerEditorCommand)(new o({id:"closeParameterHints",precondition:L.Context.Visible,handler:r=>r.cancel(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,v.registerEditorCommand)(new o({id:"showPrevParameterHint",precondition:b.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:r=>r.previous(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,v.registerEditorCommand)(new o({id:"showNextParameterHint",precondition:b.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:r=>r.next(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(se[746],re([1,0,7,200,27,6,60,2,22,28,663,50,39,610,285,81,15,297]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function s(S){return`suggest-aria-id:${S}`}e.getAriaId=s,e.suggestMoreInfoIcon=(0,r.registerIcon)("suggest-more-info",k.Codicon.chevronRight,t.localize(0,null));const l=new(a=class $t{extract(f,m){if(f.textLabel.match($t._regexStrict))return m[0]=f.textLabel,!0;if(f.completion.detail&&f.completion.detail.match($t._regexStrict))return m[0]=f.completion.detail,!0;if(typeof f.completion.documentation=="string"){const C=$t._regexRelaxed.exec(f.completion.documentation);if(C&&(C.index===0||C.index+C[0].length===f.completion.documentation.length))return m[0]=C[0],!0}return!1}},a._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,a._regexStrict=new RegExp(`^${a._regexRelaxed.source}$`,"i"),a);let h=class{constructor(f,m,C,y){this._editor=f,this._modelService=m,this._languageService=C,this._themeService=y,this._onDidToggleDetails=new I.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(f){const m=Object.create(null);m.disposables=new _.DisposableStore,m.root=f,m.root.classList.add("show-file-icons"),m.icon=(0,w.append)(f,(0,w.$)(".icon")),m.colorspan=(0,w.append)(m.icon,(0,w.$)("span.colorspan"));const C=(0,w.append)(f,(0,w.$)(".contents")),y=(0,w.append)(C,(0,w.$)(".main"));m.iconContainer=(0,w.append)(y,(0,w.$)(".icon-label.codicon")),m.left=(0,w.append)(y,(0,w.$)("span.left")),m.right=(0,w.append)(y,(0,w.$)("span.right")),m.iconLabel=new v.IconLabel(m.left,{supportHighlights:!0,supportIcons:!0}),m.disposables.add(m.iconLabel),m.parametersLabel=(0,w.append)(m.left,(0,w.$)("span.signature-label")),m.qualifierLabel=(0,w.append)(m.left,(0,w.$)("span.qualifier-label")),m.detailsLabel=(0,w.append)(m.right,(0,w.$)("span.details-label")),m.readMore=(0,w.append)(m.right,(0,w.$)("span.readMore"+c.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),m.readMore.title=t.localize(1,null);const E=()=>{const T=this._editor.getOptions(),N=T.get(45),F=N.getMassagedFontFamily(),O=N.fontFeatureSettings,P=T.get(109)||N.fontSize,D=T.get(110)||N.lineHeight,M=N.fontWeight,R=N.letterSpacing,B=`${P}px`,W=`${D}px`,V=`${R}px`;m.root.style.fontSize=B,m.root.style.fontWeight=M,m.root.style.letterSpacing=V,y.style.fontFamily=F,y.style.fontFeatureSettings=O,y.style.lineHeight=W,m.icon.style.height=W,m.icon.style.width=W,m.readMore.style.height=W,m.readMore.style.width=W};return E(),m.disposables.add(this._editor.onDidChangeConfiguration(T=>{(T.hasChanged(45)||T.hasChanged(109)||T.hasChanged(110))&&E()})),m}renderElement(f,m,C){const{completion:y}=f;C.root.id=s(m),C.colorspan.style.backgroundColor="";const E={labelEscapeNewLines:!0,matches:(0,L.createMatches)(f.score)},T=[];if(y.kind===19&&l.extract(f,T))C.icon.className="icon customcolor",C.iconContainer.className="icon hide",C.colorspan.style.backgroundColor=T[0];else if(y.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){C.icon.className="icon hide",C.iconContainer.className="icon hide";const N=(0,g.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:f.textLabel}),o.FileKind.FILE),F=(0,g.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:y.detail}),o.FileKind.FILE);E.extraClasses=N.length>F.length?N:F}else y.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(C.icon.className="icon hide",C.iconContainer.className="icon hide",E.extraClasses=[(0,g.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:f.textLabel}),o.FileKind.FOLDER),(0,g.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:y.detail}),o.FileKind.FOLDER)].flat()):(C.icon.className="icon hide",C.iconContainer.className="",C.iconContainer.classList.add("suggest-icon",...k.CSSIcon.asClassNameArray(u.CompletionItemKinds.toIcon(y.kind))));y.tags&&y.tags.indexOf(1)>=0&&(E.extraClasses=(E.extraClasses||[]).concat(["deprecated"]),E.matches=[]),C.iconLabel.setLabel(f.textLabel,void 0,E),typeof y.label=="string"?(C.parametersLabel.textContent="",C.detailsLabel.textContent=p(y.detail||""),C.root.classList.add("string-label")):(C.parametersLabel.textContent=p(y.label.detail||""),C.detailsLabel.textContent=p(y.label.description||""),C.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,w.show)(C.detailsLabel):(0,w.hide)(C.detailsLabel),(0,d.canExpandCompletionItem)(f)?(C.right.classList.add("can-expand-details"),(0,w.show)(C.readMore),C.readMore.onmousedown=N=>{N.stopPropagation(),N.preventDefault()},C.readMore.onclick=N=>{N.stopPropagation(),N.preventDefault(),this._onDidToggleDetails.fire()}):(C.right.classList.remove("can-expand-details"),(0,w.hide)(C.readMore),C.readMore.onmousedown=null,C.readMore.onclick=null)}disposeTemplate(f){f.disposables.dispose()}};h=ke([fe(1,n.IModelService),fe(2,i.ILanguageService),fe(3,c.IThemeService)],h),e.ItemRenderer=h;function p(S){return S.replace(/\r\n|\r|\n/g,"")}}),define(se[747],re([1,0,7,75,42,2,118,9,739,81,15,396]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const n=26;let i=class extends I.Disposable{constructor(r,c){super();this._editor=r,this.instantiationService=c,this.banner=this._register(this.instantiationService.createInstance(t))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(r){this.banner.show(Object.assign(Object.assign({},r),{onClose:()=>{var c;this.hide(),(c=r.onClose)===null||c===void 0||c.call(r)}})),this._editor.setBanner(this.banner.element,n)}};i=ke([fe(1,_.IInstantiationService)],i),e.BannerController=i;let t=class extends I.Disposable{constructor(r){super();this.instantiationService=r,this.markdownRenderer=this.instantiationService.createInstance(L.MarkdownRenderer,{}),this.element=(0,w.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(r){if(r.ariaLabel)return r.ariaLabel;if(typeof r.message=="string")return r.message}getBannerMessage(r){if(typeof r=="string"){const c=(0,w.$)("span");return c.innerText=r,c}return this.markdownRenderer.render(r).element}clear(){(0,w.clearNode)(this.element)}show(r){(0,w.clearNode)(this.element);const c=this.getAriaLabel(r);c&&this.element.setAttribute("aria-label",c);const d=(0,w.append)(this.element,(0,w.$)("div.icon-container"));d.setAttribute("aria-hidden","true"),r.icon&&d.appendChild((0,w.$)(`div${g.ThemeIcon.asCSSSelector(r.icon)}`));const a=(0,w.append)(this.element,(0,w.$)("div.message-container"));if(a.setAttribute("aria-hidden","true"),a.appendChild(this.getBannerMessage(r.message)),this.messageActionsContainer=(0,w.append)(this.element,(0,w.$)("div.message-actions-container")),r.actions)for(const l of r.actions)this._register(this.instantiationService.createInstance(b.Link,this.messageActionsContainer,Object.assign(Object.assign({},l),{tabIndex:-1}),{}));const s=(0,w.append)(this.element,(0,w.$)("div.action-container"));this.actionBar=this._register(new v.ActionBar(s)),this.actionBar.push(this._register(new k.Action("banner.close","Close Banner",g.ThemeIcon.asClassName(u.widgetClose),!0,()=>{typeof r.onClose=="function"&&r.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};t=ke([fe(0,_.IInstantiationService)],t)}),define(se[748],re([1,0,7,6,81,15]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function L(b){const u=new v.Emitter,g=(0,k.getIconRegistry)();return g.onDidChange(()=>u.fire()),b==null||b.onDidProductIconThemeChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const n=b?b.getProductIconTheme():new _,i={},t=r=>{const c=n.getIcon(r);if(!c)return;const d=c.font;return d?(i[d.id]=d.definition,`.codicon-${r.id}:before { content: '${c.fontCharacter}'; font-family: ${(0,w.asCSSPropertyValue)(d.id)}; }`):`.codicon-${r.id}:before { content: '${c.fontCharacter}'; }`},o=[];for(const r of g.getIcons()){const c=t(r);c&&o.push(c)}for(const r in i){const c=i[r],d=c.weight?`font-weight: ${c.weight};`:"",a=c.style?`font-style: ${c.style};`:"",s=c.src.map(l=>`${(0,w.asCSSUrl)(l.location)} format('${l.format}')`).join(", ");o.push(`@font-face { src: ${s}; font-family: ${(0,w.asCSSPropertyValue)(r)};${d}${a} font-display: block; }`)}return o.join(`
`)}}}e.getIconsStyleSheet=L;class _{getIcon(u){const g=(0,k.getIconRegistry)();let n=u.defaults;for(;I.ThemeIcon.isThemeIcon(n);){const i=g.getIcon(n.id);if(!i)return;n=i.defaults}return n}}e.UnthemedProductIconTheme=_}),define(se[312],re([1,0,7,41,31,6,28,110,429,701,34,25,15,2,56,748]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const c=g.Registry.as(n.Extensions.ColorContribution),d=g.Registry.as(i.Extensions.ThemingContribution);class a{constructor(f,m){this.semanticHighlighting=!1,this.themeData=m;const C=m.base;f.length>0?(s(f)?this.id=f:this.id=C+" "+f,this.themeName=f):(this.id=C,this.themeName=C),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const f=new Map;for(const m in this.themeData.colors)f.set(m,k.Color.fromHex(this.themeData.colors[m]));if(this.themeData.inherit){const m=l(this.themeData.base);for(const C in m.colors)f.has(C)||f.set(C,k.Color.fromHex(m.colors[C]))}this.colors=f}return this.colors}getColor(f,m){const C=this.getColors().get(f);if(C)return C;if(m!==!1)return this.getDefault(f)}getDefault(f){let m=this.defaultColors[f];return m||(m=c.resolveDefaultColor(f,this),this.defaultColors[f]=m,m)}defines(f){return Object.prototype.hasOwnProperty.call(this.getColors(),f)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return o.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return o.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return o.ColorScheme.HIGH_CONTRAST_LIGHT;default:return o.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let f=[],m=[];if(this.themeData.inherit){const E=l(this.themeData.base);f=E.rules,E.encodedTokensColors&&(m=E.encodedTokensColors)}const C=this.themeData.colors["editor.foreground"],y=this.themeData.colors["editor.background"];if(C||y){const E={token:""};C&&(E.foreground=C),y&&(E.background=y),f.push(E)}f=f.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(m=this.themeData.encodedTokensColors),this._tokenTheme=b.TokenTheme.createFromRawTokenTheme(f,m)}return this._tokenTheme}getTokenStyleMetadata(f,m,C){const E=this.tokenTheme._match([f].concat(m).join(".")).metadata,T=_.TokenMetadata.getForeground(E),N=_.TokenMetadata.getFontStyle(E);return{foreground:T,italic:Boolean(N&1),bold:Boolean(N&2),underline:Boolean(N&4),strikethrough:Boolean(N&8)}}}function s(S){return S===e.VS_LIGHT_THEME_NAME||S===e.VS_DARK_THEME_NAME||S===e.HC_BLACK_THEME_NAME||S===e.HC_LIGHT_THEME_NAME}function l(S){switch(S){case e.VS_LIGHT_THEME_NAME:return u.vs;case e.VS_DARK_THEME_NAME:return u.vs_dark;case e.HC_BLACK_THEME_NAME:return u.hc_black;case e.HC_LIGHT_THEME_NAME:return u.hc_light}}function h(S){const f=l(S);return new a(S,f)}class p extends t.Disposable{constructor(){super();this._onColorThemeChange=this._register(new I.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new I.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new r.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,h(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,h(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,h(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,h(e.HC_LIGHT_THEME_NAME));const f=(0,r.getIconsStyleSheet)(this);this._codiconCSS=f.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),f.onDidChange(()=>{this._codiconCSS=f.getCSS(),this._updateCSS()}),(0,v.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(f){return w.isInShadowDOM(f)?this._registerShadowDomContainer(f):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=w.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),t.Disposable.None}_registerShadowDomContainer(f){const m=w.createStyleSheet(f);return m.className="monaco-colors",m.textContent=this._allCSS,this._styleElements.push(m),{dispose:()=>{for(let C=0;C<this._styleElements.length;C++)if(this._styleElements[C]===m){this._styleElements.splice(C,1);return}}}}defineTheme(f,m){if(!/^[a-z0-9\-]+$/i.test(f))throw new Error("Illegal theme name!");if(!s(m.base)&&!s(f))throw new Error("Illegal theme base!");this._knownThemes.set(f,new a(f,m)),s(f)&&this._knownThemes.forEach(C=>{C.base===f&&C.notifyBaseUpdated()}),this._theme.themeName===f&&this.setTheme(f)}getColorTheme(){return this._theme}setColorMapOverride(f){this._colorMapOverride=f,this._updateThemeOrColorMap()}setTheme(f){let m;this._knownThemes.has(f)?m=this._knownThemes.get(f):m=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(m)}_updateActualTheme(f){!f||this._theme===f||(this._theme=f,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const f=window.matchMedia("(forced-colors: active)").matches;if(f!==(0,o.isHighContrast)(this._theme.type)){let m;(0,o.isDark)(this._theme.type)?m=f?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:m=f?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(m))}}}setAutoDetectHighContrast(f){this._autoDetectHighContrast=f,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const f=[],m={},C={addRule:T=>{m[T]||(f.push(T),m[T]=!0)}};d.getThemingParticipants().forEach(T=>T(this._theme,C,this._environment));const y=[];for(const T of c.getColors()){const N=this._theme.getColor(T.id,!0);N&&y.push(`${(0,n.asCssVariableName)(T.id)}: ${N.toString()};`)}C.addRule(`.monaco-editor { ${y.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();C.addRule((0,b.generateTokensCSSForColorMap)(E)),this._themeCSS=f.join(`
`),this._updateCSS(),L.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(f=>f.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=p}),define(se[749],re([1,0,13,116,77,56,312]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class _ extends w.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:k.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(u,g){const n=u.get(v.IStandaloneThemeService),i=n.getColorTheme();(0,I.isHighContrast)(i.type)?(n.setTheme(this._originalThemeName||((0,I.isDark)(i.type)?L.VS_DARK_THEME_NAME:L.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(n.setTheme((0,I.isDark)(i.type)?L.HC_BLACK_THEME_NAME:L.HC_LIGHT_THEME_NAME),this._originalThemeName=i.themeName)}}(0,w.registerEditorAction)(_)}),define(se[174],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,w.createDecorator)("undoRedoService");class v{constructor(_,b){this.resource=_,this.elements=b}}e.ResourceEditStackSnapshot=v;class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=k,k._ID=0,k.None=new k;class I{constructor(){this.id=I._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=I,I._ID=0,I.None=new I}),define(se[37],re([1,0,17,31,14,6,2,8,22,128,180,11,3,23,154,39,32,46,516,692,284,248,433,434,276,517,159,521,101,174]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function N(te){const q=new m.PieceTreeTextBufferBuilder;return q.acceptChunk(te),q.finish()}e.createTextBufferFactory=N;function F(te){const q=new m.PieceTreeTextBufferBuilder;let oe;for(;typeof(oe=te.read())=="string";)q.acceptChunk(oe);return q.finish()}e.createTextBufferFactoryFromSnapshot=F;function O(te,q){let oe;return typeof te=="string"?oe=N(te):d.isITextSnapshot(te)?oe=F(te):oe=te,oe.create(q)}e.createTextBuffer=O;let P=0;const D=999;e.LONG_LINE_BOUNDARY=1e4;class M{constructor(q){this._source=q,this._eos=!1}read(){if(this._eos)return null;const q=[];let oe=0,z=0;do{const X=this._source.read();if(X===null)return this._eos=!0,oe===0?null:q.join("");if(X.length>0&&(q[oe++]=X,z+=X.length),z>=64*1024)return q.join("")}while(!0)}}const R=()=>{throw new Error("Invalid change accessor")};let B=class Ot extends L.Disposable{constructor(q,oe,z,X=null,$,H,K){super();this._undoRedoService=$,this._languageService=H,this._languageConfigurationService=K,this._onWillDispose=this._register(new I.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new x(Ce=>this.handleBeforeFireDecorationsChangedEvent(Ce))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new I.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new I.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new I.Emitter),this._eventEmitter=this._register(new ne),this._deltaDecorationCallCnt=0,P++,this.id="$model"+P,this.isForSimpleWidget=z.isForSimpleWidget,typeof X=="undefined"||X===null?this._associatedResource=b.URI.parse("inmemory://model/"+P):this._associatedResource=X,this._attachedEditorCount=0;const{textBuffer:ce,disposable:le}=O(q,z.defaultEOL);this._buffer=ce,this._bufferDisposable=le,this._options=Ot.resolveOptions(this._buffer,z),this._bracketPairs=this._register(new a.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new h.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new s.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new y.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,oe);const he=this._buffer.getLineCount(),me=this._buffer.getValueLengthInRange(new i.Range(1,1,he,this._buffer.getLineLength(he)+1),0);z.largeFileOptimizations?this._isTooLargeForTokenization=me>Ot.LARGE_FILE_SIZE_THRESHOLD||he>Ot.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=me>Ot.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=_.singleLetterHash(P),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Y,this._commandManager=new l.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(q,oe){if(oe.detectIndentation){const z=(0,p.guessIndentation)(q,oe.tabSize,oe.insertSpaces);return new d.TextModelResolvedOptions({tabSize:z.tabSize,indentSize:z.tabSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:oe.trimAutoWhitespace,defaultEOL:oe.defaultEOL,bracketPairColorizationOptions:oe.bracketPairColorizationOptions})}return new d.TextModelResolvedOptions({tabSize:oe.tabSize,indentSize:oe.indentSize,insertSpaces:oe.insertSpaces,trimAutoWhitespace:oe.trimAutoWhitespace,defaultEOL:oe.defaultEOL,bracketPairColorizationOptions:oe.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(q){return this._eventEmitter.slowEvent(oe=>q(oe.contentChangedEvent))}onDidChangeContentOrInjectedText(q){return(0,L.combinedDisposable)(this._eventEmitter.fastEvent(oe=>q(oe)),this._onDidChangeInjectedText.event(oe=>q(oe)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const q=new f.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);q.dispose(),this._buffer=q,this._bufferDisposable=L.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(q,oe){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(oe),this._bracketPairs.handleDidChangeContent(oe),this._eventEmitter.fire(new E.InternalModelContentChangeEvent(q,oe)))}setValue(q){if(this._assertNotDisposed(),q===null)return;const{textBuffer:oe,disposable:z}=O(q,this._options.defaultEOL);this._setValueFromTextBuffer(oe,z)}_createContentChanged2(q,oe,z,X,$,H,K){return{changes:[{range:q,rangeOffset:oe,rangeLength:z,text:X}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:$,isRedoing:H,isFlush:K}}_setValueFromTextBuffer(q,oe){this._assertNotDisposed();const z=this.getFullModelRange(),X=this.getValueLengthInRange(z),$=this.getLineCount(),H=this.getLineMaxColumn($);this._buffer=q,this._bufferDisposable.dispose(),this._bufferDisposable=oe,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Y,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,$,H),0,X,this.getValue(),!1,!1,!0))}setEOL(q){this._assertNotDisposed();const oe=q===1?`\r
`:`
`;if(this._buffer.getEOL()===oe)return;const z=this.getFullModelRange(),X=this.getValueLengthInRange(z),$=this.getLineCount(),H=this.getLineMaxColumn($);this._onBeforeEOLChange(),this._buffer.setEOL(oe),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,$,H),0,X,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const q=this.getVersionId(),oe=this._decorationsTree.collectNodesPostOrder();for(let z=0,X=oe.length;z<X;z++){const $=oe[z],H=$.range,K=$.cachedAbsoluteStart-$.start,ce=this._buffer.getOffsetAt(H.startLineNumber,H.startColumn),le=this._buffer.getOffsetAt(H.endLineNumber,H.endColumn);$.cachedAbsoluteStart=ce,$.cachedAbsoluteEnd=le,$.cachedVersionId=q,$.start=ce-K,$.end=le-K,(0,S.recomputeMaxEnd)($)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let q=0,oe=0;const z=this._buffer.getLineCount();for(let X=1;X<=z;X++){const $=this._buffer.getLineLength(X);$>=e.LONG_LINE_BOUNDARY?oe+=$:q+=$}return oe>q}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(q){this._assertNotDisposed();const oe=typeof q.tabSize!="undefined"?q.tabSize:this._options.tabSize,z=typeof q.indentSize!="undefined"?q.indentSize:this._options.indentSize,X=typeof q.insertSpaces!="undefined"?q.insertSpaces:this._options.insertSpaces,$=typeof q.trimAutoWhitespace!="undefined"?q.trimAutoWhitespace:this._options.trimAutoWhitespace,H=typeof q.bracketColorizationOptions!="undefined"?q.bracketColorizationOptions:this._options.bracketPairColorizationOptions,K=new d.TextModelResolvedOptions({tabSize:oe,indentSize:z,insertSpaces:X,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:$,bracketPairColorizationOptions:H});if(this._options.equals(K))return;const ce=this._options.createChangeEvent(K);this._options=K,this._bracketPairs.handleDidChangeOptions(ce),this._decorationProvider.handleDidChangeOptions(ce),this._onDidChangeOptions.fire(ce)}detectIndentation(q,oe){this._assertNotDisposed();const z=(0,p.guessIndentation)(this._buffer,oe,q);this.updateOptions({insertSpaces:z.insertSpaces,tabSize:z.tabSize,indentSize:z.tabSize})}normalizeIndentation(q){return this._assertNotDisposed(),(0,g.normalizeIndentation)(q,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(q=null){const oe=this.findMatches(_.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(q,oe.map(z=>({range:z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(q){this._assertNotDisposed();const oe=this._validatePosition(q.lineNumber,q.column,0);return this._buffer.getOffsetAt(oe.lineNumber,oe.column)}getPositionAt(q){this._assertNotDisposed();const oe=Math.min(this._buffer.getLength(),Math.max(0,q));return this._buffer.getPositionAt(oe)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(q){this._versionId=q}_overwriteAlternativeVersionId(q){this._alternativeVersionId=q}_overwriteInitialUndoRedoSnapshot(q){this._initialUndoRedoSnapshot=q}getValue(q,oe=!1){this._assertNotDisposed();const z=this.getFullModelRange(),X=this.getValueInRange(z,q);return oe?this._buffer.getBOM()+X:X}createSnapshot(q=!1){return new M(this._buffer.createSnapshot(q))}getValueLength(q,oe=!1){this._assertNotDisposed();const z=this.getFullModelRange(),X=this.getValueLengthInRange(z,q);return oe?this._buffer.getBOM().length+X:X}getValueInRange(q,oe=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(q),oe)}getValueLengthInRange(q,oe=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(q),oe)}getCharacterCountInRange(q,oe=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(q),oe)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(q)}getLineLength(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(q)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(q){return this._assertNotDisposed(),1}getLineMaxColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(q)+1}getLineFirstNonWhitespaceColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(q)}getLineLastNonWhitespaceColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(q)}_validateRangeRelaxedNoAllocations(q){const oe=this._buffer.getLineCount(),z=q.startLineNumber,X=q.startColumn;let $=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),H=Math.floor(typeof X=="number"&&!isNaN(X)?X:1);if($<1)$=1,H=1;else if($>oe)$=oe,H=this.getLineMaxColumn($);else if(H<=1)H=1;else{const me=this.getLineMaxColumn($);H>=me&&(H=me)}const K=q.endLineNumber,ce=q.endColumn;let le=Math.floor(typeof K=="number"&&!isNaN(K)?K:1),he=Math.floor(typeof ce=="number"&&!isNaN(ce)?ce:1);if(le<1)le=1,he=1;else if(le>oe)le=oe,he=this.getLineMaxColumn(le);else if(he<=1)he=1;else{const me=this.getLineMaxColumn(le);he>=me&&(he=me)}return z===$&&X===H&&K===le&&ce===he&&q instanceof i.Range&&!(q instanceof t.Selection)?q:new i.Range($,H,le,he)}_isValidPosition(q,oe,z){if(typeof q!="number"||typeof oe!="number"||isNaN(q)||isNaN(oe)||q<1||oe<1||(q|0)!==q||(oe|0)!==oe)return!1;const X=this._buffer.getLineCount();if(q>X)return!1;if(oe===1)return!0;const $=this.getLineMaxColumn(q);if(oe>$)return!1;if(z===1){const H=this._buffer.getLineCharCode(q,oe-2);if(_.isHighSurrogate(H))return!1}return!0}_validatePosition(q,oe,z){const X=Math.floor(typeof q=="number"&&!isNaN(q)?q:1),$=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1),H=this._buffer.getLineCount();if(X<1)return new n.Position(1,1);if(X>H)return new n.Position(H,this.getLineMaxColumn(H));if($<=1)return new n.Position(X,1);const K=this.getLineMaxColumn(X);if($>=K)return new n.Position(X,K);if(z===1){const ce=this._buffer.getLineCharCode(X,$-2);if(_.isHighSurrogate(ce))return new n.Position(X,$-1)}return new n.Position(X,$)}validatePosition(q){const oe=1;return this._assertNotDisposed(),q instanceof n.Position&&this._isValidPosition(q.lineNumber,q.column,oe)?q:this._validatePosition(q.lineNumber,q.column,oe)}_isValidRange(q,oe){const z=q.startLineNumber,X=q.startColumn,$=q.endLineNumber,H=q.endColumn;if(!this._isValidPosition(z,X,0)||!this._isValidPosition($,H,0))return!1;if(oe===1){const K=X>1?this._buffer.getLineCharCode(z,X-2):0,ce=H>1&&H<=this._buffer.getLineLength($)?this._buffer.getLineCharCode($,H-2):0,le=_.isHighSurrogate(K),he=_.isHighSurrogate(ce);return!le&&!he}return!0}validateRange(q){const oe=1;if(this._assertNotDisposed(),q instanceof i.Range&&!(q instanceof t.Selection)&&this._isValidRange(q,oe))return q;const z=this._validatePosition(q.startLineNumber,q.startColumn,0),X=this._validatePosition(q.endLineNumber,q.endColumn,0),$=z.lineNumber,H=z.column,K=X.lineNumber,ce=X.column;if(oe===1){const le=H>1?this._buffer.getLineCharCode($,H-2):0,he=ce>1&&ce<=this._buffer.getLineLength(K)?this._buffer.getLineCharCode(K,ce-2):0,me=_.isHighSurrogate(le),Ce=_.isHighSurrogate(he);return!me&&!Ce?new i.Range($,H,K,ce):$===K&&H===ce?new i.Range($,H-1,K,ce-1):me&&Ce?new i.Range($,H-1,K,ce+1):me?new i.Range($,H-1,K,ce):new i.Range($,H,K,ce+1)}return new i.Range($,H,K,ce)}modifyPosition(q,oe){this._assertNotDisposed();const z=this.getOffsetAt(q)+oe;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,z)))}getFullModelRange(){this._assertNotDisposed();const q=this.getLineCount();return new i.Range(1,1,q,this.getLineMaxColumn(q))}findMatchesLineByLine(q,oe,z,X){return this._buffer.findMatchesLineByLine(q,oe,z,X)}findMatches(q,oe,z,X,$,H,K=D){this._assertNotDisposed();let ce=null;oe!==null&&(Array.isArray(oe)||(oe=[oe]),oe.every(me=>i.Range.isIRange(me))&&(ce=oe.map(me=>this.validateRange(me)))),ce===null&&(ce=[this.getFullModelRange()]),ce=ce.sort((me,Ce)=>me.startLineNumber-Ce.startLineNumber||me.startColumn-Ce.startColumn);const le=[];le.push(ce.reduce((me,Ce)=>i.Range.areIntersecting(me,Ce)?me.plusRange(Ce):(le.push(me),Ce)));let he;if(!z&&q.indexOf(`
`)<0){const Ce=new C.SearchParams(q,z,X,$).parseSearchRequest();if(!Ce)return[];he=Le=>this.findMatchesLineByLine(Le,Ce,H,K)}else he=me=>C.TextModelSearch.findMatches(this,new C.SearchParams(q,z,X,$),me,H,K);return le.map(he).reduce((me,Ce)=>me.concat(Ce),[])}findNextMatch(q,oe,z,X,$,H){this._assertNotDisposed();const K=this.validatePosition(oe);if(!z&&q.indexOf(`
`)<0){const le=new C.SearchParams(q,z,X,$).parseSearchRequest();if(!le)return null;const he=this.getLineCount();let me=new i.Range(K.lineNumber,K.column,he,this.getLineMaxColumn(he)),Ce=this.findMatchesLineByLine(me,le,H,1);return C.TextModelSearch.findNextMatch(this,new C.SearchParams(q,z,X,$),K,H),Ce.length>0||(me=new i.Range(1,1,K.lineNumber,this.getLineMaxColumn(K.lineNumber)),Ce=this.findMatchesLineByLine(me,le,H,1),Ce.length>0)?Ce[0]:null}return C.TextModelSearch.findNextMatch(this,new C.SearchParams(q,z,X,$),K,H)}findPreviousMatch(q,oe,z,X,$,H){this._assertNotDisposed();const K=this.validatePosition(oe);return C.TextModelSearch.findPreviousMatch(this,new C.SearchParams(q,z,X,$),K,H)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(q){if((this.getEOL()===`
`?0:1)!==q)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(q){return q instanceof d.ValidAnnotatedEditOperation?q:new d.ValidAnnotatedEditOperation(q.identifier||null,this.validateRange(q.range),q.text,q.forceMoveMarkers||!1,q.isAutoWhitespaceEdit||!1,q._isTracked||!1)}_validateEditOperations(q){const oe=[];for(let z=0,X=q.length;z<X;z++)oe[z]=this._validateEditOperation(q[z]);return oe}pushEditOperations(q,oe,z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(q,this._validateEditOperations(oe),z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(q,oe,z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const X=oe.map(H=>({range:this.validateRange(H.range),text:H.text}));let $=!0;if(q)for(let H=0,K=q.length;H<K;H++){const ce=q[H];let le=!1;for(let he=0,me=X.length;he<me;he++){const Ce=X[he].range,Le=Ce.startLineNumber>ce.endLineNumber,ye=ce.startLineNumber>Ce.endLineNumber;if(!Le&&!ye){le=!0;break}}if(!le){$=!1;break}}if($)for(let H=0,K=this._trimAutoWhitespaceLines.length;H<K;H++){const ce=this._trimAutoWhitespaceLines[H],le=this.getLineMaxColumn(ce);let he=!0;for(let me=0,Ce=X.length;me<Ce;me++){const Le=X[me].range,ye=X[me].text;if(!(ce<Le.startLineNumber||ce>Le.endLineNumber)&&!(ce===Le.startLineNumber&&Le.startColumn===le&&Le.isEmpty()&&ye&&ye.length>0&&ye.charAt(0)===`
`)&&!(ce===Le.startLineNumber&&Le.startColumn===1&&Le.isEmpty()&&ye&&ye.length>0&&ye.charAt(ye.length-1)===`
`)){he=!1;break}}if(he){const me=new i.Range(ce,1,ce,le);oe.push(new d.ValidAnnotatedEditOperation(null,me,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(q,oe,z)}_applyUndo(q,oe,z,X){const $=q.map(H=>{const K=this.getPositionAt(H.newPosition),ce=this.getPositionAt(H.newEnd);return{range:new i.Range(K.lineNumber,K.column,ce.lineNumber,ce.column),text:H.oldText}});this._applyUndoRedoEdits($,oe,!0,!1,z,X)}_applyRedo(q,oe,z,X){const $=q.map(H=>{const K=this.getPositionAt(H.oldPosition),ce=this.getPositionAt(H.oldEnd);return{range:new i.Range(K.lineNumber,K.column,ce.lineNumber,ce.column),text:H.newText}});this._applyUndoRedoEdits($,oe,!1,!0,z,X)}_applyUndoRedoEdits(q,oe,z,X,$,H){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=z,this._isRedoing=X,this.applyEdits(q,!1),this.setEOL(oe),this._overwriteAlternativeVersionId($)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(H),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(q,oe=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const z=this._validateEditOperations(q);return this._doApplyEdits(z,oe)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(q,oe){const z=this._buffer.getLineCount(),X=this._buffer.applyEdits(q,this._options.trimAutoWhitespace,oe),$=this._buffer.getLineCount(),H=X.changes;if(this._trimAutoWhitespaceLines=X.trimAutoWhitespaceLineNumbers,H.length!==0){for(let le=0,he=H.length;le<he;le++){const me=H[le],[Ce,Le,ye]=(0,u.countEOL)(me.text);this._tokenizationTextModelPart.acceptEdit(me.range,me.text,Ce,Le,ye),this._decorationsTree.acceptReplace(me.rangeOffset,me.rangeLength,me.text.length,me.forceMoveMarkers)}const K=[];this._increaseVersionId();let ce=z;for(let le=0,he=H.length;le<he;le++){const me=H[le],[Ce]=(0,u.countEOL)(me.text);this._onDidChangeDecorations.fire();const Le=me.range.startLineNumber,ye=me.range.endLineNumber,De=ye-Le,Ae=Ce,pe=Math.min(De,Ae),ue=Ae-De,ae=$-ce-ue+Le,ge=ae,_e=ae+Ae,we=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new n.Position(ge,1)),this.getOffsetAt(new n.Position(_e,this.getLineMaxColumn(_e))),0),Ee=E.LineInjectedText.fromDecorations(we),be=new w.ArrayQueue(Ee);for(let ve=pe;ve>=0;ve--){const Ie=Le+ve,Me=ae+ve;be.takeFromEndWhile(Fe=>Fe.lineNumber>Me);const Te=be.takeFromEndWhile(Fe=>Fe.lineNumber===Me);K.push(new E.ModelRawLineChanged(Ie,this.getLineContent(Me),Te))}if(pe<De){const ve=Le+pe;K.push(new E.ModelRawLinesDeleted(ve+1,ye))}if(pe<Ae){const ve=new w.ArrayQueue(Ee),Ie=Le+pe,Me=Ae-pe,Te=$-ce-Me+Ie+1,Fe=[],Pe=[];for(let We=0;We<Me;We++){const He=Te+We;Pe[We]=this.getLineContent(He),ve.takeWhile(Xe=>Xe.lineNumber<He),Fe[We]=ve.takeWhile(Xe=>Xe.lineNumber===He)}K.push(new E.ModelRawLinesInserted(Ie+1,Le+Ae,Pe,Fe))}ce+=ue}this._emitContentChangedEvent(new E.ModelRawContentChangedEvent(K,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:H,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return X.reverseEdits===null?void 0:X.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(q){if(q===null||q.size===0)return;const z=Array.from(q).map(X=>new E.ModelRawLineChanged(X,this.getLineContent(X),this._getInjectedTextInLine(X)));this._onDidChangeInjectedText.fire(new E.ModelInjectedTextChangedEvent(z))}changeDecorations(q,oe=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(oe,q)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(q,oe){const z={addDecoration:($,H)=>this._deltaDecorationsImpl(q,[],[{range:$,options:H}])[0],changeDecoration:($,H)=>{this._changeDecorationImpl($,H)},changeDecorationOptions:($,H)=>{this._changeDecorationOptionsImpl($,de(H))},removeDecoration:$=>{this._deltaDecorationsImpl(q,[$],[])},deltaDecorations:($,H)=>$.length===0&&H.length===0?[]:this._deltaDecorationsImpl(q,$,H)};let X=null;try{X=oe(z)}catch($){(0,k.onUnexpectedError)($)}return z.addDecoration=R,z.changeDecoration=R,z.changeDecorationOptions=R,z.removeDecoration=R,z.deltaDecorations=R,X}deltaDecorations(q,oe,z=0){if(this._assertNotDisposed(),q||(q=[]),q.length===0&&oe.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,k.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(z,q,oe)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(q){return this.getDecorationRange(q)}_setTrackedRange(q,oe,z){const X=q?this._decorations[q]:null;if(!X)return oe?this._deltaDecorationsImpl(0,[],[{range:oe,options:J[z]}])[0]:null;if(!oe)return this._decorationsTree.delete(X),delete this._decorations[X.id],null;const $=this._validateRangeRelaxedNoAllocations(oe),H=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),K=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.delete(X),X.reset(this.getVersionId(),H,K,$),X.setOptions(J[z]),this._decorationsTree.insert(X),X.id}removeAllDecorationsWithOwnerId(q){if(this._isDisposed)return;const oe=this._decorationsTree.collectNodesFromOwner(q);for(let z=0,X=oe.length;z<X;z++){const $=oe[z];this._decorationsTree.delete($),delete this._decorations[$.id]}}getDecorationOptions(q){const oe=this._decorations[q];return oe?oe.options:null}getDecorationRange(q){const oe=this._decorations[q];return oe?this._decorationsTree.getNodeRange(this,oe):null}getLineDecorations(q,oe=0,z=!1){return q<1||q>this.getLineCount()?[]:this.getLinesDecorations(q,q,oe,z)}getLinesDecorations(q,oe,z=0,X=!1){const $=this.getLineCount(),H=Math.min($,Math.max(1,q)),K=Math.min($,Math.max(1,oe)),ce=this.getLineMaxColumn(K),le=new i.Range(H,1,K,ce),he=this._getDecorationsInRange(le,z,X);return(0,w.pushMany)(he,this._decorationProvider.getDecorationsInRange(le,z,X)),he}getDecorationsInRange(q,oe=0,z=!1,X=!1){const $=this.validateRange(q),H=this._getDecorationsInRange($,oe,z);return(0,w.pushMany)(H,this._decorationProvider.getDecorationsInRange($,oe,z,X)),H}getOverviewRulerDecorations(q=0,oe=!1){return this._decorationsTree.getAll(this,q,oe,!0)}getInjectedTextDecorations(q=0){return this._decorationsTree.getAllInjectedText(this,q)}_getInjectedTextInLine(q){const oe=this._buffer.getOffsetAt(q,1),z=oe+this._buffer.getLineLength(q),X=this._decorationsTree.getInjectedTextInInterval(this,oe,z,0);return E.LineInjectedText.fromDecorations(X).filter($=>$.lineNumber===q)}getAllDecorations(q=0,oe=!1){let z=this._decorationsTree.getAll(this,q,oe,!1);return z=z.concat(this._decorationProvider.getAllDecorations(q,oe)),z}_getDecorationsInRange(q,oe,z){const X=this._buffer.getOffsetAt(q.startLineNumber,q.startColumn),$=this._buffer.getOffsetAt(q.endLineNumber,q.endColumn);return this._decorationsTree.getAllInInterval(this,X,$,oe,z)}getRangeAt(q,oe){return this._buffer.getRangeAt(q,oe-q)}_changeDecorationImpl(q,oe){const z=this._decorations[q];if(!z)return;if(z.options.after){const K=this.getDecorationRange(q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(K.endLineNumber)}if(z.options.before){const K=this.getDecorationRange(q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(K.startLineNumber)}const X=this._validateRangeRelaxedNoAllocations(oe),$=this._buffer.getOffsetAt(X.startLineNumber,X.startColumn),H=this._buffer.getOffsetAt(X.endLineNumber,X.endColumn);this._decorationsTree.delete(z),z.reset(this.getVersionId(),$,H,X),this._decorationsTree.insert(z),this._onDidChangeDecorations.checkAffectedAndFire(z.options),z.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(X.endLineNumber),z.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(X.startLineNumber)}_changeDecorationOptionsImpl(q,oe){const z=this._decorations[q];if(!z)return;const X=!!(z.options.overviewRuler&&z.options.overviewRuler.color),$=!!(oe.overviewRuler&&oe.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(z.options),this._onDidChangeDecorations.checkAffectedAndFire(oe),z.options.after||oe.after){const H=this._decorationsTree.getNodeRange(this,z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(H.endLineNumber)}if(z.options.before||oe.before){const H=this._decorationsTree.getNodeRange(this,z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(H.startLineNumber)}X!==$?(this._decorationsTree.delete(z),z.setOptions(oe),this._decorationsTree.insert(z)):z.setOptions(oe)}_deltaDecorationsImpl(q,oe,z){const X=this.getVersionId(),$=oe.length;let H=0;const K=z.length;let ce=0;const le=new Array(K);for(;H<$||ce<K;){let he=null;if(H<$){do he=this._decorations[oe[H++]];while(!he&&H<$);if(he){if(he.options.after){const me=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.endLineNumber)}if(he.options.before){const me=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.startLineNumber)}this._decorationsTree.delete(he),this._onDidChangeDecorations.checkAffectedAndFire(he.options)}}if(ce<K){if(!he){const Ae=++this._lastDecorationId,pe=`${this._instanceId};${Ae}`;he=new S.IntervalNode(pe,0,0),this._decorations[pe]=he}const me=z[ce],Ce=this._validateRangeRelaxedNoAllocations(me.range),Le=de(me.options),ye=this._buffer.getOffsetAt(Ce.startLineNumber,Ce.startColumn),De=this._buffer.getOffsetAt(Ce.endLineNumber,Ce.endColumn);he.ownerId=q,he.reset(X,ye,De,Ce),he.setOptions(Le),he.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.endLineNumber),he.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Le),this._decorationsTree.insert(he),le[ce]=he.id,ce++}else he&&delete this._decorations[he.id]}return le}getLanguageId(){return this.tokenization.getLanguageId()}setMode(q){this.tokenization.setLanguageId(q)}getLanguageIdAtPosition(q,oe){return this.tokenization.getLanguageIdAtPosition(q,oe)}getWordAtPosition(q){return this._tokenizationTextModelPart.getWordAtPosition(q)}getWordUntilPosition(q){return this._tokenizationTextModelPart.getWordUntilPosition(q)}normalizePosition(q,oe){return q}getLineIndentColumn(q){return W(this.getLineContent(q))+1}};B.MODEL_SYNC_LIMIT=50*1024*1024,B.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,B.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,B.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:o.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:o.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:o.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:o.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:o.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:o.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},B=ke([fe(4,T.IUndoRedoService),fe(5,r.ILanguageService),fe(6,c.ILanguageConfigurationService)],B),e.TextModel=B;function W(te){let q=0;for(const oe of te)if(oe===" "||oe==="	")q++;else break;return q}function V(te){return!!(te.options.overviewRuler&&te.options.overviewRuler.color)}function A(te){return!!te.options.after||!!te.options.before}class Y{constructor(){this._decorationsTree0=new S.IntervalTree,this._decorationsTree1=new S.IntervalTree,this._injectedTextDecorationsTree=new S.IntervalTree}ensureAllNodesHaveRanges(q){this.getAll(q,0,!1,!1)}_ensureNodesHaveRanges(q,oe){for(const z of oe)z.range===null&&(z.range=q.getRangeAt(z.cachedAbsoluteStart,z.cachedAbsoluteEnd));return oe}getAllInInterval(q,oe,z,X,$){const H=q.getVersionId(),K=this._intervalSearch(oe,z,X,$,H);return this._ensureNodesHaveRanges(q,K)}_intervalSearch(q,oe,z,X,$){const H=this._decorationsTree0.intervalSearch(q,oe,z,X,$),K=this._decorationsTree1.intervalSearch(q,oe,z,X,$),ce=this._injectedTextDecorationsTree.intervalSearch(q,oe,z,X,$);return H.concat(K).concat(ce)}getInjectedTextInInterval(q,oe,z,X){const $=q.getVersionId(),H=this._injectedTextDecorationsTree.intervalSearch(oe,z,X,!1,$);return this._ensureNodesHaveRanges(q,H).filter(K=>K.options.showIfCollapsed||!K.range.isEmpty())}getAllInjectedText(q,oe){const z=q.getVersionId(),X=this._injectedTextDecorationsTree.search(oe,!1,z);return this._ensureNodesHaveRanges(q,X).filter($=>$.options.showIfCollapsed||!$.range.isEmpty())}getAll(q,oe,z,X){const $=q.getVersionId(),H=this._search(oe,z,X,$);return this._ensureNodesHaveRanges(q,H)}_search(q,oe,z,X){if(z)return this._decorationsTree1.search(q,oe,X);{const $=this._decorationsTree0.search(q,oe,X),H=this._decorationsTree1.search(q,oe,X),K=this._injectedTextDecorationsTree.search(q,oe,X);return $.concat(H).concat(K)}}collectNodesFromOwner(q){const oe=this._decorationsTree0.collectNodesFromOwner(q),z=this._decorationsTree1.collectNodesFromOwner(q),X=this._injectedTextDecorationsTree.collectNodesFromOwner(q);return oe.concat(z).concat(X)}collectNodesPostOrder(){const q=this._decorationsTree0.collectNodesPostOrder(),oe=this._decorationsTree1.collectNodesPostOrder(),z=this._injectedTextDecorationsTree.collectNodesPostOrder();return q.concat(oe).concat(z)}insert(q){A(q)?this._injectedTextDecorationsTree.insert(q):V(q)?this._decorationsTree1.insert(q):this._decorationsTree0.insert(q)}delete(q){A(q)?this._injectedTextDecorationsTree.delete(q):V(q)?this._decorationsTree1.delete(q):this._decorationsTree0.delete(q)}getNodeRange(q,oe){const z=q.getVersionId();return oe.cachedVersionId!==z&&this._resolveNode(oe,z),oe.range===null&&(oe.range=q.getRangeAt(oe.cachedAbsoluteStart,oe.cachedAbsoluteEnd)),oe.range}_resolveNode(q,oe){A(q)?this._injectedTextDecorationsTree.resolveNode(q,oe):V(q)?this._decorationsTree1.resolveNode(q,oe):this._decorationsTree0.resolveNode(q,oe)}acceptReplace(q,oe,z,X){this._decorationsTree0.acceptReplace(q,oe,z,X),this._decorationsTree1.acceptReplace(q,oe,z,X),this._injectedTextDecorationsTree.acceptReplace(q,oe,z,X)}}function ee(te){return te.replace(/[^a-z0-9\-_]/gi," ")}class U{constructor(q){this.color=q.color||"",this.darkColor=q.darkColor||""}}class j extends U{constructor(q){super(q);this._resolvedColor=null,this.position=typeof q.position=="number"?q.position:d.OverviewRulerLane.Center}getColor(q){return this._resolvedColor||(q.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,q):this._resolvedColor=this._resolveColor(this.color,q)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(q,oe){if(typeof q=="string")return q;const z=q?oe.getColor(q.id):null;return z?z.toString():""}}e.ModelDecorationOverviewRulerOptions=j;class Z extends U{constructor(q){super(q);this.position=q.position}getColor(q){return this._resolvedColor||(q.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,q):this._resolvedColor=this._resolveColor(this.color,q)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(q,oe){return typeof q=="string"?v.Color.fromHex(q):oe.getColor(q.id)}}e.ModelDecorationMinimapOptions=Z;class ie{constructor(q){this.content=q.content||"",this.inlineClassName=q.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=q.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=q.attachedData||null,this.cursorStops=q.cursorStops||null}static from(q){return q instanceof ie?q:new ie(q)}}e.ModelDecorationInjectedTextOptions=ie;class Q{constructor(q){var oe,z;this.description=q.description,this.blockClassName=q.blockClassName?ee(q.blockClassName):null,this.stickiness=q.stickiness||0,this.zIndex=q.zIndex||0,this.className=q.className?ee(q.className):null,this.hoverMessage=q.hoverMessage||null,this.glyphMarginHoverMessage=q.glyphMarginHoverMessage||null,this.isWholeLine=q.isWholeLine||!1,this.showIfCollapsed=q.showIfCollapsed||!1,this.collapseOnReplaceEdit=q.collapseOnReplaceEdit||!1,this.overviewRuler=q.overviewRuler?new j(q.overviewRuler):null,this.minimap=q.minimap?new Z(q.minimap):null,this.glyphMarginClassName=q.glyphMarginClassName?ee(q.glyphMarginClassName):null,this.linesDecorationsClassName=q.linesDecorationsClassName?ee(q.linesDecorationsClassName):null,this.firstLineDecorationClassName=q.firstLineDecorationClassName?ee(q.firstLineDecorationClassName):null,this.marginClassName=q.marginClassName?ee(q.marginClassName):null,this.inlineClassName=q.inlineClassName?ee(q.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=q.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=q.beforeContentClassName?ee(q.beforeContentClassName):null,this.afterContentClassName=q.afterContentClassName?ee(q.afterContentClassName):null,this.after=q.after?ie.from(q.after):null,this.before=q.before?ie.from(q.before):null,this.hideInCommentTokens=(oe=q.hideInCommentTokens)!==null&&oe!==void 0?oe:!1,this.hideInStringTokens=(z=q.hideInStringTokens)!==null&&z!==void 0?z:!1}static register(q){return new Q(q)}static createDynamic(q){return new Q(q)}}e.ModelDecorationOptions=Q,Q.EMPTY=Q.register({description:"empty"});const J=[Q.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Q.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Q.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Q.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function de(te){return te instanceof Q?te:Q.createDynamic(te)}class x extends L.Disposable{constructor(q){super();this.handleBeforeFire=q,this._actual=this._register(new I.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var q;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const oe={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(oe)}(q=this._affectedInjectedTextLines)===null||q===void 0||q.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(q){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(q)}checkAffectedAndFire(q){this._affectsMinimap||(this._affectsMinimap=!!(q.minimap&&q.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(q.overviewRuler&&q.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=x;class ne extends L.Disposable{constructor(){super();this._fastEmitter=this._register(new I.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new I.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(q=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=q;const oe=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(oe),this._slowEmitter.fire(oe)}}fire(q){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(q):this._deferredEvent=q;return}this._fastEmitter.fire(q),this._slowEmitter.fire(q)}}e.DidChangeContentEmitter=ne}),define(se[313],re([1,0,6,2,18,14,37,154,72,39,50,168,30,10,21,15,69,174,106,284,52,303,286,35,32,70,57,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function E(V){return V.toString()}function T(V){const A=new a.StringSHA1,Y=V.createSnapshot();let ee;for(;ee=Y.read();)A.update(ee);return A.digest()}class N{constructor(A,Y,ee){this._modelEventListeners=new v.DisposableStore,this.model=A,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(A.onWillDispose(()=>Y(A))),this._modelEventListeners.add(A.onDidChangeLanguage(U=>ee(A,U)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(A){this._disposeLanguageSelection(),this._languageSelection=A,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(A.languageId)),this.model.setMode(A.languageId)}}const F=k.isLinux||k.isMacintosh?1:2;class O{constructor(A,Y,ee,U,j,Z,ie,Q){this.uri=A,this.initialUndoRedoSnapshot=Y,this.time=ee,this.sharesUndoRedoStack=U,this.heapSize=j,this.sha1=Z,this.versionId=ie,this.alternativeVersionId=Q}}let P=class Ft extends v.Disposable{constructor(A,Y,ee,U,j,Z,ie,Q,J){super();this._configurationService=A,this._resourcePropertiesService=Y,this._themeService=ee,this._logService=U,this._undoRedoService=j,this._languageService=Z,this._languageConfigurationService=ie,this._languageFeatureDebounceService=Q,this._onModelAdded=this._register(new w.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new w.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new w.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new R(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new M(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,J))}static _readModelOptions(A,Y){var ee;let U=_.EDITOR_MODEL_DEFAULTS.tabSize;if(A.editor&&typeof A.editor.tabSize!="undefined"){const te=parseInt(A.editor.tabSize,10);isNaN(te)||(U=te),U<1&&(U=1)}let j=U;if(A.editor&&typeof A.editor.indentSize!="undefined"&&A.editor.indentSize!=="tabSize"){const te=parseInt(A.editor.indentSize,10);isNaN(te)||(j=te),j<1&&(j=1)}let Z=_.EDITOR_MODEL_DEFAULTS.insertSpaces;A.editor&&typeof A.editor.insertSpaces!="undefined"&&(Z=A.editor.insertSpaces==="false"?!1:Boolean(A.editor.insertSpaces));let ie=F;const Q=A.eol;Q===`\r
`?ie=2:Q===`
`&&(ie=1);let J=_.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;A.editor&&typeof A.editor.trimAutoWhitespace!="undefined"&&(J=A.editor.trimAutoWhitespace==="false"?!1:Boolean(A.editor.trimAutoWhitespace));let de=_.EDITOR_MODEL_DEFAULTS.detectIndentation;A.editor&&typeof A.editor.detectIndentation!="undefined"&&(de=A.editor.detectIndentation==="false"?!1:Boolean(A.editor.detectIndentation));let x=_.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;A.editor&&typeof A.editor.largeFileOptimizations!="undefined"&&(x=A.editor.largeFileOptimizations==="false"?!1:Boolean(A.editor.largeFileOptimizations));let ne=_.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((ee=A.editor)===null||ee===void 0?void 0:ee.bracketPairColorization)&&typeof A.editor.bracketPairColorization=="object"&&(ne={enabled:!!A.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!A.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:Y,tabSize:U,indentSize:j,insertSpaces:Z,detectIndentation:de,defaultEOL:ie,trimAutoWhitespace:J,largeFileOptimizations:x,bracketPairColorizationOptions:ne}}_getEOL(A,Y){if(A)return this._resourcePropertiesService.getEOL(A,Y);const ee=this._configurationService.getValue("files.eol",{overrideIdentifier:Y});return ee&&typeof ee=="string"&&ee!=="auto"?ee:k.OS===3||k.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const A=this._configurationService.getValue("files.restoreUndoStack");return typeof A=="boolean"?A:!0}getCreationOptions(A,Y,ee){let U=this._modelCreationOptionsByLanguageAndResource[A+Y];if(!U){const j=this._configurationService.getValue("editor",{overrideIdentifier:A,resource:Y}),Z=this._getEOL(Y,A);U=Ft._readModelOptions({editor:j,eol:Z},ee),this._modelCreationOptionsByLanguageAndResource[A+Y]=U}return U}_updateModelOptions(){const A=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Y=Object.keys(this._models);for(let ee=0,U=Y.length;ee<U;ee++){const j=Y[ee],Z=this._models[j],ie=Z.model.getLanguageId(),Q=Z.model.uri,J=A[ie+Q],de=this.getCreationOptions(ie,Q,Z.model.isForSimpleWidget);Ft._setModelOptionsForModel(Z.model,de,J)}}static _setModelOptionsForModel(A,Y,ee){ee&&ee.defaultEOL!==Y.defaultEOL&&A.getLineCount()===1&&A.setEOL(Y.defaultEOL===1?0:1),!(ee&&ee.detectIndentation===Y.detectIndentation&&ee.insertSpaces===Y.insertSpaces&&ee.tabSize===Y.tabSize&&ee.indentSize===Y.indentSize&&ee.trimAutoWhitespace===Y.trimAutoWhitespace&&(0,S.equals)(ee.bracketPairColorizationOptions,Y.bracketPairColorizationOptions))&&(Y.detectIndentation?(A.detectIndentation(Y.insertSpaces,Y.tabSize),A.updateOptions({trimAutoWhitespace:Y.trimAutoWhitespace,bracketColorizationOptions:Y.bracketPairColorizationOptions})):A.updateOptions({insertSpaces:Y.insertSpaces,tabSize:Y.tabSize,indentSize:Y.indentSize,trimAutoWhitespace:Y.trimAutoWhitespace,bracketColorizationOptions:Y.bracketPairColorizationOptions}))}_insertDisposedModel(A){this._disposedModels.set(E(A.uri),A),this._disposedModelsHeapSize+=A.heapSize}_removeDisposedModel(A){const Y=this._disposedModels.get(E(A));return Y&&(this._disposedModelsHeapSize-=Y.heapSize),this._disposedModels.delete(E(A)),Y}_ensureDisposedModelsHeapSize(A){if(this._disposedModelsHeapSize>A){const Y=[];for(this._disposedModels.forEach(ee=>{ee.sharesUndoRedoStack||Y.push(ee)}),Y.sort((ee,U)=>ee.time-U.time);Y.length>0&&this._disposedModelsHeapSize>A;){const ee=Y.shift();this._removeDisposedModel(ee.uri),ee.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ee.initialUndoRedoSnapshot)}}}_createModelData(A,Y,ee,U){const j=this.getCreationOptions(Y,ee,U),Z=new L.TextModel(A,Y,j,ee,this._undoRedoService,this._languageService,this._languageConfigurationService);if(ee&&this._disposedModels.has(E(ee))){const J=this._removeDisposedModel(ee),de=this._undoRedoService.getElements(ee),x=T(Z)===J.sha1;if(x||J.sharesUndoRedoStack){for(const ne of de.past)(0,s.isEditStackElement)(ne)&&ne.matchesResource(ee)&&ne.setModel(Z);for(const ne of de.future)(0,s.isEditStackElement)(ne)&&ne.matchesResource(ee)&&ne.setModel(Z);this._undoRedoService.setElementsValidFlag(ee,!0,ne=>(0,s.isEditStackElement)(ne)&&ne.matchesResource(ee)),x&&(Z._overwriteVersionId(J.versionId),Z._overwriteAlternativeVersionId(J.alternativeVersionId),Z._overwriteInitialUndoRedoSnapshot(J.initialUndoRedoSnapshot))}else J.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(J.initialUndoRedoSnapshot)}const ie=E(Z.uri);if(this._models[ie])throw new Error("ModelService: Cannot add model because it already exists!");const Q=new N(Z,J=>this._onWillDispose(J),(J,de)=>this._onDidChangeLanguage(J,de));return this._models[ie]=Q,Q}createModel(A,Y,ee,U=!1){let j;return Y?(j=this._createModelData(A,Y.languageId,ee,U),this.setMode(j.model,Y)):j=this._createModelData(A,b.PLAINTEXT_LANGUAGE_ID,ee,U),this._onModelAdded.fire(j.model),j.model}setMode(A,Y){if(!Y)return;const ee=this._models[E(A.uri)];!ee||ee.setLanguage(Y)}getModels(){const A=[],Y=Object.keys(this._models);for(let ee=0,U=Y.length;ee<U;ee++){const j=Y[ee];A.push(this._models[j].model)}return A}getModel(A){const Y=E(A),ee=this._models[Y];return ee?ee.model:null}getSemanticTokensProviderStyling(A){return this._semanticStyling.get(A)}_schemaShouldMaintainUndoRedoElements(A){return A.scheme===l.Schemas.file||A.scheme===l.Schemas.vscodeRemote||A.scheme===l.Schemas.vscodeUserData||A.scheme===l.Schemas.vscodeNotebookCell||A.scheme==="fake-fs"}_onWillDispose(A){const Y=E(A.uri),ee=this._models[Y],U=this._undoRedoService.getUriComparisonKey(A.uri)!==A.uri.toString();let j=!1,Z=0;if(U||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(A.uri)){const Q=this._undoRedoService.getElements(A.uri);if(Q.past.length>0||Q.future.length>0){for(const J of Q.past)(0,s.isEditStackElement)(J)&&J.matchesResource(A.uri)&&(j=!0,Z+=J.heapSize(A.uri),J.setModel(A.uri));for(const J of Q.future)(0,s.isEditStackElement)(J)&&J.matchesResource(A.uri)&&(j=!0,Z+=J.heapSize(A.uri),J.setModel(A.uri))}}const ie=Ft.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(j)if(!U&&Z>ie){const Q=ee.model.getInitialUndoRedoSnapshot();Q!==null&&this._undoRedoService.restoreSnapshot(Q)}else this._ensureDisposedModelsHeapSize(ie-Z),this._undoRedoService.setElementsValidFlag(A.uri,!1,Q=>(0,s.isEditStackElement)(Q)&&Q.matchesResource(A.uri)),this._insertDisposedModel(new O(A.uri,ee.model.getInitialUndoRedoSnapshot(),Date.now(),U,Z,T(A),A.getVersionId(),A.getAlternativeVersionId()));else if(!U){const Q=ee.model.getInitialUndoRedoSnapshot();Q!==null&&this._undoRedoService.restoreSnapshot(Q)}delete this._models[Y],ee.dispose(),delete this._modelCreationOptionsByLanguageAndResource[A.getLanguageId()+A.uri],this._onModelRemoved.fire(A)}_onDidChangeLanguage(A,Y){const ee=Y.oldLanguage,U=A.getLanguageId(),j=this.getCreationOptions(ee,A.uri,A.isForSimpleWidget),Z=this.getCreationOptions(U,A.uri,A.isForSimpleWidget);Ft._setModelOptionsForModel(A,Z,j),this._onModelModeChanged.fire({model:A,oldLanguageId:ee})}};P.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,P=ke([fe(0,i.IConfigurationService),fe(1,n.ITextResourcePropertiesService),fe(2,r.IThemeService),fe(3,c.ILogService),fe(4,d.IUndoRedoService),fe(5,u.ILanguageService),fe(6,f.ILanguageConfigurationService),fe(7,m.ILanguageFeatureDebounceService),fe(8,y.ILanguageFeaturesService)],P),e.ModelService=P,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function D(V,A,Y){var ee;const U=(ee=Y.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:V.getLanguageId(),resource:V.uri}))===null||ee===void 0?void 0:ee.enabled;return typeof U=="boolean"?U:A.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=D;let M=class extends v.Disposable{constructor(A,Y,ee,U,j,Z){super();this._watchers=Object.create(null),this._semanticStyling=A;const ie=de=>{this._watchers[de.uri.toString()]=new W(de,this._semanticStyling,ee,j,Z)},Q=(de,x)=>{x.dispose(),delete this._watchers[de.uri.toString()]},J=()=>{for(const de of Y.getModels()){const x=this._watchers[de.uri.toString()];D(de,ee,U)?x||ie(de):x&&Q(de,x)}};this._register(Y.onModelAdded(de=>{D(de,ee,U)&&ie(de)})),this._register(Y.onModelRemoved(de=>{const x=this._watchers[de.uri.toString()];x&&Q(de,x)})),this._register(U.onDidChangeConfiguration(de=>{de.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&J()})),this._register(ee.onDidColorThemeChange(J))}dispose(){for(const A of Object.values(this._watchers))A.dispose();super.dispose()}};M=ke([fe(1,g.IModelService),fe(2,r.IThemeService),fe(3,i.IConfigurationService),fe(4,m.ILanguageFeatureDebounceService),fe(5,y.ILanguageFeaturesService)],M);class R extends v.Disposable{constructor(A,Y,ee){super();this._themeService=A,this._languageService=Y,this._logService=ee,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(A){return this._caches.has(A)||this._caches.set(A,new h.SemanticTokensProviderStyling(A.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(A)}}class B{constructor(A,Y,ee){this.provider=A,this.resultId=Y,this.data=ee}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let W=class Dt extends v.Disposable{constructor(A,Y,ee,U,j){super();this._isDisposed=!1,this._model=A,this._semanticStyling=Y,this._provider=j.documentSemanticTokensProvider,this._debounceInformation=U.for(this._provider,"DocumentSemanticTokens",{min:Dt.REQUEST_MIN_DELAY,max:Dt.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new t.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),Dt.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const Z=()=>{(0,v.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const ie of this._provider.all(A))typeof ie.onDidChange=="function"&&this._documentProvidersChangeListeners.push(ie.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};Z(),this._register(this._provider.onDidChange(()=>{Z(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(ee.onDidColorThemeChange(ie=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,p.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const A=new o.CancellationTokenSource,Y=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,ee=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,U=(0,p.getDocumentSemanticTokens)(this._provider,this._model,Y,ee,A.token);this._currentDocumentRequestCancellationTokenSource=A;const j=[],Z=this._model.onDidChangeContent(Q=>{j.push(Q)}),ie=new C.StopWatch(!1);U.then(Q=>{if(this._debounceInformation.update(this._model,ie.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,Z.dispose(),!Q)this._setDocumentSemanticTokens(null,null,null,j);else{const{provider:J,tokens:de}=Q,x=this._semanticStyling.get(J);this._setDocumentSemanticTokens(J,de||null,x,j)}},Q=>{Q&&(I.isCancellationError(Q)||typeof Q.message=="string"&&Q.message.indexOf("busy")!==-1)||I.onUnexpectedError(Q),this._currentDocumentRequestCancellationTokenSource=null,Z.dispose(),j.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(A,Y,ee,U,j){j=Math.min(j,ee.length-U,A.length-Y);for(let Z=0;Z<j;Z++)ee[U+Z]=A[Y+Z]}_setDocumentSemanticTokens(A,Y,ee,U){const j=this._currentDocumentResponse,Z=()=>{U.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){A&&Y&&A.releaseDocumentSemanticTokens(Y.resultId);return}if(!A||!ee){this._model.tokenization.setSemanticTokens(null,!1);return}if(!Y){this._model.tokenization.setSemanticTokens(null,!0),Z();return}if((0,p.isSemanticTokensEdits)(Y)){if(!j){this._model.tokenization.setSemanticTokens(null,!0);return}if(Y.edits.length===0)Y={resultId:Y.resultId,data:j.data};else{let ie=0;for(const ne of Y.edits)ie+=(ne.data?ne.data.length:0)-ne.deleteCount;const Q=j.data,J=new Uint32Array(Q.length+ie);let de=Q.length,x=J.length;for(let ne=Y.edits.length-1;ne>=0;ne--){const te=Y.edits[ne];if(te.start>Q.length){ee.warnInvalidEditStart(j.resultId,Y.resultId,ne,te.start,Q.length),this._model.tokenization.setSemanticTokens(null,!0);return}const q=de-(te.start+te.deleteCount);q>0&&(Dt._copy(Q,de-q,J,x-q,q),x-=q),te.data&&(Dt._copy(te.data,0,J,x-te.data.length,te.data.length),x-=te.data.length),de=te.start}de>0&&Dt._copy(Q,0,J,0,de),Y={resultId:Y.resultId,data:J}}}if((0,p.isSemanticTokens)(Y)){this._currentDocumentResponse=new B(A,Y.resultId,Y.data);const ie=(0,h.toMultilineTokens2)(Y,ee,this._model.getLanguageId());if(U.length>0)for(const Q of U)for(const J of ie)for(const de of Q.changes)J.applyEdit(de.range,de.text);this._model.tokenization.setSemanticTokens(ie,!0)}else this._model.tokenization.setSemanticTokens(null,!0);Z()}};W.REQUEST_MIN_DELAY=300,W.REQUEST_MAX_DELAY=2e3,W=ke([fe(2,r.IThemeService),fe(3,m.ILanguageFeatureDebounceService),fe(4,y.ILanguageFeaturesService)],W),e.ModelSemanticColoring=W}),define(se[750],re([1,0,17,11,3,188,37,101,190,453,243,74]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class i{constructor(l,h,p,S,f,m,C,y,E){this._editorId=l,this.model=h,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=p,this._monospaceLineBreaksComputerFactory=S,this.fontInfo=f,this.tabSize=m,this.wrappingStrategy=C,this.wrappingColumn=y,this.wrappingIndent=E,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new c(this)}_constructLines(l,h){this.modelLineProjections=[],l&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const p=this.model.getLinesContent(),S=this.model.getInjectedTextDecorations(this._editorId),f=p.length,m=this.createLineBreaksComputer(),C=new w.ArrayQueue(_.LineInjectedText.fromDecorations(S));for(let D=0;D<f;D++){const M=C.takeWhile(R=>R.lineNumber===D+1);m.addRequest(p[D],M,h?h[D]:null)}const y=m.finalize(),E=[],T=this.hiddenAreasDecorationIds.map(D=>this.model.getDecorationRange(D)).sort(k.Range.compareRangesUsingStarts);let N=1,F=0,O=-1,P=O+1<T.length?F+1:f+2;for(let D=0;D<f;D++){const M=D+1;M===P&&(O++,N=T[O].startLineNumber,F=T[O].endLineNumber,P=O+1<T.length?F+1:f+2);const R=M>=N&&M<=F,B=(0,u.createModelLineProjection)(y[D],!R);E[D]=B.getViewLineCount(),this.modelLineProjections[D]=B}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new g.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(l=>this.model.getDecorationRange(l))}setHiddenAreas(l){const h=l.map(F=>this.model.validateRange(F)),p=t(h),S=this.hiddenAreasDecorationIds.map(F=>this.model.getDecorationRange(F)).sort(k.Range.compareRangesUsingStarts);if(p.length===S.length){let F=!1;for(let O=0;O<p.length;O++)if(!p[O].equalsRange(S[O])){F=!0;break}if(!F)return!1}const f=p.map(F=>({range:F,options:L.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,f);const m=p;let C=1,y=0,E=-1,T=E+1<m.length?y+1:this.modelLineProjections.length+2,N=!1;for(let F=0;F<this.modelLineProjections.length;F++){const O=F+1;O===T&&(E++,C=m[E].startLineNumber,y=m[E].endLineNumber,T=E+1<m.length?y+1:this.modelLineProjections.length+2);let P=!1;if(O>=C&&O<=y?this.modelLineProjections[F].isVisible()&&(this.modelLineProjections[F]=this.modelLineProjections[F].setVisible(!1),P=!0):(N=!0,this.modelLineProjections[F].isVisible()||(this.modelLineProjections[F]=this.modelLineProjections[F].setVisible(!0),P=!0)),P){const D=this.modelLineProjections[F].getViewLineCount();this.projectedModelLineLineCounts.setValue(F,D)}}return N||this.setHiddenAreas([]),!0}modelPositionIsVisible(l,h){return l<1||l>this.modelLineProjections.length?!1:this.modelLineProjections[l-1].isVisible()}getModelLineViewLineCount(l){return l<1||l>this.modelLineProjections.length?1:this.modelLineProjections[l-1].getViewLineCount()}setTabSize(l){return this.tabSize===l?!1:(this.tabSize=l,this._constructLines(!1,null),!0)}setWrappingSettings(l,h,p,S){const f=this.fontInfo.equals(l),m=this.wrappingStrategy===h,C=this.wrappingColumn===p,y=this.wrappingIndent===S;if(f&&m&&C&&y)return!1;const E=f&&m&&!C&&y;this.fontInfo=l,this.wrappingStrategy=h,this.wrappingColumn=p,this.wrappingIndent=S;let T=null;if(E){T=[];for(let N=0,F=this.modelLineProjections.length;N<F;N++)T[N]=this.modelLineProjections[N].getProjectionData()}return this._constructLines(!1,T),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(l,h,p){if(!l||l<=this._validModelVersionId)return null;const S=h===1?1:this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,f=this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections.splice(h-1,p-h+1),this.projectedModelLineLineCounts.removeValues(h-1,p-h+1),new b.ViewLinesDeletedEvent(S,f)}onModelLinesInserted(l,h,p,S){if(!l||l<=this._validModelVersionId)return null;const f=h>2&&!this.modelLineProjections[h-2].isVisible(),m=h===1?1:this.projectedModelLineLineCounts.getPrefixSum(h-1)+1;let C=0;const y=[],E=[];for(let T=0,N=S.length;T<N;T++){const F=(0,u.createModelLineProjection)(S[T],!f);y.push(F);const O=F.getViewLineCount();C+=O,E[T]=O}return this.modelLineProjections=this.modelLineProjections.slice(0,h-1).concat(y).concat(this.modelLineProjections.slice(h-1)),this.projectedModelLineLineCounts.insertValues(h-1,E),new b.ViewLinesInsertedEvent(m,m+C-1)}onModelLineChanged(l,h,p){if(l!==null&&l<=this._validModelVersionId)return[!1,null,null,null];const S=h-1,f=this.modelLineProjections[S].getViewLineCount(),m=this.modelLineProjections[S].isVisible(),C=(0,u.createModelLineProjection)(p,m);this.modelLineProjections[S]=C;const y=this.modelLineProjections[S].getViewLineCount();let E=!1,T=0,N=-1,F=0,O=-1,P=0,D=-1;f>y?(T=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,N=T+y-1,P=N+1,D=P+(f-y)-1,E=!0):f<y?(T=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,N=T+f-1,F=N+1,O=F+(y-f)-1,E=!0):(T=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,N=T+y-1),this.projectedModelLineLineCounts.setValue(S,y);const M=T<=N?new b.ViewLinesChangedEvent(T,N-T+1):null,R=F<=O?new b.ViewLinesInsertedEvent(F,O):null,B=P<=D?new b.ViewLinesDeletedEvent(P,D):null;return[E,M,R,B]}acceptVersionId(l){this._validModelVersionId=l,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(l){if(l<1)return 1;const h=this.getViewLineCount();return l>h?h:l|0}getActiveIndentGuide(l,h,p){l=this._toValidViewLineNumber(l),h=this._toValidViewLineNumber(h),p=this._toValidViewLineNumber(p);const S=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),f=this.convertViewPositionToModelPosition(h,this.getViewLineMinColumn(h)),m=this.convertViewPositionToModelPosition(p,this.getViewLineMinColumn(p)),C=this.model.guides.getActiveIndentGuide(S.lineNumber,f.lineNumber,m.lineNumber),y=this.convertModelPositionToViewPosition(C.startLineNumber,1),E=this.convertModelPositionToViewPosition(C.endLineNumber,this.model.getLineMaxColumn(C.endLineNumber));return{startLineNumber:y.lineNumber,endLineNumber:E.lineNumber,indent:C.indent}}getViewLineInfo(l){l=this._toValidViewLineNumber(l);const h=this.projectedModelLineLineCounts.getIndexOf(l-1),p=h.index,S=h.remainder;return new o(p+1,S)}getMinColumnOfViewLine(l){return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(l){return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(l){const h=this.modelLineProjections[l.modelLineNumber-1],p=h.getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),S=h.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,p);return new v.Position(l.modelLineNumber,S)}getModelEndPositionOfViewLine(l){const h=this.modelLineProjections[l.modelLineNumber-1],p=h.getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),S=h.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,p);return new v.Position(l.modelLineNumber,S)}getViewLineInfosGroupedByModelRanges(l,h){const p=this.getViewLineInfo(l),S=this.getViewLineInfo(h),f=new Array;let m=this.getModelStartPositionOfViewLine(p),C=new Array;for(let y=p.modelLineNumber;y<=S.modelLineNumber;y++){const E=this.modelLineProjections[y-1];if(E.isVisible()){const T=y===p.modelLineNumber?p.modelLineWrappedLineIdx:0,N=y===S.modelLineNumber?S.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let F=T;F<N;F++)C.push(new o(y,F))}if(!E.isVisible()&&m){const T=new v.Position(y-1,this.model.getLineMaxColumn(y-1)+1),N=k.Range.fromPositions(m,T);f.push(new r(N,C)),C=[],m=null}else E.isVisible()&&!m&&(m=new v.Position(y,1))}if(m){const y=k.Range.fromPositions(m,this.getModelEndPositionOfViewLine(S));f.push(new r(y,C))}return f}getViewLinesBracketGuides(l,h,p,S){const f=p?this.convertViewPositionToModelPosition(p.lineNumber,p.column):null,m=[];for(const C of this.getViewLineInfosGroupedByModelRanges(l,h)){const y=C.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(y,C.modelRange.endLineNumber,f,S);for(const T of C.viewLines){const F=E[T.modelLineNumber-y].map(O=>{if(O.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,O.forWrappedLinesAfterColumn).lineNumber>=T.modelLineWrappedLineIdx||O.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,O.forWrappedLinesBeforeOrAtColumn).lineNumber<T.modelLineWrappedLineIdx)return;if(!O.horizontalLine)return O;let P=-1;if(O.column!==-1){const R=this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,O.column);if(R.lineNumber===T.modelLineWrappedLineIdx)P=R.column;else if(R.lineNumber<T.modelLineWrappedLineIdx)P=this.getMinColumnOfViewLine(T);else if(R.lineNumber>T.modelLineWrappedLineIdx)return}const D=this.convertModelPositionToViewPosition(T.modelLineNumber,O.horizontalLine.endColumn),M=this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,O.horizontalLine.endColumn);return M.lineNumber===T.modelLineWrappedLineIdx?new I.IndentGuide(O.visibleColumn,P,O.className,new I.IndentGuideHorizontalLine(O.horizontalLine.top,D.column),-1,-1):M.lineNumber<T.modelLineWrappedLineIdx||O.visibleColumn!==-1?void 0:new I.IndentGuide(O.visibleColumn,P,O.className,new I.IndentGuideHorizontalLine(O.horizontalLine.top,this.getMaxColumnOfViewLine(T)),-1,-1)});m.push(F.filter(O=>!!O))}}return m}getViewLinesIndentGuides(l,h){l=this._toValidViewLineNumber(l),h=this._toValidViewLineNumber(h);const p=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),S=this.convertViewPositionToModelPosition(h,this.getViewLineMaxColumn(h));let f=[];const m=[],C=[],y=p.lineNumber-1,E=S.lineNumber-1;let T=null;for(let P=y;P<=E;P++){const D=this.modelLineProjections[P];if(D.isVisible()){const M=D.getViewLineNumberOfModelPosition(0,P===y?p.column:1),R=D.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(P+1)),B=R-M+1;let W=0;B>1&&D.getViewLineMinColumn(this.model,P+1,R)===1&&(W=M===0?1:2),m.push(B),C.push(W),T===null&&(T=new v.Position(P+1,0))}else T!==null&&(f=f.concat(this.model.guides.getLinesIndentGuides(T.lineNumber,P)),T=null)}T!==null&&(f=f.concat(this.model.guides.getLinesIndentGuides(T.lineNumber,S.lineNumber)),T=null);const N=h-l+1,F=new Array(N);let O=0;for(let P=0,D=f.length;P<D;P++){let M=f[P];const R=Math.min(N-O,m[P]),B=C[P];let W;B===2?W=0:B===1?W=1:W=R;for(let V=0;V<R;V++)V===W&&(M=0),F[O++]=M}return F}getViewLineContent(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineContent(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineLength(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineLength(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineMinColumn(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineMinColumn(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineMaxColumn(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineMaxColumn(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineData(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineData(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLinesData(l,h,p){l=this._toValidViewLineNumber(l),h=this._toValidViewLineNumber(h);const S=this.projectedModelLineLineCounts.getIndexOf(l-1);let f=l;const m=S.index,C=S.remainder,y=[];for(let E=m,T=this.model.getLineCount();E<T;E++){const N=this.modelLineProjections[E];if(!N.isVisible())continue;const F=E===m?C:0;let O=N.getViewLineCount()-F,P=!1;if(f+O>h&&(P=!0,O=h-f+1),N.getViewLinesData(this.model,E+1,F,O,f-l,p,y),f+=O,P)break}return y}validateViewPosition(l,h,p){l=this._toValidViewLineNumber(l);const S=this.projectedModelLineLineCounts.getIndexOf(l-1),f=S.index,m=S.remainder,C=this.modelLineProjections[f],y=C.getViewLineMinColumn(this.model,f+1,m),E=C.getViewLineMaxColumn(this.model,f+1,m);h<y&&(h=y),h>E&&(h=E);const T=C.getModelColumnOfViewPosition(m,h);return this.model.validatePosition(new v.Position(f+1,T)).equals(p)?new v.Position(l,h):this.convertModelPositionToViewPosition(p.lineNumber,p.column)}validateViewRange(l,h){const p=this.validateViewPosition(l.startLineNumber,l.startColumn,h.getStartPosition()),S=this.validateViewPosition(l.endLineNumber,l.endColumn,h.getEndPosition());return new k.Range(p.lineNumber,p.column,S.lineNumber,S.column)}convertViewPositionToModelPosition(l,h){const p=this.getViewLineInfo(l),S=this.modelLineProjections[p.modelLineNumber-1].getModelColumnOfViewPosition(p.modelLineWrappedLineIdx,h);return this.model.validatePosition(new v.Position(p.modelLineNumber,S))}convertViewRangeToModelRange(l){const h=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),p=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);return new k.Range(h.lineNumber,h.column,p.lineNumber,p.column)}convertModelPositionToViewPosition(l,h,p=2){const S=this.model.validatePosition(new v.Position(l,h)),f=S.lineNumber,m=S.column;let C=f-1,y=!1;for(;C>0&&!this.modelLineProjections[C].isVisible();)C--,y=!0;if(C===0&&!this.modelLineProjections[C].isVisible())return new v.Position(1,1);const E=1+this.projectedModelLineLineCounts.getPrefixSum(C);let T;return y?T=this.modelLineProjections[C].getViewPositionOfModelPosition(E,this.model.getLineMaxColumn(C+1),p):T=this.modelLineProjections[f-1].getViewPositionOfModelPosition(E,m,p),T}convertModelRangeToViewRange(l,h=0){if(l.isEmpty()){const p=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,h);return k.Range.fromPositions(p)}else{const p=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,1),S=this.convertModelPositionToViewPosition(l.endLineNumber,l.endColumn,0);return new k.Range(p.lineNumber,p.column,S.lineNumber,S.column)}}getViewLineNumberOfModelPosition(l,h){let p=l-1;if(this.modelLineProjections[p].isVisible()){const f=1+this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections[p].getViewLineNumberOfModelPosition(f,h)}for(;p>0&&!this.modelLineProjections[p].isVisible();)p--;if(p===0&&!this.modelLineProjections[p].isVisible())return 1;const S=1+this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections[p].getViewLineNumberOfModelPosition(S,this.model.getLineMaxColumn(p+1))}getDecorationsInRange(l,h,p,S){const f=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),m=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);if(m.lineNumber-f.lineNumber<=l.endLineNumber-l.startLineNumber)return this.model.getDecorationsInRange(new k.Range(f.lineNumber,1,m.lineNumber,m.column),h,p,S);let C=[];const y=f.lineNumber-1,E=m.lineNumber-1;let T=null;for(let P=y;P<=E;P++)if(this.modelLineProjections[P].isVisible())T===null&&(T=new v.Position(P+1,P===y?f.column:1));else if(T!==null){const M=this.model.getLineMaxColumn(P);C=C.concat(this.model.getDecorationsInRange(new k.Range(T.lineNumber,T.column,P,M),h,p,S)),T=null}T!==null&&(C=C.concat(this.model.getDecorationsInRange(new k.Range(T.lineNumber,T.column,m.lineNumber,m.column),h,p,S)),T=null),C.sort((P,D)=>{const M=k.Range.compareRangesUsingStarts(P.range,D.range);return M===0?P.id<D.id?-1:P.id>D.id?1:0:M});const N=[];let F=0,O=null;for(const P of C){const D=P.id;O!==D&&(O=D,N[F++]=P)}return N}getInjectedTextAt(l){const h=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[h.modelLineNumber-1].getInjectedTextAt(h.modelLineWrappedLineIdx,l.column)}normalizePosition(l,h){const p=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[p.modelLineNumber-1].normalizePosition(p.modelLineWrappedLineIdx,l,h)}getLineIndentColumn(l){const h=this.getViewLineInfo(l);return h.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(h.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=i;function t(s){if(s.length===0)return[];const l=s.slice();l.sort(k.Range.compareRangesUsingStarts);const h=[];let p=l[0].startLineNumber,S=l[0].endLineNumber;for(let f=1,m=l.length;f<m;f++){const C=l[f];C.startLineNumber>S+1?(h.push(new k.Range(p,1,S,1)),p=C.startLineNumber,S=C.endLineNumber):C.endLineNumber>S&&(S=C.endLineNumber)}return h.push(new k.Range(p,1,S,1)),h}class o{constructor(l,h){this.modelLineNumber=l,this.modelLineWrappedLineIdx=h}}class r{constructor(l,h){this.modelRange=l,this.viewLines=h}}class c{constructor(l){this._lines=l}convertViewPositionToModelPosition(l){return this._lines.convertViewPositionToModelPosition(l.lineNumber,l.column)}convertViewRangeToModelRange(l){return this._lines.convertViewRangeToModelRange(l)}validateViewPosition(l,h){return this._lines.validateViewPosition(l.lineNumber,l.column,h)}validateViewRange(l,h){return this._lines.validateViewRange(l,h)}convertModelPositionToViewPosition(l,h){return this._lines.convertModelPositionToViewPosition(l.lineNumber,l.column,h)}convertModelRangeToViewRange(l,h){return this._lines.convertModelRangeToViewRange(l,h)}modelPositionIsVisible(l){return this._lines.modelPositionIsVisible(l.lineNumber,l.column)}getModelLineViewLineCount(l){return this._lines.getModelLineViewLineCount(l)}getViewLineNumberOfModelPosition(l,h){return this._lines.getViewLineNumberOfModelPosition(l,h)}}class d{constructor(l){this.model=l}dispose(){}createCoordinatesConverter(){return new a(this)}getHiddenAreas(){return[]}setHiddenAreas(l){return!1}setTabSize(l){return!1}setWrappingSettings(l,h,p,S){return!1}createLineBreaksComputer(){const l=[];return{addRequest:(h,p,S)=>{l.push(null)},finalize:()=>l}}onModelFlushed(){}onModelLinesDeleted(l,h,p){return new b.ViewLinesDeletedEvent(h,p)}onModelLinesInserted(l,h,p,S){return new b.ViewLinesInsertedEvent(h,p)}onModelLineChanged(l,h,p){return[!1,new b.ViewLinesChangedEvent(h,1),null,null]}acceptVersionId(l){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(l,h,p){return{startLineNumber:l,endLineNumber:l,indent:0}}getViewLinesBracketGuides(l,h,p){return new Array(h-l+1).fill([])}getViewLinesIndentGuides(l,h){const p=h-l+1,S=new Array(p);for(let f=0;f<p;f++)S[f]=0;return S}getViewLineContent(l){return this.model.getLineContent(l)}getViewLineLength(l){return this.model.getLineLength(l)}getViewLineMinColumn(l){return this.model.getLineMinColumn(l)}getViewLineMaxColumn(l){return this.model.getLineMaxColumn(l)}getViewLineData(l){const h=this.model.tokenization.getLineTokens(l),p=h.getLineContent();return new n.ViewLineData(p,!1,1,p.length+1,0,h.inflate(),null)}getViewLinesData(l,h,p){const S=this.model.getLineCount();l=Math.min(Math.max(1,l),S),h=Math.min(Math.max(1,h),S);const f=[];for(let m=l;m<=h;m++){const C=m-l;f[C]=p[C]?this.getViewLineData(m):null}return f}getDecorationsInRange(l,h,p,S){return this.model.getDecorationsInRange(l,h,p,S)}normalizePosition(l,h){return this.model.normalizePosition(l,h)}getLineIndentColumn(l){return this.model.getLineIndentColumn(l)}getInjectedTextAt(l){return null}}e.ViewModelLinesFromModelAsIs=d;class a{constructor(l){this._lines=l}_validPosition(l){return this._lines.model.validatePosition(l)}_validRange(l){return this._lines.model.validateRange(l)}convertViewPositionToModelPosition(l){return this._validPosition(l)}convertViewRangeToModelRange(l){return this._validRange(l)}validateViewPosition(l,h){return this._validPosition(h)}validateViewRange(l,h){return this._validRange(h)}convertModelPositionToViewPosition(l){return this._validPosition(l)}convertModelRangeToViewRange(l){return this._validRange(l)}modelPositionIsVisible(l){const h=this._lines.model.getLineCount();return!(l.lineNumber<1||l.lineNumber>h)}getModelLineViewLineCount(l){return 1}getViewLineNumberOfModelPosition(l,h){return l}}}),define(se[751],re([1,0,17,10,31,2,18,8,38,296,62,11,3,101,28,72,277,190,523,279,74,283,207,750]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const f=!0;class m extends I.Disposable{constructor(O,P,D,M,R,B,W,V){super();if(this.languageConfigurationService=W,this._themeService=V,this.hiddenAreasModel=new E,this.previousHiddenAreas=[],this._editorId=O,this._configuration=P,this.model=D,this._eventDispatcher=new p.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new v.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new v.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=C.create(this.model),f&&this.model.isTooLargeForTokenization())this._lines=new S.ViewModelLinesFromModelAsIs(this.model);else{const A=this._configuration.options,Y=A.get(45),ee=A.get(127),U=A.get(134),j=A.get(126);this._lines=new S.ViewModelLinesFromProjectedModel(this._editorId,this.model,M,R,Y,this.model.getOptions().tabSize,ee,U.wrappingColumn,j)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new u.CursorsController(D,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new a.ViewLayout(this._configuration,this.getLineCount(),B)),this._register(this.viewLayout.onDidScroll(A=>{A.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),A.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new d.ViewScrollChangedEvent(A)),this._eventDispatcher.emitOutgoingEvent(new p.ScrollChangedEvent(A.oldScrollWidth,A.oldScrollLeft,A.oldScrollHeight,A.oldScrollTop,A.scrollWidth,A.scrollLeft,A.scrollHeight,A.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(A=>{this._eventDispatcher.emitOutgoingEvent(A)})),this._decorations=new h.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(A=>{try{const Y=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Y,A)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(s.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new d.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(A=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new d.ViewThemeChangedEvent(A))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(O){this._eventDispatcher.addViewEventHandler(O)}removeViewEventHandler(O){this._eventDispatcher.removeViewEventHandler(O)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const O=this.viewLayout.getLinesViewportData(),P=new i.Range(O.startLineNumber,this.getLineMinColumn(O.startLineNumber),O.endLineNumber,this.getLineMaxColumn(O.endLineNumber)),D=this._toModelVisibleRanges(P);for(const M of D)this.model.tokenization.tokenizeViewport(M.startLineNumber,M.endLineNumber)}setHasFocus(O){this._hasFocus=O,this._cursor.setHasFocus(O),this._eventDispatcher.emitSingleViewEvent(new d.ViewFocusChangedEvent(O)),this._eventDispatcher.emitOutgoingEvent(new p.FocusChangedEvent(!O,O))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new d.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new d.ViewCompositionEndEvent)}_onConfigurationChanged(O,P){let D=null;if(this._viewportStart.isValid){const Y=new n.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));D=this.coordinatesConverter.convertViewPositionToModelPosition(Y)}let M=!1;const R=this._configuration.options,B=R.get(45),W=R.get(127),V=R.get(134),A=R.get(126);if(this._lines.setWrappingSettings(B,W,V.wrappingColumn,A)&&(O.emitViewEvent(new d.ViewFlushedEvent),O.emitViewEvent(new d.ViewLineMappingChangedEvent),O.emitViewEvent(new d.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(O),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(M=!0),this._updateConfigurationViewLineCount.schedule()),P.hasChanged(82)&&(this._decorations.reset(),O.emitViewEvent(new d.ViewDecorationsChangedEvent(null))),O.emitViewEvent(new d.ViewConfigurationChangedEvent(P)),this.viewLayout.onConfigurationChanged(P),M&&D){const Y=this.coordinatesConverter.convertModelPositionToViewPosition(D),ee=this.viewLayout.getVerticalOffsetForLineNumber(Y.lineNumber);this.viewLayout.setScrollPosition({scrollTop:ee+this._viewportStart.startLineDelta},1)}g.CursorConfiguration.shouldRecreate(P)&&(this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(O=>{try{const D=this._eventDispatcher.beginEmitViewEvents();let M=!1,R=!1;const B=O instanceof t.InternalModelContentChangeEvent?O.rawContentChangedEvent.changes:O.changes,W=O instanceof t.InternalModelContentChangeEvent?O.rawContentChangedEvent.versionId:null,V=this._lines.createLineBreaksComputer();for(const ee of B)switch(ee.changeType){case 4:{for(let U=0;U<ee.detail.length;U++){const j=ee.detail[U];let Z=ee.injectedTexts[U];Z&&(Z=Z.filter(ie=>!ie.ownerId||ie.ownerId===this._editorId)),V.addRequest(j,Z,null)}break}case 2:{let U=null;ee.injectedText&&(U=ee.injectedText.filter(j=>!j.ownerId||j.ownerId===this._editorId)),V.addRequest(ee.detail,U,null);break}}const A=V.finalize(),Y=new w.ArrayQueue(A);for(const ee of B)switch(ee.changeType){case 1:{this._lines.onModelFlushed(),D.emitViewEvent(new d.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),M=!0;break}case 3:{const U=this._lines.onModelLinesDeleted(W,ee.fromLineNumber,ee.toLineNumber);U!==null&&(D.emitViewEvent(U),this.viewLayout.onLinesDeleted(U.fromLineNumber,U.toLineNumber)),M=!0;break}case 4:{const U=Y.takeCount(ee.detail.length),j=this._lines.onModelLinesInserted(W,ee.fromLineNumber,ee.toLineNumber,U);j!==null&&(D.emitViewEvent(j),this.viewLayout.onLinesInserted(j.fromLineNumber,j.toLineNumber)),M=!0;break}case 2:{const U=Y.dequeue(),[j,Z,ie,Q]=this._lines.onModelLineChanged(W,ee.lineNumber,U);R=j,Z&&D.emitViewEvent(Z),ie&&(D.emitViewEvent(ie),this.viewLayout.onLinesInserted(ie.fromLineNumber,ie.toLineNumber)),Q&&(D.emitViewEvent(Q),this.viewLayout.onLinesDeleted(Q.fromLineNumber,Q.toLineNumber));break}case 5:break}W!==null&&this._lines.acceptVersionId(W),this.viewLayout.onHeightMaybeChanged(),!M&&R&&(D.emitViewEvent(new d.ViewLineMappingChangedEvent),D.emitViewEvent(new d.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(D),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const P=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&P){const D=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(D){const M=this.coordinatesConverter.convertModelPositionToViewPosition(D.getStartPosition()),R=this.viewLayout.getVerticalOffsetForLineNumber(M.lineNumber);this.viewLayout.setScrollPosition({scrollTop:R+this._viewportStart.startLineDelta},1)}}try{const D=this._eventDispatcher.beginEmitViewEvents();O instanceof t.InternalModelContentChangeEvent&&D.emitOutgoingEvent(new p.ModelContentChangedEvent(O.contentChangedEvent)),this._cursor.onModelContentChanged(D,O)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(O=>{const P=[];for(let D=0,M=O.ranges.length;D<M;D++){const R=O.ranges[D],B=this.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(R.fromLineNumber,1)).lineNumber,W=this.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(R.toLineNumber,this.model.getLineMaxColumn(R.toLineNumber))).lineNumber;P[D]={fromLineNumber:B,toLineNumber:W}}this._eventDispatcher.emitSingleViewEvent(new d.ViewTokensChangedEvent(P)),O.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new p.ModelTokensChangedEvent(O))})),this._register(this.model.onDidChangeLanguageConfiguration(O=>{this._eventDispatcher.emitSingleViewEvent(new d.ViewLanguageConfigurationEvent),this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelLanguageConfigurationChangedEvent(O))})),this._register(this.model.onDidChangeLanguage(O=>{this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelLanguageChangedEvent(O))})),this._register(this.model.onDidChangeOptions(O=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const P=this._eventDispatcher.beginEmitViewEvents();P.emitViewEvent(new d.ViewFlushedEvent),P.emitViewEvent(new d.ViewLineMappingChangedEvent),P.emitViewEvent(new d.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(P),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelOptionsChangedEvent(O))})),this._register(this.model.onDidChangeDecorations(O=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new d.ViewDecorationsChangedEvent(O)),this._eventDispatcher.emitOutgoingEvent(new p.ModelDecorationsChangedEvent(O))}))}setHiddenAreas(O,P){this.hiddenAreasModel.setHiddenAreas(P,O);const D=this.hiddenAreasModel.getMergedRanges();if(D===this.previousHiddenAreas)return;this.previousHiddenAreas=D;let M=!1;try{const R=this._eventDispatcher.beginEmitViewEvents();M=this._lines.setHiddenAreas(D),M&&(R.emitViewEvent(new d.ViewFlushedEvent),R.emitViewEvent(new d.ViewLineMappingChangedEvent),R.emitViewEvent(new d.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(R),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),M&&this._eventDispatcher.emitOutgoingEvent(new p.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const O=this._configuration.options.get(133),P=this._configuration.options.get(60),D=Math.max(20,Math.round(O.height/P)),M=this.viewLayout.getLinesViewportData(),R=Math.max(1,M.completelyVisibleStartLineNumber-D),B=Math.min(this.getLineCount(),M.completelyVisibleEndLineNumber+D);return this._toModelVisibleRanges(new i.Range(R,this.getLineMinColumn(R),B,this.getLineMaxColumn(B)))}getVisibleRanges(){const O=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(O)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(O){const P=this.coordinatesConverter.convertViewRangeToModelRange(O),D=this._lines.getHiddenAreas();if(D.length===0)return[P];const M=[];let R=0,B=P.startLineNumber,W=P.startColumn;const V=P.endLineNumber,A=P.endColumn;for(let Y=0,ee=D.length;Y<ee;Y++){const U=D[Y].startLineNumber,j=D[Y].endLineNumber;j<B||U>V||(B<U&&(M[R++]=new i.Range(B,W,U-1,this.model.getLineMaxColumn(U-1))),B=j+1,W=1)}return(B<V||B===V&&W<A)&&(M[R++]=new i.Range(B,W,V,A)),M}getCompletelyVisibleViewRange(){const O=this.viewLayout.getLinesViewportData(),P=O.completelyVisibleStartLineNumber,D=O.completelyVisibleEndLineNumber;return new i.Range(P,this.getLineMinColumn(P),D,this.getLineMaxColumn(D))}getCompletelyVisibleViewRangeAtScrollTop(O){const P=this.viewLayout.getLinesViewportDataAtScrollTop(O),D=P.completelyVisibleStartLineNumber,M=P.completelyVisibleEndLineNumber;return new i.Range(D,this.getLineMinColumn(D),M,this.getLineMaxColumn(M))}saveState(){const O=this.viewLayout.saveState(),P=O.scrollTop,D=this.viewLayout.getLineNumberAtVerticalOffset(P),M=this.coordinatesConverter.convertViewPositionToModelPosition(new n.Position(D,this.getLineMinColumn(D))),R=this.viewLayout.getVerticalOffsetForLineNumber(D)-P;return{scrollLeft:O.scrollLeft,firstPosition:M,firstPositionDeltaTop:R}}reduceRestoreState(O){if(typeof O.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(O);const P=this.model.validatePosition(O.firstPosition),D=this.coordinatesConverter.convertModelPositionToViewPosition(P),M=this.viewLayout.getVerticalOffsetForLineNumber(D.lineNumber)-O.firstPositionDeltaTop;return{scrollLeft:O.scrollLeft,scrollTop:M}}_reduceRestoreStateCompatibility(O){return{scrollLeft:O.scrollLeft,scrollTop:O.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(O,P,D){this._viewportStart.update(this,O)}getActiveIndentGuide(O,P,D){return this._lines.getActiveIndentGuide(O,P,D)}getLinesIndentGuides(O,P){return this._lines.getViewLinesIndentGuides(O,P)}getBracketGuidesInRangeByLine(O,P,D,M){return this._lines.getViewLinesBracketGuides(O,P,D,M)}getLineContent(O){return this._lines.getViewLineContent(O)}getLineLength(O){return this._lines.getViewLineLength(O)}getLineMinColumn(O){return this._lines.getViewLineMinColumn(O)}getLineMaxColumn(O){return this._lines.getViewLineMaxColumn(O)}getLineFirstNonWhitespaceColumn(O){const P=_.firstNonWhitespaceIndex(this.getLineContent(O));return P===-1?0:P+1}getLineLastNonWhitespaceColumn(O){const P=_.lastNonWhitespaceIndex(this.getLineContent(O));return P===-1?0:P+2}getDecorationsInViewport(O,P=!1){return this._decorations.getDecorationsViewportData(O,P).decorations}getInjectedTextAt(O){return this._lines.getInjectedTextAt(O)}getViewportViewLineRenderingData(O,P){const M=this._decorations.getDecorationsViewportData(O).inlineDecorations[P-O.startLineNumber];return this._getViewLineRenderingData(P,M)}getViewLineRenderingData(O){const P=this._decorations.getInlineDecorationsOnLine(O);return this._getViewLineRenderingData(O,P)}_getViewLineRenderingData(O,P){const D=this.model.mightContainRTL(),M=this.model.mightContainNonBasicASCII(),R=this.getTabSize(),B=this._lines.getViewLineData(O);return B.inlineDecorations&&(P=[...P,...B.inlineDecorations.map(W=>W.toInlineDecoration(O))]),new l.ViewLineRenderingData(B.minColumn,B.maxColumn,B.content,B.continuesWithWrappedLine,D,M,B.tokens,P,R,B.startVisibleColumn)}getViewLineData(O){return this._lines.getViewLineData(O)}getMinimapLinesRenderingData(O,P,D){const M=this._lines.getViewLinesData(O,P,D);return new l.MinimapLinesRenderingData(this.getTabSize(),M)}getAllOverviewRulerDecorations(O){const P=this.model.getOverviewRulerDecorations(this._editorId,(0,b.filterValidationDecorations)(this._configuration.options)),D=new y;for(const M of P){const R=M.options,B=R.overviewRuler;if(!B)continue;const W=B.position;if(W===0)continue;const V=B.getColor(O.value),A=this.coordinatesConverter.getViewLineNumberOfModelPosition(M.range.startLineNumber,M.range.startColumn),Y=this.coordinatesConverter.getViewLineNumberOfModelPosition(M.range.endLineNumber,M.range.endColumn);D.accept(V,R.zIndex,A,Y,W)}return D.asArray}_invalidateDecorationsColorCache(){const O=this.model.getOverviewRulerDecorations();for(const P of O){const D=P.options.overviewRuler;D==null||D.invalidateCachedColor();const M=P.options.minimap;M==null||M.invalidateCachedColor()}}getValueInRange(O,P){const D=this.coordinatesConverter.convertViewRangeToModelRange(O);return this.model.getValueInRange(D,P)}deduceModelPositionRelativeToViewPosition(O,P,D){const M=this.coordinatesConverter.convertViewPositionToModelPosition(O);this.model.getEOL().length===2&&(P<0?P-=D:P+=D);const B=this.model.getOffsetAt(M)+P;return this.model.getPositionAt(B)}getPlainTextToCopy(O,P,D){const M=D?`\r
`:this.model.getEOL();O=O.slice(0),O.sort(i.Range.compareRangesUsingStarts);let R=!1,B=!1;for(const V of O)V.isEmpty()?R=!0:B=!0;if(!B){if(!P)return"";const V=O.map(Y=>Y.startLineNumber);let A="";for(let Y=0;Y<V.length;Y++)Y>0&&V[Y-1]===V[Y]||(A+=this.model.getLineContent(V[Y])+M);return A}if(R&&P){const V=[];let A=0;for(const Y of O){const ee=Y.startLineNumber;Y.isEmpty()?ee!==A&&V.push(this.model.getLineContent(ee)):V.push(this.model.getValueInRange(Y,D?2:0)),A=ee}return V.length===1?V[0]:V}const W=[];for(const V of O)V.isEmpty()||W.push(this.model.getValueInRange(V,D?2:0));return W.length===1?W[0]:W}getRichTextToCopy(O,P){const D=this.model.getLanguageId();if(D===r.PLAINTEXT_LANGUAGE_ID||O.length!==1)return null;let M=O[0];if(M.isEmpty()){if(!P)return null;const Y=M.startLineNumber;M=new i.Range(Y,this.model.getLineMinColumn(Y),Y,this.model.getLineMaxColumn(Y))}const R=this._configuration.options.get(45),B=this._getColorMap(),V=/[:;\\\/<>]/.test(R.fontFamily)||R.fontFamily===b.EDITOR_FONT_DEFAULTS.fontFamily;let A;return V?A=b.EDITOR_FONT_DEFAULTS.fontFamily:(A=R.fontFamily,A=A.replace(/"/g,"'"),/[,']/.test(A)||/[+ ]/.test(A)&&(A=`'${A}'`),A=`${A}, ${b.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:D,html:`<div style="color: ${B[1]};background-color: ${B[2]};font-family: ${A};font-weight: ${R.fontWeight};font-size: ${R.fontSize}px;line-height: ${R.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(M,B)+"</div>"}}_getHTMLToCopy(O,P){const D=O.startLineNumber,M=O.startColumn,R=O.endLineNumber,B=O.endColumn,W=this.getTabSize();let V="";for(let A=D;A<=R;A++){const Y=this.model.tokenization.getLineTokens(A),ee=Y.getLineContent(),U=A===D?M-1:0,j=A===R?B-1:ee.length;ee===""?V+="<br>":V+=(0,c.tokenizeLineToHTML)(ee,Y.inflate(),P,U,j,W,L.isWindows)}return V}_getColorMap(){const O=o.TokenizationRegistry.getColorMap(),P=["#000000"];if(O)for(let D=1,M=O.length;D<M;D++)P[D]=k.Color.Format.CSS.formatHex(O[D]);return P}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(O,P,D){return this._withViewEventsCollector(M=>this._cursor.setStates(M,O,P,D))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(O){this._cursor.setCursorColumnSelectData(O)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(O){this._cursor.setPrevEditOperationType(O)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(O,P,D=0){this._withViewEventsCollector(M=>this._cursor.setSelections(M,O,P,D))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(O){this._withViewEventsCollector(P=>this._cursor.restoreState(P,O))}_executeCursorEdit(O){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new p.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(O)}executeEdits(O,P,D){this._executeCursorEdit(M=>this._cursor.executeEdits(M,O,P,D))}startComposition(){this._executeCursorEdit(O=>this._cursor.startComposition(O))}endComposition(O){this._executeCursorEdit(P=>this._cursor.endComposition(P,O))}type(O,P){this._executeCursorEdit(D=>this._cursor.type(D,O,P))}compositionType(O,P,D,M,R){this._executeCursorEdit(B=>this._cursor.compositionType(B,O,P,D,M,R))}paste(O,P,D,M){this._executeCursorEdit(R=>this._cursor.paste(R,O,P,D,M))}cut(O){this._executeCursorEdit(P=>this._cursor.cut(P,O))}executeCommand(O,P){this._executeCursorEdit(D=>this._cursor.executeCommand(D,O,P))}executeCommands(O,P){this._executeCursorEdit(D=>this._cursor.executeCommands(D,O,P))}revealPrimaryCursor(O,P,D=!1){this._withViewEventsCollector(M=>this._cursor.revealPrimary(M,O,D,0,P,0))}revealTopMostCursor(O){const P=this._cursor.getTopMostViewPosition(),D=new i.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(M=>M.emitViewEvent(new d.ViewRevealRangeRequestEvent(O,!1,D,null,0,!0,0)))}revealBottomMostCursor(O){const P=this._cursor.getBottomMostViewPosition(),D=new i.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(M=>M.emitViewEvent(new d.ViewRevealRangeRequestEvent(O,!1,D,null,0,!0,0)))}revealRange(O,P,D,M,R){this._withViewEventsCollector(B=>B.emitViewEvent(new d.ViewRevealRangeRequestEvent(O,!1,D,null,M,P,R)))}changeWhitespace(O){this.viewLayout.changeWhitespace(O)&&(this._eventDispatcher.emitSingleViewEvent(new d.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new p.ViewZonesChangedEvent))}_withViewEventsCollector(O){try{const P=this._eventDispatcher.beginEmitViewEvents();return O(P)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(O,P){return this._lines.normalizePosition(O,P)}getLineIndentColumn(O){return this._lines.getLineIndentColumn(O)}}e.ViewModel=m;class C{constructor(O,P,D,M,R){this._model=O,this._viewLineNumber=P,this._isValid=D,this._modelTrackedRange=M,this._startLineDelta=R}static create(O){const P=O._setTrackedRange(null,new i.Range(1,1,1,1),1);return new C(O,1,!1,P,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(O,P){const D=O.coordinatesConverter.convertViewPositionToModelPosition(new n.Position(P,O.getLineMinColumn(P))),M=O.model._setTrackedRange(this._modelTrackedRange,new i.Range(D.lineNumber,D.column,D.lineNumber,D.column),1),R=O.viewLayout.getVerticalOffsetForLineNumber(P),B=O.viewLayout.getCurrentScrollTop();this._viewLineNumber=P,this._isValid=!0,this._modelTrackedRange=M,this._startLineDelta=B-R}invalidate(){this._isValid=!1}}class y{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(O,P,D,M,R){const B=this._asMap[O];if(B){const W=B.data,V=W[W.length-3],A=W[W.length-1];if(V===R&&A+1>=D){M>A&&(W[W.length-1]=M);return}W.push(R,D,M)}else{const W=new l.OverviewRulerDecorationsGroup(O,P,[R,D,M]);this._asMap[O]=W,this.asArray.push(W)}}}class E{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(O,P){const D=this.hiddenAreas.get(O);D&&N(D,P)||(this.hiddenAreas.set(O,P),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const O=Array.from(this.hiddenAreas.values()).reduce((P,D)=>T(P,D),[]);return N(this.ranges,O)?this.ranges:(this.ranges=O,this.ranges)}}function T(F,O){const P=[];let D=0,M=0;for(;D<F.length&&M<O.length;){const R=F[D],B=O[M];if(R.endLineNumber<B.startLineNumber-1)P.push(F[D++]);else if(B.endLineNumber<R.startLineNumber-1)P.push(O[M++]);else{const W=Math.min(R.startLineNumber,B.startLineNumber),V=Math.max(R.endLineNumber,B.endLineNumber);P.push(new i.Range(W,1,V,1)),D++,M++}}for(;D<F.length;)P.push(F[D++]);for(;M<O.length;)P.push(O[M++]);return P}function N(F,O){if(F.length!==O.length)return!1;for(let P=0;P<F.length;P++)if(!F[P].equalsRange(O[P]))return!1;return!0}}),define(se[175],re([1,0,534,7,14,6,2,52,645,13,29,704,233,38,296,67,11,3,23,239,155,24,37,54,25,751,26,16,9,169,40,15,78,20,454,510,157,32,66,19,702,374]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E,T,N,F,O,P,D,M,R,B,W,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let A=0;class Y{constructor(z,X,$,H,K){this.model=z,this.viewModel=X,this.view=$,this.hasRealView=H,this.listenersToRemove=K}dispose(){(0,L.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let ee=class Tt extends L.Disposable{constructor(z,X,$,H,K,ce,le,he,me,Ce,Le,ye){super();this.languageConfigurationService=Le,this._deliveryQueue=new I.EventDeliveryQueue,this._onDidDispose=this._register(new I.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new U({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new U({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const De=Object.assign({},X);this._domElement=z,this._overflowWidgetsDomNode=De.overflowWidgetsDomNode,delete De.overflowWidgetsDomNode,this._id=++A,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=$.telemetryData,this._configuration=this._register(this._createConfiguration($.isSimpleWidget||!1,De,Ce)),this._register(this._configuration.onDidChange(ue=>{this._onDidChangeConfiguration.fire(ue);const ae=this._configuration.options;if(ue.hasChanged(133)){const ge=ae.get(133);this._onDidLayoutChange.fire(ge)}})),this._contextKeyService=this._register(le.createScoped(this._domElement)),this._notificationService=me,this._codeEditorService=K,this._commandService=ce,this._themeService=he,this._register(new j(this,this._contextKeyService)),this._register(new Z(this,this._contextKeyService,ye)),this._instantiationService=H.createChild(new T.ServiceCollection([y.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new ie(z),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Ae;Array.isArray($.contributions)?Ae=$.contributions:Ae=u.EditorExtensionsRegistry.getEditorContributions();for(const ue of Ae){if(this._contributions[ue.id]){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${ue.id}`));continue}try{const ae=this._instantiationService.createInstance(ue.ctor,this);this._contributions[ue.id]=ae}catch(ae){(0,k.onUnexpectedError)(ae)}}u.EditorExtensionsRegistry.getEditorActions().forEach(ue=>{if(this._actions[ue.id]){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${ue.id}`));return}const ae=new s.InternalEditorAction(ue.id,ue.label,ue.alias,(0,P.withNullAsUndefined)(ue.precondition),()=>this._instantiationService.invokeFunction(ge=>Promise.resolve(ue.runEditorCommand(ge,this,null))),this._contextKeyService);this._actions[ae.id]=ae});const pe=()=>!this._configuration.options.get(82)&&this._configuration.options.get(32).enabled;this._register(new v.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:ue=>{if(!pe())return;const ae=this.getTargetAtClientPoint(ue.clientX,ue.clientY);(ae==null?void 0:ae.position)&&this.showDropIndicatorAt(ae.position)},onDrop:ue=>Se(this,void 0,void 0,function*(){if(!pe()||(this.removeDropIndicator(),!ue.dataTransfer))return;const ae=this.getTargetAtClientPoint(ue.clientX,ue.clientY);(ae==null?void 0:ae.position)&&this._onDropIntoEditor.fire({position:ae.position,event:ue})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(z,X,$){return new b.EditorConfiguration(z,X,this._domElement,$)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return l.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const z=Object.keys(this._contributions);for(let X=0,$=z.length;X<$;X++){const H=z[X];this._contributions[H].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(z){return this._instantiationService.invokeFunction(z)}updateOptions(z){this._configuration.updateOptions(z||{})}getOptions(){return this._configuration.options}getOption(z){return this._configuration.options.get(z)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(z){return this._modelData?R.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),z):null}getValue(z=null){if(!this._modelData)return"";const X=!!(z&&z.preserveBOM);let $=0;return z&&z.lineEnding&&z.lineEnding===`
`?$=1:z&&z.lineEnding&&z.lineEnding===`\r
`&&($=2),this._modelData.model.getValue($,X)}setValue(z){!this._modelData||this._modelData.model.setValue(z)}getModel(){return this._modelData?this._modelData.model:null}setModel(z=null){const X=z;if(this._modelData===null&&X===null||this._modelData&&this._modelData.model===X)return;const $=this.hasTextFocus(),H=this._detachModel();this._attachModel(X),$&&this.hasModel()&&this.focus();const K={oldModelUrl:H?H.uri:null,newModelUrl:X?X.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(K),this._postDetachModelCleanup(H)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const z in this._decorationTypeSubtypes){const X=this._decorationTypeSubtypes[z];for(const $ in X)this._removeDecorationType(z+"-"+$)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(z,X,$,H){const K=z.model.validatePosition({lineNumber:X,column:$}),ce=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(K);return z.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ce.lineNumber,H)}getTopForLineNumber(z,X=!1){return this._modelData?Tt._getVerticalOffsetForPosition(this._modelData,z,1,X):-1}getTopForPosition(z,X){return this._modelData?Tt._getVerticalOffsetForPosition(this._modelData,z,X,!1):-1}static _getVerticalOffsetForPosition(z,X,$,H=!1){const K=z.model.validatePosition({lineNumber:X,column:$}),ce=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(K);return z.viewModel.viewLayout.getVerticalOffsetForLineNumber(ce.lineNumber,H)}getBottomForLineNumber(z,X=!1){return this._modelData?Tt._getVerticalOffsetAfterPosition(this._modelData,z,1,X):-1}setHiddenAreas(z,X){var $;($=this._modelData)===null||$===void 0||$.viewModel.setHiddenAreas(z.map(H=>d.Range.lift(H)),X)}getVisibleColumnFromPosition(z){if(!this._modelData)return z.column;const X=this._modelData.model.validatePosition(z),$=this._modelData.model.getOptions().tabSize;return r.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(X.lineNumber),X.column,$)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(z,X="api"){if(!!this._modelData){if(!c.Position.isIPosition(z))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,[{selectionStartLineNumber:z.lineNumber,selectionStartColumn:z.column,positionLineNumber:z.lineNumber,positionColumn:z.column}])}}_sendRevealRange(z,X,$,H){if(!this._modelData)return;if(!d.Range.isIRange(z))throw new Error("Invalid arguments");const K=this._modelData.model.validateRange(z),ce=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(K);this._modelData.viewModel.revealRange("api",$,ce,X,H)}revealLine(z,X=0){this._revealLine(z,0,X)}revealLineInCenter(z,X=0){this._revealLine(z,1,X)}revealLineInCenterIfOutsideViewport(z,X=0){this._revealLine(z,2,X)}revealLineNearTop(z,X=0){this._revealLine(z,5,X)}_revealLine(z,X,$){if(typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(z,1,z,1),X,!1,$)}revealPosition(z,X=0){this._revealPosition(z,0,!0,X)}revealPositionInCenter(z,X=0){this._revealPosition(z,1,!0,X)}revealPositionInCenterIfOutsideViewport(z,X=0){this._revealPosition(z,2,!0,X)}revealPositionNearTop(z,X=0){this._revealPosition(z,5,!0,X)}_revealPosition(z,X,$,H){if(!c.Position.isIPosition(z))throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(z.lineNumber,z.column,z.lineNumber,z.column),X,$,H)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(z,X="api"){const $=a.Selection.isISelection(z),H=d.Range.isIRange(z);if(!$&&!H)throw new Error("Invalid arguments");if($)this._setSelectionImpl(z,X);else if(H){const K={selectionStartLineNumber:z.startLineNumber,selectionStartColumn:z.startColumn,positionLineNumber:z.endLineNumber,positionColumn:z.endColumn};this._setSelectionImpl(K,X)}}_setSelectionImpl(z,X){if(!this._modelData)return;const $=new a.Selection(z.selectionStartLineNumber,z.selectionStartColumn,z.positionLineNumber,z.positionColumn);this._modelData.viewModel.setSelections(X,[$])}revealLines(z,X,$=0){this._revealLines(z,X,0,$)}revealLinesInCenter(z,X,$=0){this._revealLines(z,X,1,$)}revealLinesInCenterIfOutsideViewport(z,X,$=0){this._revealLines(z,X,2,$)}revealLinesNearTop(z,X,$=0){this._revealLines(z,X,5,$)}_revealLines(z,X,$,H){if(typeof z!="number"||typeof X!="number")throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(z,1,X,1),$,!1,H)}revealRange(z,X=0,$=!1,H=!0){this._revealRange(z,$?1:0,H,X)}revealRangeInCenter(z,X=0){this._revealRange(z,1,!0,X)}revealRangeInCenterIfOutsideViewport(z,X=0){this._revealRange(z,2,!0,X)}revealRangeNearTop(z,X=0){this._revealRange(z,5,!0,X)}revealRangeNearTopIfOutsideViewport(z,X=0){this._revealRange(z,6,!0,X)}revealRangeAtTop(z,X=0){this._revealRange(z,3,!0,X)}_revealRange(z,X,$,H){if(!d.Range.isIRange(z))throw new Error("Invalid arguments");this._sendRevealRange(d.Range.lift(z),X,$,H)}setSelections(z,X="api",$=0){if(!!this._modelData){if(!z||z.length===0)throw new Error("Invalid arguments");for(let H=0,K=z.length;H<K;H++)if(!a.Selection.isISelection(z[H]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,z,$)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(z,X=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:z},X)}}setScrollTop(z,X=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:z},X)}}setScrollPosition(z,X=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(z,X)}saveViewState(){if(!this._modelData)return null;const z={},X=Object.keys(this._contributions);for(const K of X){const ce=this._contributions[K];typeof ce.saveViewState=="function"&&(z[K]=ce.saveViewState())}const $=this._modelData.viewModel.saveCursorState(),H=this._modelData.viewModel.saveState();return{cursorState:$,viewState:H,contributionsState:z}}restoreViewState(z){if(!this._modelData||!this._modelData.hasRealView)return;const X=z;if(X&&X.cursorState&&X.viewState){const $=X.cursorState;Array.isArray($)?$.length>0&&this._modelData.viewModel.restoreCursorState($):this._modelData.viewModel.restoreCursorState([$]);const H=X.contributionsState||{},K=Object.keys(this._contributions);for(let le=0,he=K.length;le<he;le++){const me=K[le],Ce=this._contributions[me];typeof Ce.restoreViewState=="function"&&Ce.restoreViewState(H[me])}const ce=this._modelData.viewModel.reduceRestoreState(X.viewState);this._modelData.view.restoreState(ce)}}getContribution(z){return this._contributions[z]||null}getActions(){const z=[],X=Object.keys(this._actions);for(let $=0,H=X.length;$<H;$++){const K=X[$];z.push(this._actions[K])}return z}getSupportedActions(){let z=this.getActions();return z=z.filter(X=>X.isSupported()),z}getAction(z){return this._actions[z]||null}trigger(z,X,$){switch($=$||{},X){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(z);return;case"type":{const K=$;this._type(z,K.text||"");return}case"replacePreviousChar":{const K=$;this._compositionType(z,K.text||"",K.replaceCharCnt||0,0,0);return}case"compositionType":{const K=$;this._compositionType(z,K.text||"",K.replacePrevCharCnt||0,K.replaceNextCharCnt||0,K.positionDelta||0);return}case"paste":{const K=$;this._paste(z,K.text||"",K.pasteOnNewLine||!1,K.multicursorText||null,K.mode||null);return}case"cut":this._cut(z);return}const H=this.getAction(X);if(H){Promise.resolve(H.run()).then(void 0,k.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(z,X,$)||this._triggerCommand(X,$)}_triggerCommand(z,X){this._commandService.executeCommand(z,X)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(z){!this._modelData||(this._modelData.viewModel.endComposition(z),this._onDidCompositionEnd.fire())}_type(z,X){!this._modelData||X.length===0||(z==="keyboard"&&this._onWillType.fire(X),this._modelData.viewModel.type(X,z),z==="keyboard"&&this._onDidType.fire(X))}_compositionType(z,X,$,H,K){!this._modelData||this._modelData.viewModel.compositionType(X,$,H,K,z)}_paste(z,X,$,H,K){if(!this._modelData||X.length===0)return;const ce=this._modelData.viewModel,le=ce.getSelection().getStartPosition();ce.paste(X,$,H,z);const he=ce.getSelection().getStartPosition();z==="keyboard"&&this._onDidPaste.fire({range:new d.Range(le.lineNumber,le.column,he.lineNumber,he.column),languageId:K})}_cut(z){!this._modelData||this._modelData.viewModel.cut(z)}_triggerEditorCommand(z,X,$){const H=u.EditorExtensionsRegistry.getEditorCommand(X);return H?($=$||{},$.source=z,this._instantiationService.invokeFunction(K=>{Promise.resolve(H.runEditorCommand(K,this,$)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(82)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(82)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(z,X,$){if(!this._modelData||this._configuration.options.get(82))return!1;let H;return $?Array.isArray($)?H=()=>$:H=$:H=()=>null,this._modelData.viewModel.executeEdits(z,X,H),!0}executeCommand(z,X){!this._modelData||this._modelData.viewModel.executeCommand(X,z)}executeCommands(z,X){!this._modelData||this._modelData.viewModel.executeCommands(X,z)}createDecorationsCollection(z){return new Q(this,z)}changeDecorations(z){return this._modelData?this._modelData.model.changeDecorations(z,this._id):null}getLineDecorations(z){return this._modelData?this._modelData.model.getLineDecorations(z,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(z){return this._modelData?this._modelData.model.getDecorationsInRange(z,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(z,X){return this._modelData?z.length===0&&X.length===0?z:this._modelData.model.deltaDecorations(z,X,this._id):[]}removeDecorations(z){!this._modelData||z.length===0||this._modelData.model.changeDecorations(X=>{X.deltaDecorations(z,[])})}removeDecorationsByType(z){const X=this._decorationTypeKeysToIds[z];X&&this.deltaDecorations(X,[]),this._decorationTypeKeysToIds.hasOwnProperty(z)&&delete this._decorationTypeKeysToIds[z],this._decorationTypeSubtypes.hasOwnProperty(z)&&delete this._decorationTypeSubtypes[z]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(z)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(z)}layout(z){this._configuration.observeContainer(z),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(z){const X={widget:z,position:z.getPosition()};this._contentWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[z.getId()]=X,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(X)}layoutContentWidget(z){const X=z.getId();if(this._contentWidgets.hasOwnProperty(X)){const $=this._contentWidgets[X];$.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget($)}}removeContentWidget(z){const X=z.getId();if(this._contentWidgets.hasOwnProperty(X)){const $=this._contentWidgets[X];delete this._contentWidgets[X],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget($)}}addOverlayWidget(z){const X={widget:z,position:z.getPosition()};this._overlayWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[z.getId()]=X,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(X)}layoutOverlayWidget(z){const X=z.getId();if(this._overlayWidgets.hasOwnProperty(X)){const $=this._overlayWidgets[X];$.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget($)}}removeOverlayWidget(z){const X=z.getId();if(this._overlayWidgets.hasOwnProperty(X)){const $=this._overlayWidgets[X];delete this._overlayWidgets[X],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget($)}}changeViewZones(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(z)}getTargetAtClientPoint(z,X){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(z,X)}getScrolledVisiblePosition(z){if(!this._modelData||!this._modelData.hasRealView)return null;const X=this._modelData.model.validatePosition(z),$=this._configuration.options,H=$.get(133),K=Tt._getVerticalOffsetForPosition(this._modelData,X.lineNumber,X.column)-this.getScrollTop(),ce=this._modelData.view.getOffsetForColumn(X.lineNumber,X.column)+H.glyphMarginWidth+H.lineNumbersWidth+H.decorationsWidth-this.getScrollLeft();return{top:K,left:ce,height:$.get(60)}}getOffsetForColumn(z,X){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(z,X)}render(z=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,z)}setAriaOptions(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(z)}applyFontInfo(z){(0,W.applyFontInfo)(z,this._configuration.options.get(45))}setBanner(z,X){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=z,this._configuration.setReservedHeight(z?X:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(z){if(!z){this._modelData=null;return}const X=[];this._domElement.setAttribute("data-mode-id",z.getLanguageId()),this._configuration.setIsDominatedByLongLines(z.isDominatedByLongLines()),this._configuration.setModelLineCount(z.getLineCount()),z.onBeforeAttached();const $=new m.ViewModel(this._id,this._configuration,z,M.DOMLineBreaksComputerFactory.create(),D.MonospaceLineBreaksComputerFactory.create(this._configuration.options),ce=>v.scheduleAtNextAnimationFrame(ce),this.languageConfigurationService,this._themeService);X.push(z.onWillDispose(()=>this.setModel(null))),X.push($.onEvent(ce=>{switch(ce.kind){case 0:this._onDidContentSizeChange.fire(ce);break;case 1:this._editorTextFocus.setValue(ce.hasFocus);break;case 2:this._onDidScrollChange.fire(ce);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ce.reachedMaxCursorCount&&this._notificationService.warn(w.localize(0,null,o.CursorsController.MAX_CURSOR_COUNT));const le=[];for(let Ce=0,Le=ce.selections.length;Ce<Le;Ce++)le[Ce]=ce.selections[Ce].getPosition();const he={position:le[0],secondaryPositions:le.slice(1),reason:ce.reason,source:ce.source};this._onDidChangeCursorPosition.fire(he);const me={selection:ce.selections[0],secondarySelections:ce.selections.slice(1),modelVersionId:ce.modelVersionId,oldSelections:ce.oldSelections,oldModelVersionId:ce.oldModelVersionId,source:ce.source,reason:ce.reason};this._onDidChangeCursorSelection.fire(me);break}case 7:this._onDidChangeModelDecorations.fire(ce.event);break;case 8:this._domElement.setAttribute("data-mode-id",z.getLanguageId()),this._onDidChangeModelLanguage.fire(ce.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ce.event);break;case 10:this._onDidChangeModelContent.fire(ce.event);break;case 11:this._onDidChangeModelOptions.fire(ce.event);break;case 12:this._onDidChangeModelTokens.fire(ce.event);break}}));const[H,K]=this._createView($);if(K){this._domElement.appendChild(H.domNode.domNode);let ce=Object.keys(this._contentWidgets);for(let le=0,he=ce.length;le<he;le++){const me=ce[le];H.addContentWidget(this._contentWidgets[me])}ce=Object.keys(this._overlayWidgets);for(let le=0,he=ce.length;le<he;le++){const me=ce[le];H.addOverlayWidget(this._overlayWidgets[me])}H.render(!1,!0),H.domNode.domNode.setAttribute("data-uri",z.uri.toString())}this._modelData=new Y(z,$,H,K,X)}_createView(z){let X;this.isSimpleWidget?X={paste:(K,ce,le,he)=>{this._paste("keyboard",K,ce,le,he)},type:K=>{this._type("keyboard",K)},compositionType:(K,ce,le,he)=>{this._compositionType("keyboard",K,ce,le,he)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:X={paste:(K,ce,le,he)=>{const me={text:K,pasteOnNewLine:ce,multicursorText:le,mode:he};this._commandService.executeCommand("paste",me)},type:K=>{const ce={text:K};this._commandService.executeCommand("type",ce)},compositionType:(K,ce,le,he)=>{if(le||he){const me={text:K,replacePrevCharCnt:ce,replaceNextCharCnt:le,positionDelta:he};this._commandService.executeCommand("compositionType",me)}else{const me={text:K,replaceCharCnt:ce};this._commandService.executeCommand("replacePreviousChar",me)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const $=new i.ViewUserInputEvents(z.coordinatesConverter);return $.onKeyDown=K=>this._onKeyDown.fire(K),$.onKeyUp=K=>this._onKeyUp.fire(K),$.onContextMenu=K=>this._onContextMenu.fire(K),$.onMouseMove=K=>this._onMouseMove.fire(K),$.onMouseLeave=K=>this._onMouseLeave.fire(K),$.onMouseDown=K=>this._onMouseDown.fire(K),$.onMouseUp=K=>this._onMouseUp.fire(K),$.onMouseDrag=K=>this._onMouseDrag.fire(K),$.onMouseDrop=K=>this._onMouseDrop.fire(K),$.onMouseDropCanceled=K=>this._onMouseDropCanceled.fire(K),$.onMouseWheel=K=>this._onMouseWheel.fire(K),[new n.View(X,this._configuration,this._themeService.getColorTheme(),z,$,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(z){z==null||z.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const z=this._modelData.model,X=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),X&&this._domElement.contains(X)&&this._domElement.removeChild(X),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),z}_removeDecorationType(z){this._codeEditorService.removeDecorationType(z)}hasModel(){return this._modelData!==null}showDropIndicatorAt(z){const X=[{range:new d.Range(z.lineNumber,z.column,z.lineNumber,z.column),options:Tt.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(X),this.revealPosition(z,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};ee.dropIntoEditorDecorationOptions=p.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),ee=ke([fe(3,E.IInstantiationService),fe(4,g.ICodeEditorService),fe(5,C.ICommandService),fe(6,y.IContextKeyService),fe(7,F.IThemeService),fe(8,N.INotificationService),fe(9,O.IAccessibilityService),fe(10,B.ILanguageConfigurationService),fe(11,V.ILanguageFeaturesService)],ee),e.CodeEditorWidget=ee;class U extends L.Disposable{constructor(z){super();this._emitterOptions=z,this._onDidChangeToTrue=this._register(new I.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new I.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(z){const X=z?2:1;this._value!==X&&(this._value=X,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=U;class j extends L.Disposable{constructor(z,X){super();this._editor=z,X.createKey("editorId",z.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(X),this._editorFocus=h.EditorContextKeys.focus.bindTo(X),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(X),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(X),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(X),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(X),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(X),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(X),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(X),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(X),this._canUndo=h.EditorContextKeys.canUndo.bindTo(X),this._canRedo=h.EditorContextKeys.canRedo.bindTo(X),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const z=this._editor.getOptions();this._editorTabMovesFocus.set(z.get(132)),this._editorReadonly.set(z.get(82)),this._inDiffEditor.set(z.get(55)),this._editorColumnSelection.set(z.get(18))}_updateFromSelection(){const z=this._editor.getSelections();z?(this._hasMultipleSelections.set(z.length>1),this._hasNonEmptySelection.set(z.some(X=>!X.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const z=this._editor.getModel();this._canUndo.set(Boolean(z&&z.canUndo())),this._canRedo.set(Boolean(z&&z.canRedo()))}}class Z extends L.Disposable{constructor(z,X,$){super();this._editor=z,this._contextKeyService=X,this._languageFeaturesService=$,this._langId=h.EditorContextKeys.languageId.bindTo(X),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(X),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(X),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(X),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(X),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(X),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(X),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(X),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(X),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(X),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(X),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(X),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(X),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(X),this._hasInlayHintsProvider=h.EditorContextKeys.hasInlayHintsProvider.bindTo(X),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(X),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(X),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(X),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(X),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(X);const H=()=>this._update();this._register(z.onDidChangeModel(H)),this._register(z.onDidChangeModelLanguage(H)),this._register($.completionProvider.onDidChange(H)),this._register($.codeActionProvider.onDidChange(H)),this._register($.codeLensProvider.onDidChange(H)),this._register($.definitionProvider.onDidChange(H)),this._register($.declarationProvider.onDidChange(H)),this._register($.implementationProvider.onDidChange(H)),this._register($.typeDefinitionProvider.onDidChange(H)),this._register($.hoverProvider.onDidChange(H)),this._register($.documentHighlightProvider.onDidChange(H)),this._register($.documentSymbolProvider.onDidChange(H)),this._register($.referenceProvider.onDidChange(H)),this._register($.renameProvider.onDidChange(H)),this._register($.documentFormattingEditProvider.onDidChange(H)),this._register($.documentRangeFormattingEditProvider.onDidChange(H)),this._register($.signatureHelpProvider.onDidChange(H)),this._register($.inlayHintsProvider.onDidChange(H)),H()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const z=this._editor.getModel();if(!z){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(z.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(z)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(z)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(z)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(z)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(z)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(z)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(z)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(z)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(z)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(z)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(z)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(z)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(z)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(z)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(z)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(z)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(z)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(z).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(z).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(z).length>1),this._isInWalkThrough.set(z.uri.scheme===_.Schemas.walkThroughSnippet)})}}e.EditorModeContext=Z;class ie extends L.Disposable{constructor(z){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(v.trackFocus(z)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Q{constructor(z,X){this._editor=z,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(X)&&X.length>0&&this.set(X)}get length(){return this._decorationIds.length}onDidChange(z,X,$){return this._editor.onDidChangeModelDecorations(H=>{this._isChangingDecorations||z.call(X,H)},$)}getRange(z){return!this._editor.hasModel()||z>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[z])}getRanges(){if(!this._editor.hasModel())return[];const z=this._editor.getModel(),X=[];for(const $ of this._decorationIds){const H=z.getDecorationRange($);H&&X.push(H)}return X}has(z){return this._decorationIds.includes(z.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(z){try{this._isChangingDecorations=!0,this._editor.changeDecorations(X=>{this._decorationIds=X.deltaDecorations(this._decorationIds,z)})}finally{this._isChangingDecorations=!1}}}const J=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),de=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function x(oe){return J+encodeURIComponent(oe.toString())+de}const ne=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),te=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function q(oe){return ne+encodeURIComponent(oe.toString())+te}(0,F.registerThemingParticipant)((oe,z)=>{const X=oe.getColor(f.editorErrorBorder);X&&z.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${X}; }`);const $=oe.getColor(f.editorErrorForeground);$&&z.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${x($)}") repeat-x bottom left; }`);const H=oe.getColor(f.editorErrorBackground);H&&z.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${H}; }`);const K=oe.getColor(f.editorWarningBorder);K&&z.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${K}; }`);const ce=oe.getColor(f.editorWarningForeground);ce&&z.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${x(ce)}") repeat-x bottom left; }`);const le=oe.getColor(f.editorWarningBackground);le&&z.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${le}; }`);const he=oe.getColor(f.editorInfoBorder);he&&z.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${he}; }`);const me=oe.getColor(f.editorInfoForeground);me&&z.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${x(me)}") repeat-x bottom left; }`);const Ce=oe.getColor(f.editorInfoBackground);Ce&&z.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ce}; }`);const Le=oe.getColor(f.editorHintBorder);Le&&z.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Le}; }`);const ye=oe.getColor(f.editorHintForeground);ye&&z.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${q(ye)}") no-repeat bottom left; }`);const De=oe.getColor(S.editorUnnecessaryCodeOpacity);De&&z.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${De.rgba.a}; }`);const Ae=oe.getColor(S.editorUnnecessaryCodeBorder);Ae&&z.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Ae}; }`);const pe=oe.getColor(f.editorForeground)||"inherit";z.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${pe}}`)})}),define(se[314],re([1,0,535,7,97,33,137,10,6,2,66,153,29,175,743,38,11,3,92,155,37,250,132,115,74,16,9,169,40,25,15,79,538,93,13,14,71,272,27,151,81,56,638,372]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E,T,N,F,O,P,D,M,R,B,W,V,A,Y,ee){"use strict";var U;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class j{constructor(ue,ae){this._contextMenuService=ue,this._clipboardService=ae,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(ue){return ue.filter(ae=>!this._zonesMap[String(ae.id)])}clean(ue){this._zones.length>0&&ue.changeViewZones(ae=>{for(const ge of this._zones)ae.removeZone(ge)}),this._zones=[],this._zonesMap={},ue.changeDecorations(ae=>{this._decorations=ae.deltaDecorations(this._decorations,[])})}apply(ue,ae,ge,_e){const we=_e?n.StableEditorScrollState.capture(ue):null;ue.changeViewZones(Ee=>{var be;for(const ve of this._zones)Ee.removeZone(ve);for(const ve of this._inlineDiffMargins)ve.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let ve=0,Ie=ge.zones.length;ve<Ie;ve++){const Me=ge.zones[ve];Me.suppressMouseDown=!0;const Te=Ee.addZone(Me);this._zones.push(Te),this._zonesMap[String(Te)]=!0,ge.zones[ve].diff&&Me.marginDomNode&&(Me.suppressMouseDown=!1,((be=ge.zones[ve].diff)===null||be===void 0?void 0:be.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new O.InlineDiffMargin(Te,Me.marginDomNode,ue,ge.zones[ve].diff,this._contextMenuService,this._clipboardService)))}}),we==null||we.restore(ue),ue.changeDecorations(Ee=>{this._decorations=Ee.deltaDecorations(this._decorations,ge.decorations)}),ae==null||ae.setZones(ge.overviewZones)}}let Z=0;const ie=(0,A.registerIcon)("diff-insert",W.Codicon.add,w.localize(0,null)),Q=(0,A.registerIcon)("diff-remove",W.Codicon.remove,w.localize(1,null)),J=(U=window.trustedTypes)===null||U===void 0?void 0:U.createPolicy("diffEditorWidget",{createHTML:pe=>pe});let de=class at extends u.Disposable{constructor(ue,ae,ge,_e,we,Ee,be,ve,Ie,Me,Te){super();this._editorProgressService=Te,this._onDidDispose=this._register(new b.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new b.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new b.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._documentDiffProvider=Ee.createInstance(ee.WorkerBasedDocumentDiffProvider),this._codeEditorService=be,this._contextKeyService=this._register(we.createScoped(ue)),this._instantiationService=Ee.createChild(new y.ServiceCollection([m.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=ve,this._notificationService=Ie,this._id=++Z,this._state=0,this._updatingDiffProgress=null,this._domElement=ue,ae=ae||{},this._options=De(ae,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"smart"}),typeof ae.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",ae.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new _.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=at._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,I.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(v.addStandardDisposableListener(this._overviewDomElement,v.EventType.POINTER_DOWN,Pe=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Pe)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new j(Me,_e),this._modifiedEditorState=new j(Me,_e),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new B.ElementSizeObserver(this._containerDomElement,ae.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),ae.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(ae,ge.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(ae,ge.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Ee.createInstance(o.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new z(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new $(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(ve.onDidColorThemeChange(Pe=>{this._strategy&&this._strategy.applyColors(Pe)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=at._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Fe=D.EditorExtensionsRegistry.getDiffEditorContributions();for(const Pe of Fe)try{this._register(Ee.createInstance(Pe.ctor,this))}catch(We){(0,M.onUnexpectedError)(We)}this._codeEditorService.addDiffEditor(this)}_setState(ue){this._state!==ue&&(this._state=ue,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(ue,ae){let ge="monaco-diff-editor monaco-editor-background ";return ae&&(ge+="side-by-side "),ge+=(0,N.getThemeTypeSelector)(ue.type),ge}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(k.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(ue,ae){const ge=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(ue),ae);this._register(ge.onDidScrollChange(we=>{this._isHandlingScrollEvent||!we.scrollTopChanged&&!we.scrollLeftChanged&&!we.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:we.scrollLeft,scrollTop:we.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ge.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ge.onDidChangeConfiguration(we=>{!ge.getModel()||(we.hasChanged(45)&&this._updateDecorationsRunner.schedule(),we.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ge.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ge.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const _e=this._contextKeyService.createKey("isInDiffLeftEditor",ge.hasWidgetFocus());return this._register(ge.onDidFocusEditorWidget(()=>_e.set(!0))),this._register(ge.onDidBlurEditorWidget(()=>_e.set(!1))),this._register(ge.onDidContentSizeChange(we=>{const Ee=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+at.ONE_OVERVIEW_WIDTH,be=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:be,contentWidth:Ee,contentHeightChanged:we.contentHeightChanged,contentWidthChanged:we.contentWidthChanged})})),ge}_createRightHandSideEditor(ue,ae){const ge=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(ue),ae);this._register(ge.onDidScrollChange(we=>{this._isHandlingScrollEvent||!we.scrollTopChanged&&!we.scrollLeftChanged&&!we.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:we.scrollLeft,scrollTop:we.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ge.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ge.onDidChangeConfiguration(we=>{!ge.getModel()||(we.hasChanged(45)&&this._updateDecorationsRunner.schedule(),we.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ge.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ge.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ge.onDidChangeModelOptions(we=>{we.tabSize&&this._updateDecorationsRunner.schedule()}));const _e=this._contextKeyService.createKey("isInDiffRightEditor",ge.hasWidgetFocus());return this._register(ge.onDidFocusEditorWidget(()=>_e.set(!0))),this._register(ge.onDidBlurEditorWidget(()=>_e.set(!1))),this._register(ge.onDidContentSizeChange(we=>{const Ee=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+at.ONE_OVERVIEW_WIDTH,be=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:be,contentWidth:Ee,contentHeightChanged:we.contentHeightChanged,contentWidthChanged:we.contentWidthChanged})})),this._register(ge.onMouseDown(we=>{var Ee,be;if(!we.event.rightButton&&we.target.position&&((Ee=we.target.element)===null||Ee===void 0?void 0:Ee.className.includes("arrow-revert-change"))){const ve=we.target.position.lineNumber,Ie=(be=this._diffComputationResult)===null||be===void 0?void 0:be.changes.find(Me=>Me.modifiedStartLineNumber===ve-1||Me.modifiedStartLineNumber===ve);Ie&&this.revertChange(Ie),we.event.stopPropagation(),this._updateDecorations();return}})),ge}revertChange(ue){const ae=this._modifiedEditor,ge=this._originalEditor.getModel(),_e=this._modifiedEditor.getModel();if(!ge||!_e||!ae)return;const we=ue.originalEndLineNumber>0?new d.Range(ue.originalStartLineNumber,1,ue.originalEndLineNumber,ge.getLineMaxColumn(ue.originalEndLineNumber)):null,Ee=we?ge.getValueInRange(we):null,be=ue.modifiedEndLineNumber>0?new d.Range(ue.modifiedStartLineNumber,1,ue.modifiedEndLineNumber,_e.getLineMaxColumn(ue.modifiedEndLineNumber)):null,ve=_e.getEOL();if(ue.originalEndLineNumber===0&&be){let Ie=be;ue.modifiedStartLineNumber>1?Ie=be.setStartPosition(ue.modifiedStartLineNumber-1,_e.getLineMaxColumn(ue.modifiedStartLineNumber-1)):ue.modifiedEndLineNumber<_e.getLineCount()&&(Ie=be.setEndPosition(ue.modifiedEndLineNumber+1,1)),ae.executeEdits("diffEditor",[{range:Ie,text:""}])}else if(ue.modifiedEndLineNumber===0&&Ee!==null){const Ie=ue.modifiedStartLineNumber<_e.getLineCount()?new c.Position(ue.modifiedStartLineNumber+1,1):new c.Position(ue.modifiedStartLineNumber,_e.getLineMaxColumn(ue.modifiedStartLineNumber));ae.executeEdits("diffEditor",[{range:d.Range.fromPositions(Ie,Ie),text:ue.modifiedStartLineNumber<_e.getLineCount()?Ee+ve:ve+Ee}])}else be&&Ee!==null&&ae.executeEdits("diffEditor",[{range:be,text:Ee}])}_createInnerEditor(ue,ae,ge,_e){return ue.createInstance(t.CodeEditorWidget,ae,ge,_e)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return s.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(ue){const ae=De(ue,this._options),ge=Ae(this._options,ae);this._options=ae;const _e=ge.ignoreTrimWhitespace||ge.renderIndicators||ge.renderMarginRevertIcon,we=this._isVisible&&(ge.maxComputationTime||ge.maxFileSize||ge.diffAlgorithm);_e?this._beginUpdateDecorations():we&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(ue)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(ue)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),ge.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new z(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new $(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=at._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),ge.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(ue){if(ue&&(!ue.original||!ue.modified))throw new Error(ue.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(ue?ue.original:null),this._modifiedEditor.setModel(ue?ue.modified:null),this._updateDecorationsRunner.cancel(),ue&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),ue&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(ue){return this._modifiedEditor.getVisibleColumnFromPosition(ue)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(ue,ae="api"){this._modifiedEditor.setPosition(ue,ae)}revealLine(ue,ae=0){this._modifiedEditor.revealLine(ue,ae)}revealLineInCenter(ue,ae=0){this._modifiedEditor.revealLineInCenter(ue,ae)}revealLineInCenterIfOutsideViewport(ue,ae=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(ue,ae)}revealLineNearTop(ue,ae=0){this._modifiedEditor.revealLineNearTop(ue,ae)}revealPosition(ue,ae=0){this._modifiedEditor.revealPosition(ue,ae)}revealPositionInCenter(ue,ae=0){this._modifiedEditor.revealPositionInCenter(ue,ae)}revealPositionInCenterIfOutsideViewport(ue,ae=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(ue,ae)}revealPositionNearTop(ue,ae=0){this._modifiedEditor.revealPositionNearTop(ue,ae)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(ue,ae="api"){this._modifiedEditor.setSelection(ue,ae)}setSelections(ue,ae="api"){this._modifiedEditor.setSelections(ue,ae)}revealLines(ue,ae,ge=0){this._modifiedEditor.revealLines(ue,ae,ge)}revealLinesInCenter(ue,ae,ge=0){this._modifiedEditor.revealLinesInCenter(ue,ae,ge)}revealLinesInCenterIfOutsideViewport(ue,ae,ge=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(ue,ae,ge)}revealLinesNearTop(ue,ae,ge=0){this._modifiedEditor.revealLinesNearTop(ue,ae,ge)}revealRange(ue,ae=0,ge=!1,_e=!0){this._modifiedEditor.revealRange(ue,ae,ge,_e)}revealRangeInCenter(ue,ae=0){this._modifiedEditor.revealRangeInCenter(ue,ae)}revealRangeInCenterIfOutsideViewport(ue,ae=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(ue,ae)}revealRangeNearTop(ue,ae=0){this._modifiedEditor.revealRangeNearTop(ue,ae)}revealRangeNearTopIfOutsideViewport(ue,ae=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(ue,ae)}revealRangeAtTop(ue,ae=0){this._modifiedEditor.revealRangeAtTop(ue,ae)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const ue=this._originalEditor.saveViewState(),ae=this._modifiedEditor.saveViewState();return{original:ue,modified:ae}}restoreViewState(ue){if(ue&&ue.original&&ue.modified){const ae=ue;this._originalEditor.restoreViewState(ae.original),this._modifiedEditor.restoreViewState(ae.modified)}}layout(ue){this._elementSizeObserver.observe(ue)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(ue,ae,ge){this._modifiedEditor.trigger(ue,ae,ge)}createDecorationsCollection(ue){return this._modifiedEditor.createDecorationsCollection(ue)}changeDecorations(ue){return this._modifiedEditor.changeDecorations(ue)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const ue=this._elementSizeObserver.getHeight(),ae=this._getReviewHeight(),ge=at.ENTIRE_DIFF_OVERVIEW_WIDTH-2*at.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:at.ONE_OVERVIEW_WIDTH,right:ge+at.ONE_OVERVIEW_WIDTH,height:ue-ae}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:at.ONE_OVERVIEW_WIDTH,height:ue-ae}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),at.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(ue,ae){return!ue&&!ae?!0:!ue||!ae?!1:ue.toString()===ae.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const ue=this._originalEditor.getModel(),ae=this._modifiedEditor.getModel();if(!ue||!ae)return;this._diffComputationToken++;const ge=this._diffComputationToken,_e=this._options.maxFileSize*1024*1024,we=Ee=>{const be=Ee.getValueLength();return _e===0||be<=_e};if(!we(ue)||!we(ae)){(!at._equals(ue.uri,this._lastOriginalWarning)||!at._equals(ae.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=ue.uri,this._lastModifiedWarning=ae.uri,this._notificationService.warn(w.localize(2,null)));return}this._setState(1),this._documentDiffProvider.computeDiff(ue,ae,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTime:this._options.maxComputationTime,diffAlgorithm:this._options.diffAlgorithm}).then(Ee=>{ge===this._diffComputationToken&&ue===this._originalEditor.getModel()&&ae===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:Ee.identical,quitEarly:Ee.quitEarly,changes:Ee.changes.map(be=>{let ve,Ie,Me,Te,Fe=be.innerChanges;return be.originalRange.isEmpty?(ve=be.originalRange.startLineNumber-1,Ie=0,Fe=void 0):(ve=be.originalRange.startLineNumber,Ie=be.originalRange.endLineNumberExclusive-1),be.modifiedRange.isEmpty?(Me=be.modifiedRange.startLineNumber-1,Te=0,Fe=void 0):(Me=be.modifiedRange.startLineNumber,Te=be.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:ve,originalEndLineNumber:Ie,modifiedStartLineNumber:Me,modifiedEndLineNumber:Te,charChanges:Fe==null?void 0:Fe.map(Pe=>({originalStartLineNumber:Pe.originalRange.startLineNumber,originalStartColumn:Pe.originalRange.startColumn,originalEndLineNumber:Pe.originalRange.endLineNumber,originalEndColumn:Pe.originalRange.endColumn,modifiedStartLineNumber:Pe.modifiedRange.startLineNumber,modifiedStartColumn:Pe.modifiedRange.startColumn,modifiedEndLineNumber:Pe.modifiedRange.endLineNumber,modifiedEndColumn:Pe.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},Ee=>{ge===this._diffComputationToken&&ue===this._originalEditor.getModel()&&ae===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const ue=this._diffComputationResult?this._diffComputationResult.changes:[],ae=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),ge=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),_e=this._strategy.getEditorsDiffDecorations(ue,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,ae,ge);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,_e.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,_e.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(ue){const ae=Object.assign({},ue);return ae.inDiffEditor=!0,ae.automaticLayout=!1,ae.scrollbar=Object.assign({},ae.scrollbar||{}),ae.scrollbar.vertical="visible",ae.folding=!1,ae.codeLens=this._options.diffCodeLens,ae.fixedOverflowWidgets=!0,ae.minimap=Object.assign({},ae.minimap||{}),ae.minimap.enabled=!1,ae}_adjustOptionsForLeftHandSide(ue){const ae=this._adjustOptionsForSubEditor(ue);return this._options.renderSideBySide?ae.wordWrapOverride1=this._options.diffWordWrap:(ae.wordWrapOverride1="off",ae.wordWrapOverride2="off"),ue.originalAriaLabel&&(ae.ariaLabel=ue.originalAriaLabel),ae.readOnly=!this._options.originalEditable,ae.dropIntoEditor={enabled:!ae.readOnly},ae.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ae),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(ue){const ae=this._adjustOptionsForSubEditor(ue);return ue.modifiedAriaLabel&&(ae.ariaLabel=ue.modifiedAriaLabel),ae.wordWrapOverride1=this._options.diffWordWrap,ae.revealHorizontalRightPadding=r.EditorOptions.revealHorizontalRightPadding.defaultValue+at.ENTIRE_DIFF_OVERVIEW_WIDTH,ae.scrollbar.verticalHasArrows=!1,ae.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ae),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const ue=this._elementSizeObserver.getWidth(),ae=this._elementSizeObserver.getHeight(),ge=this._getReviewHeight(),_e=this._strategy.layout();this._originalDomNode.style.width=_e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=ue-_e+"px",this._modifiedDomNode.style.left=_e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=ae-ge+"px",this._overviewDomElement.style.width=at.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=ue-at.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(at.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:_e,height:ae-ge}),this._modifiedEditor.layout({width:ue-_e-(this._options.renderOverviewRuler?at.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ae-ge}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(ae-ge,ue,ge),this._layoutOverviewViewport()}_layoutOverviewViewport(){const ue=this._computeOverviewViewport();ue?(this._overviewViewportDomElement.setTop(ue.top),this._overviewViewportDomElement.setHeight(ue.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const ue=this._modifiedEditor.getLayoutInfo();if(!ue)return null;const ae=this._modifiedEditor.getScrollTop(),ge=this._modifiedEditor.getScrollHeight(),_e=Math.max(0,ue.height),we=Math.max(0,_e-2*0),Ee=ge>0?we/ge:0,be=Math.max(0,Math.floor(ue.height*Ee)),ve=Math.floor(ae*Ee);return{height:be,top:ve}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(ue){var ae;(ae=this._strategy)===null||ae===void 0||ae.dispose(),this._strategy=ue,ue.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(ue,ae){const ge=this._diffComputationResult?this._diffComputationResult.changes:[];if(ge.length===0||ue<ae(ge[0]))return null;let _e=0,we=ge.length-1;for(;_e<we;){const Ee=Math.floor((_e+we)/2),be=ae(ge[Ee]),ve=Ee+1<=we?ae(ge[Ee+1]):1073741824;ue<be?we=Ee-1:ue>=ve?_e=Ee+1:(_e=Ee,we=Ee)}return ge[_e]}_getEquivalentLineForOriginalLineNumber(ue){const ae=this._getLineChangeAtOrBeforeLineNumber(ue,ve=>ve.originalStartLineNumber);if(!ae)return ue;const ge=ae.originalStartLineNumber+(ae.originalEndLineNumber>0?-1:0),_e=ae.modifiedStartLineNumber+(ae.modifiedEndLineNumber>0?-1:0),we=ae.originalEndLineNumber>0?ae.originalEndLineNumber-ae.originalStartLineNumber+1:0,Ee=ae.modifiedEndLineNumber>0?ae.modifiedEndLineNumber-ae.modifiedStartLineNumber+1:0,be=ue-ge;return be<=we?_e+Math.min(be,Ee):_e+Ee-we+be}_getEquivalentLineForModifiedLineNumber(ue){const ae=this._getLineChangeAtOrBeforeLineNumber(ue,ve=>ve.modifiedStartLineNumber);if(!ae)return ue;const ge=ae.originalStartLineNumber+(ae.originalEndLineNumber>0?-1:0),_e=ae.modifiedStartLineNumber+(ae.modifiedEndLineNumber>0?-1:0),we=ae.originalEndLineNumber>0?ae.originalEndLineNumber-ae.originalStartLineNumber+1:0,Ee=ae.modifiedEndLineNumber>0?ae.modifiedEndLineNumber-ae.modifiedStartLineNumber+1:0,be=ue-_e;return be<=Ee?ge+Math.min(be,we):ge+we-Ee+be}getDiffLineInformationForOriginal(ue){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(ue)}:null}getDiffLineInformationForModified(ue){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(ue)}:null}};de.ONE_OVERVIEW_WIDTH=15,de.ENTIRE_DIFF_OVERVIEW_WIDTH=30,de.UPDATE_DIFF_DECORATIONS_DELAY=200,de=ke([fe(3,P.IClipboardService),fe(4,m.IContextKeyService),fe(5,C.IInstantiationService),fe(6,i.ICodeEditorService),fe(7,N.IThemeService),fe(8,E.INotificationService),fe(9,F.IContextMenuService),fe(10,R.IEditorProgressService)],de),e.DiffEditorWidget=de;class x extends u.Disposable{constructor(ue){super();this._dataSource=ue,this._insertColor=null,this._removeColor=null}applyColors(ue){const ae=ue.getColor(T.diffOverviewRulerInserted)||(ue.getColor(T.diffInserted)||T.defaultInsertColor).transparent(2),ge=ue.getColor(T.diffOverviewRulerRemoved)||(ue.getColor(T.diffRemoved)||T.defaultRemoveColor).transparent(2),_e=!ae.equals(this._insertColor)||!ge.equals(this._removeColor);return this._insertColor=ae,this._removeColor=ge,_e}getEditorsDiffDecorations(ue,ae,ge,_e,we,Ee){Ee=Ee.sort((Me,Te)=>Me.afterLineNumber-Te.afterLineNumber),we=we.sort((Me,Te)=>Me.afterLineNumber-Te.afterLineNumber);const be=this._getViewZones(ue,we,Ee,ge),ve=this._getOriginalEditorDecorations(be,ue,ae,ge),Ie=this._getModifiedEditorDecorations(be,ue,ae,ge,_e);return{original:{decorations:ve.decorations,overviewZones:ve.overviewZones,zones:be.original},modified:{decorations:Ie.decorations,overviewZones:Ie.overviewZones,zones:be.modified}}}}class ne{constructor(ue){this._source=ue,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class te{constructor(ue,ae,ge,_e,we){this._lineChanges=ue,this._originalForeignVZ=ae,this._modifiedForeignVZ=ge,this._originalEditor=_e,this._modifiedEditor=we}static _getViewLineCount(ue,ae,ge){const _e=ue.getModel(),we=ue._getViewModel();if(_e&&we){const Ee=ye(_e,we,ae,ge);return Ee.endLineNumber-Ee.startLineNumber+1}return ge-ae+1}getViewZones(){const ue=this._originalEditor.getOption(60),ae=this._modifiedEditor.getOption(60),ge=this._originalEditor.getOption(134).wrappingColumn!==-1,_e=this._modifiedEditor.getOption(134).wrappingColumn!==-1,we=ge||_e,Ee=this._originalEditor.getModel(),be=this._originalEditor._getViewModel().coordinatesConverter,ve=this._modifiedEditor._getViewModel().coordinatesConverter,Ie={original:[],modified:[]};let Me=0,Te=0,Fe=0,Pe=0,We=0,He=0;const Xe=(Oe,Ve)=>Oe.afterLineNumber-Ve.afterLineNumber,it=(Oe,Ve)=>{if(Ve.domNode===null&&Oe.length>0){const xe=Oe[Oe.length-1];if(xe.afterLineNumber===Ve.afterLineNumber&&xe.domNode===null){xe.heightInLines+=Ve.heightInLines;return}}Oe.push(Ve)},nt=new ne(this._modifiedForeignVZ),st=new ne(this._originalForeignVZ);let ze=1,Ne=1;for(let Oe=0,Ve=this._lineChanges.length;Oe<=Ve;Oe++){const xe=Oe<Ve?this._lineChanges[Oe]:null;xe!==null?(Fe=xe.originalStartLineNumber+(xe.originalEndLineNumber>0?-1:0),Pe=xe.modifiedStartLineNumber+(xe.modifiedEndLineNumber>0?-1:0),Te=xe.originalEndLineNumber>0?te._getViewLineCount(this._originalEditor,xe.originalStartLineNumber,xe.originalEndLineNumber):0,Me=xe.modifiedEndLineNumber>0?te._getViewLineCount(this._modifiedEditor,xe.modifiedStartLineNumber,xe.modifiedEndLineNumber):0,We=Math.max(xe.originalStartLineNumber,xe.originalEndLineNumber),He=Math.max(xe.modifiedStartLineNumber,xe.modifiedEndLineNumber)):(Fe+=1e7+Te,Pe+=1e7+Me,We=Fe,He=Pe);let Je=[],Ye=[];if(we){let qe;xe?xe.originalEndLineNumber>0?qe=xe.originalStartLineNumber-ze:qe=xe.modifiedStartLineNumber-Ne:qe=Ee.getLineCount()-ze+1;for(let Ue=0;Ue<qe;Ue++){const Re=ze+Ue,Be=Ne+Ue,Ke=be.getModelLineViewLineCount(Re),je=ve.getModelLineViewLineCount(Be);Ke<je?Je.push({afterLineNumber:Re,heightInLines:je-Ke,domNode:null,marginDomNode:null}):Ke>je&&Ye.push({afterLineNumber:Be,heightInLines:Ke-je,domNode:null,marginDomNode:null})}xe&&(ze=(xe.originalEndLineNumber>0?xe.originalEndLineNumber:xe.originalStartLineNumber)+1,Ne=(xe.modifiedEndLineNumber>0?xe.modifiedEndLineNumber:xe.modifiedStartLineNumber)+1)}for(;nt.current&&nt.current.afterLineNumber<=He;){let qe;nt.current.afterLineNumber<=Pe?qe=Fe-Pe+nt.current.afterLineNumber:qe=We;let Ue=null;xe&&xe.modifiedStartLineNumber<=nt.current.afterLineNumber&&nt.current.afterLineNumber<=xe.modifiedEndLineNumber&&(Ue=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Je.push({afterLineNumber:qe,heightInLines:nt.current.height/ae,domNode:null,marginDomNode:Ue}),nt.advance()}for(;st.current&&st.current.afterLineNumber<=We;){let qe;st.current.afterLineNumber<=Fe?qe=Pe-Fe+st.current.afterLineNumber:qe=He,Ye.push({afterLineNumber:qe,heightInLines:st.current.height/ue,domNode:null}),st.advance()}if(xe!==null&&ce(xe)){const qe=this._produceOriginalFromDiff(xe,Te,Me);qe&&Je.push(qe)}if(xe!==null&&le(xe)){const qe=this._produceModifiedFromDiff(xe,Te,Me);qe&&Ye.push(qe)}let $e=0,et=0;for(Je=Je.sort(Xe),Ye=Ye.sort(Xe);$e<Je.length&&et<Ye.length;){const qe=Je[$e],Ue=Ye[et],Re=qe.afterLineNumber-Fe,Be=Ue.afterLineNumber-Pe;Re<Be?(it(Ie.original,qe),$e++):Be<Re?(it(Ie.modified,Ue),et++):qe.shouldNotShrink?(it(Ie.original,qe),$e++):Ue.shouldNotShrink?(it(Ie.modified,Ue),et++):qe.heightInLines>=Ue.heightInLines?(qe.heightInLines-=Ue.heightInLines,et++):(Ue.heightInLines-=qe.heightInLines,$e++)}for(;$e<Je.length;)it(Ie.original,Je[$e]),$e++;for(;et<Ye.length;)it(Ie.modified,Ye[et]),et++}return{original:te._ensureDomNodes(Ie.original),modified:te._ensureDomNodes(Ie.modified)}}static _ensureDomNodes(ue){return ue.map(ae=>(ae.domNode||(ae.domNode=Ce()),ae))}}function q(pe,ue,ae,ge,_e){return{range:new d.Range(pe,ue,ae,ge),options:_e}}const oe={arrowRevertChange:l.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+N.ThemeIcon.asClassName(W.Codicon.arrowRight)}),charDelete:l.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:l.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:l.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:l.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:l.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:l.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+N.ThemeIcon.asClassName(ie),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:l.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:l.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+N.ThemeIcon.asClassName(Q),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:l.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class z extends x{constructor(ue,ae){super(ue);this._disableSash=ae===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new L.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(ge=>this._onSashDrag(ge)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(ue){const ae=ue===!1;this._disableSash!==ae&&(this._disableSash=ae,this._sash.state=this._disableSash?0:3)}layout(ue=this._sashRatio){const ge=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?de.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let _e=Math.floor((ue||.5)*ge);const we=Math.floor(.5*ge);return _e=this._disableSash?we:_e||we,ge>z.MINIMUM_EDITOR_WIDTH*2?(_e<z.MINIMUM_EDITOR_WIDTH&&(_e=z.MINIMUM_EDITOR_WIDTH),_e>ge-z.MINIMUM_EDITOR_WIDTH&&(_e=ge-z.MINIMUM_EDITOR_WIDTH)):_e=we,this._sashPosition!==_e&&(this._sashPosition=_e),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(ue){const ge=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?de.ENTIRE_DIFF_OVERVIEW_WIDTH:0),_e=this.layout((this._startSashPosition+(ue.currentX-ue.startX))/ge);this._sashRatio=_e/ge,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(ue){return 0}getVerticalSashLeft(ue){return this._sashPosition}getVerticalSashHeight(ue){return this._dataSource.getHeight()}_getViewZones(ue,ae,ge){const _e=this._dataSource.getOriginalEditor(),we=this._dataSource.getModifiedEditor();return new X(ue,ae,ge,_e,we).getViewZones()}_getOriginalEditorDecorations(ue,ae,ge,_e){const we=this._dataSource.getOriginalEditor(),Ee=String(this._removeColor),be={decorations:[],overviewZones:[]},ve=we.getModel(),Ie=we._getViewModel();for(const Me of ae)if(le(Me)){be.decorations.push({range:new d.Range(Me.originalStartLineNumber,1,Me.originalEndLineNumber,1073741824),options:_e?oe.lineDeleteWithSign:oe.lineDelete}),(!ce(Me)||!Me.charChanges)&&be.decorations.push(q(Me.originalStartLineNumber,1,Me.originalEndLineNumber,1073741824,oe.charDeleteWholeLine));const Te=ye(ve,Ie,Me.originalStartLineNumber,Me.originalEndLineNumber);if(be.overviewZones.push(new h.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,0,Ee)),Me.charChanges){for(const Fe of Me.charChanges)if(me(Fe))if(ge)for(let Pe=Fe.originalStartLineNumber;Pe<=Fe.originalEndLineNumber;Pe++){let We,He;Pe===Fe.originalStartLineNumber?We=Fe.originalStartColumn:We=ve.getLineFirstNonWhitespaceColumn(Pe),Pe===Fe.originalEndLineNumber?He=Fe.originalEndColumn:He=ve.getLineLastNonWhitespaceColumn(Pe),be.decorations.push(q(Pe,We,Pe,He,oe.charDelete))}else be.decorations.push(q(Fe.originalStartLineNumber,Fe.originalStartColumn,Fe.originalEndLineNumber,Fe.originalEndColumn,oe.charDelete))}}return be}_getModifiedEditorDecorations(ue,ae,ge,_e,we){const Ee=this._dataSource.getModifiedEditor(),be=String(this._insertColor),ve={decorations:[],overviewZones:[]},Ie=Ee.getModel(),Me=Ee._getViewModel();for(const Te of ae){if(we)if(Te.modifiedEndLineNumber>0)ve.decorations.push({range:new d.Range(Te.modifiedStartLineNumber,1,Te.modifiedStartLineNumber,1),options:oe.arrowRevertChange});else{const Fe=ue.modified.find(Pe=>Pe.afterLineNumber===Te.modifiedStartLineNumber);Fe&&(Fe.marginDomNode=Le())}if(ce(Te)){ve.decorations.push({range:new d.Range(Te.modifiedStartLineNumber,1,Te.modifiedEndLineNumber,1073741824),options:_e?oe.lineInsertWithSign:oe.lineInsert}),(!le(Te)||!Te.charChanges)&&ve.decorations.push(q(Te.modifiedStartLineNumber,1,Te.modifiedEndLineNumber,1073741824,oe.charInsertWholeLine));const Fe=ye(Ie,Me,Te.modifiedStartLineNumber,Te.modifiedEndLineNumber);if(ve.overviewZones.push(new h.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,0,be)),Te.charChanges){for(const Pe of Te.charChanges)if(he(Pe))if(ge)for(let We=Pe.modifiedStartLineNumber;We<=Pe.modifiedEndLineNumber;We++){let He,Xe;We===Pe.modifiedStartLineNumber?He=Pe.modifiedStartColumn:He=Ie.getLineFirstNonWhitespaceColumn(We),We===Pe.modifiedEndLineNumber?Xe=Pe.modifiedEndColumn:Xe=Ie.getLineLastNonWhitespaceColumn(We),ve.decorations.push(q(We,He,We,Xe,oe.charInsert))}else ve.decorations.push(q(Pe.modifiedStartLineNumber,Pe.modifiedStartColumn,Pe.modifiedEndLineNumber,Pe.modifiedEndColumn,oe.charInsert))}}}return ve}}z.MINIMUM_EDITOR_WIDTH=100;class X extends te{constructor(ue,ae,ge,_e,we){super(ue,ae,ge,_e,we)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(ue,ae,ge){return ge>ae?{afterLineNumber:Math.max(ue.originalStartLineNumber,ue.originalEndLineNumber),heightInLines:ge-ae,domNode:null}:null}_produceModifiedFromDiff(ue,ae,ge){return ae>ge?{afterLineNumber:Math.max(ue.modifiedStartLineNumber,ue.modifiedEndLineNumber),heightInLines:ae-ge,domNode:null}:null}}class $ extends x{constructor(ue,ae){super(ue);this._decorationsLeft=ue.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(ue.getOriginalEditor().onDidLayoutChange(ge=>{this._decorationsLeft!==ge.decorationsLeft&&(this._decorationsLeft=ge.decorationsLeft,ue.relayoutEditors())}))}setEnableSplitViewResizing(ue){}_getViewZones(ue,ae,ge,_e){const we=this._dataSource.getOriginalEditor(),Ee=this._dataSource.getModifiedEditor();return new H(ue,ae,ge,we,Ee,_e).getViewZones()}_getOriginalEditorDecorations(ue,ae,ge,_e){const we=String(this._removeColor),Ee={decorations:[],overviewZones:[]},be=this._dataSource.getOriginalEditor(),ve=be.getModel(),Ie=be._getViewModel();let Me=0;for(const Te of ae)if(le(Te)){for(Ee.decorations.push({range:new d.Range(Te.originalStartLineNumber,1,Te.originalEndLineNumber,1073741824),options:oe.lineDeleteMargin});Me<ue.modified.length;){const We=ue.modified[Me];if(We.diff&&We.diff.originalStartLineNumber>=Te.originalStartLineNumber)break;Me++}let Fe=0;if(Me<ue.modified.length){const We=ue.modified[Me];We.diff&&We.diff.originalStartLineNumber===Te.originalStartLineNumber&&We.diff.originalEndLineNumber===Te.originalEndLineNumber&&We.diff.modifiedStartLineNumber===Te.modifiedStartLineNumber&&We.diff.modifiedEndLineNumber===Te.modifiedEndLineNumber&&(Fe=We.heightInLines)}const Pe=ye(ve,Ie,Te.originalStartLineNumber,Te.originalEndLineNumber);Ee.overviewZones.push(new h.OverviewRulerZone(Pe.startLineNumber,Pe.endLineNumber,Fe,we))}return Ee}_getModifiedEditorDecorations(ue,ae,ge,_e,we){const Ee=this._dataSource.getModifiedEditor(),be=String(this._insertColor),ve={decorations:[],overviewZones:[]},Ie=Ee.getModel(),Me=Ee._getViewModel();for(const Te of ae)if(ce(Te)){ve.decorations.push({range:new d.Range(Te.modifiedStartLineNumber,1,Te.modifiedEndLineNumber,1073741824),options:_e?oe.lineInsertWithSign:oe.lineInsert});const Fe=ye(Ie,Me,Te.modifiedStartLineNumber,Te.modifiedEndLineNumber);if(ve.overviewZones.push(new h.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,0,be)),Te.charChanges){for(const Pe of Te.charChanges)if(he(Pe))if(ge)for(let We=Pe.modifiedStartLineNumber;We<=Pe.modifiedEndLineNumber;We++){let He,Xe;We===Pe.modifiedStartLineNumber?He=Pe.modifiedStartColumn:He=Ie.getLineFirstNonWhitespaceColumn(We),We===Pe.modifiedEndLineNumber?Xe=Pe.modifiedEndColumn:Xe=Ie.getLineLastNonWhitespaceColumn(We),ve.decorations.push(q(We,He,We,Xe,oe.charInsert))}else ve.decorations.push(q(Pe.modifiedStartLineNumber,Pe.modifiedStartColumn,Pe.modifiedEndLineNumber,Pe.modifiedEndColumn,oe.charInsert))}else ve.decorations.push(q(Te.modifiedStartLineNumber,1,Te.modifiedEndLineNumber,1073741824,oe.charInsertWholeLine))}return ve}layout(){return Math.max(5,this._decorationsLeft)}}class H extends te{constructor(ue,ae,ge,_e,we,Ee){super(ue,ae,ge,_e,we);this._originalModel=_e.getModel(),this._renderIndicators=Ee,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const ue=super.getViewZones();return this._finalize(ue),ue}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const ue=document.createElement("div");return ue.className="inline-added-margin-view-zone",ue}_produceOriginalFromDiff(ue,ae,ge){const _e=document.createElement("div");return _e.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(ue.originalStartLineNumber,ue.originalEndLineNumber),heightInLines:ge,domNode:document.createElement("div"),marginDomNode:_e}}_produceModifiedFromDiff(ue,ae,ge){const _e=document.createElement("div");_e.className=`view-lines line-delete ${V.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const we=document.createElement("div");we.className="inline-deleted-margin-view-zone";const Ee={shouldNotShrink:!0,afterLineNumber:ue.modifiedEndLineNumber===0?ue.modifiedStartLineNumber:ue.modifiedStartLineNumber-1,heightInLines:ae,minWidthInPx:0,domNode:_e,marginDomNode:we,diff:{originalStartLineNumber:ue.originalStartLineNumber,originalEndLineNumber:ue.originalEndLineNumber,modifiedStartLineNumber:ue.modifiedStartLineNumber,modifiedEndLineNumber:ue.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let be=ue.originalStartLineNumber;be<=ue.originalEndLineNumber;be++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(be),null,null);return this._pendingLineChange.push(ue),this._pendingViewZones.push(Ee),Ee}_finalize(ue){const ae=this._modifiedEditor.getOptions(),ge=this._modifiedEditor.getModel().getOptions().tabSize,_e=ae.get(45),we=ae.get(29),Ee=_e.typicalHalfwidthCharacterWidth,be=ae.get(94),ve=this._originalModel.mightContainNonBasicASCII(),Ie=this._originalModel.mightContainRTL(),Me=ae.get(60),Fe=ae.get(133).decorationsWidth,Pe=ae.get(107),We=ae.get(89),He=ae.get(84),Xe=ae.get(46),it=this._lineBreaksComputer.finalize();let nt=0;for(let st=0;st<this._pendingLineChange.length;st++){const ze=this._pendingLineChange[st],Ne=this._pendingViewZones[st],Oe=Ne.domNode;(0,g.applyFontInfo)(Oe,_e);const Ve=Ne.marginDomNode;(0,g.applyFontInfo)(Ve,_e);const xe=[];if(ze.charChanges)for(const Be of ze.charChanges)me(Be)&&xe.push(new f.InlineDecoration(new d.Range(Be.originalStartLineNumber,Be.originalStartColumn,Be.originalEndLineNumber,Be.originalEndColumn),"char-delete",0));const Je=xe.length>0,Ye=(0,a.createStringBuilder)(1e4);let $e=0,et=0,qe=null;for(let Be=ze.originalStartLineNumber;Be<=ze.originalEndLineNumber;Be++){const Ke=Be-ze.originalStartLineNumber,je=this._originalModel.tokenization.getLineTokens(Be),tt=je.getLineContent(),Ge=it[nt++],Ze=p.LineDecoration.filter(xe,Be,1,tt.length+1);if(Ge){let ot=0;for(const ut of Ge.breakOffsets){const gt=je.sliceAndInflate(ot,ut,0),ct=tt.substring(ot,ut);$e=Math.max($e,this._renderOriginalLine(et++,ct,gt,p.LineDecoration.extractWrapped(Ze,ot,ut),Je,ve,Ie,_e,we,Me,Fe,Pe,We,He,Xe,ge,Ye,Ve)),ot=ut}for(qe||(qe=[]);qe.length<Ke;)qe[qe.length]=1;qe[Ke]=Ge.breakOffsets.length,Ne.heightInLines+=Ge.breakOffsets.length-1;const dt=document.createElement("div");dt.className="gutter-delete",ue.original.push({afterLineNumber:Be,afterColumn:0,heightInLines:Ge.breakOffsets.length-1,domNode:Ce(),marginDomNode:dt})}else $e=Math.max($e,this._renderOriginalLine(et++,tt,je,Ze,Je,ve,Ie,_e,we,Me,Fe,Pe,We,He,Xe,ge,Ye,Ve))}$e+=be;const Ue=Ye.build(),Re=J?J.createHTML(Ue):Ue;if(Oe.innerHTML=Re,Ne.minWidthInPx=$e*Ee,qe){const Be=ze.originalEndLineNumber-ze.originalStartLineNumber;for(;qe.length<=Be;)qe[qe.length]=1}Ne.diff.viewLineCounts=qe}ue.original.sort((st,ze)=>st.afterLineNumber-ze.afterLineNumber)}_renderOriginalLine(ue,ae,ge,_e,we,Ee,be,ve,Ie,Me,Te,Fe,Pe,We,He,Xe,it,nt){it.appendASCIIString('<div class="view-line'),we||it.appendASCIIString(" char-delete"),it.appendASCIIString('" style="top:'),it.appendASCIIString(String(ue*Me)),it.appendASCIIString('px;width:1000000px;">');const st=f.ViewLineRenderingData.isBasicASCII(ae,Ee),ze=f.ViewLineRenderingData.containsRTL(ae,st,be),Ne=(0,S.renderViewLine)(new S.RenderLineInput(ve.isMonospace&&!Ie,ve.canUseHalfwidthRightwardsArrow,ae,!1,st,ze,0,ge,_e,Xe,0,ve.spaceWidth,ve.middotWidth,ve.wsmiddotWidth,Fe,Pe,We,He!==r.EditorFontLigatures.OFF,null),it);if(it.appendASCIIString("</div>"),this._renderIndicators){const Oe=document.createElement("div");Oe.className=`delete-sign ${N.ThemeIcon.asClassName(Q)}`,Oe.setAttribute("style",`position:absolute;top:${ue*Me}px;width:${Te}px;height:${Me}px;right:0;`),nt.appendChild(Oe)}return Ne.characterMapping.getHorizontalOffset(Ne.characterMapping.length)}}function K(pe,ue){return(0,r.stringSet)(pe,ue,["off","on","inherit"])}function ce(pe){return pe.modifiedEndLineNumber>0}function le(pe){return pe.originalEndLineNumber>0}function he(pe){return pe.modifiedStartLineNumber===pe.modifiedEndLineNumber?pe.modifiedEndColumn-pe.modifiedStartColumn>0:pe.modifiedEndLineNumber-pe.modifiedStartLineNumber>0}function me(pe){return pe.originalStartLineNumber===pe.originalEndLineNumber?pe.originalEndColumn-pe.originalStartColumn>0:pe.originalEndLineNumber-pe.originalStartLineNumber>0}function Ce(){const pe=document.createElement("div");return pe.className="diagonal-fill",pe}function Le(){const pe=document.createElement("div");return pe.className="arrow-revert-change "+N.ThemeIcon.asClassName(W.Codicon.arrowRight),v.$("div",{},pe)}function ye(pe,ue,ae,ge){const _e=pe.getLineCount();return ae=Math.min(_e,Math.max(1,ae)),ge=Math.min(_e,Math.max(1,ge)),ue.coordinatesConverter.convertModelRangeToViewRange(new d.Range(ae,pe.getLineMinColumn(ae),ge,pe.getLineMaxColumn(ge)))}function De(pe,ue){return{enableSplitViewResizing:(0,r.boolean)(pe.enableSplitViewResizing,ue.enableSplitViewResizing),renderSideBySide:(0,r.boolean)(pe.renderSideBySide,ue.renderSideBySide),renderMarginRevertIcon:(0,r.boolean)(pe.renderMarginRevertIcon,ue.renderMarginRevertIcon),maxComputationTime:(0,r.clampedInt)(pe.maxComputationTime,ue.maxComputationTime,0,1073741824),maxFileSize:(0,r.clampedInt)(pe.maxFileSize,ue.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,r.boolean)(pe.ignoreTrimWhitespace,ue.ignoreTrimWhitespace),renderIndicators:(0,r.boolean)(pe.renderIndicators,ue.renderIndicators),originalEditable:(0,r.boolean)(pe.originalEditable,ue.originalEditable),diffCodeLens:(0,r.boolean)(pe.diffCodeLens,ue.diffCodeLens),renderOverviewRuler:(0,r.boolean)(pe.renderOverviewRuler,ue.renderOverviewRuler),diffWordWrap:K(pe.diffWordWrap,ue.diffWordWrap),diffAlgorithm:(0,r.stringSet)(pe.diffAlgorithm,ue.diffAlgorithm,["smart","experimental"])}}function Ae(pe,ue){return{enableSplitViewResizing:pe.enableSplitViewResizing!==ue.enableSplitViewResizing,renderSideBySide:pe.renderSideBySide!==ue.renderSideBySide,renderMarginRevertIcon:pe.renderMarginRevertIcon!==ue.renderMarginRevertIcon,maxComputationTime:pe.maxComputationTime!==ue.maxComputationTime,maxFileSize:pe.maxFileSize!==ue.maxFileSize,ignoreTrimWhitespace:pe.ignoreTrimWhitespace!==ue.ignoreTrimWhitespace,renderIndicators:pe.renderIndicators!==ue.renderIndicators,originalEditable:pe.originalEditable!==ue.originalEditable,diffCodeLens:pe.diffCodeLens!==ue.diffCodeLens,renderOverviewRuler:pe.renderOverviewRuler!==ue.renderOverviewRuler,diffWordWrap:pe.diffWordWrap!==ue.diffWordWrap,diffAlgorithm:pe.diffAlgorithm!==ue.diffAlgorithm}}(0,N.registerThemingParticipant)((pe,ue)=>{const ae=pe.getColor(T.diffInserted);ae&&ue.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${ae}; }`);const ge=pe.getColor(T.diffInsertedLine)||ae;ge&&ue.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${ge}; }`);const _e=pe.getColor(T.diffInsertedLineGutter)||ge;_e&&(ue.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${_e}; }`),ue.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${_e}; }`));const we=pe.getColor(T.diffRemoved);we&&ue.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${we}; }`);const Ee=pe.getColor(T.diffRemovedLine)||we;Ee&&ue.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${Ee}; }`);const be=pe.getColor(T.diffRemovedLineGutter)||Ee;be&&(ue.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${be}; }`),ue.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${be}; }`));const ve=pe.getColor(T.diffInsertedOutline);ve&&ue.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,Y.isHighContrast)(pe.type)?"dashed":"solid"} ${ve}; }`);const Ie=pe.getColor(T.diffRemovedOutline);Ie&&ue.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,Y.isHighContrast)(pe.type)?"dashed":"solid"} ${Ie}; }`);const Me=pe.getColor(T.scrollbarShadow);Me&&ue.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Me}; }`);const Te=pe.getColor(T.diffBorder);Te&&ue.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Te}; }`);const Fe=pe.getColor(T.scrollbarSliderBackground);Fe&&ue.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Fe};
			}
		`);const Pe=pe.getColor(T.scrollbarSliderHoverBackground);Pe&&ue.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Pe};
			}
		`);const We=pe.getColor(T.scrollbarSliderActiveBackground);We&&ue.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${We};
			}
		`);const He=pe.getColor(T.diffDiagonalFill);ue.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${He} 12.5%,
			#0000 12.5%, #0000 50%,
			${He} 50%, ${He} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(se[176],re([1,0,35,29,175,26,16,9,40,15,78,32,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let t=class extends k.CodeEditorWidget{constructor(r,c,d,a,s,l,h,p,S,f,m,C){super(r,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),{},a,s,l,h,p,S,f,m,C);this._parentEditor=d,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(y=>this._onParentConfigurationChanged(y)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){w.mixin(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};t=ke([fe(3,_.IInstantiationService),fe(4,v.ICodeEditorService),fe(5,I.ICommandService),fe(6,L.IContextKeyService),fe(7,u.IThemeService),fe(8,b.INotificationService),fe(9,g.IAccessibilityService),fe(10,n.ILanguageConfigurationService),fe(11,i.ILanguageFeaturesService)],t),e.EmbeddedCodeEditorWidget=t}),define(se[752],re([1,0,10,2,13,11,3,23,24,46,37,54,548,36,25,15,376]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const c=(0,o.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},i.localize(0,null));class d extends k.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:i.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(p,S){var f;(f=l.get(S))===null||f===void 0||f.jumpToBracket()}}class a extends k.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:i.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(p,S,f){var m;let C=!0;f&&f.selectBrackets===!1&&(C=!1),(m=l.get(S))===null||m===void 0||m.selectToBracket(C)}}class s{constructor(p,S,f){this.position=p,this.brackets=S,this.options=f}}class l extends v.Disposable{constructor(p){super();this._editor=p,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new w.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(65),this._updateBracketsSoon.schedule(),this._register(p.onDidChangeCursorPosition(S=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelContent(S=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModel(S=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelLanguageConfiguration(S=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeConfiguration(S=>{S.hasChanged(65)&&(this._matchBrackets=this._editor.getOption(65),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(p.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(p){return p.getContribution(l.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const p=this._editor.getModel(),S=this._editor.getSelections().map(f=>{const m=f.getStartPosition(),C=p.bracketPairs.matchBracket(m);let y=null;if(C)C[0].containsPosition(m)&&!C[1].containsPosition(m)?y=C[1].getStartPosition():C[1].containsPosition(m)&&(y=C[0].getStartPosition());else{const E=p.bracketPairs.findEnclosingBrackets(m);if(E)y=E[1].getStartPosition();else{const T=p.bracketPairs.findNextBracket(m);T&&T.range&&(y=T.range.getStartPosition())}}return y?new _.Selection(y.lineNumber,y.column,y.lineNumber,y.column):new _.Selection(m.lineNumber,m.column,m.lineNumber,m.column)});this._editor.setSelections(S),this._editor.revealRange(S[0])}selectToBracket(p){if(!this._editor.hasModel())return;const S=this._editor.getModel(),f=[];this._editor.getSelections().forEach(m=>{const C=m.getStartPosition();let y=S.bracketPairs.matchBracket(C);if(!y&&(y=S.bracketPairs.findEnclosingBrackets(C),!y)){const N=S.bracketPairs.findNextBracket(C);N&&N.range&&(y=S.bracketPairs.matchBracket(N.range.getStartPosition()))}let E=null,T=null;if(y){y.sort(L.Range.compareRangesUsingStarts);const[N,F]=y;if(E=p?N.getStartPosition():N.getEndPosition(),T=p?F.getEndPosition():F.getStartPosition(),F.containsPosition(C)){const O=E;E=T,T=O}}E&&T&&f.push(new _.Selection(E.lineNumber,E.column,T.lineNumber,T.column))}),f.length>0&&(this._editor.setSelections(f),this._editor.revealRange(f[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const p=[];let S=0;for(const f of this._lastBracketsData){const m=f.brackets;m&&(p[S++]={range:m[0],options:f.options},p[S++]={range:m[1],options:f.options})}this._decorations.set(p)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const p=this._editor.getSelections();if(p.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const S=this._editor.getModel(),f=S.getVersionId();let m=[];this._lastVersionId===f&&(m=this._lastBracketsData);const C=[];let y=0;for(let O=0,P=p.length;O<P;O++){const D=p[O];D.isEmpty()&&(C[y++]=D.getStartPosition())}C.length>1&&C.sort(I.Position.compare);const E=[];let T=0,N=0;const F=m.length;for(let O=0,P=C.length;O<P;O++){const D=C[O];for(;N<F&&m[N].position.isBefore(D);)N++;if(N<F&&m[N].position.equals(D))E[T++]=m[N];else{let M=S.bracketPairs.matchBracket(D,20),R=l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!M&&this._matchBrackets==="always"&&(M=S.bracketPairs.findEnclosingBrackets(D,20),R=l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[T++]=new s(D,M,R)}}this._lastBracketsData=E,this._lastVersionId=f}}e.BracketMatchingController=l,l.ID="editor.contrib.bracketMatchingController",l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,r.themeColorFromId)(c),position:u.OverviewRulerLane.Center}}),l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,k.registerEditorContribution)(l.ID,l),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(d),(0,r.registerThemingParticipant)((h,p)=>{const S=h.getColor(n.editorBracketMatchBackground);S&&p.addRule(`.monaco-editor .bracket-match { background-color: ${S}; }`);const f=h.getColor(n.editorBracketMatchBorder);f&&p.addRule(`.monaco-editor .bracket-match { border: 1px solid ${f}; }`)}),t.MenuRegistry.appendMenuItem(t.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:i.localize(3,null)},order:2})}),define(se[753],re([1,0,7,136,3,37,379]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class L{constructor(n,i,t){this.afterColumn=1073741824,this.afterLineNumber=n,this.heightInPx=i,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(n){this._lastHeight===void 0?this._lastHeight=n:this._lastHeight!==n&&(this._lastHeight=n,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class _{constructor(n,i,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id=`codelens.widget-${_._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${i}`}withCommands(n,i){this._commands.clear();const t=[];let o=!1;for(let r=0;r<n.length;r++){const c=n[r];if(!!c&&(o=!0,c.command)){const d=(0,v.renderLabelWithIcons)(c.command.title.trim());c.command.id?(t.push(w.$("a",{id:String(r),title:c.command.tooltip,role:"button"},...d)),this._commands.set(String(r),c.command)):t.push(w.$("span",{title:c.command.tooltip},...d)),r+1<n.length&&t.push(w.$("span",void 0,"\xA0|\xA0"))}}o?(w.reset(this._domNode,...t),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):w.reset(this._domNode,w.$("span",void 0,"no commands"))}getCommand(n){return n.parentElement===this._domNode?this._commands.get(n.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(n){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(n);this._widgetPosition={position:{lineNumber:n,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}_._idPool=0;class b{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(n,i){this._addDecorations.push(n),this._addDecorationsCallbacks.push(i)}removeDecoration(n){this._removeDecorations.push(n)}commit(n){const i=n.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,o=i.length;t<o;t++)this._addDecorationsCallbacks[t](i[t])}}e.CodeLensHelper=b;class u{constructor(n,i,t,o,r,c,d){this._isDisposed=!1,this._editor=i,this._className=t,this._data=n,this._decorationIds=[];let a;const s=[];this._data.forEach((l,h)=>{l.symbol.command&&s.push(l.symbol),o.addDecoration({range:l.symbol.range,options:I.ModelDecorationOptions.EMPTY},p=>this._decorationIds[h]=p),a?a=k.Range.plusRange(a,l.symbol.range):a=k.Range.lift(l.symbol.range)}),this._viewZone=new L(a.startLineNumber-1,c,d),this._viewZoneId=r.addZone(this._viewZone),s.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(s,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new _(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(n,i){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],i==null||i.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((n,i)=>{const t=this._editor.getModel().getDecorationRange(n),o=this._data[i].symbol;return!!(t&&k.Range.isEmpty(o.range)===t.isEmpty())})}updateCodeLensSymbols(n,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=n,this._data.forEach((t,o)=>{i.addDecoration({range:t.symbol.range,options:I.ModelDecorationOptions.EMPTY},r=>this._decorationIds[o]=r)})}updateHeight(n,i){this._viewZone.heightInPx=n,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(n){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const t=n.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(n){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(n,!0);for(let i=0;i<this._data.length;i++){const t=n[i];if(t){const{symbol:o}=this._data[i];o.command=t.command||o.command}}}getCommand(n){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(n)}getLineNumber(){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return n?n.startLineNumber:-1}update(n){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,n.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=u}),define(se[754],re([1,0,7,10,14,106,2,153,13,38,24,287,674,753,556,26,40,85,70,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let l=class{constructor(p,S,f,m,C,y){this._editor=p,this._languageFeaturesService=S,this._commandService=m,this._notificationService=C,this._codeLensCache=y,this._disposables=new L.DisposableStore,this._localToDispose=new L.DisposableStore,this._lenses=[],this._oldCodeLensModels=new L.DisposableStore,this._provideCodeLensDebounce=f.for(S.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=f.for(S.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new v.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(E=>{(E.hasChanged(45)||E.hasChanged(16)||E.hasChanged(15))&&this._updateLensStyle(),E.hasChanged(14)&&this._onModelChange()})),this._disposables.add(S.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,I.hash)(this._editor.getId()).toString(16),this._styleElement=w.createStyleSheet(w.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var p;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(p=this._currentCodeLensModel)===null||p===void 0||p.dispose(),this._styleElement.remove()}_getLayoutInfo(){const p=Math.max(1.3,this._editor.getOption(60)/this._editor.getOption(47));let S=this._editor.getOption(16);return(!S||S<5)&&(S=this._editor.getOption(47)*.9|0),{fontSize:S,codeLensHeight:S*p|0}}_updateLensStyle(){const{codeLensHeight:p,fontSize:S}=this._getLayoutInfo(),f=this._editor.getOption(15),m=this._editor.getOption(45),C=`--codelens-font-family${this._styleClassName}`,y=`--codelens-font-features${this._styleClassName}`;let E=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${p}px; font-size: ${S}px; padding-right: ${Math.round(S*.5)}px; font-feature-settings: var(${y}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${p}px; font-size: ${S}px; }
		`;f&&(E+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${C}), ${u.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=E,this._editor.getContainerDomNode().style.setProperty(C,f??"inherit"),this._editor.getContainerDomNode().style.setProperty(y,m.fontFeatureSettings),this._editor.changeViewZones(T=>{for(const N of this._lenses)N.updateHeight(p,T)})}_localDispose(){var p,S,f;(p=this._getCodeLensModelPromise)===null||p===void 0||p.cancel(),this._getCodeLensModelPromise=void 0,(S=this._resolveCodeLensesPromise)===null||S===void 0||S.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(f=this._currentCodeLensModel)===null||f===void 0||f.dispose()}_onModelChange(){this._localDispose();const p=this._editor.getModel();if(!p||!this._editor.getOption(14))return;const S=this._codeLensCache.get(p);if(S&&this._renderCodeLensSymbols(S),!this._languageFeaturesService.codeLensProvider.has(p)){S&&this._localToDispose.add((0,v.disposableTimeout)(()=>{const m=this._codeLensCache.get(p);S===m&&(this._codeLensCache.delete(p),this._onModelChange())},30*1e3));return}for(const m of this._languageFeaturesService.codeLensProvider.all(p))if(typeof m.onDidChange=="function"){const C=m.onDidChange(()=>f.schedule());this._localToDispose.add(C)}const f=new v.RunOnceScheduler(()=>{var m;const C=Date.now();(m=this._getCodeLensModelPromise)===null||m===void 0||m.cancel(),this._getCodeLensModelPromise=(0,v.createCancelablePromise)(y=>(0,n.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,p,y)),this._getCodeLensModelPromise.then(y=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=y,this._codeLensCache.put(p,y);const E=this._provideCodeLensDebounce.update(p,Date.now()-C);f.delay=E,this._renderCodeLensSymbols(y),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(p));this._localToDispose.add(f),this._localToDispose.add((0,L.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(m=>{this._editor.changeViewZones(C=>{const y=[];let E=-1;this._lenses.forEach(N=>{!N.isValid()||E===N.getLineNumber()?y.push(N):(N.update(C),E=N.getLineNumber())});const T=new t.CodeLensHelper;y.forEach(N=>{N.dispose(T,C),this._lenses.splice(this._lenses.indexOf(N),1)}),T.commit(m)})}),f.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{f.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(m=>{m.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,L.toDisposable)(()=>{if(this._editor.getModel()){const m=_.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(C=>{this._editor.changeViewZones(y=>{this._disposeAllLenses(C,y)})}),m.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(m=>{if(m.target.type!==9)return;let C=m.target.element;if((C==null?void 0:C.tagName)==="SPAN"&&(C=C.parentElement),(C==null?void 0:C.tagName)==="A")for(const y of this._lenses){const E=y.getCommand(C);if(E){this._commandService.executeCommand(E.id,...E.arguments||[]).catch(T=>this._notificationService.error(T));break}}})),f.schedule()}_disposeAllLenses(p,S){const f=new t.CodeLensHelper;for(const m of this._lenses)m.dispose(f,S);p&&f.commit(p),this._lenses.length=0}_renderCodeLensSymbols(p){if(!this._editor.hasModel())return;const S=this._editor.getModel().getLineCount(),f=[];let m;for(const E of p.lenses){const T=E.symbol.range.startLineNumber;T<1||T>S||(m&&m[m.length-1].symbol.range.startLineNumber===T?m.push(E):(m=[E],f.push(m)))}const C=_.StableEditorScrollState.capture(this._editor),y=this._getLayoutInfo();this._editor.changeDecorations(E=>{this._editor.changeViewZones(T=>{const N=new t.CodeLensHelper;let F=0,O=0;for(;O<f.length&&F<this._lenses.length;){const P=f[O][0].symbol.range.startLineNumber,D=this._lenses[F].getLineNumber();D<P?(this._lenses[F].dispose(N,T),this._lenses.splice(F,1)):D===P?(this._lenses[F].updateCodeLensSymbols(f[O],N),O++,F++):(this._lenses.splice(F,0,new t.CodeLensWidget(f[O],this._editor,this._styleClassName,N,T,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),F++,O++)}for(;F<this._lenses.length;)this._lenses[F].dispose(N,T),this._lenses.splice(F,1);for(;O<f.length;)this._lenses.push(new t.CodeLensWidget(f[O],this._editor,this._styleClassName,N,T,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),O++;N.commit(E)})}),C.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var p;(p=this._resolveCodeLensesPromise)===null||p===void 0||p.cancel(),this._resolveCodeLensesPromise=void 0;const S=this._editor.getModel();if(!S)return;const f=[],m=[];if(this._lenses.forEach(E=>{const T=E.computeIfNecessary(S);T&&(f.push(T),m.push(E))}),f.length===0)return;const C=Date.now(),y=(0,v.createCancelablePromise)(E=>{const T=f.map((N,F)=>{const O=new Array(N.length),P=N.map((D,M)=>!D.symbol.command&&typeof D.provider.resolveCodeLens=="function"?Promise.resolve(D.provider.resolveCodeLens(S,D.symbol,E)).then(R=>{O[M]=R},k.onUnexpectedExternalError):(O[M]=D.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!E.isCancellationRequested&&!m[F].isDisposed()&&m[F].updateCommands(O)})});return Promise.all(T)});this._resolveCodeLensesPromise=y,this._resolveCodeLensesPromise.then(()=>{const E=this._resolveCodeLensesDebounce.update(S,Date.now()-C);this._resolveCodeLensesScheduler.delay=E,this._currentCodeLensModel&&this._codeLensCache.put(S,this._currentCodeLensModel),this._oldCodeLensModels.clear(),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},E=>{(0,k.onUnexpectedError)(E),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};l.ID="css.editor.codeLens",l=ke([fe(1,s.ILanguageFeaturesService),fe(2,a.ILanguageFeatureDebounceService),fe(3,r.ICommandService),fe(4,c.INotificationService),fe(5,i.ICodeLensCache)],l),e.CodeLensContribution=l,(0,b.registerEditorContribution)(l.ID,l),(0,b.registerEditorAction)(class extends b.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:g.EditorContextKeys.hasCodeLensProvider,label:(0,o.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(p,S){return Se(this,void 0,void 0,function*(){if(!S.hasModel())return;const f=p.get(d.IQuickInputService),m=p.get(r.ICommandService),C=p.get(c.INotificationService),y=S.getSelection().positionLineNumber,E=S.getContribution(l.ID);if(!E)return;const T=E.getModel();if(!T)return;const N=[];for(const O of T.lenses)O.symbol.command&&O.symbol.range.startLineNumber===y&&N.push({label:O.symbol.command.title,command:O.symbol.command});if(N.length===0)return;const F=yield f.pick(N,{canPickMany:!1});if(!!F){if(T.isDisposed)return yield m.executeCommand(this.id);try{yield m.executeCommand(F.command.id,...F.command.arguments||[])}catch(O){C.error(O)}}})}})}),define(se[315],re([1,0,10,31,14,2,57,8,143,13,3,37,70,19,288,30]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});const c=500;let d=class Hi extends I.Disposable{constructor(s,l,h,p){super();this._editor=s,this._configurationService=l,this._languageFeaturesService=h,this._localToDispose=this._register(new I.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new b.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new I.DisposableStore),this._debounceInformation=p.for(h.colorProvider,"Document Colors",{min:Hi.RECOMPUTE_TIME}),this._register(s.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(s.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(h.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(s.onDidChangeConfiguration(()=>{const S=this._isEnabled;this._isEnabled=this.isEnabled(),S!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const s=this._editor.getModel();if(!s)return!1;const l=s.getLanguageId(),h=this._configurationService.getValue(l);if(h&&typeof h=="object"){const p=h.colorDecorators;if(p&&p.enable!==void 0&&!p.enable)return p.enable}return this._editor.getOption(17)}static get(s){return s.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const s=this._editor.getModel();!s||!this._languageFeaturesService.colorProvider.has(s)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new w.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(s)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,w.createCancelablePromise)(s=>Se(this,void 0,void 0,function*(){const l=this._editor.getModel();if(!l)return Promise.resolve([]);const h=new L.StopWatch(!1),p=yield(0,o.getColors)(this._languageFeaturesService.colorProvider,l,s);return this._debounceInformation.update(l,h.elapsed()),p})),this._computePromise.then(s=>{this.updateDecorations(s),this.updateColorDecorators(s),this._computePromise=null},k.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(s){const l=s.map(h=>({range:{startLineNumber:h.colorInfo.range.startLineNumber,startColumn:h.colorInfo.range.startColumn,endLineNumber:h.colorInfo.range.endLineNumber,endColumn:h.colorInfo.range.endColumn},options:n.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(h=>{this._decorationsIds=h.deltaDecorations(this._decorationsIds,l),this._colorDatas=new Map,this._decorationsIds.forEach((p,S)=>this._colorDatas.set(p,s[S]))})}updateColorDecorators(s){this._colorDecorationClassRefs.clear();const l=[];for(let h=0;h<s.length&&l.length<c;h++){const{red:p,green:S,blue:f,alpha:m}=s[h].colorInfo.color,C=new v.RGBA(Math.round(p*255),Math.round(S*255),Math.round(f*255),m),y=`rgba(${C.r}, ${C.g}, ${C.b}, ${C.a})`,E=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:y}));l.push({range:{startLineNumber:s[h].colorInfo.range.startLineNumber,startColumn:s[h].colorInfo.range.startColumn,endLineNumber:s[h].colorInfo.range.endLineNumber,endColumn:s[h].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:_.noBreakWhitespace,inlineClassName:`${E.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds.set(l)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(s){const l=this._editor.getModel();if(!l)return null;const h=l.getDecorationsInRange(g.Range.fromPositions(s,s)).filter(p=>this._colorDatas.has(p.id));return h.length===0?null:this._colorDatas.get(h[0].id)}isColorDecoration(s){return this._colorDecoratorIds.has(s)}};d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,d=ke([fe(1,r.IConfigurationService),fe(2,t.ILanguageFeaturesService),fe(3,i.ILanguageFeatureDebounceService)],d),e.ColorDetector=d,(0,u.registerEditorContribution)(d.ID,d)}),define(se[755],re([1,0,10,21,31,2,3,288,315,524,695,15]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(r,c,d,a){this.owner=r,this.range=c,this.model=d,this.provider=a,this.forceShowAtRange=!0}isValidForHoverAnchor(r){return r.type===1&&this.range.startColumn<=r.range.startColumn&&this.range.endColumn>=r.range.endColumn}}e.ColorHover=i;let t=class{constructor(r,c){this._editor=r,this._themeService=c,this.hoverOrdinal=1}computeSync(r,c){return[]}computeAsync(r,c,d){return w.AsyncIterableObject.fromPromise(this._computeAsync(r,c,d))}_computeAsync(r,c,d){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const a=b.ColorDetector.get(this._editor);if(!a)return[];for(const s of c){if(!a.isColorDecoration(s))continue;const l=a.getColorData(s.range.getStartPosition());if(l)return[yield this._createColorHover(this._editor.getModel(),l.colorInfo,l.provider)]}return[]})}_createColorHover(r,c,d){return Se(this,void 0,void 0,function*(){const a=r.getValueInRange(c.range),{red:s,green:l,blue:h,alpha:p}=c.color,S=new k.RGBA(Math.round(s*255),Math.round(l*255),Math.round(h*255),p),f=new k.Color(S),m=yield(0,_.getColorPresentations)(r,c,d,v.CancellationToken.None),C=new u.ColorPickerModel(f,[],0);return C.colorPresentations=m||[],C.guessColorPresentation(f,a),new i(this,L.Range.lift(c.range),C,d)})}renderHoverParts(r,c){if(c.length===0||!this._editor.hasModel())return I.Disposable.None;const d=new I.DisposableStore,a=c[0],s=this._editor.getModel(),l=a.model,h=d.add(new g.ColorPickerWidget(r.fragment,l,this._editor.getOption(131),this._themeService));r.setColorPicker(h);let p=new L.Range(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn);const S=()=>{let m,C;if(l.presentation.textEdit){m=[l.presentation.textEdit],C=new L.Range(l.presentation.textEdit.range.startLineNumber,l.presentation.textEdit.range.startColumn,l.presentation.textEdit.range.endLineNumber,l.presentation.textEdit.range.endColumn);const y=this._editor.getModel()._setTrackedRange(null,C,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",m),C=this._editor.getModel()._getTrackedRange(y)||C}else m=[{range:p,text:l.presentation.label,forceMoveMarkers:!1}],C=p.setEndPosition(p.endLineNumber,p.startColumn+l.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",m);l.presentation.additionalTextEdits&&(m=[...l.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",m),r.hide()),this._editor.pushUndoStop(),p=C},f=m=>(0,_.getColorPresentations)(s,{range:p,color:{red:m.rgba.r/255,green:m.rgba.g/255,blue:m.rgba.b/255,alpha:m.rgba.a}},a.provider,v.CancellationToken.None).then(C=>{l.colorPresentations=C||[]});return d.add(l.onColorFlushed(m=>{f(m).then(S)})),d.add(l.onDidChangeColor(f)),d}};t=ke([fe(1,n.IThemeService)],t),e.ColorHoverParticipant=t}),define(se[756],re([1,0,2,18,13,11,3,23,37,459,381]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function g(i){return v.isMacintosh?i.altKey:i.ctrlKey}class n extends w.Disposable{constructor(t){super();this._editor=t,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(o))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(o))),this._register(this._editor.onMouseDrag(o=>this._onEditorMouseDrag(o))),this._register(this._editor.onMouseDrop(o=>this._onEditorMouseDrop(o))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(o=>this.onEditorKeyDown(o))),this._register(this._editor.onKeyUp(o=>this.onEditorKeyUp(o))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(31)||this._editor.getOption(18)||(g(t)&&(this._modifierPressed=!0),this._mouseDown&&g(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(31)||this._editor.getOption(18)||(g(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===n.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){const o=t.target;if(this._dragSelection===null){const c=(this._editor.getSelections()||[]).filter(d=>o.position&&d.containsPosition(o.position));if(c.length===1)this._dragSelection=c[0];else return}g(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),o.position&&(this._dragSelection.containsPosition(o.position)?this._removeDecoration():this.showAt(o.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){const o=new I.Position(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let r=null;if(t.event.shiftKey){const c=this._editor.getSelection();if(c){const{selectionStartLineNumber:d,selectionStartColumn:a}=c;r=[new _.Selection(d,a,o.lineNumber,o.column)]}}else r=(this._editor.getSelections()||[]).map(c=>c.containsPosition(o)?new _.Selection(o.lineNumber,o.column,o.lineNumber,o.column):c);this._editor.setSelections(r||[],"mouse",3)}else(!this._dragSelection.containsPosition(o)||(g(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(o)||this._dragSelection.getStartPosition().equals(o)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(n.ID,new u.DragAndDropCommand(this._dragSelection,o,g(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){this._dndDecorationIds.set([{range:new L.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:n._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=n,n.ID="editor.contrib.dragAndDrop",n.TRIGGER_KEY_VALUE=v.isMacintosh?6:5,n._DECORATION_OPTIONS=b.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,k.registerEditorContribution)(n.ID,n)}),define(se[757],re([1,0,3,46,37,25,15]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class _{constructor(u){this._editor=u,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const u=this._findScopeDecorationIds.map(g=>this._editor.getModel().getDecorationRange(g)).filter(g=>!!g);if(u.length)return u}return null}getStartPosition(){return this._startPosition}setStartPosition(u){this._startPosition=u,this.setCurrentFindMatch(null)}_getDecorationIndex(u){const g=this._decorations.indexOf(u);return g>=0?g+1:1}getCurrentMatchesPosition(u){const g=this._editor.getModel().getDecorationsInRange(u);for(const n of g){const i=n.options;if(i===_._FIND_MATCH_DECORATION||i===_._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(u){let g=null,n=0;if(u)for(let i=0,t=this._decorations.length;i<t;i++){const o=this._editor.getModel().getDecorationRange(this._decorations[i]);if(u.equalsRange(o)){g=this._decorations[i],n=i+1;break}}return(this._highlightedDecorationId!==null||g!==null)&&this._editor.changeDecorations(i=>{if(this._highlightedDecorationId!==null&&(i.changeDecorationOptions(this._highlightedDecorationId,_._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),g!==null&&(this._highlightedDecorationId=g,i.changeDecorationOptions(this._highlightedDecorationId,_._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),g!==null){let t=this._editor.getModel().getDecorationRange(g);if(t.startLineNumber!==t.endLineNumber&&t.endColumn===1){const o=t.endLineNumber-1,r=this._editor.getModel().getLineMaxColumn(o);t=new w.Range(t.startLineNumber,t.startColumn,o,r)}this._rangeHighlightDecorationId=i.addDecoration(t,_._RANGE_HIGHLIGHT_DECORATION)}}),n}set(u,g){this._editor.changeDecorations(n=>{let i=_._FIND_MATCH_DECORATION;const t=[];if(u.length>1e3){i=_._FIND_MATCH_NO_OVERVIEW_DECORATION;const r=this._editor.getModel().getLineCount(),d=this._editor.getLayoutInfo().height/r,a=Math.max(2,Math.ceil(3/d));let s=u[0].range.startLineNumber,l=u[0].range.endLineNumber;for(let h=1,p=u.length;h<p;h++){const S=u[h].range;l+a>=S.startLineNumber?S.endLineNumber>l&&(l=S.endLineNumber):(t.push({range:new w.Range(s,1,l,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),s=S.startLineNumber,l=S.endLineNumber)}t.push({range:new w.Range(s,1,l,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const o=new Array(u.length);for(let r=0,c=u.length;r<c;r++)o[r]={range:u[r].range,options:i};this._decorations=n.deltaDecorations(this._decorations,o),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,t),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(r=>n.removeDecoration(r)),this._findScopeDecorationIds=[]),(g==null?void 0:g.length)&&(this._findScopeDecorationIds=g.map(r=>n.addDecoration(r,_._FIND_SCOPE_DECORATION)))})}matchBeforePosition(u){if(this._decorations.length===0)return null;for(let g=this._decorations.length-1;g>=0;g--){const n=this._decorations[g],i=this._editor.getModel().getDecorationRange(n);if(!(!i||i.endLineNumber>u.lineNumber)){if(i.endLineNumber<u.lineNumber)return i;if(!(i.endColumn>u.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(u){if(this._decorations.length===0)return null;for(let g=0,n=this._decorations.length;g<n;g++){const i=this._decorations[g],t=this._editor.getModel().getDecorationRange(i);if(!(!t||t.startLineNumber<u.lineNumber)){if(t.startLineNumber>u.lineNumber)return t;if(!(t.startColumn<u.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let u=[];return u=u.concat(this._decorations),u=u.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&u.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&u.push(this._rangeHighlightDecorationId),u}}e.FindDecorations=_,_._CURRENT_FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:v.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(I.minimapFindMatch),position:v.MinimapPosition.Inline}}),_._FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:v.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(I.minimapFindMatch),position:v.MinimapPosition.Inline}}),_._FIND_MATCH_NO_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),_._FIND_MATCH_ONLY_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:v.OverviewRulerLane.Center}}),_._RANGE_HIGHLIGHT_DECORATION=k.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),_._FIND_SCOPE_DECORATION=k.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(se[177],re([1,0,17,10,2,109,11,3,23,159,757,460,461,16]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new t.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new t.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new t.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const o=240;class r{constructor(d,a){this._toDispose=new k.DisposableStore,this._editor=d,this._state=a,this._isDisposed=!1,this._startSearchingTimer=new v.TimeoutTimer,this._decorations=new g.FindDecorations(d),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new v.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(s=>{(s.reason===3||s.reason===5||s.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(s=>{this._ignoreModelContentChanged||(s.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,k.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(d){this._isDisposed||!this._editor.hasModel()||(d.searchString||d.isReplaceRevealed||d.isRegex||d.wholeWord||d.matchCase||d.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{d.searchScope?this.research(d.moveCursor,this._state.searchScope):this.research(d.moveCursor)},o)):d.searchScope?this.research(d.moveCursor,this._state.searchScope):this.research(d.moveCursor))}static _getSearchRange(d,a){return a||d.getFullModelRange()}research(d,a){let s=null;typeof a!="undefined"?a!==null&&(Array.isArray(a)?s=a:s=[a]):s=this._decorations.getFindScopes(),s!==null&&(s=s.map(S=>{if(S.startLineNumber!==S.endLineNumber){let f=S.endLineNumber;return S.endColumn===1&&(f=f-1),new _.Range(S.startLineNumber,1,f,this._editor.getModel().getLineMaxColumn(f))}return S}));const l=this._findMatches(s,!1,e.MATCHES_LIMIT);this._decorations.set(l,s);const h=this._editor.getSelection();let p=this._decorations.getCurrentMatchesPosition(h);if(p===0&&l.length>0){const S=(0,w.findFirstInSorted)(l.map(f=>f.range),f=>_.Range.compareRangesUsingStarts(f,h)>=0);p=S>0?S-1+1:p}this._state.changeMatchInfo(p,this._decorations.getCount(),void 0),d&&this._editor.getOption(36).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const d=this._decorations.getFindScope();return d&&this._editor.revealRangeInCenterIfOutsideViewport(d,0),!0}return!1}_setCurrentFindMatch(d){const a=this._decorations.setCurrentFindMatch(d);this._state.changeMatchInfo(a,this._decorations.getCount(),d),this._editor.setSelection(d),this._editor.revealRangeInCenterIfOutsideViewport(d,0)}_prevSearchPosition(d){const a=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:s,column:l}=d;const h=this._editor.getModel();return a||l===1?(s===1?s=h.getLineCount():s--,l=h.getLineMaxColumn(s)):l--,new L.Position(s,l)}_moveToPrevMatch(d,a=!1){if(!this._state.canNavigateBack()){const C=this._decorations.matchAfterPosition(d);C&&this._setCurrentFindMatch(C);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let C=this._decorations.matchBeforePosition(d);C&&C.isEmpty()&&C.getStartPosition().equals(d)&&(d=this._prevSearchPosition(d),C=this._decorations.matchBeforePosition(d)),C&&this._setCurrentFindMatch(C);return}if(this._cannotFind())return;const s=this._decorations.getFindScope(),l=r._getSearchRange(this._editor.getModel(),s);l.getEndPosition().isBefore(d)&&(d=l.getEndPosition()),d.isBefore(l.getStartPosition())&&(d=l.getEndPosition());const{lineNumber:h,column:p}=d,S=this._editor.getModel();let f=new L.Position(h,p),m=S.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(m&&m.range.isEmpty()&&m.range.getStartPosition().equals(f)&&(f=this._prevSearchPosition(f),m=S.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),!!m){if(!a&&!l.containsRange(m.range))return this._moveToPrevMatch(m.range.getStartPosition(),!0);this._setCurrentFindMatch(m.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(d){const a=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:s,column:l}=d;const h=this._editor.getModel();return a||l===h.getLineMaxColumn(s)?(s===h.getLineCount()?s=1:s++,l=1):l++,new L.Position(s,l)}_moveToNextMatch(d){if(!this._state.canNavigateForward()){const s=this._decorations.matchBeforePosition(d);s&&this._setCurrentFindMatch(s);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let s=this._decorations.matchAfterPosition(d);s&&s.isEmpty()&&s.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),s=this._decorations.matchAfterPosition(d)),s&&this._setCurrentFindMatch(s);return}const a=this._getNextMatch(d,!1,!0);a&&this._setCurrentFindMatch(a.range)}_getNextMatch(d,a,s,l=!1){if(this._cannotFind())return null;const h=this._decorations.getFindScope(),p=r._getSearchRange(this._editor.getModel(),h);p.getEndPosition().isBefore(d)&&(d=p.getStartPosition()),d.isBefore(p.getStartPosition())&&(d=p.getStartPosition());const{lineNumber:S,column:f}=d,m=this._editor.getModel();let C=new L.Position(S,f),y=m.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,a);return s&&y&&y.range.isEmpty()&&y.range.getStartPosition().equals(C)&&(C=this._nextSearchPosition(C),y=m.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,a)),y?!l&&!p.containsRange(y.range)?this._getNextMatch(y.range.getEndPosition(),a,s,!0):y:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,i.parseReplaceString)(this._state.replaceString):i.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const d=this._getReplacePattern(),a=this._editor.getSelection(),s=this._getNextMatch(a.getStartPosition(),!0,!1);if(s)if(a.equalsRange(s.range)){const l=d.buildReplaceString(s.matches,this._state.preserveCase),h=new I.ReplaceCommand(a,l);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new L.Position(a.startLineNumber,a.startColumn+l.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(s.range)}_findMatches(d,a,s){const l=(d||[null]).map(h=>r._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,a,s)}replaceAll(){if(!this._hasMatches())return;const d=this._decorations.getFindScopes();d===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(d),this.research(!1)}_largeReplaceAll(){const a=new u.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!a)return;let s=a.regex;if(!s.multiline){let y="mu";s.ignoreCase&&(y+="i"),s.global&&(y+="g"),s=new RegExp(s.source,y)}const l=this._editor.getModel(),h=l.getValue(1),p=l.getFullModelRange(),S=this._getReplacePattern();let f;const m=this._state.preserveCase;S.hasReplacementPatterns||m?f=h.replace(s,function(){return S.buildReplaceString(arguments,m)}):f=h.replace(s,S.buildReplaceString(null,m));const C=new I.ReplaceCommandThatPreservesSelection(p,f,this._editor.getSelection());this._executeEditorCommand("replaceAll",C)}_regularReplaceAll(d){const a=this._getReplacePattern(),s=this._findMatches(d,a.hasReplacementPatterns||this._state.preserveCase,1073741824),l=[];for(let p=0,S=s.length;p<S;p++)l[p]=a.buildReplaceString(s[p].matches,this._state.preserveCase);const h=new n.ReplaceAllCommand(this._editor.getSelection(),s.map(p=>p.range),l);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!this._hasMatches())return;const d=this._decorations.getFindScopes();let s=this._findMatches(d,!1,1073741824).map(h=>new b.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn));const l=this._editor.getSelection();for(let h=0,p=s.length;h<p;h++)if(s[h].equalsRange(l)){s=[l].concat(s.slice(0,h)).concat(s.slice(h+1));break}this._editor.setSelections(s)}_executeEditorCommand(d,a){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(d,a),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=r}),define(se[758],re([1,0,7,268,68,10,177,25,15]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class u extends k.Widget{constructor(n,i,t,o){super();this._hideSoon=this._register(new I.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=n,this._state=i,this._keybindingService=t,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const r=o.getColorTheme().getColor(_.inputActiveOptionBorder),c=o.getColorTheme().getColor(_.inputActiveOptionForeground),d=o.getColorTheme().getColor(_.inputActiveOptionBackground);this.caseSensitive=this._register(new v.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:r,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new v.WholeWordsToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:r,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new v.RegexToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:r,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(a=>{let s=!1;a.isRegex&&(this.regex.checked=this._state.isRegex,s=!0),a.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,s=!0),a.matchCase&&(this.caseSensitive.checked=this._state.matchCase,s=!0),!this._state.isRevealed&&s&&this._revealTemporarily()})),this._register(w.addDisposableListener(this._domNode,w.EventType.MOUSE_LEAVE,a=>this._onMouseLeave())),this._register(w.addDisposableListener(this._domNode,"mouseover",a=>this._onMouseOver())),this._applyTheme(o.getColorTheme()),this._register(o.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(n){const i=this._keybindingService.lookupKeybinding(n);return i?` (${i.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return u.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(n){const i={inputActiveOptionBorder:n.getColor(_.inputActiveOptionBorder),inputActiveOptionForeground:n.getColor(_.inputActiveOptionForeground),inputActiveOptionBackground:n.getColor(_.inputActiveOptionBackground)};this.caseSensitive.style(i),this.wholeWords.style(i),this.regex.style(i)}}e.FindOptionsWidget=u,u.ID="editor.contrib.findOptionsWidget",(0,b.registerThemingParticipant)((g,n)=>{const i=g.getColor(_.editorWidgetBackground);i&&n.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const t=g.getColor(_.editorWidgetForeground);t&&n.addRule(`.monaco-editor .findOptionsWidget { color: ${t}; }`);const o=g.getColor(_.widgetShadow);o&&n.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const r=g.getColor(_.contrastBorder);r&&n.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${r}; }`)})}),define(se[759],re([1,0,6,2,3,177]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function L(b,u){return b===1?!0:b===2?!1:u}class _ extends v.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new w.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return L(this._isRegexOverride,this._isRegex)}get wholeWord(){return L(this._wholeWordOverride,this._wholeWord)}get matchCase(){return L(this._matchCaseOverride,this._matchCase)}get preserveCase(){return L(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(u,g,n){const i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;g===0&&(u=0),u>g&&(u=g),this._matchesPosition!==u&&(this._matchesPosition=u,i.matchesPosition=!0,t=!0),this._matchesCount!==g&&(this._matchesCount=g,i.matchesCount=!0,t=!0),typeof n!="undefined"&&(k.Range.equalsRange(this._currentMatch,n)||(this._currentMatch=n,i.currentMatch=!0,t=!0)),t&&this._onFindReplaceStateChange.fire(i)}change(u,g,n=!0){var i;const t={moveCursor:g,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;const r=this.isRegex,c=this.wholeWord,d=this.matchCase,a=this.preserveCase;typeof u.searchString!="undefined"&&this._searchString!==u.searchString&&(this._searchString=u.searchString,t.searchString=!0,o=!0),typeof u.replaceString!="undefined"&&this._replaceString!==u.replaceString&&(this._replaceString=u.replaceString,t.replaceString=!0,o=!0),typeof u.isRevealed!="undefined"&&this._isRevealed!==u.isRevealed&&(this._isRevealed=u.isRevealed,t.isRevealed=!0,o=!0),typeof u.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==u.isReplaceRevealed&&(this._isReplaceRevealed=u.isReplaceRevealed,t.isReplaceRevealed=!0,o=!0),typeof u.isRegex!="undefined"&&(this._isRegex=u.isRegex),typeof u.wholeWord!="undefined"&&(this._wholeWord=u.wholeWord),typeof u.matchCase!="undefined"&&(this._matchCase=u.matchCase),typeof u.preserveCase!="undefined"&&(this._preserveCase=u.preserveCase),typeof u.searchScope!="undefined"&&(((i=u.searchScope)===null||i===void 0?void 0:i.every(s=>{var l;return(l=this._searchScope)===null||l===void 0?void 0:l.some(h=>!k.Range.equalsRange(h,s))}))||(this._searchScope=u.searchScope,t.searchScope=!0,o=!0)),typeof u.loop!="undefined"&&this._loop!==u.loop&&(this._loop=u.loop,t.loop=!0,o=!0),typeof u.isSearching!="undefined"&&this._isSearching!==u.isSearching&&(this._isSearching=u.isSearching,t.isSearching=!0,o=!0),typeof u.filters!="undefined"&&(this._filters?this._filters.update(u.filters):this._filters=u.filters,t.filters=!0,o=!0),this._isRegexOverride=typeof u.isRegexOverride!="undefined"?u.isRegexOverride:0,this._wholeWordOverride=typeof u.wholeWordOverride!="undefined"?u.wholeWordOverride:0,this._matchCaseOverride=typeof u.matchCaseOverride!="undefined"?u.matchCaseOverride:0,this._preserveCaseOverride=typeof u.preserveCaseOverride!="undefined"?u.preserveCaseOverride:0,r!==this.isRegex&&(o=!0,t.isRegex=!0),c!==this.wholeWord&&(o=!0,t.wholeWord=!0),d!==this.matchCase&&(o=!0,t.matchCase=!0),a!==this.preserveCase&&(o=!0,t.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(t)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=I.MATCHES_LIMIT}}e.FindReplaceState=_}),define(se[760],re([1,0,7,49,163,137,68,10,27,14,2,18,8,3,177,565,298,636,25,81,15,56,382]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const p=(0,s.registerIcon)("find-selection",b.Codicon.selection,r.localize(0,null)),S=(0,s.registerIcon)("find-collapsed",b.Codicon.chevronRight,r.localize(1,null)),f=(0,s.registerIcon)("find-expanded",b.Codicon.chevronDown,r.localize(2,null));e.findReplaceIcon=(0,s.registerIcon)("find-replace",b.Codicon.replace,r.localize(3,null)),e.findReplaceAllIcon=(0,s.registerIcon)("find-replace-all",b.Codicon.replaceAll,r.localize(4,null)),e.findPreviousMatchIcon=(0,s.registerIcon)("find-previous-match",b.Codicon.arrowUp,r.localize(5,null)),e.findNextMatchIcon=(0,s.registerIcon)("find-next-match",b.Codicon.arrowDown,r.localize(6,null));const m=r.localize(7,null),C=r.localize(8,null),y=r.localize(9,null),E=r.localize(10,null),T=r.localize(11,null),N=r.localize(12,null),F=r.localize(13,null),O=r.localize(14,null),P=r.localize(15,null),D=r.localize(16,null),M=r.localize(17,null),R=r.localize(18,null,o.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=r.localize(19,null),e.NLS_NO_RESULTS=r.localize(20,null);const B=419,V=275-54;let A=69;const Y=33,ee="ctrlEnterReplaceAll.windows.donotask",U=n.isMacintosh?256:2048;class j{constructor(x){this.afterLineNumber=x,this.heightInPx=Y,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=j;function Z(de,x,ne){const te=!!x.match(/\n/);if(ne&&te&&ne.selectionStart>0){de.stopPropagation();return}}function ie(de,x,ne){const te=!!x.match(/\n/);if(ne&&te&&ne.selectionEnd<ne.value.length){de.stopPropagation();return}}class Q extends L.Widget{constructor(x,ne,te,q,oe,z,X,$,H){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=x,this._controller=ne,this._state=te,this._contextViewProvider=q,this._keybindingService=oe,this._contextKeyService=z,this._storageService=$,this._notificationService=H,this._ctrlEnterReplaceAllWarningPrompted=!!$.getBoolean(ee,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new _.Delayer(500),this._register((0,g.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(K=>this._onStateChanged(K))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(K=>{if(K.hasChanged(82)&&(this._codeEditor.getOption(82)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),K.hasChanged(133)&&this._tryUpdateWidgetWidth(),K.hasChanged(2)&&this.updateAccessibilitySupport(),K.hasChanged(36)){const ce=this._codeEditor.getOption(36).addExtraSpaceOnTop;ce&&!this._viewZone&&(this._viewZone=new j(0),this._showViewZone()),!ce&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Se(this,void 0,void 0,function*(){if(this._isVisible){const K=yield this._controller.getGlobalBufferTerm();K&&K!==this._state.searchString&&(this._state.change({searchString:K},!1),this._findInput.select())}}))),this._findInputFocused=o.CONTEXT_FIND_INPUT_FOCUSED.bindTo(z),this._findFocusTracker=this._register(w.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=o.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(z),this._replaceFocusTracker=this._register(w.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(36).addExtraSpaceOnTop&&(this._viewZone=new j(0)),this._applyTheme(X.getColorTheme()),this._register(X.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(K=>{if(K.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Q.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(x){if(x.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(x.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),x.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),x.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(82)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=w.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(x.isRevealed||x.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),x.isRegex&&this._findInput.setRegex(this._state.isRegex),x.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),x.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),x.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),x.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),x.searchString||x.matchesCount||x.matchesPosition){const ne=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ne),this._updateMatchesCount(),this._updateButtons()}(x.searchString||x.currentMatch)&&this._layoutViewZone(),x.updateHistory&&this._delayedUpdateHistory(),x.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,u.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=A+"px",this._state.matchesCount>=o.MATCHES_LIMIT?this._matchesCount.title=R:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let x;if(this._state.matchesCount>0){let ne=String(this._state.matchesCount);this._state.matchesCount>=o.MATCHES_LIMIT&&(ne+="+");let te=String(this._state.matchesPosition);te==="0"&&(te="?"),x=i.format(e.NLS_MATCHES_LOCATION,te,ne)}else x=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(x)),(0,v.alert)(this._getAriaLabel(x,this._state.currentMatch,this._state.searchString)),A=Math.max(A,this._matchesCount.clientWidth)}_getAriaLabel(x,ne,te){if(x===e.NLS_NO_RESULTS)return te===""?r.localize(21,null,x):r.localize(22,null,x,te);if(ne){const q=r.localize(23,null,x,te,ne.startLineNumber+":"+ne.startColumn),oe=this._codeEditor.getModel();return oe&&ne.startLineNumber<=oe.getLineCount()&&ne.startLineNumber>=1?`${oe.getLineContent(ne.startLineNumber)}, ${q}`:q}return r.localize(24,null,x,te)}_updateToggleSelectionFindButton(){const x=this._codeEditor.getSelection(),ne=x?x.startLineNumber!==x.endLineNumber||x.startColumn!==x.endColumn:!1,te=this._toggleSelectionFind.checked;this._isVisible&&(te||ne)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const x=this._state.searchString.length>0,ne=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&x&&ne&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&x&&ne&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&x),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&x),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const te=!this._codeEditor.getOption(82);this._toggleReplaceBtn.setEnabled(this._isVisible&&te)}_reveal(){if(this._revealTimeouts.forEach(x=>{clearTimeout(x)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const x=this._codeEditor.getSelection();switch(this._codeEditor.getOption(36).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const te=!!x&&x.startLineNumber!==x.endLineNumber;this._toggleSelectionFind.checked=te;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ne=!0;if(this._codeEditor.getOption(36).seedSearchStringFromSelection&&x){const te=this._codeEditor.getDomNode();if(te){const q=w.getDomNodePagePosition(te),oe=this._codeEditor.getScrolledVisiblePosition(x.getStartPosition()),z=q.left+(oe?oe.left:0),X=oe?oe.top:0;if(this._viewZone&&X<this._viewZone.heightInPx){x.endLineNumber>x.startLineNumber&&(ne=!1);const $=w.getTopLeftOffset(this._domNode).left;z>$&&(ne=!1);const H=this._codeEditor.getScrolledVisiblePosition(x.getEndPosition());q.left+(H?H.left:0)>$&&(ne=!1)}}}this._showViewZone(ne)}}_hide(x){this._revealTimeouts.forEach(ne=>{clearTimeout(ne)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),x&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(x){if(!this._codeEditor.getOption(36).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const te=this._viewZone;this._viewZoneId!==void 0||!te||this._codeEditor.changeViewZones(q=>{te.heightInPx=this._getHeight(),this._viewZoneId=q.addZone(te),this._codeEditor.setScrollTop(x||this._codeEditor.getScrollTop()+te.heightInPx)})}_showViewZone(x=!0){if(!this._isVisible||!this._codeEditor.getOption(36).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new j(0));const te=this._viewZone;this._codeEditor.changeViewZones(q=>{if(this._viewZoneId!==void 0){const oe=this._getHeight();if(oe===te.heightInPx)return;const z=oe-te.heightInPx;te.heightInPx=oe,q.layoutZone(this._viewZoneId),x&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+z);return}else{let oe=this._getHeight();if(oe-=this._codeEditor.getOption(76).top,oe<=0)return;te.heightInPx=oe,this._viewZoneId=q.addZone(te),x&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+oe)}})}_removeViewZone(){this._codeEditor.changeViewZones(x=>{this._viewZoneId!==void 0&&(x.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(x){const ne={inputActiveOptionBorder:x.getColor(a.inputActiveOptionBorder),inputActiveOptionBackground:x.getColor(a.inputActiveOptionBackground),inputActiveOptionForeground:x.getColor(a.inputActiveOptionForeground),inputBackground:x.getColor(a.inputBackground),inputForeground:x.getColor(a.inputForeground),inputBorder:x.getColor(a.inputBorder),inputValidationInfoBackground:x.getColor(a.inputValidationInfoBackground),inputValidationInfoForeground:x.getColor(a.inputValidationInfoForeground),inputValidationInfoBorder:x.getColor(a.inputValidationInfoBorder),inputValidationWarningBackground:x.getColor(a.inputValidationWarningBackground),inputValidationWarningForeground:x.getColor(a.inputValidationWarningForeground),inputValidationWarningBorder:x.getColor(a.inputValidationWarningBorder),inputValidationErrorBackground:x.getColor(a.inputValidationErrorBackground),inputValidationErrorForeground:x.getColor(a.inputValidationErrorForeground),inputValidationErrorBorder:x.getColor(a.inputValidationErrorBorder)};this._findInput.style(ne),this._replaceInput.style(ne),this._toggleSelectionFind.style(ne)}_tryUpdateWidgetWidth(){if(!this._isVisible||!w.isInDOM(this._domNode))return;const x=this._codeEditor.getLayoutInfo();if(x.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const te=x.width,q=x.minimap.minimapWidth;let oe=!1,z=!1,X=!1;if(this._resized&&w.getTotalWidth(this._domNode)>B){this._domNode.style.maxWidth=`${te-28-q-15}px`,this._replaceInput.width=w.getTotalWidth(this._findInput.domNode);return}if(B+28+q>=te&&(z=!0),B+28+q-A>=te&&(X=!0),B+28+q-A>=te+50&&(oe=!0),this._domNode.classList.toggle("collapsed-find-widget",oe),this._domNode.classList.toggle("narrow-find-widget",X),this._domNode.classList.toggle("reduced-find-widget",z),!X&&!oe&&(this._domNode.style.maxWidth=`${te-28-q-15}px`),this._resized){this._findInput.inputBox.layout();const $=this._findInput.inputBox.element.clientWidth;$>0&&(this._replaceInput.width=$)}else this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode))}_getHeight(){let x=0;return x+=4,x+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(x+=4,x+=this._replaceInput.inputBox.height+2),x+=4,x}_tryUpdateHeight(){const x=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===x?!1:(this._cachedHeight=x,this._domNode.style.height=`${x}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const x=this._codeEditor.getSelections();x.map(ne=>{ne.endColumn===1&&ne.endLineNumber>ne.startLineNumber&&(ne=ne.setEndPosition(ne.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ne.endLineNumber-1)));const te=this._state.currentMatch;return ne.startLineNumber!==ne.endLineNumber&&!t.Range.equalsRange(ne,te)?ne:null}).filter(ne=>!!ne),x.length&&this._state.change({searchScope:x},!0)}}_onFindInputMouseDown(x){x.middleButton&&x.stopPropagation()}_onFindInputKeyDown(x){if(x.equals(U|3))if(this._keybindingService.dispatchEvent(x,x.target)){x.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),x.preventDefault();return}if(x.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),x.preventDefault();return}if(x.equals(2048|18)){this._codeEditor.focus(),x.preventDefault();return}if(x.equals(16))return Z(x,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(x.equals(18))return ie(x,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(x){if(x.equals(U|3))if(this._keybindingService.dispatchEvent(x,x.target)){x.preventDefault();return}else{n.isWindows&&n.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(r.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ee,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),x.preventDefault();return}if(x.equals(2)){this._findInput.focusOnCaseSensitive(),x.preventDefault();return}if(x.equals(1024|2)){this._findInput.focus(),x.preventDefault();return}if(x.equals(2048|18)){this._codeEditor.focus(),x.preventDefault();return}if(x.equals(16))return Z(x,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(x.equals(18))return ie(x,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(x){return 0}_keybindingLabelFor(x){const ne=this._keybindingService.lookupKeybinding(x);return ne?` (${ne.getLabel()})`:""}_buildDomNode(){const x=!0,ne=!0;this._findInput=this._register(new c.ContextScopedFindInput(null,this._contextViewProvider,{width:V,label:m,placeholder:C,appendCaseSensitiveLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleRegexCommand),validation:$=>{if($.length===0||!this._findInput.getRegex())return null;try{return new RegExp($,"gu"),null}catch(H){return{content:H.message}}},flexibleHeight:x,flexibleWidth:ne,flexibleMaxHeight:118,showHistoryHint:()=>(0,d.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown($=>this._onFindInputKeyDown($))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown($=>{$.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),$.preventDefault())})),this._register(this._findInput.onRegexKeyDown($=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),$.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange($=>{this._tryUpdateHeight()&&this._showViewZone()})),n.isLinux&&this._register(this._findInput.onMouseDown($=>this._onFindInputMouseDown($))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new J({label:y+this._keybindingLabelFor(o.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(o.FIND_IDS.PreviousMatchFindAction).run().then(void 0,u.onUnexpectedError)}})),this._nextBtn=this._register(new J({label:E+this._keybindingLabelFor(o.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(o.FIND_IDS.NextMatchFindAction).run().then(void 0,u.onUnexpectedError)}}));const te=document.createElement("div");te.className="find-part",te.appendChild(this._findInput.domNode);const q=document.createElement("div");q.className="find-actions",te.appendChild(q),q.appendChild(this._matchesCount),q.appendChild(this._prevBtn.domNode),q.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new k.Toggle({icon:p,title:T+this._keybindingLabelFor(o.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const $=this._codeEditor.getSelections();$.map(H=>(H.endColumn===1&&H.endLineNumber>H.startLineNumber&&(H=H.setEndPosition(H.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(H.endLineNumber-1))),H.isEmpty()?null:H)).filter(H=>!!H),$.length&&this._state.change({searchScope:$},!0)}}else this._state.change({searchScope:null},!0)})),q.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new J({label:N+this._keybindingLabelFor(o.FIND_IDS.CloseFindWidgetCommand),icon:s.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:$=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),$.preventDefault())}})),q.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new c.ContextScopedReplaceInput(null,void 0,{label:F,placeholder:O,appendPreserveCaseLabel:this._keybindingLabelFor(o.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:x,flexibleWidth:ne,flexibleMaxHeight:118,showHistoryHint:()=>(0,d.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown($=>this._onReplaceInputKeyDown($))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange($=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown($=>{$.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),$.preventDefault())})),this._replaceBtn=this._register(new J({label:P+this._keybindingLabelFor(o.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:$=>{$.equals(1024|2)&&(this._closeBtn.focus(),$.preventDefault())}})),this._replaceAllBtn=this._register(new J({label:D+this._keybindingLabelFor(o.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const oe=document.createElement("div");oe.className="replace-part",oe.appendChild(this._replaceInput.domNode);const z=document.createElement("div");z.className="replace-actions",oe.appendChild(z),z.appendChild(this._replaceBtn.domNode),z.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new J({label:M,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${B}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(te),this._domNode.appendChild(oe),this._resizeSash=new I.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let X=B;this._register(this._resizeSash.onDidStart(()=>{X=w.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange($=>{this._resized=!0;const H=X+$.startX-$.currentX;if(H<B)return;const K=parseFloat(w.getComputedStyle(this._domNode).maxWidth)||0;H>K||(this._domNode.style.width=`${H}px`,this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const $=w.getTotalWidth(this._domNode);if($<B)return;let H=B;if(!this._resized||$===B){const K=this._codeEditor.getLayoutInfo();H=K.width-28-K.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${H}px`,this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const x=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(x!==2)}}e.FindWidget=Q,Q.ID="editor.contrib.findWidget";class J extends L.Widget{constructor(x){super();this._opts=x;let ne="button";this._opts.className&&(ne=ne+" "+this._opts.className),this._opts.icon&&(ne=ne+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ne,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,te=>{this._opts.onTrigger(),te.preventDefault()}),this.onkeydown(this._domNode,te=>{var q,oe;if(te.equals(10)||te.equals(3)){this._opts.onTrigger(),te.preventDefault();return}(oe=(q=this._opts).onKeyDown)===null||oe===void 0||oe.call(q,te)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(x){this._domNode.classList.toggle("disabled",!x),this._domNode.setAttribute("aria-disabled",String(!x)),this._domNode.tabIndex=x?0:-1}setExpanded(x){this._domNode.setAttribute("aria-expanded",String(!!x)),x?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(S)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(f))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(f)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(S)))}}e.SimpleButton=J,(0,l.registerThemingParticipant)((de,x)=>{const ne=(me,Ce)=>{Ce&&x.addRule(`.monaco-editor ${me} { background-color: ${Ce}; }`)};ne(".findMatch",de.getColor(a.editorFindMatchHighlight)),ne(".currentFindMatch",de.getColor(a.editorFindMatch)),ne(".findScope",de.getColor(a.editorFindRangeHighlight));const te=de.getColor(a.editorWidgetBackground);ne(".find-widget",te);const q=de.getColor(a.widgetShadow);q&&x.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${q}; }`);const oe=de.getColor(a.editorFindMatchHighlightBorder);oe&&x.addRule(`.monaco-editor .findMatch { border: 1px ${(0,h.isHighContrast)(de.type)?"dotted":"solid"} ${oe}; box-sizing: border-box; }`);const z=de.getColor(a.editorFindMatchBorder);z&&x.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${z}; padding: 1px; box-sizing: border-box; }`);const X=de.getColor(a.editorFindRangeHighlightBorder);X&&x.addRule(`.monaco-editor .findScope { border: 1px ${(0,h.isHighContrast)(de.type)?"dashed":"solid"} ${X}; }`);const $=de.getColor(a.contrastBorder);$&&x.addRule(`.monaco-editor .find-widget { border: 1px solid ${$}; }`);const H=de.getColor(a.editorWidgetForeground);H&&x.addRule(`.monaco-editor .find-widget { color: ${H}; }`);const K=de.getColor(a.errorForeground);K&&x.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${K}; }`);const ce=de.getColor(a.editorWidgetResizeBorder);if(ce)x.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ce}; }`);else{const me=de.getColor(a.editorWidgetBorder);me&&x.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${me}; }`)}const le=de.getColor(a.toolbarHoverBackground);le&&x.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${le} !important;
		}
	`);const he=de.getColor(a.focusBorder);he&&x.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${he}; }`)})}),define(se[316],re([1,0,10,2,8,13,24,177,758,759,760,564,36,93,16,79,44,40,80,15]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const l=524288;function h(D,M="single",R=!1){if(!D.hasModel())return null;const B=D.getSelection();if(M==="single"&&B.startLineNumber===B.endLineNumber||M==="multiple"){if(B.isEmpty()){const W=D.getConfiguredWordAtPosition(B.getStartPosition());if(W&&R===!1)return W.word}else if(D.getModel().getValueLengthInRange(B)<l)return D.getModel().getValueInRange(B)}return null}e.getSelectionSearchString=h;let p=class Ui extends v.Disposable{constructor(M,R,B,W){super();this._editor=M,this._findWidgetVisible=_.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(R),this._contextKeyService=R,this._storageService=B,this._clipboardService=W,this._updateHistoryDelayer=new w.Delayer(500),this._state=this._register(new u.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(V=>this._onStateChanged(V))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const V=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),V&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(36).loop})}))}get editor(){return this._editor}static get(M){return M.getContribution(Ui.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(M){this.saveQueryState(M),M.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),M.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(M){M.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),M.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),M.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),M.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!_.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const M=this._editor.getSelections();M.map(R=>(R.endColumn===1&&R.endLineNumber>R.startLineNumber&&(R=R.setEndPosition(R.endLineNumber-1,this._editor.getModel().getLineMaxColumn(R.endLineNumber-1))),R.isEmpty()?null:R)).filter(R=>!!R),M.length&&this._state.change({searchScope:M},!0)}}setSearchString(M){this._state.isRegex&&(M=k.escapeRegExpCharacters(M)),this._state.change({searchString:M},!1)}highlightFindOptions(M=!1){}_start(M,R){return Se(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const B=Object.assign(Object.assign({},R),{isRevealed:!0});if(M.seedSearchStringFromSelection==="single"){const W=h(this._editor,M.seedSearchStringFromSelection,M.seedSearchStringFromNonEmptySelection);W&&(this._state.isRegex?B.searchString=k.escapeRegExpCharacters(W):B.searchString=W)}else if(M.seedSearchStringFromSelection==="multiple"&&!M.updateSearchScope){const W=h(this._editor,M.seedSearchStringFromSelection);W&&(B.searchString=W)}if(!B.searchString&&M.seedSearchStringFromGlobalClipboard){const W=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;W&&(B.searchString=W)}if(M.forceRevealReplace||B.isReplaceRevealed?B.isReplaceRevealed=!0:this._findWidgetVisible.get()||(B.isReplaceRevealed=!1),M.updateSearchScope){const W=this._editor.getSelections();W.some(V=>!V.isEmpty())&&(B.searchScope=W)}B.loop=M.loop,this._state.change(B,!1),this._model||(this._model=new _.FindModelBoundToEditorModel(this._editor,this._state))})}start(M,R){return this._start(M,R)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Se(this,void 0,void 0,function*(){return this._editor.getOption(36).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(M){this._editor.getOption(36).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(M)}};p.ID="editor.contrib.findController",p=ke([fe(1,o.IContextKeyService),fe(2,a.IStorageService),fe(3,t.IClipboardService)],p),e.CommonFindController=p;let S=class extends p{constructor(M,R,B,W,V,A,Y,ee){super(M,B,Y,ee);this._contextViewService=R,this._keybindingService=W,this._themeService=V,this._notificationService=A,this._widget=null,this._findOptionsWidget=null}_start(M,R){const B=Object.create(null,{_start:{get:()=>super._start}});return Se(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const W=this._editor.getSelection();let V=!1;switch(this._editor.getOption(36).autoFindInSelection){case"always":V=!0;break;case"never":V=!1;break;case"multiline":{V=!!W&&W.startLineNumber!==W.endLineNumber;break}default:break}M.updateSearchScope=M.updateSearchScope||V,yield B._start.call(this,M,R),this._widget&&(M.shouldFocus===2?this._widget.focusReplaceInput():M.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(M=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!M?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new g.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new b.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};S=ke([fe(1,r.IContextViewService),fe(2,o.IContextKeyService),fe(3,c.IKeybindingService),fe(4,s.IThemeService),fe(5,d.INotificationService),fe(6,a.IStorageService),fe(7,t.IClipboardService)],S),e.FindController=S,e.StartFindAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:_.FIND_IDS.StartFindAction,label:n.localize(0,null),alias:"Find",precondition:o.ContextKeyExpr.or(L.EditorContextKeys.focus,o.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:n.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(D,M,R)=>{const B=p.get(M);return B?B.start({forceRevealReplace:!1,seedSearchStringFromSelection:M.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:M.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:M.getOption(36).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(36).loop}):!1});const f={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:n.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:n.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:n.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:n.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class m extends I.EditorAction{constructor(){super({id:_.FIND_IDS.StartFindWithArgs,label:n.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:f})}run(M,R,B){return Se(this,void 0,void 0,function*(){const W=p.get(R);if(W){const V=B?{searchString:B.searchString,replaceString:B.replaceString,isReplaceRevealed:B.replaceString!==void 0,isRegex:B.isRegex,wholeWord:B.matchWholeWord,matchCase:B.isCaseSensitive,preserveCase:B.preserveCase}:{};yield W.start({forceRevealReplace:!1,seedSearchStringFromSelection:W.getState().searchString.length===0&&R.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:R.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(B==null?void 0:B.findInSelection)||!1,loop:R.getOption(36).loop},V),W.setGlobalBufferTerm(W.getState().searchString)}})}}e.StartFindWithArgsAction=m;class C extends I.EditorAction{constructor(){super({id:_.FIND_IDS.StartFindWithSelection,label:n.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(M,R){return Se(this,void 0,void 0,function*(){const B=p.get(R);B&&(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(36).loop}),B.setGlobalBufferTerm(B.getState().searchString))})}}e.StartFindWithSelectionAction=C;class y extends I.EditorAction{run(M,R){return Se(this,void 0,void 0,function*(){const B=p.get(R);B&&!this._run(B)&&(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:B.getState().searchString.length===0&&R.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:R.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(36).loop}),this._run(B))})}}e.MatchFindAction=y;class E extends y{constructor(){super({id:_.FIND_IDS.NextMatchFindAction,label:n.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,_.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(M){return M.moveToNextMatch()?(M.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=E;class T extends y{constructor(){super({id:_.FIND_IDS.PreviousMatchFindAction,label:n.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,_.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(M){return M.moveToPrevMatch()}}e.PreviousMatchFindAction=T;class N extends I.EditorAction{run(M,R){return Se(this,void 0,void 0,function*(){const B=p.get(R);if(!B)return;const W=R.getOption(36).seedSearchStringFromSelection==="selection";let V=null;R.getOption(36).seedSearchStringFromSelection!=="never"&&(V=h(R,"single",W)),V&&B.setSearchString(V),this._run(B)||(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:R.getOption(36).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:W,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(36).loop}),this._run(B))})}}e.SelectionMatchFindAction=N;class F extends N{constructor(){super({id:_.FIND_IDS.NextSelectionMatchFindAction,label:n.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(M){return M.moveToNextMatch()}}e.NextSelectionMatchFindAction=F;class O extends N{constructor(){super({id:_.FIND_IDS.PreviousSelectionMatchFindAction,label:n.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(M){return M.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=O,e.StartFindReplaceAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:_.FIND_IDS.StartFindReplaceAction,label:n.localize(12,null),alias:"Replace",precondition:o.ContextKeyExpr.or(L.EditorContextKeys.focus,o.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:n.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(D,M,R)=>{if(!M.hasModel()||M.getOption(82))return!1;const B=p.get(M);if(!B)return!1;const W=M.getSelection(),V=B.isFindInputFocused(),A=!W.isEmpty()&&W.startLineNumber===W.endLineNumber&&M.getOption(36).seedSearchStringFromSelection!=="never"&&!V,Y=V||A?2:1;return B.start({forceRevealReplace:!0,seedSearchStringFromSelection:A?"single":"none",seedSearchStringFromNonEmptySelection:M.getOption(36).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:M.getOption(36).seedSearchStringFromSelection!=="never",shouldFocus:Y,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(36).loop})}),(0,I.registerEditorContribution)(p.ID,S),(0,I.registerEditorAction)(m),(0,I.registerEditorAction)(C),(0,I.registerEditorAction)(E),(0,I.registerEditorAction)(T),(0,I.registerEditorAction)(F),(0,I.registerEditorAction)(O);const P=I.EditorCommand.bindToContribution(p.get);(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.CloseFindWidgetCommand,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:D=>D.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.ToggleCaseSensitiveKeybinding.primary,mac:_.ToggleCaseSensitiveKeybinding.mac,win:_.ToggleCaseSensitiveKeybinding.win,linux:_.ToggleCaseSensitiveKeybinding.linux}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:D=>D.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.ToggleWholeWordKeybinding.primary,mac:_.ToggleWholeWordKeybinding.mac,win:_.ToggleWholeWordKeybinding.win,linux:_.ToggleWholeWordKeybinding.linux}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:D=>D.toggleRegex(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.ToggleRegexKeybinding.primary,mac:_.ToggleRegexKeybinding.mac,win:_.ToggleRegexKeybinding.win,linux:_.ToggleRegexKeybinding.linux}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:D=>D.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.ToggleSearchScopeKeybinding.primary,mac:_.ToggleSearchScopeKeybinding.mac,win:_.ToggleSearchScopeKeybinding.win,linux:_.ToggleSearchScopeKeybinding.linux}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:D=>D.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.TogglePreserveCaseKeybinding.primary,mac:_.TogglePreserveCaseKeybinding.mac,win:_.TogglePreserveCaseKeybinding.win,linux:_.TogglePreserveCaseKeybinding.linux}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.ReplaceOneAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replace(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2048|1024|22}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.ReplaceOneAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replace(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,_.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.ReplaceAllAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replaceAll(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2048|512|3}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.ReplaceAllAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replaceAll(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,_.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,I.registerEditorCommand)(new P({id:_.FIND_IDS.SelectAllMatchesAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:512|3}}))}),define(se[761],re([1,0,27,37,567,81,15]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,I.registerIcon)("folding-expanded",w.Codicon.chevronDown,(0,k.localize)(0,null)),e.foldingCollapsedIcon=(0,I.registerIcon)("folding-collapsed",w.Codicon.chevronRight,(0,k.localize)(1,null)),e.foldingManualCollapsedIcon=(0,I.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,k.localize)(2,null)),e.foldingManualExpandedIcon=(0,I.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,k.localize)(3,null));class _{constructor(u){this.editor=u,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(u,g,n){return g||this.showFoldingControls==="never"?_.HIDDEN_RANGE_DECORATION:u?n?this.showFoldingHighlights?_.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:_.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?_.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:_.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?n?_.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:_.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n?_.MANUALLY_EXPANDED_VISUAL_DECORATION:_.EXPANDED_VISUAL_DECORATION}changeDecorations(u){return this.editor.changeDecorations(u)}removeDecorations(u){this.editor.removeDecorations(u)}}e.FoldingDecorationProvider=_,_.COLLAPSED_VISUAL_DECORATION=v.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),_.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=v.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),_.MANUALLY_COLLAPSED_VISUAL_DECORATION=v.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=v.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),_.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=v.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.EXPANDED_VISUAL_DECORATION=v.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.MANUALLY_EXPANDED_VISUAL_DECORATION=v.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),_.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=v.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),_.HIDDEN_RANGE_DECORATION=v.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(se[762],re([1,0,10,14,59,2,8,20,153,13,24,28,32,525,526,462,566,16,25,15,761,161,463,40,82,70,57,19,383]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const E=new d.RawContextKey("foldingEnabled",!1);let T=class Ki extends I.Disposable{constructor(ne,te,q,oe,z,X){super();this.contextKeyService=te,this.languageConfigurationService=q,this.languageFeaturesService=X,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new I.DisposableStore),this.editor=ne;const $=this.editor.getOptions();this._isEnabled=$.get(38),this._useFoldingProviders=$.get(39)!=="indentation",this._unfoldOnClickAfterEndOfLine=$.get(43),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=$.get(41),this._maxFoldingRegions=$.get(42),this.updateDebounceInfo=z.for(X.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new l.FoldingDecorationProvider(ne),this.foldingDecorationProvider.showFoldingControls=$.get(100),this.foldingDecorationProvider.showFoldingHighlights=$.get(40),this.foldingEnabled=E.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=H=>{this._tooManyRegionsNotified||(oe.notify({severity:f.default.Warning,sticky:!0,message:c.localize(0,null,H)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(H=>{if(H.hasChanged(38)&&(this._isEnabled=this.editor.getOptions().get(38),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),H.hasChanged(42)&&(this._maxFoldingRegions=this.editor.getOptions().get(42),this._tooManyRegionsNotified=!1,this.onModelChanged()),H.hasChanged(100)||H.hasChanged(40)){const K=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=K.get(100),this.foldingDecorationProvider.showFoldingHighlights=K.get(40),this.triggerFoldingModelChanged()}H.hasChanged(39)&&(this._useFoldingProviders=this.editor.getOptions().get(39)!=="indentation",this.onFoldingStrategyChanged()),H.hasChanged(43)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(43)),H.hasChanged(41)&&(this._foldingImportsByDefault=this.editor.getOptions().get(41))})),this.onModelChanged()}static get(ne){return ne.getContribution(Ki.ID)}saveViewState(){const ne=this.editor.getModel();if(!ne||!this._isEnabled||ne.isTooLargeForTokenization())return{};if(this.foldingModel){const te=this.foldingModel.getMemento(),q=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:te,lineCount:ne.getLineCount(),provider:q,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ne){const te=this.editor.getModel();if(!(!te||!this._isEnabled||te.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!ne||ne.lineCount!==te.getLineCount())&&(this._currentModelHasFoldedImports=!!ne.foldedImports,ne.collapsedRegions&&ne.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ne.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ne=this.editor.getModel();!this._isEnabled||!ne||ne.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(ne,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new o.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(te=>this.onHiddenRangesChanges(te))),this.updateScheduler=new w.Delayer(this.updateDebounceInfo.get(ne)),this.cursorChangedScheduler=new w.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(te=>this.onDidChangeModelContent(te))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(te=>this.onEditorMouseDown(te))),this.localToDispose.add(this.editor.onMouseUp(te=>this.onEditorMouseUp(te))),this.localToDispose.add({dispose:()=>{var te,q;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(te=this.updateScheduler)===null||te===void 0||te.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(q=this.rangeProvider)===null||q===void 0||q.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ne;(ne=this.rangeProvider)===null||ne===void 0||ne.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ne){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new r.IndentRangeProvider(ne,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const te=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);te.length>0&&(this.rangeProvider=new p.SyntaxRangeProvider(ne,te,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ne){var te;(te=this.hiddenRangeModel)===null||te===void 0||te.notifyChangeModelContent(ne),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ne=this.foldingModel;if(!ne)return null;const te=new C.StopWatch(!0),q=this.getRangeProvider(ne.textModel),oe=this.foldingRegionPromise=(0,w.createCancelablePromise)(z=>q.compute(z,this._notifyTooManyRegions));return oe.then(z=>{if(z&&oe===this.foldingRegionPromise){let X;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const ce=z.setCollapsedAllOfType(n.FoldingRangeKind.Imports.value,!0);ce&&(X=b.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=ce)}const $=this.editor.getSelections(),H=$?$.map(ce=>ce.startLineNumber):[];ne.update(z,H),X==null||X.restore(this.editor);const K=this.updateDebounceInfo.update(ne.textModel,te.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=K)}return ne})}).then(void 0,ne=>((0,v.onUnexpectedError)(ne),null)))}onHiddenRangesChanges(ne){if(this.hiddenRangeModel&&ne.length&&!this._restoringViewState){const te=this.editor.getSelections();te&&this.hiddenRangeModel.adjustSelections(te)&&this.editor.setSelections(te)}this.editor.setHiddenAreas(ne,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ne=this.getFoldingModel();!ne||ne.then(te=>{if(te){const q=this.editor.getSelections();if(q&&q.length>0){const oe=[];for(const z of q){const X=z.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(X)&&oe.push(...te.getAllRegionsAtLine(X,$=>$.isCollapsed&&X>$.startLineNumber))}oe.length&&(te.toggleCollapseState(oe),this.reveal(q[0].getPosition()))}}}).then(void 0,v.onUnexpectedError)}onEditorMouseDown(ne){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ne.target||!ne.target.range||!ne.event.leftButton&&!ne.event.middleButton)return;const te=ne.target.range;let q=!1;switch(ne.target.type){case 4:{const oe=ne.target.detail,z=ne.target.element.offsetLeft;if(oe.offsetX-z<5)return;q=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ne.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const oe=this.editor.getModel();if(oe&&te.startColumn===oe.getLineMaxColumn(te.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:te.startLineNumber,iconClicked:q}}onEditorMouseUp(ne){const te=this.foldingModel;if(!te||!this.mouseDownInfo||!ne.target)return;const q=this.mouseDownInfo.lineNumber,oe=this.mouseDownInfo.iconClicked,z=ne.target.range;if(!z||z.startLineNumber!==q)return;if(oe){if(ne.target.type!==4)return}else{const $=this.editor.getModel();if(!$||z.startColumn!==$.getLineMaxColumn(q))return}const X=te.getRegionAtLine(q);if(X&&X.startLineNumber===q){const $=X.isCollapsed;if(oe||$){const H=ne.event.altKey;let K=[];if(H){const ce=he=>!he.containedBy(X)&&!X.containedBy(he),le=te.getRegionsInside(null,ce);for(const he of le)he.isCollapsed&&K.push(he);K.length===0&&(K=le)}else{const ce=ne.event.middleButton||ne.event.shiftKey;if(ce)for(const le of te.getRegionsInside(X))le.isCollapsed===$&&K.push(le);($||!ce||K.length===0)&&K.push(X)}te.toggleCollapseState(K),this.reveal({lineNumber:q,column:1})}}}reveal(ne){this.editor.revealPositionInCenterIfOutsideViewport(ne,0)}};T.ID="editor.contrib.folding",T=ke([fe(1,d.IContextKeyService),fe(2,i.ILanguageConfigurationService),fe(3,S.INotificationService),fe(4,m.ILanguageFeatureDebounceService),fe(5,y.ILanguageFeaturesService)],T),e.FoldingController=T;class N extends u.EditorAction{runEditorCommand(ne,te,q){const oe=ne.get(i.ILanguageConfigurationService),z=T.get(te);if(!z)return;const X=z.getFoldingModel();if(X)return this.reportTelemetry(ne,te),X.then($=>{if($){this.invoke(z,$,te,q,oe);const H=te.getSelection();H&&z.reveal(H.getStartPosition())}})}getSelectedLines(ne){const te=ne.getSelections();return te?te.map(q=>q.startLineNumber):[]}getLineNumbers(ne,te){return ne&&ne.selectionLines?ne.selectionLines.map(q=>q+1):this.getSelectedLines(te)}run(ne,te){}}function F(x){if(!_.isUndefined(x)){if(!_.isObject(x))return!1;const ne=x;if(!_.isUndefined(ne.levels)&&!_.isNumber(ne.levels)||!_.isUndefined(ne.direction)&&!_.isString(ne.direction)||!_.isUndefined(ne.selectionLines)&&(!Array.isArray(ne.selectionLines)||!ne.selectionLines.every(_.isNumber)))return!1}return!0}class O extends N{constructor(){super({id:"editor.unfold",label:c.localize(1,null),alias:"Unfold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ne,te,q,oe){const z=oe&&oe.levels||1,X=this.getLineNumbers(oe,q);oe&&oe.direction==="up"?(0,t.setCollapseStateLevelsUp)(te,!1,z,X):(0,t.setCollapseStateLevelsDown)(te,!1,z,X)}}class P extends N{constructor(){super({id:"editor.unfoldRecursively",label:c.localize(2,null),alias:"Unfold Recursively",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|89),weight:100}})}invoke(ne,te,q,oe){(0,t.setCollapseStateLevelsDown)(te,!1,Number.MAX_VALUE,this.getSelectedLines(q))}}class D extends N{constructor(){super({id:"editor.fold",label:c.localize(3,null),alias:"Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ne,te,q,oe){const z=this.getLineNumbers(oe,q),X=oe&&oe.levels,$=oe&&oe.direction;typeof X!="number"&&typeof $!="string"?(0,t.setCollapseStateUp)(te,!0,z):$==="up"?(0,t.setCollapseStateLevelsUp)(te,!0,X||1,z):(0,t.setCollapseStateLevelsDown)(te,!0,X||1,z)}}class M extends N{constructor(){super({id:"editor.toggleFold",label:c.localize(4,null),alias:"Toggle Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|42),weight:100}})}invoke(ne,te,q){const oe=this.getSelectedLines(q);(0,t.toggleCollapseState)(te,1,oe)}}class R extends N{constructor(){super({id:"editor.foldRecursively",label:c.localize(5,null),alias:"Fold Recursively",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|87),weight:100}})}invoke(ne,te,q){const oe=this.getSelectedLines(q);(0,t.setCollapseStateLevelsDown)(te,!0,Number.MAX_VALUE,oe)}}class B extends N{constructor(){super({id:"editor.foldAllBlockComments",label:c.localize(6,null),alias:"Fold All Block Comments",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|85),weight:100}})}invoke(ne,te,q,oe,z){if(te.regions.hasTypes())(0,t.setCollapseStateForType)(te,n.FoldingRangeKind.Comment.value,!0);else{const X=q.getModel();if(!X)return;const $=z.getLanguageConfiguration(X.getLanguageId()).comments;if($&&$.blockCommentStartToken){const H=new RegExp("^\\s*"+(0,L.escapeRegExpCharacters)($.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(te,H,!0)}}}}class W extends N{constructor(){super({id:"editor.foldAllMarkerRegions",label:c.localize(7,null),alias:"Fold All Regions",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|29),weight:100}})}invoke(ne,te,q,oe,z){if(te.regions.hasTypes())(0,t.setCollapseStateForType)(te,n.FoldingRangeKind.Region.value,!0);else{const X=q.getModel();if(!X)return;const $=z.getLanguageConfiguration(X.getLanguageId()).foldingRules;if($&&$.markers&&$.markers.start){const H=new RegExp($.markers.start);(0,t.setCollapseStateForMatchingLines)(te,H,!0)}}}}class V extends N{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:c.localize(8,null),alias:"Unfold All Regions",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|30),weight:100}})}invoke(ne,te,q,oe,z){if(te.regions.hasTypes())(0,t.setCollapseStateForType)(te,n.FoldingRangeKind.Region.value,!1);else{const X=q.getModel();if(!X)return;const $=z.getLanguageConfiguration(X.getLanguageId()).foldingRules;if($&&$.markers&&$.markers.start){const H=new RegExp($.markers.start);(0,t.setCollapseStateForMatchingLines)(te,H,!1)}}}}class A extends N{constructor(){super({id:"editor.foldAllExcept",label:c.localize(9,null),alias:"Fold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|83),weight:100}})}invoke(ne,te,q){const oe=this.getSelectedLines(q);(0,t.setCollapseStateForRest)(te,!0,oe)}}class Y extends N{constructor(){super({id:"editor.unfoldAllExcept",label:c.localize(10,null),alias:"Unfold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|81),weight:100}})}invoke(ne,te,q){const oe=this.getSelectedLines(q);(0,t.setCollapseStateForRest)(te,!1,oe)}}class ee extends N{constructor(){super({id:"editor.foldAll",label:c.localize(11,null),alias:"Fold All",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|21),weight:100}})}invoke(ne,te,q){(0,t.setCollapseStateLevelsDown)(te,!0)}}class U extends N{constructor(){super({id:"editor.unfoldAll",label:c.localize(12,null),alias:"Unfold All",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|40),weight:100}})}invoke(ne,te,q){(0,t.setCollapseStateLevelsDown)(te,!1)}}class j extends N{getFoldingLevel(){return parseInt(this.id.substr(j.ID_PREFIX.length))}invoke(ne,te,q){(0,t.setCollapseStateAtLevel)(te,this.getFoldingLevel(),!0,this.getSelectedLines(q))}}j.ID_PREFIX="editor.foldLevel",j.ID=x=>j.ID_PREFIX+x;class Z extends N{constructor(){super({id:"editor.gotoParentFold",label:c.localize(13,null),alias:"Go to Parent Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ne,te,q){const oe=this.getSelectedLines(q);if(oe.length>0){const z=(0,t.getParentFoldLine)(oe[0],te);z!==null&&q.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class ie extends N{constructor(){super({id:"editor.gotoPreviousFold",label:c.localize(14,null),alias:"Go to Previous Folding Range",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ne,te,q){const oe=this.getSelectedLines(q);if(oe.length>0){const z=(0,t.getPreviousFoldLine)(oe[0],te);z!==null&&q.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class Q extends N{constructor(){super({id:"editor.gotoNextFold",label:c.localize(15,null),alias:"Go to Next Folding Range",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ne,te,q){const oe=this.getSelectedLines(q);if(oe.length>0){const z=(0,t.getNextFoldLine)(oe[0],te);z!==null&&q.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class J extends N{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:c.localize(16,null),alias:"Create Folding Range from Selection",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|82),weight:100}})}invoke(ne,te,q){var oe;const z=[],X=q.getSelections();if(X){for(const $ of X){let H=$.endLineNumber;$.endColumn===1&&--H,H>$.startLineNumber&&(z.push({startLineNumber:$.startLineNumber,endLineNumber:H,type:void 0,isCollapsed:!0,source:1}),q.setSelection({startLineNumber:$.startLineNumber,startColumn:1,endLineNumber:$.startLineNumber,endColumn:1}))}if(z.length>0){z.sort((H,K)=>H.startLineNumber-K.startLineNumber);const $=h.FoldingRegions.sanitizeAndMerge(te.regions,z,(oe=q.getModel())===null||oe===void 0?void 0:oe.getLineCount());te.updatePost(h.FoldingRegions.fromFoldRanges($))}}}}class de extends N{constructor(){super({id:"editor.removeManualFoldingRanges",label:c.localize(17,null),alias:"Remove Manual Folding Ranges",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|84),weight:100}})}invoke(ne,te,q){const oe=q.getSelections();if(oe){const z=[];for(const X of oe){const{startLineNumber:$,endLineNumber:H}=X;z.push(H>=$?{startLineNumber:$,endLineNumber:H}:{endLineNumber:H,startLineNumber:$})}te.removeManualRanges(z),ne.triggerFoldingModelChanged()}}}(0,u.registerEditorContribution)(T.ID,T),(0,u.registerEditorAction)(O),(0,u.registerEditorAction)(P),(0,u.registerEditorAction)(D),(0,u.registerEditorAction)(R),(0,u.registerEditorAction)(ee),(0,u.registerEditorAction)(U),(0,u.registerEditorAction)(B),(0,u.registerEditorAction)(W),(0,u.registerEditorAction)(V),(0,u.registerEditorAction)(A),(0,u.registerEditorAction)(Y),(0,u.registerEditorAction)(M),(0,u.registerEditorAction)(Z),(0,u.registerEditorAction)(ie),(0,u.registerEditorAction)(Q),(0,u.registerEditorAction)(J),(0,u.registerEditorAction)(de);for(let x=1;x<=7;x++)(0,u.registerInstantiatedEditorAction)(new j({id:j.ID(x),label:c.localize(18,null,x),alias:`Fold Level ${x}`,precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|21+x),weight:100}}));e.foldBackgroundBackground=(0,a.registerColor)("editor.foldBackground",{light:(0,a.transparent)(a.editorSelectionBackground,.3),dark:(0,a.transparent)(a.editorSelectionBackground,.3),hcDark:null,hcLight:null},c.localize(19,null),!0),e.editorFoldForeground=(0,a.registerColor)("editorGutter.foldingControlForeground",{dark:a.iconForeground,light:a.iconForeground,hcDark:a.iconForeground,hcLight:a.iconForeground},c.localize(20,null)),(0,s.registerThemingParticipant)((x,ne)=>{const te=x.getColor(e.foldBackgroundBackground);te&&ne.addRule(`.monaco-editor .folded-background { background-color: ${te}; }`);const q=x.getColor(e.editorFoldForeground);q&&ne.addRule(`
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(l.foldingExpandedIcon)},
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(l.foldingCollapsedIcon)},
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(l.foldingManualExpandedIcon)},
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(l.foldingManualCollapsedIcon)} {
			color: ${q} !important;
		}
		`)})}),define(se[763],re([1,0,7,265,17,2,11,3,37,28,280,88,16,9,44,103,10,24]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const a=w.$;let s=class li extends I.Disposable{constructor(m,C,y){super();this._editor=m,this._instantiationService=C,this._keybindingService=y,this._widget=this._register(this._instantiationService.createInstance(h,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const E of n.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(E,this._editor));this._participants.sort((E,T)=>E.hoverOrdinal-T.hoverOrdinal),this._computer=new S(this._editor,this._participants),this._hoverOperation=this._register(new g.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(E=>{this._withResult(E.value,E.isComplete,E.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(w.addStandardDisposableListener(this._widget.getDomNode(),"keydown",E=>{E.equals(9)&&this.hide()})),this._register(u.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(m){const C=[];for(const E of this._participants)if(E.suggestHoverAnchor){const T=E.suggestHoverAnchor(m);T&&C.push(T)}const y=m.target;if(y.type===6&&C.push(new n.HoverRangeAnchor(0,y.range)),y.type===7){const E=this._editor.getOption(45).typicalHalfwidthCharacterWidth/2;!y.detail.isAfterLines&&typeof y.detail.horizontalDistanceToText=="number"&&y.detail.horizontalDistanceToText<E&&C.push(new n.HoverRangeAnchor(0,y.range))}return C.length===0?!1:(C.sort((E,T)=>T.priority-E.priority),this._startShowingAt(C[0],0,!1),!0)}startShowingAtRange(m,C,y){this._startShowingAt(new n.HoverRangeAnchor(0,m),C,y)}_startShowingAt(m,C,y){if(!(this._computer.anchor&&this._computer.anchor.equals(m))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!m.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const E=this._messages.filter(T=>T.isValidForHoverAnchor(m));if(E.length===0)this.hide();else{if(E.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(m,E)}}this._computer.anchor=m,this._computer.shouldFocus=y,this._hoverOperation.start(C)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(m){return this._widget.getDomNode().contains(m)}_addLoadingMessage(m){if(this._computer.anchor){for(const C of this._participants)if(C.createLoadingMessage){const y=C.createLoadingMessage(this._computer.anchor);if(y)return m.slice(0).concat([y])}}return m}_withResult(m,C,y){this._messages=y?this._addLoadingMessage(m):m,this._messagesAreComplete=C,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):C&&this.hide()}_renderMessages(m,C){const{showAtPosition:y,showAtRange:E,highlightRange:T}=li.computeHoverRanges(m.range,C),N=new I.DisposableStore,F=N.add(new p(this._keybindingService)),O=document.createDocumentFragment();let P=null;const D={fragment:O,statusBar:F,setColorPicker:M=>P=M,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const M of this._participants){const R=C.filter(B=>B.owner===M);R.length>0&&N.add(M.renderHoverParts(D,R))}if(F.hasContent&&O.appendChild(F.hoverElement),O.hasChildNodes()){if(T){const M=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,M.set([{range:T,options:li._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}N.add((0,I.toDisposable)(()=>{try{this._isChangingDecorations=!0,M.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(O,new l(P,y,E,this._editor.getOption(54).above,this._computer.shouldFocus,N))}else N.dispose()}static computeHoverRanges(m,C){const y=m.startLineNumber;let E=m.startColumn,T=m.endColumn,N=C[0].range,F=null;for(const O of C)N=_.Range.plusRange(N,O.range),O.range.startLineNumber===y&&O.range.endLineNumber===y&&(E=Math.min(E,O.range.startColumn),T=Math.max(T,O.range.endColumn)),O.forceShowAtRange&&(F=O.range);return{showAtPosition:F?F.getStartPosition():new L.Position(m.startLineNumber,E),showAtRange:F||new _.Range(y,E,y,T),highlightRange:N}}};s._DECORATION_OPTIONS=b.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),s=ke([fe(1,t.IInstantiationService),fe(2,o.IKeybindingService)],s),e.ContentHoverController=s;class l{constructor(m,C,y,E,T,N){this.colorPicker=m,this.showAtPosition=C,this.showAtRange=y,this.preferAbove=E,this.stoleFocus=T,this.disposables=N}}let h=class ji extends I.Disposable{constructor(m,C){super();this._editor=m,this._contextKeyService=C,this.allowEditorOverflow=!0,this._hoverVisibleKey=d.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new v.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(y=>{y.hasChanged(45)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var m,C;return(C=(m=this._visibleData)===null||m===void 0?void 0:m.showAtPosition)!==null&&C!==void 0?C:null}get isColorPickerVisible(){var m;return Boolean((m=this._visibleData)===null||m===void 0?void 0:m.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return ji.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let m=this._visibleData.preferAbove;return!m&&this._contextKeyService.getContextKeyValue(r.Context.Visible.key)&&(m=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:m?[1,2]:[2,1]}}_setVisibleData(m){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=m,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const m=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:C,lineHeight:y}=this._editor.getOption(45);this._hover.contentsDomNode.style.fontSize=`${C}px`,this._hover.contentsDomNode.style.lineHeight=`${y/C}`,this._hover.contentsDomNode.style.maxHeight=`${m}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(C=>this._editor.applyFontInfo(C))}showAt(m,C){var y;this._setVisibleData(C),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(m),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),C.stoleFocus&&this._hover.containerDomNode.focus(),(y=C.colorPicker)===null||y===void 0||y.layout()}hide(){if(this._visibleData){const m=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),m&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const m=this._hover.scrollbar.getScrollDimensions();if(m.scrollWidth>m.width){const y=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==y&&(this._hover.contentsDomNode.style.paddingBottom=y,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};h.ID="editor.contrib.contentHoverWidget",h=ke([fe(1,i.IContextKeyService)],h),e.ContentHoverWidget=h;let p=class extends I.Disposable{constructor(m){super();this._keybindingService=m,this._hasContent=!1,this.hoverElement=a("div.hover-row.status-bar"),this.actionsElement=w.append(this.hoverElement,a("div.actions"))}get hasContent(){return this._hasContent}addAction(m){const C=this._keybindingService.lookupKeybinding(m.commandId),y=C?C.getLabel():null;return this._hasContent=!0,this._register(v.HoverAction.render(this.actionsElement,m,y))}append(m){const C=w.append(this.actionsElement,m);return this._hasContent=!0,C}};p=ke([fe(0,o.IKeybindingService)],p);class S{constructor(m,C){this._editor=m,this._participants=C,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(m){this._anchor=m}get shouldFocus(){return this._shouldFocus}set shouldFocus(m){this._shouldFocus=m}static _getLineDecorations(m,C){if(C.type!==1)return[];const y=m.getModel(),E=C.range.startLineNumber;if(E>y.getLineCount())return[];const T=y.getLineMaxColumn(E);return m.getLineDecorations(E).filter(N=>{if(N.options.isWholeLine)return!0;const F=N.range.startLineNumber===E?N.range.startColumn:1,O=N.range.endLineNumber===E?N.range.endColumn:T;if(N.options.showIfCollapsed){if(F>C.range.startColumn+1||C.range.endColumn-1>O)return!1}else if(F>C.range.startColumn||C.range.endColumn>O)return!1;return!0})}computeAsync(m){const C=this._anchor;if(!this._editor.hasModel()||!C)return c.AsyncIterableObject.EMPTY;const y=S._getLineDecorations(this._editor,C);return c.AsyncIterableObject.merge(this._participants.map(E=>E.computeAsync?E.computeAsync(C,y,m):c.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const m=S._getLineDecorations(this._editor,this._anchor);let C=[];for(const y of this._participants)C=C.concat(y.computeSync(this._anchor,m));return(0,k.coalesce)(C)}}}),define(se[764],re([1,0,10,14,96,13,3,23,24,37,102,54,583,15,464]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=class di{constructor(s,l){this.editor=s,this.editorWorkerService=l,this.decorations=this.editor.createDecorationsCollection()}static get(s){return s.getContribution(di.ID)}dispose(){}run(s,l){var h;(h=this.currentRequest)===null||h===void 0||h.cancel();const p=this.editor.getSelection(),S=this.editor.getModel();if(!S||!p)return;let f=p;if(f.startLineNumber!==f.endLineNumber)return;const m=new k.EditorState(this.editor,1|4),C=S.uri;return this.editorWorkerService.canNavigateValueSet(C)?(this.currentRequest=(0,w.createCancelablePromise)(y=>this.editorWorkerService.navigateValueSet(C,f,l)),this.currentRequest.then(y=>{var E;if(!y||!y.range||!y.value||!m.validate(this.editor))return;const T=L.Range.lift(y.range);let N=y.range;const F=y.value.length-(f.endColumn-f.startColumn);N={startLineNumber:N.startLineNumber,startColumn:N.startColumn,endLineNumber:N.endLineNumber,endColumn:N.startColumn+y.value.length},F>1&&(f=new _.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+F-1));const O=new o.InPlaceReplaceCommand(T,f,y.value);this.editor.pushUndoStop(),this.editor.executeCommand(s,O),this.editor.pushUndoStop(),this.decorations.set([{range:N,options:di.DECORATION}]),(E=this.decorationRemover)===null||E===void 0||E.cancel(),this.decorationRemover=(0,w.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(v.onUnexpectedError)}).catch(v.onUnexpectedError)):Promise.resolve(void 0)}};r.ID="editor.contrib.inPlaceReplaceController",r.DECORATION=u.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),r=ke([fe(1,g.IEditorWorkerService)],r);class c extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:i.localize(0,null),alias:"Replace with Previous Value",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(s,l){const h=r.get(l);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class d extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:i.localize(1,null),alias:"Replace with Next Value",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(s,l){const h=r.get(l);return h?h.run(this.id,!1):Promise.resolve(void 0)}}(0,I.registerEditorContribution)(r.ID,r),(0,I.registerEditorAction)(c),(0,I.registerEditorAction)(d),(0,t.registerThemingParticipant)((a,s)=>{const l=a.getColor(n.editorBracketMatchBorder);l&&s.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${l}; }`)})}),define(se[765],re([1,0,17,10,21,31,14,6,2,8,22,13,29,11,3,24,37,32,590,16,25,15,19,70,57]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new s.RawContextKey("LinkedEditingInputVisible",!1);const m="linked-editing-decoration";let C=class ci extends b.Disposable{constructor(F,O,P,D,M){super();this.languageConfigurationService=D,this._syncRangesToken=0,this._localToDispose=this._register(new b.DisposableStore),this._editor=F,this._providers=P.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(O),this._debounceInformation=M.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new b.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(R=>{(R.hasChanged(63)||R.hasChanged(83))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(F){return F.getContribution(ci.ID)}reinitialize(F){const O=this._editor.getModel(),P=O!==null&&(this._editor.getOption(63)||this._editor.getOption(83))&&this._providers.has(O);if(P===this._enabled&&!F||(this._enabled=P,this.clearRanges(),this._localToDispose.clear(),!P||O===null))return;this._localToDispose.add(_.Event.runAndSubscribe(O.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(O.getLanguageId()).getWordDefinition()}));const D=new v.Delayer(this._debounceInformation.get(O)),M=()=>{var W;this._rangeUpdateTriggerPromise=D.trigger(()=>this.updateRanges(),(W=this._debounceDuration)!==null&&W!==void 0?W:this._debounceInformation.get(O))},R=new v.Delayer(0),B=W=>{this._rangeSyncTriggerPromise=R.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{M()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const V=this._currentDecorations.getRange(0);if(V&&W.changes.every(A=>V.intersectRanges(A.range))){B(this._syncRangesToken);return}}M()})),this._localToDispose.add({dispose:()=>{D.dispose(),R.dispose()}}),this.updateRanges()}_syncRanges(F){if(!this._editor.hasModel()||F!==this._syncRangesToken||this._currentDecorations.length===0)return;const O=this._editor.getModel(),P=this._currentDecorations.getRange(0);if(!P||P.startLineNumber!==P.endLineNumber)return this.clearRanges();const D=O.getValueInRange(P);if(this._currentWordPattern){const R=D.match(this._currentWordPattern);if((R?R[0].length:0)!==D.length)return this.clearRanges()}const M=[];for(let R=1,B=this._currentDecorations.length;R<B;R++){const W=this._currentDecorations.getRange(R);if(!!W)if(W.startLineNumber!==W.endLineNumber)M.push({range:W,text:D});else{let V=O.getValueInRange(W),A=D,Y=W.startColumn,ee=W.endColumn;const U=u.commonPrefixLength(V,A);Y+=U,V=V.substr(U),A=A.substr(U);const j=u.commonSuffixLength(V,A);ee-=j,V=V.substr(0,V.length-j),A=A.substr(0,A.length-j),(Y!==ee||A.length!==0)&&M.push({range:new o.Range(W.startLineNumber,Y,W.endLineNumber,ee),text:A})}}if(M.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const R=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",M),this._editor._getViewModel().setPrevEditOperationType(R)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(F=!1){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const O=this._editor.getPosition();if(!this._enabled&&!F||this._editor.getSelections().length>1){this.clearRanges();return}const P=this._editor.getModel(),D=P.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===D){if(O.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const R=this._currentDecorations.getRange(0);if(R&&R.containsPosition(O))return}}this._currentRequestPosition=O,this._currentRequestModelVersion=D;const M=(0,v.createCancelablePromise)(R=>Se(this,void 0,void 0,function*(){try{const B=new f.StopWatch(!1),W=yield T(this._providers,P,O,R);if(this._debounceInformation.update(P,B.elapsed()),M!==this._currentRequest||(this._currentRequest=null,D!==P.getVersionId()))return;let V=[];(W==null?void 0:W.ranges)&&(V=W.ranges),this._currentWordPattern=(W==null?void 0:W.wordPattern)||this._languageWordPattern;let A=!1;for(let ee=0,U=V.length;ee<U;ee++)if(o.Range.containsPosition(V[ee],O)){if(A=!0,ee!==0){const j=V[ee];V.splice(ee,1),V.unshift(j)}break}if(!A){this.clearRanges();return}const Y=V.map(ee=>({range:ee,options:ci.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(Y),this._syncRangesToken++}catch(B){(0,L.isCancellationError)(B)||(0,L.onUnexpectedError)(B),(this._currentRequest===M||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=M,M})}};C.ID="editor.contrib.linkedEditing",C.DECORATION=c.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:m}),C=ke([fe(1,s.IContextKeyService),fe(2,p.ILanguageFeaturesService),fe(3,d.ILanguageConfigurationService),fe(4,S.ILanguageFeatureDebounceService)],C),e.LinkedEditingContribution=C;class y extends n.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:a.localize(0,null),alias:"Start Linked Editing",precondition:s.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(F,O){const P=F.get(i.ICodeEditorService),[D,M]=Array.isArray(O)&&O||[void 0,void 0];return g.URI.isUri(D)&&t.Position.isIPosition(M)?P.openCodeEditor({resource:D},P.getActiveCodeEditor()).then(R=>{!R||(R.setPosition(M),R.invokeWithinContext(B=>(this.reportTelemetry(B,R),this.run(B,R))))},L.onUnexpectedError):super.runCommand(F,O)}run(F,O){const P=C.get(O);return P?Promise.resolve(P.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=y;const E=n.EditorCommand.bindToContribution(C.get);(0,n.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:N=>N.clearRanges(),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function T(N,F,O,P){const D=N.ordered(F);return(0,v.first)(D.map(M=>()=>Se(this,void 0,void 0,function*(){try{return yield M.provideLinkedEditingRanges(F,O,P)}catch(R){(0,L.onUnexpectedExternalError)(R);return}})),M=>!!M&&w.isNonEmptyArray(M==null?void 0:M.ranges))}e.editorLinkedEditingBackground=(0,l.registerColor)("editor.linkedEditingBackground",{dark:I.Color.fromHex("#f00").transparent(.3),light:I.Color.fromHex("#f00").transparent(.3),hcDark:I.Color.fromHex("#f00").transparent(.3),hcLight:I.Color.white},a.localize(1,null)),(0,h.registerThemingParticipant)((N,F)=>{const O=N.getColor(e.editorLinkedEditingBackground);O&&F.addRule(`.monaco-editor .${m} { background: ${O}; border-left-color: ${O}; }`)}),(0,n.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(N,F,O)=>{const{linkedEditingRangeProvider:P}=N.get(p.ILanguageFeaturesService);return T(P,F,O,k.CancellationToken.None)}),(0,n.registerEditorContribution)(C.ID,C),(0,n.registerEditorAction)(y)}),define(se[766],re([1,0,10,21,14,65,2,52,18,43,57,22,13,37,70,19,166,640,591,40,45,25,15,388]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let S=class qi extends L.Disposable{constructor(T,N,F,O,P){super();this.editor=T,this.openerService=N,this.notificationService=F,this.languageFeaturesService=O,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=P.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new w.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const D=this._register(new c.ClickLinkGesture(T));this._register(D.onMouseMoveOrRelevantKeyDown(([M,R])=>{this._onEditorMouseMove(M,R)})),this._register(D.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(D.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(T.onDidChangeConfiguration(M=>{!M.hasChanged(64)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(T.onDidChangeModelContent(M=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(T.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(T.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(T){return T.getContribution(qi.ID)}computeLinksNow(){return Se(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(64))return;const T=this.editor.getModel();if(!!this.providers.has(T)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,w.createCancelablePromise)(N=>(0,d.getLinks)(this.providers,T,N));try{const N=new g.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(T,N.elapsed()),T.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(N){(0,k.onUnexpectedError)(N)}finally{this.computePromise=null}}})}updateDecorations(T){const N=this.editor.getOption(71)==="altKey",F=[],O=Object.keys(this.currentOccurrences);for(const D of O){const M=this.currentOccurrences[D];F.push(M.decorationId)}const P=[];if(T)for(const D of T)P.push(m.decoration(D,N));this.editor.changeDecorations(D=>{const M=D.deltaDecorations(F,P);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let R=0,B=M.length;R<B;R++){const W=new m(T[R],M[R]);this.currentOccurrences[W.decorationId]=W}})}_onEditorMouseMove(T,N){const F=this.editor.getOption(71)==="altKey";if(this.isEnabled(T,N)){this.cleanUpActiveLinkDecoration();const O=this.getLinkOccurrence(T.target.position);O&&this.editor.changeDecorations(P=>{O.activate(P,F),this.activeLinkDecorationId=O.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const T=this.editor.getOption(71)==="altKey";if(this.activeLinkDecorationId){const N=this.currentOccurrences[this.activeLinkDecorationId];N&&this.editor.changeDecorations(F=>{N.deactivate(F,T)}),this.activeLinkDecorationId=null}}onEditorMouseUp(T){if(!this.isEnabled(T))return;const N=this.getLinkOccurrence(T.target.position);!N||this.openLinkOccurrence(N,T.hasSideBySideModifier,!0)}openLinkOccurrence(T,N,F=!1){if(!this.openerService)return;const{link:O}=T;O.resolve(v.CancellationToken.None).then(P=>{if(typeof P=="string"&&this.editor.hasModel()){const D=this.editor.getModel().uri;if(D.scheme===_.Schemas.file&&P.startsWith(`${_.Schemas.file}:`)){const M=n.URI.parse(P);if(M.scheme===_.Schemas.file){const R=u.originalFSPath(M);let B=null;R.startsWith("/./")?B=`.${R.substr(1)}`:R.startsWith("//./")&&(B=`.${R.substr(2)}`),B&&(P=u.joinPath(D,B))}}}return this.openerService.open(P,{openToSide:N,fromUserGesture:F,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},P=>{const D=P instanceof Error?P.message:P;D==="invalid"?this.notificationService.warn(a.localize(0,null,O.url.toString())):D==="missing"?this.notificationService.warn(a.localize(1,null)):(0,k.onUnexpectedError)(P)})}getLinkOccurrence(T){if(!this.editor.hasModel()||!T)return null;const N=this.editor.getModel().getDecorationsInRange({startLineNumber:T.lineNumber,startColumn:T.column,endLineNumber:T.lineNumber,endColumn:T.column},0,!0);for(const F of N){const O=this.currentOccurrences[F.id];if(O)return O}return null}isEnabled(T,N){return Boolean(T.target.type===6&&(T.hasTriggerModifier||N&&N.keyCodeIsTriggerKey))}stop(){var T;this.computeLinks.cancel(),this.activeLinksList&&((T=this.activeLinksList)===null||T===void 0||T.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};S.ID="editor.linkDetector",S=ke([fe(1,l.IOpenerService),fe(2,s.INotificationService),fe(3,r.ILanguageFeaturesService),fe(4,o.ILanguageFeatureDebounceService)],S),e.LinkDetector=S;const f={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class m{constructor(T,N){this.link=T,this.decorationId=N}static decoration(T,N){return{range:T.range,options:m._getOptions(T,N,!1)}}static _getOptions(T,N,F){const O=Object.assign({},F?f.active:f.general);return O.hoverMessage=C(T,N),O}activate(T,N){T.changeDecorationOptions(this.decorationId,m._getOptions(this.link,N,!0))}deactivate(T,N){T.changeDecorationOptions(this.decorationId,m._getOptions(this.link,N,!1))}}function C(E,T){const N=E.url&&/^command:/i.test(E.url.toString()),F=E.tooltip?E.tooltip:N?a.localize(2,null):a.localize(3,null),O=T?b.isMacintosh?a.localize(4,null):a.localize(5,null):b.isMacintosh?a.localize(6,null):a.localize(7,null);if(E.url){let P="";if(/^command:/i.test(E.url.toString())){const M=E.url.toString().match(/^command:([^?#]+)/);if(M){const R=M[1];P=a.localize(8,null,R)}}return new I.MarkdownString("",!0).appendLink(E.url.toString(!0).replace(/ /g,"%20"),F,P).appendMarkdown(` (${O})`)}else return new I.MarkdownString().appendText(`${F} (${O})`)}class y extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:a.localize(9,null),alias:"Open Link",precondition:void 0})}run(T,N){const F=S.get(N);if(!F||!N.hasModel())return;const O=N.getSelections();for(const P of O){const D=F.getLinkOccurrence(P.getEndPosition());D&&F.openLinkOccurrence(D,!1)}}}(0,i.registerEditorContribution)(S.ID,S),(0,i.registerEditorAction)(y),(0,p.registerThemingParticipant)((E,T)=>{const N=E.getColor(h.editorActiveLinkForeground);N&&T.addRule(`.monaco-editor .detected-link-active { color: ${N} !important; }`)})}),define(se[767],re([1,0,49,10,59,2,13,185,3,23,24,46,37,316,593,36,16,25,15,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function l(ee,U){const j=U.filter(Z=>!ee.find(ie=>ie.equals(Z)));if(j.length>=1){const Z=j.map(Q=>`line ${Q.viewState.position.lineNumber} column ${Q.viewState.position.column}`).join(", "),ie=j.length===1?o.localize(0,null,Z):o.localize(1,null,Z);(0,w.status)(ie)}}class h extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:o.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(3,null),order:2}})}run(U,j,Z){if(!j.hasModel())return;let ie=!0;Z&&Z.logicalLine===!1&&(ie=!1);const Q=j._getViewModel();if(Q.cursorConfig.readOnly)return;Q.model.pushStackElement();const J=Q.getCursorStates();Q.setCursorStates(Z.source,3,_.CursorMoveCommands.addCursorUp(Q,J,ie)),Q.revealTopMostCursor(Z.source),l(J,Q.getCursorStates())}}e.InsertCursorAbove=h;class p extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:o.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(5,null),order:3}})}run(U,j,Z){if(!j.hasModel())return;let ie=!0;Z&&Z.logicalLine===!1&&(ie=!1);const Q=j._getViewModel();if(Q.cursorConfig.readOnly)return;Q.model.pushStackElement();const J=Q.getCursorStates();Q.setCursorStates(Z.source,3,_.CursorMoveCommands.addCursorDown(Q,J,ie)),Q.revealBottomMostCursor(Z.source),l(J,Q.getCursorStates())}}e.InsertCursorBelow=p;class S extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:o.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(7,null),order:4}})}getCursorsForSelection(U,j,Z){if(!U.isEmpty()){for(let ie=U.startLineNumber;ie<U.endLineNumber;ie++){const Q=j.getLineMaxColumn(ie);Z.push(new u.Selection(ie,Q,ie,Q))}U.endColumn>1&&Z.push(new u.Selection(U.endLineNumber,U.endColumn,U.endLineNumber,U.endColumn))}}run(U,j){if(!j.hasModel())return;const Z=j.getModel(),ie=j.getSelections(),Q=j._getViewModel(),J=Q.getCursorStates(),de=[];ie.forEach(x=>this.getCursorsForSelection(x,Z,de)),de.length>0&&j.setSelections(de),l(J,Q.getCursorStates())}}class f extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:o.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(U,j){if(!j.hasModel())return;const Z=j.getSelections(),ie=j.getModel().getLineCount(),Q=[];for(let x=Z[0].startLineNumber;x<=ie;x++)Q.push(new u.Selection(x,Z[0].startColumn,x,Z[0].endColumn));const J=j._getViewModel(),de=J.getCursorStates();Q.length>0&&j.setSelections(Q),l(de,J.getCursorStates())}}class m extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:o.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(U,j){if(!j.hasModel())return;const Z=j.getSelections(),ie=[];for(let de=Z[0].startLineNumber;de>=1;de--)ie.push(new u.Selection(de,Z[0].startColumn,de,Z[0].endColumn));const Q=j._getViewModel(),J=Q.getCursorStates();ie.length>0&&j.setSelections(ie),l(J,Q.getCursorStates())}}class C{constructor(U,j,Z){this.selections=U,this.revealRange=j,this.revealScrollType=Z}}e.MultiCursorSessionResult=C;class y{constructor(U,j,Z,ie,Q,J,de){this._editor=U,this.findController=j,this.isDisconnectedFromFindController=Z,this.searchText=ie,this.wholeWord=Q,this.matchCase=J,this.currentMatch=de}static create(U,j){if(!U.hasModel())return null;const Z=j.getState();if(!U.hasTextFocus()&&Z.isRevealed&&Z.searchString.length>0)return new y(U,j,!1,Z.searchString,Z.wholeWord,Z.matchCase,null);let ie=!1,Q,J;const de=U.getSelections();de.length===1&&de[0].isEmpty()?(ie=!0,Q=!0,J=!0):(Q=Z.wholeWord,J=Z.matchCase);const x=U.getSelection();let ne,te=null;if(x.isEmpty()){const q=U.getConfiguredWordAtPosition(x.getStartPosition());if(!q)return null;ne=q.word,te=new u.Selection(x.startLineNumber,q.startColumn,x.startLineNumber,q.endColumn)}else ne=U.getModel().getValueInRange(x).replace(/\r\n/g,`
`);return new y(U,j,ie,ne,Q,J,te)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const U=this._getNextMatch();if(!U)return null;const j=this._editor.getSelections();return new C(j.concat(U),U,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const U=this._getNextMatch();if(!U)return null;const j=this._editor.getSelections();return new C(j.slice(0,j.length-1).concat(U),U,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const U=this._editor.getSelections(),j=U[U.length-1],Z=this._editor.getModel().findNextMatch(this.searchText,j.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Z?new u.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const U=this._getPreviousMatch();if(!U)return null;const j=this._editor.getSelections();return new C(j.concat(U),U,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const U=this._getPreviousMatch();if(!U)return null;const j=this._editor.getSelections();return new C(j.slice(0,j.length-1).concat(U),U,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const U=this._editor.getSelections(),j=U[U.length-1],Z=this._editor.getModel().findPreviousMatch(this.searchText,j.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Z?new u.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}selectAll(U){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const j=this._editor.getModel();return U?j.findMatches(this.searchText,U,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):j.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}e.MultiCursorSession=y;class E extends I.Disposable{constructor(U){super();this._sessionDispose=this._register(new I.DisposableStore),this._editor=U,this._ignoreSelectionChange=!1,this._session=null}static get(U){return U.getContribution(E.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(U){if(!this._session){const j=y.create(this._editor,U);if(!j)return;this._session=j;const Z={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Z.wholeWordOverride=1,Z.matchCaseOverride=1,Z.isRegexOverride=2),U.getState().change(Z,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ie=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(U.getState().onFindReplaceStateChange(ie=>{(ie.matchCase||ie.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const U={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(U,!1)}this._session=null}_setSelections(U){this._ignoreSelectionChange=!0,this._editor.setSelections(U),this._ignoreSelectionChange=!1}_expandEmptyToWord(U,j){if(!j.isEmpty())return j;const Z=this._editor.getConfiguredWordAtPosition(j.getStartPosition());return Z?new u.Selection(j.startLineNumber,Z.startColumn,j.startLineNumber,Z.endColumn):j}_applySessionResult(U){!U||(this._setSelections(U.selections),U.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(U.revealRange,U.revealScrollType))}getSession(U){return this._session}addSelectionToNextFindMatch(U){if(!!this._editor.hasModel()){if(!this._session){const j=this._editor.getSelections();if(j.length>1){const ie=U.getState().matchCase;if(!W(this._editor.getModel(),j,ie)){const J=this._editor.getModel(),de=[];for(let x=0,ne=j.length;x<ne;x++)de[x]=this._expandEmptyToWord(J,j[x]);this._editor.setSelections(de);return}}}this._beginSessionIfNeeded(U),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(U){this._beginSessionIfNeeded(U),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(U){this._beginSessionIfNeeded(U),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(U){this._beginSessionIfNeeded(U),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(U){if(!this._editor.hasModel())return;let j=null;const Z=U.getState();if(Z.isRevealed&&Z.searchString.length>0&&Z.isRegex){const ie=this._editor.getModel();Z.searchScope?j=ie.findMatches(Z.searchString,Z.searchScope,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(119):null,!1,1073741824):j=ie.findMatches(Z.searchString,!0,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(U),!this._session)return;j=this._session.selectAll(Z.searchScope)}if(j.length>0){const ie=this._editor.getSelection();for(let Q=0,J=j.length;Q<J;Q++){const de=j[Q];if(de.range.intersectRanges(ie)){j[Q]=j[0],j[0]=de;break}}this._setSelections(j.map(Q=>new u.Selection(Q.range.startLineNumber,Q.range.startColumn,Q.range.endLineNumber,Q.range.endColumn)))}}}e.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class T extends L.EditorAction{run(U,j){const Z=E.get(j);if(!Z)return;const ie=t.CommonFindController.get(j);if(!ie)return;const Q=j._getViewModel();if(Q){const J=Q.getCursorStates();this._run(Z,ie),l(J,Q.getCursorStates())}}}e.MultiCursorSelectionControllerAction=T;class N extends T{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:o.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(11,null),order:5}})}_run(U,j){U.addSelectionToNextFindMatch(j)}}e.AddSelectionToNextFindMatchAction=N;class F extends T{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:o.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(13,null),order:6}})}_run(U,j){U.addSelectionToPreviousFindMatch(j)}}e.AddSelectionToPreviousFindMatchAction=F;class O extends T{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:o.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:(0,k.KeyChord)(2048|41,2048|34),weight:100}})}_run(U,j){U.moveSelectionToNextFindMatch(j)}}e.MoveSelectionToNextFindMatchAction=O;class P extends T{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:o.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(U,j){U.moveSelectionToPreviousFindMatch(j)}}e.MoveSelectionToPreviousFindMatchAction=P;class D extends T{constructor(){super({id:"editor.action.selectHighlights",label:o.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(17,null),order:7}})}_run(U,j){U.selectAll(j)}}e.SelectHighlightsAction=D;class M extends T{constructor(){super({id:"editor.action.changeAll",label:o.localize(18,null),alias:"Change All Occurrences",precondition:c.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(U,j){U.selectAll(j)}}e.CompatChangeAll=M;class R{constructor(U,j,Z,ie,Q){this._model=U,this._searchText=j,this._matchCase=Z,this._wordSeparators=ie,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Q&&this._model===Q._model&&this._searchText===Q._searchText&&this._matchCase===Q._matchCase&&this._wordSeparators===Q._wordSeparators&&this._modelVersionId===Q._modelVersionId&&(this._cachedFindMatches=Q._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(U=>U.range),this._cachedFindMatches.sort(b.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let B=class Gt extends I.Disposable{constructor(U,j){super();this._languageFeaturesService=j,this.editor=U,this._isEnabled=U.getOption(98),this._decorations=U.createDecorationsCollection(),this.updateSoon=this._register(new v.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(U.onDidChangeConfiguration(ie=>{this._isEnabled=U.getOption(98)})),this._register(U.onDidChangeCursorSelection(ie=>{!this._isEnabled||(ie.selection.isEmpty()?ie.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(U.onDidChangeModel(ie=>{this._setState(null)})),this._register(U.onDidChangeModelContent(ie=>{this._isEnabled&&this.updateSoon.schedule()}));const Z=t.CommonFindController.get(U);Z&&this._register(Z.getState().onFindReplaceStateChange(ie=>{this._update()}))}_update(){this._setState(Gt._createState(this.state,this._isEnabled,this.editor))}static _createState(U,j,Z){if(!j||!Z.hasModel())return null;const ie=Z.getSelection();if(ie.startLineNumber!==ie.endLineNumber)return null;const Q=E.get(Z);if(!Q)return null;const J=t.CommonFindController.get(Z);if(!J)return null;let de=Q.getSession(J);if(!de){const te=Z.getSelections();if(te.length>1){const oe=J.getState().matchCase;if(!W(Z.getModel(),te,oe))return null}de=y.create(Z,J)}if(!de||de.currentMatch||/^[ \t]+$/.test(de.searchText)||de.searchText.length>200)return null;const x=J.getState(),ne=x.matchCase;if(x.isRevealed){let te=x.searchString;ne||(te=te.toLowerCase());let q=de.searchText;if(ne||(q=q.toLowerCase()),te===q&&de.matchCase===x.matchCase&&de.wholeWord===x.wholeWord&&!x.isRegex)return null}return new R(Z.getModel(),de.searchText,de.matchCase,de.wholeWord?Z.getOption(119):null,U)}_setState(U){if(this.state=U,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const j=this.editor.getModel();if(j.isTooLargeForTokenization())return;const Z=this.state.findMatches(),ie=this.editor.getSelections();ie.sort(b.Range.compareRangesUsingStarts);const Q=[];for(let x=0,ne=0,te=Z.length,q=ie.length;x<te;){const oe=Z[x];if(ne>=q)Q.push(oe),x++;else{const z=b.Range.compareRangesUsingStarts(oe,ie[ne]);z<0?((ie[ne].isEmpty()||!b.Range.areIntersecting(oe,ie[ne]))&&Q.push(oe),x++):(z>0||x++,ne++)}}const J=this._languageFeaturesService.documentHighlightProvider.has(j)&&this.editor.getOption(73),de=Q.map(x=>({range:x,options:J?Gt._SELECTION_HIGHLIGHT:Gt._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(de)}dispose(){this._setState(null),super.dispose()}};B.ID="editor.contrib.selectionHighlighter",B._SELECTION_HIGHLIGHT_OVERVIEW=i.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,a.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:n.MinimapPosition.Inline},overviewRuler:{color:(0,a.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:n.OverviewRulerLane.Center}}),B._SELECTION_HIGHLIGHT=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),B=ke([fe(1,s.ILanguageFeaturesService)],B),e.SelectionHighlighter=B;function W(ee,U,j){const Z=V(ee,U[0],!j);for(let ie=1,Q=U.length;ie<Q;ie++){const J=U[ie];if(J.isEmpty())return!1;const de=V(ee,J,!j);if(Z!==de)return!1}return!0}function V(ee,U,j){const Z=ee.getValueInRange(U);return j?Z.toLowerCase():Z}class A extends L.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:o.localize(19,null),description:{description:o.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(U,j,Z){if(!j.hasModel())return;const ie=j._getViewModel();if(ie.cursorConfig.readOnly)return;ie.model.pushStackElement();const Q=Array.from(ie.getCursorStates()),J=Q.shift();!J||(Q.push(J),ie.setCursorStates(Z.source,3,Q),ie.revealPrimaryCursor(Z.source,!0),l(Q,ie.getCursorStates()))}}e.FocusNextCursor=A;class Y extends L.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:o.localize(21,null),description:{description:o.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(U,j,Z){if(!j.hasModel())return;const ie=j._getViewModel();if(ie.cursorConfig.readOnly)return;ie.model.pushStackElement();const Q=Array.from(ie.getCursorStates()),J=Q.pop();!J||(Q.unshift(J),ie.setCursorStates(Z.source,3,Q),ie.revealPrimaryCursor(Z.source,!0),l(Q,ie.getCursorStates()))}}e.FocusPreviousCursor=Y,(0,L.registerEditorContribution)(E.ID,E),(0,L.registerEditorContribution)(B.ID,B),(0,L.registerEditorAction)(h),(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(N),(0,L.registerEditorAction)(F),(0,L.registerEditorAction)(O),(0,L.registerEditorAction)(P),(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(f),(0,L.registerEditorAction)(m),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(Y)}),define(se[768],re([1,0,7,114,10,14,6,2,125,8,176,736,608,16,9,80,25,144,56,15,263,103,297,746,126,395,219]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,c.registerColor)("editorSuggestWidget.background",{dark:c.editorWidgetBackground,light:c.editorWidgetBackground,hcDark:c.editorWidgetBackground,hcLight:c.editorWidgetBackground},i.localize(0,null)),e.editorSuggestWidgetBorder=(0,c.registerColor)("editorSuggestWidget.border",{dark:c.editorWidgetBorder,light:c.editorWidgetBorder,hcDark:c.editorWidgetBorder,hcLight:c.editorWidgetBorder},i.localize(1,null)),e.editorSuggestWidgetForeground=(0,c.registerColor)("editorSuggestWidget.foreground",{dark:c.editorForeground,light:c.editorForeground,hcDark:c.editorForeground,hcLight:c.editorForeground},i.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,c.registerColor)("editorSuggestWidget.selectedForeground",{dark:c.quickInputListFocusForeground,light:c.quickInputListFocusForeground,hcDark:c.quickInputListFocusForeground,hcLight:c.quickInputListFocusForeground},i.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,c.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:c.quickInputListFocusIconForeground,light:c.quickInputListFocusIconForeground,hcDark:c.quickInputListFocusIconForeground,hcLight:c.quickInputListFocusIconForeground},i.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,c.registerColor)("editorSuggestWidget.selectedBackground",{dark:c.quickInputListFocusBackground,light:c.quickInputListFocusBackground,hcDark:c.quickInputListFocusBackground,hcLight:c.quickInputListFocusBackground},i.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,c.registerColor)("editorSuggestWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},i.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,c.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:c.listFocusHighlightForeground,light:c.listFocusHighlightForeground,hcDark:c.listFocusHighlightForeground,hcLight:c.listFocusHighlightForeground},i.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,c.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,c.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,c.transparent)(e.editorSuggestWidgetForeground,.5),hcDark:(0,c.transparent)(e.editorSuggestWidgetForeground,.5),hcLight:(0,c.transparent)(e.editorSuggestWidgetForeground,.5)},i.localize(8,null));class f{constructor(E,T){this._service=E,this._key=`suggestWidget.size/${T.getEditorType()}/${T instanceof g.EmbeddedCodeEditorWidget}`}restore(){var E;const T=(E=this._service.get(this._key,0))!==null&&E!==void 0?E:"";try{const N=JSON.parse(T);if(w.Dimension.is(N))return w.Dimension.lift(N)}catch{}}store(E){this._service.store(this._key,JSON.stringify(E),0,1)}reset(){this._service.remove(this._key,0)}}let m=class ui{constructor(E,T,N,F,O){this.editor=E,this._storageService=T,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new k.TimeoutTimer,this._disposables=new _.DisposableStore,this._onDidSelect=new L.Emitter,this._onDidFocus=new L.Emitter,this._onDidHide=new L.Emitter,this._onDidShow=new L.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new L.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new l.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new C(this,E),this._persistedSize=new f(T,E);class P{constructor(A,Y,ee=!1,U=!1){this.persistedSize=A,this.currentSize=Y,this.persistHeight=ee,this.persistWidth=U}}let D;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),D=new P(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(V=>{var A,Y,ee,U;if(this._resize(V.dimension.width,V.dimension.height),D&&(D.persistHeight=D.persistHeight||!!V.north||!!V.south,D.persistWidth=D.persistWidth||!!V.east||!!V.west),!!V.done){if(D){const{itemHeight:j,defaultSize:Z}=this.getLayoutInfo(),ie=Math.round(j/2);let{width:Q,height:J}=this.element.size;(!D.persistHeight||Math.abs(D.currentSize.height-J)<=ie)&&(J=(Y=(A=D.persistedSize)===null||A===void 0?void 0:A.height)!==null&&Y!==void 0?Y:Z.height),(!D.persistWidth||Math.abs(D.currentSize.width-Q)<=ie)&&(Q=(U=(ee=D.persistedSize)===null||ee===void 0?void 0:ee.width)!==null&&U!==void 0?U:Z.width),this._persistedSize.store(new w.Dimension(Q,J))}this._contentWidget.unlockPreference(),D=void 0}})),this._messageElement=w.append(this.element.domNode,w.$(".message")),this._listElement=w.append(this.element.domNode,w.$(".tree"));const M=O.createInstance(p.SuggestDetailsWidget,this.editor);M.onDidClose(this.toggleDetails,this,this._disposables),this._details=new p.SuggestDetailsOverlay(M,this.editor);const R=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);R();const B=O.createInstance(S.ItemRenderer,this.editor);this._disposables.add(B),this._disposables.add(B.onDidToggleDetails(()=>this.toggleDetails())),this._list=new v.List("SuggestWidget",this._listElement,{getHeight:V=>this.getLayoutInfo().itemHeight,getTemplateId:V=>"suggestion"},[B],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>i.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:V=>{let A=V.textLabel;if(typeof V.completion.label!="string"){const{detail:j,description:Z}=V.completion.label;j&&Z?A=i.localize(12,null,A,j,Z):j?A=i.localize(13,null,A,j):Z&&(A=i.localize(14,null,A,Z))}if(!V.isResolved||!this._isDetailsVisible())return A;const{documentation:Y,detail:ee}=V.completion,U=u.format("{0}{1}",ee||"",Y?typeof Y=="string"?Y:Y.value:"");return i.localize(15,null,A,U)}}}),this._status=O.createInstance(n.SuggestWidgetStatus,this.element.domNode);const W=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);W(),this._disposables.add((0,d.attachListStyler)(this._list,F,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:c.activeContrastBorder})),this._disposables.add(F.onDidColorThemeChange(V=>this._onThemeChange(V))),this._onThemeChange(F.getColorTheme()),this._disposables.add(this._list.onMouseDown(V=>this._onListMouseDownOrTap(V))),this._disposables.add(this._list.onTap(V=>this._onListMouseDownOrTap(V))),this._disposables.add(this._list.onDidChangeSelection(V=>this._onListSelection(V))),this._disposables.add(this._list.onDidChangeFocus(V=>this._onListFocus(V))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(V=>{V.hasChanged(108)&&(W(),R())})),this._ctxSuggestWidgetVisible=h.Context.Visible.bindTo(N),this._ctxSuggestWidgetDetailsVisible=h.Context.DetailsVisible.bindTo(N),this._ctxSuggestWidgetMultipleSuggestions=h.Context.MultipleSuggestions.bindTo(N),this._ctxSuggestWidgetHasFocusedSuggestion=h.Context.HasFocusedSuggestion.bindTo(N),this._disposables.add(w.addStandardDisposableListener(this._details.widget.domNode,"keydown",V=>{this._onDetailsKeydown.fire(V)})),this._disposables.add(this.editor.onMouseDown(V=>this._onEditorMouseDown(V)))}dispose(){var E;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(E){this._details.widget.domNode.contains(E.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(E.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(E){typeof E.element=="undefined"||typeof E.index=="undefined"||(E.browserEvent.preventDefault(),E.browserEvent.stopPropagation(),this._select(E.element,E.index))}_onListSelection(E){E.elements.length&&this._select(E.elements[0],E.indexes[0])}_select(E,T){const N=this._completionModel;N&&(this._onDidSelect.fire({item:E,index:T,model:N}),this.editor.focus())}_onThemeChange(E){this._details.widget.borderWidth=(0,a.isHighContrast)(E.type)?2:1}_onListFocus(E){var T;if(this._ignoreFocusEvents)return;if(!E.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const N=E.elements[0],F=E.indexes[0];N!==this._focusedItem&&((T=this._currentSuggestionDetails)===null||T===void 0||T.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=N,this._list.reveal(F),this._currentSuggestionDetails=(0,k.createCancelablePromise)(O=>Se(this,void 0,void 0,function*(){const P=(0,k.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),D=O.onCancellationRequested(()=>P.dispose()),M=yield N.resolve(O);return P.dispose(),D.dispose(),M})),this._currentSuggestionDetails.then(()=>{F>=this._list.length||N!==this._list.element(F)||(this._ignoreFocusEvents=!0,this._list.splice(F,1,[N]),this._list.setFocus([F]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,S.getAriaId)(F)}))}).catch(I.onUnexpectedError)),this._onDidFocus.fire({item:N,index:F,model:this._completionModel})}_setState(E){if(this._state!==E)switch(this._state=E,this.element.domNode.classList.toggle("frozen",E===4),this.element.domNode.classList.remove("message"),E){case 0:w.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ui.LOADING_MESSAGE,w.hide(this._listElement,this._status.element),w.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ui.NO_SUGGESTIONS_MESSAGE,w.hide(this._listElement,this._status.element),w.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._show();break;case 4:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._show();break;case 5:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(E,T){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!E,this._isAuto||(this._loadingTimeout=(0,k.disposableTimeout)(()=>this._setState(1),T)))}showSuggestions(E,T,N,F){var O,P;if(this._contentWidget.setPosition(this.editor.getPosition()),(O=this._loadingTimeout)===null||O===void 0||O.dispose(),(P=this._currentSuggestionDetails)===null||P===void 0||P.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==E&&(this._completionModel=E),N&&this._state!==2&&this._state!==0){this._setState(4);return}const D=this._completionModel.items.length,M=D===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(D>1),M){this._setState(F?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(N?4:3),T>=0&&(this._list.reveal(T,0),this._list.setFocus([T])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,p.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(E){this._details.show(),E?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var E;(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const T=this._persistedSize.restore(),N=Math.ceil(this.getLayoutInfo().itemHeight*4.3);T&&T.height<N&&this._persistedSize.store(T.with(void 0,N))}isFrozen(){return this._state===4}_afterRender(E){if(E===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(E){var T,N,F;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const O=w.getClientArea(document.body),P=this.getLayoutInfo();E||(E=P.defaultSize);let D=E.height,M=E.width;if(this._status.element.style.lineHeight=`${P.itemHeight}px`,this._state===2||this._state===1)D=P.itemHeight+P.borderHeight,M=P.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new w.Dimension(M,D),this._contentWidget.setPreference(2);else{const R=O.width-P.borderHeight-2*P.horizontalPadding;M>R&&(M=R);const B=this._completionModel?this._completionModel.stats.pLabelLen*P.typicalHalfwidthCharacterWidth:M,W=P.statusBarHeight+this._list.contentHeight+P.borderHeight,V=P.itemHeight+P.statusBarHeight,A=w.getDomNodePagePosition(this.editor.getDomNode()),Y=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),ee=A.top+Y.top+Y.height,U=Math.min(O.height-ee-P.verticalPadding,W),j=A.top+Y.top-P.verticalPadding,Z=Math.min(j,W);let ie=Math.min(Math.max(Z,U)+P.borderHeight,W);D===((T=this._cappedHeight)===null||T===void 0?void 0:T.capped)&&(D=this._cappedHeight.wanted),D<V&&(D=V),D>ie&&(D=ie);const Q=150;D>U||this._forceRenderingAbove&&j>Q?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ie=Z):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ie=U),this.element.preferredSize=new w.Dimension(B,P.defaultSize.height),this.element.maxSize=new w.Dimension(R,ie),this.element.minSize=new w.Dimension(220,V),this._cappedHeight=D===W?{wanted:(F=(N=this._cappedHeight)===null||N===void 0?void 0:N.wanted)!==null&&F!==void 0?F:E.height,capped:D}:void 0}this._resize(M,D)}_resize(E,T){const{width:N,height:F}=this.element.maxSize;E=Math.min(N,E),T=Math.min(F,T);const{statusBarHeight:O}=this.getLayoutInfo();this._list.layout(T-O,E),this._listElement.style.height=`${T-O}px`,this.element.layout(T,E),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var E;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((E=this._contentWidget.getPosition())===null||E===void 0?void 0:E.preference[0])===2)}getLayoutInfo(){const E=this.editor.getOption(45),T=(0,b.clamp)(this.editor.getOption(110)||E.lineHeight,8,1e3),N=!this.editor.getOption(108).showStatusBar||this._state===2||this._state===1?0:T,F=this._details.widget.borderWidth,O=2*F;return{itemHeight:T,statusBarHeight:N,borderWidth:F,borderHeight:O,typicalHalfwidthCharacterWidth:E.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new w.Dimension(430,N+12*T+O)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(E){this._storageService.store("expandSuggestionDocs",E,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};m.LOADING_MESSAGE=i.localize(9,null),m.NO_SUGGESTIONS_MESSAGE=i.localize(10,null),m=ke([fe(1,r.IStorageService),fe(2,t.IContextKeyService),fe(3,s.IThemeService),fe(4,o.IInstantiationService)],m),e.SuggestWidget=m;class C{constructor(E,T){this._widget=E,this._editor=T,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:E,width:T}=this._widget.element.size,{borderWidth:N,horizontalPadding:F}=this._widget.getLayoutInfo();return new w.Dimension(T+2*N+F,E+2*N)}afterRender(E){this._widget._afterRender(E)}setPreference(E){this._preferenceLocked||(this._preference=E)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(E){this._position=E}}e.SuggestContentWidget=C}),define(se[769],re([1,0,10,2,13,286,50,313,303,30,15,70,57,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class extends v.Disposable{constructor(c,d,a,s,l,h){super();this._modelService=d,this._themeService=a,this._configurationService=s,this._editor=c,this._provider=h.documentRangeSemanticTokensProvider,this._debounceInformation=l.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new w.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const p=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{p()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),p()})),this._register(this._editor.onDidChangeModelContent(S=>{this._cancelAll(),p()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),p()})),this._register(this._configurationService.onDidChangeConfiguration(S=>{S.affectsConfiguration(_.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),p())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),p()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let d=0,a=this._outstandingRequests.length;d<a;d++)if(this._outstandingRequests[d]===c){this._outstandingRequests.splice(d,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.tokenization.hasCompleteSemanticTokens())return;if(!(0,_.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}if(!(0,I.hasDocumentRangeSemanticTokensProvider)(this._provider,c)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}const d=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(d.map(a=>this._requestRange(c,a)))}_requestRange(c,d){const a=c.getVersionId(),s=(0,w.createCancelablePromise)(h=>Promise.resolve((0,I.getDocumentRangeSemanticTokens)(this._provider,c,d,h))),l=new i.StopWatch(!1);return s.then(h=>{if(this._debounceInformation.update(c,l.elapsed()),!h||!h.tokens||c.isDisposed()||c.getVersionId()!==a)return;const{provider:p,tokens:S}=h,f=this._modelService.getSemanticTokensProviderStyling(p);c.tokenization.setPartialSemanticTokens(d,(0,b.toMultilineTokens2)(S,f,c.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};o.ID="editor.contrib.viewportSemanticTokens",o=ke([fe(1,L.IModelService),fe(2,g.IThemeService),fe(3,u.IConfigurationService),fe(4,n.ILanguageFeatureDebounceService),fe(5,t.ILanguageFeaturesService)],o),(0,k.registerEditorContribution)(o.ID,o)}),define(se[770],re([1,0,49,17,10,21,14,2,13,3,24,46,37,28,617,16,25,15,19,56]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const l=(0,c.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},o.localize(0,null),!0),h=(0,c.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},o.localize(1,null),!0),p=(0,c.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:c.activeContrastBorder,hcLight:c.activeContrastBorder},o.localize(2,null)),S=(0,c.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:c.activeContrastBorder,hcLight:c.activeContrastBorder},o.localize(3,null)),f=(0,c.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},o.localize(4,null),!0),m=(0,c.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},o.localize(5,null),!0),C=new r.RawContextKey("hasWordHighlights",!1);function y(W,V,A,Y){const ee=W.ordered(V);return(0,k.first)(ee.map(U=>()=>Promise.resolve(U.provideDocumentHighlights(V,A,Y)).then(void 0,L.onUnexpectedExternalError)),v.isNonEmptyArray)}e.getOccurrencesAtPosition=y;class E{constructor(V,A,Y){this._model=V,this._selection=A,this._wordSeparators=Y,this._wordRange=this._getCurrentWordRange(V,A),this._result=null}get result(){return this._result||(this._result=(0,k.createCancelablePromise)(V=>this._compute(this._model,this._selection,this._wordSeparators,V))),this._result}_getCurrentWordRange(V,A){const Y=V.getWordAtPosition(A.getPosition());return Y?new u.Range(A.startLineNumber,Y.startColumn,A.startLineNumber,Y.endColumn):null}isValid(V,A,Y){const ee=A.startLineNumber,U=A.startColumn,j=A.endColumn,Z=this._getCurrentWordRange(V,A);let ie=Boolean(this._wordRange&&this._wordRange.equalsRange(Z));for(let Q=0,J=Y.length;!ie&&Q<J;Q++){const de=Y.getRange(Q);de&&de.startLineNumber===ee&&de.startColumn<=U&&de.endColumn>=j&&(ie=!0)}return ie}cancel(){this.result.cancel()}}class T extends E{constructor(V,A,Y,ee){super(V,A,Y);this._providers=ee}_compute(V,A,Y,ee){return y(this._providers,V,A.getPosition(),ee).then(U=>U||[])}}class N extends E{constructor(V,A,Y){super(V,A,Y);this._selectionIsEmpty=A.isEmpty()}_compute(V,A,Y,ee){return(0,k.timeout)(250,ee).then(()=>{if(!A.isEmpty())return[];const U=V.getWordAtPosition(A.getPosition());return!U||U.word.length>1e3?[]:V.findMatches(U.word,!0,!1,!0,Y,!1).map(Z=>({range:Z.range,kind:t.DocumentHighlightKind.Text}))})}isValid(V,A,Y){const ee=A.isEmpty();return this._selectionIsEmpty!==ee?!1:super.isValid(V,A,Y)}}function F(W,V,A,Y){return W.has(V)?new T(V,A,Y,W):new N(V,A,Y)}(0,b.registerModelAndPositionCommand)("_executeDocumentHighlights",(W,V,A)=>{const Y=W.get(a.ILanguageFeaturesService);return y(Y.documentHighlightProvider,V,A,I.CancellationToken.None)});class O{constructor(V,A,Y){this.toUnhook=new _.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=V,this.providers=A,this._hasWordHighlights=C.bindTo(Y),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(73),this.model=this.editor.getModel(),this.toUnhook.add(V.onDidChangeCursorPosition(ee=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(ee)})),this.toUnhook.add(V.onDidChangeModelContent(ee=>{this._stopAll()})),this.toUnhook.add(V.onDidChangeConfiguration(ee=>{const U=this.editor.getOption(73);this.occurrencesHighlight!==U&&(this.occurrencesHighlight=U,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(u.Range.compareRangesUsingStarts)}moveNext(){const V=this._getSortedHighlights(),Y=(V.findIndex(U=>U.containsPosition(this.editor.getPosition()))+1)%V.length,ee=V[Y];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ee.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ee);const U=this._getWord();if(U){const j=this.editor.getModel().getLineContent(ee.startLineNumber);(0,w.alert)(`${j}, ${Y+1} of ${V.length} for '${U.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const V=this._getSortedHighlights(),Y=(V.findIndex(U=>U.containsPosition(this.editor.getPosition()))-1+V.length)%V.length,ee=V[Y];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ee.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ee);const U=this._getWord();if(U){const j=this.editor.getModel().getLineContent(ee.startLineNumber);(0,w.alert)(`${j}, ${Y+1} of ${V.length} for '${U.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(V){if(!this.occurrencesHighlight){this._stopAll();return}if(V.reason!==3){this._stopAll();return}this._run()}_getWord(){const V=this.editor.getSelection(),A=V.startLineNumber,Y=V.startColumn;return this.model.getWordAtPosition({lineNumber:A,column:Y})}_run(){const V=this.editor.getSelection();if(V.startLineNumber!==V.endLineNumber){this._stopAll();return}const A=V.startColumn,Y=V.endColumn,ee=this._getWord();if(!ee||ee.startColumn>A||ee.endColumn<Y){this._stopAll();return}const U=this.workerRequest&&this.workerRequest.isValid(this.model,V,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),U)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const j=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=F(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(Z=>{j===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=Z||[],this._beginRenderDecorations())},L.onUnexpectedError)}}_beginRenderDecorations(){const V=new Date().getTime(),A=this.lastCursorPositionChangeTime+250;V>=A?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},A-V)}renderDecorations(){this.renderDecorationsTimer=-1;const V=[];for(const A of this.workerRequestValue)A.range&&V.push({range:A.range,options:O._getDecorationOptions(A.kind)});this.decorations.set(V),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(V){return V===t.DocumentHighlightKind.Write?this._WRITE_OPTIONS:V===t.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}O._WRITE_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,d.themeColorFromId)(m),position:n.OverviewRulerLane.Center},minimap:{color:(0,d.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:n.MinimapPosition.Inline}}),O._TEXT_OPTIONS=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,d.themeColorFromId)(c.overviewRulerSelectionHighlightForeground),position:n.OverviewRulerLane.Center},minimap:{color:(0,d.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:n.MinimapPosition.Inline}}),O._REGULAR_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,d.themeColorFromId)(f),position:n.OverviewRulerLane.Center},minimap:{color:(0,d.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:n.MinimapPosition.Inline}});let P=class $i extends _.Disposable{constructor(V,A,Y){super();this.wordHighlighter=null;const ee=()=>{V.hasModel()&&(this.wordHighlighter=new O(V,Y.documentHighlightProvider,A))};this._register(V.onDidChangeModel(U=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),ee()})),ee()}static get(V){return V.getContribution($i.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var V;(V=this.wordHighlighter)===null||V===void 0||V.moveNext()}moveBack(){var V;(V=this.wordHighlighter)===null||V===void 0||V.moveBack()}restoreViewState(V){this.wordHighlighter&&V&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};P.ID="editor.contrib.wordHighlighter",P=ke([fe(1,r.IContextKeyService),fe(2,a.ILanguageFeaturesService)],P);class D extends b.EditorAction{constructor(V,A){super(A);this._isNext=V}run(V,A){const Y=P.get(A);!Y||(this._isNext?Y.moveNext():Y.moveBack())}}class M extends D{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:o.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:C,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class R extends D{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:o.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:C,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class B extends b.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:o.localize(8,null),alias:"Trigger Symbol Highlight",precondition:C.toNegated(),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(V,A,Y){const ee=P.get(A);!ee||ee.restoreViewState(!0)}}(0,b.registerEditorContribution)(P.ID,P),(0,b.registerEditorAction)(M),(0,b.registerEditorAction)(R),(0,b.registerEditorAction)(B),(0,d.registerThemingParticipant)((W,V)=>{const A=W.getColor(c.editorSelectionHighlight);A&&(V.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${A}; }`),V.addRule(`.monaco-editor .selectionHighlight { background-color: ${A.transparent(.5)}; }`));const Y=W.getColor(l);Y&&V.addRule(`.monaco-editor .wordHighlight { background-color: ${Y}; }`);const ee=W.getColor(h);ee&&V.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${ee}; }`);const U=W.getColor(c.editorSelectionHighlightBorder);U&&V.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,s.isHighContrast)(W.type)?"dotted":"solid"} ${U}; box-sizing: border-box; }`);const j=W.getColor(p);j&&V.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,s.isHighContrast)(W.type)?"dashed":"solid"} ${j}; box-sizing: border-box; }`);const Z=W.getColor(S);Z&&V.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,s.isHighContrast)(W.type)?"dashed":"solid"} ${Z}; box-sizing: border-box; }`)})}),define(se[771],re([1,0,7,137,31,146,2,35,3,37,398]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const g=new k.Color(new k.RGBA(0,122,204)),n={showArrow:!0,showFrame:!0,className:"",frameColor:g,arrowColor:g,keepEditorSelection:!1},i="vs.editor.contrib.zoneWidget";class t{constructor(a,s,l,h,p,S){this.id="",this.domNode=a,this.afterLineNumber=s,this.afterColumn=l,this.heightInLines=h,this._onDomNodeTop=p,this._onComputedHeight=S}onDomNodeTop(a){this._onDomNodeTop(a)}onComputedHeight(a){this._onComputedHeight(a)}}e.ViewZoneDelegate=t;class o{constructor(a,s){this._id=a,this._domNode=s}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=o;class r{constructor(a){this._editor=a,this._ruleName=r._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),w.removeCSSRulesContainingSelector(this._ruleName)}set color(a){this._color!==a&&(this._color=a,this._updateStyle())}set height(a){this._height!==a&&(this._height=a,this._updateStyle())}_updateStyle(){w.removeCSSRulesContainingSelector(this._ruleName),w.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(a){a.column===1&&(a={lineNumber:a.lineNumber,column:2}),this._decorations.set([{range:b.Range.fromPositions(a),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}r._IdGenerator=new I.IdGenerator(".arrow-decoration-");class c{constructor(a,s={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new L.DisposableStore,this.container=null,this._isShowing=!1,this.editor=a,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=_.deepClone(s),_.mixin(this.options,n,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(l=>{const h=this._getWidth(l);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(l)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new r(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(a){a.frameColor&&(this.options.frameColor=a.frameColor),a.arrowColor&&(this.options.arrowColor=a.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const a=this.options.frameColor.toString();this.container.style.borderTopColor=a,this.container.style.borderBottomColor=a}if(this._arrow&&this.options.arrowColor){const a=this.options.arrowColor.toString();this._arrow.color=a}}_getWidth(a){return a.width-a.minimap.minimapWidth-a.verticalScrollbarWidth}_getLeft(a){return a.minimap.minimapWidth>0&&a.minimap.minimapLeft===0?a.minimap.minimapWidth:0}_onViewZoneTop(a){this.domNode.style.top=a+"px"}_onViewZoneHeight(a){var s;if(this.domNode.style.height=`${a}px`,this.container){const l=a-this._decoratingElementsHeight();this.container.style.height=`${l}px`;const h=this.editor.getLayoutInfo();this._doLayout(l,this._getWidth(h))}(s=this._resizeSash)===null||s===void 0||s.layout()}get position(){const a=this._positionMarkerId.getRange(0);if(!!a)return a.getStartPosition()}show(a,s){const l=b.Range.isIRange(a)?b.Range.lift(a):b.Range.fromPositions(a);this._isShowing=!0,this._showImpl(l,s),this._isShowing=!1,this._positionMarkerId.set([{range:l,options:u.ModelDecorationOptions.EMPTY}])}hide(){var a;this._viewZone&&(this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(a=this._arrow)===null||a===void 0||a.hide()}_decoratingElementsHeight(){const a=this.editor.getOption(60);let s=0;if(this.options.showArrow){const l=Math.round(a/3);s+=2*l}if(this.options.showFrame){const l=Math.round(a/9);s+=2*l}return s}_showImpl(a,s){const l=a.getStartPosition(),h=this.editor.getLayoutInfo(),p=this._getWidth(h);this.domNode.style.width=`${p}px`,this.domNode.style.left=this._getLeft(h)+"px";const S=document.createElement("div");S.style.overflow="hidden";const f=this.editor.getOption(60),m=Math.max(12,this.editor.getLayoutInfo().height/f*.8);s=Math.min(s,m);let C=0,y=0;if(this._arrow&&this.options.showArrow&&(C=Math.round(f/3),this._arrow.height=C,this._arrow.show(l)),this.options.showFrame&&(y=Math.round(f/9)),this.editor.changeViewZones(N=>{this._viewZone&&N.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new t(S,l.lineNumber,l.column,s,F=>this._onViewZoneTop(F),F=>this._onViewZoneHeight(F)),this._viewZone.id=N.addZone(this._viewZone),this._overlayWidget=new o(i+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const N=this.options.frameWidth?this.options.frameWidth:y;this.container.style.borderTopWidth=N+"px",this.container.style.borderBottomWidth=N+"px"}const E=s*f-this._decoratingElementsHeight();this.container&&(this.container.style.top=C+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,p),this.options.keepEditorSelection||this.editor.setSelection(a);const T=this.editor.getModel();if(T){const N=a.endLineNumber+1;N<=T.getLineCount()?this.revealLine(N,!1):this.revealLine(T.getLineCount(),!0)}}revealLine(a,s){s?this.editor.revealLineInCenter(a,0):this.editor.revealLine(a,0)}setCssClass(a,s){!this.container||(s&&this.container.classList.remove(s),this.container.classList.add(a))}_onWidth(a){}_doLayout(a,s){}_relayout(a){this._viewZone&&this._viewZone.heightInLines!==a&&this.editor.changeViewZones(s=>{this._viewZone&&(this._viewZone.heightInLines=a,s.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new v.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let a;this._disposables.add(this._resizeSash.onDidStart(s=>{this._viewZone&&(a={startY:s.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{a=void 0})),this._disposables.add(this._resizeSash.onDidChange(s=>{if(a){const l=(s.currentY-a.startY)/this.editor.getOption(60),h=l<0?Math.ceil(l):Math.floor(l),p=a.heightInLines+h;p>5&&p<35&&this._relayout(p)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const a=this.editor.getLayoutInfo();return a.width-a.minimap.minimapWidth}}e.ZoneWidget=c}),define(se[120],re([1,0,7,75,42,27,31,6,35,13,29,176,771,596,222,16,53,9,25,391]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,d.createDecorator)("IPeekViewService"),(0,c.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(f,m){const C=this._widgets.get(f);C&&(C.listener.dispose(),C.widget.dispose());const y=()=>{const E=this._widgets.get(f);E&&E.widget===m&&(E.listener.dispose(),this._widgets.delete(f))};this._widgets.set(f,{widget:m,listener:m.onDidClose(y)})}});var s;(function(f){f.inPeekEditor=new r.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),f.notInPeekEditor=f.inPeekEditor.toNegated()})(s=e.PeekContext||(e.PeekContext={}));let l=class{constructor(m,C){m instanceof n.EmbeddedCodeEditorWidget&&s.inPeekEditor.bindTo(C)}dispose(){}};l.ID="editor.contrib.referenceController",l=ke([fe(1,r.IContextKeyService)],l),(0,u.registerEditorContribution)(l.ID,l);function h(f){const m=f.get(g.ICodeEditorService).getFocusedCodeEditor();return m instanceof n.EmbeddedCodeEditorWidget?m.getParentEditor():m}e.getOuterEditor=h;const p={headerBackgroundColor:L.Color.white,primaryHeadingColor:L.Color.fromHex("#333333"),secondaryHeadingColor:L.Color.fromHex("#6c6c6cb3")};let S=class extends i.ZoneWidget{constructor(m,C,y){super(m,C);this.instantiationService=y,this._onDidClose=new _.Emitter,this.onDidClose=this._onDidClose.event,b.mixin(this.options,p,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(m){const C=this.options;m.headerBackgroundColor&&(C.headerBackgroundColor=m.headerBackgroundColor),m.primaryHeadingColor&&(C.primaryHeadingColor=m.primaryHeadingColor),m.secondaryHeadingColor&&(C.secondaryHeadingColor=m.secondaryHeadingColor),super.style(m)}_applyStyles(){super._applyStyles();const m=this.options;this._headElement&&m.headerBackgroundColor&&(this._headElement.style.backgroundColor=m.headerBackgroundColor.toString()),this._primaryHeading&&m.primaryHeadingColor&&(this._primaryHeading.style.color=m.primaryHeadingColor.toString()),this._secondaryHeading&&m.secondaryHeadingColor&&(this._secondaryHeading.style.color=m.secondaryHeadingColor.toString()),this._bodyElement&&m.frameColor&&(this._bodyElement.style.borderColor=m.frameColor.toString())}_fillContainer(m){this.setCssClass("peekview-widget"),this._headElement=w.$(".head"),this._bodyElement=w.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),m.appendChild(this._headElement),m.appendChild(this._bodyElement)}_fillHead(m,C){const y=w.$(".peekview-title");this.options.supportOnTitleClick&&(y.classList.add("clickable"),w.addStandardDisposableListener(y,"click",N=>this._onTitleClick(N))),w.append(this._headElement,y),this._fillTitleIcon(y),this._primaryHeading=w.$("span.filename"),this._secondaryHeading=w.$("span.dirname"),this._metaHeading=w.$("span.meta"),w.append(y,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=w.$(".peekview-actions");w.append(this._headElement,E);const T=this._getActionBarOptions();this._actionbarWidget=new v.ActionBar(E,T),this._disposables.add(this._actionbarWidget),C||this._actionbarWidget.push(new k.Action("peekview.close",t.localize(1,null),I.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(m){}_getActionBarOptions(){return{actionViewItemProvider:o.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(m){}setTitle(m,C){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=m,this._primaryHeading.setAttribute("title",m),C?this._secondaryHeading.innerText=C:w.clearNode(this._secondaryHeading))}setMetaTitle(m){this._metaHeading&&(m?(this._metaHeading.innerText=m,w.show(this._metaHeading)):w.hide(this._metaHeading))}_doLayout(m,C){if(!this._isShowing&&m<0){this.dispose();return}const y=Math.ceil(this.editor.getOption(60)*1.2),E=Math.round(m-(y+2));this._doLayoutHead(y,C),this._doLayoutBody(E,C)}_doLayoutHead(m,C){this._headElement&&(this._headElement.style.height=`${m}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(m,C){this._bodyElement&&(this._bodyElement.style.height=`${m}px`)}};S=ke([fe(2,d.IInstantiationService)],S),e.PeekViewWidget=S,e.peekViewTitleBackground=(0,a.registerColor)("peekViewTitle.background",{dark:(0,a.transparent)(a.editorInfoForeground,.1),light:(0,a.transparent)(a.editorInfoForeground,.1),hcDark:null,hcLight:null},t.localize(2,null)),e.peekViewTitleForeground=(0,a.registerColor)("peekViewTitleLabel.foreground",{dark:L.Color.white,light:L.Color.black,hcDark:L.Color.white,hcLight:a.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,a.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,a.registerColor)("peekView.border",{dark:a.editorInfoForeground,light:a.editorInfoForeground,hcDark:a.contrastBorder,hcLight:a.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,a.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:L.Color.black,hcLight:L.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,a.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:L.Color.white,hcLight:a.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,a.registerColor)("peekViewResult.fileForeground",{dark:L.Color.white,light:"#1E1E1E",hcDark:L.Color.white,hcLight:a.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,a.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,a.registerColor)("peekViewResult.selectionForeground",{dark:L.Color.white,light:"#6C6C6C",hcDark:L.Color.white,hcLight:a.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,a.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:L.Color.black,hcLight:L.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,a.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewResultsMatchHighlight=(0,a.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(13,null)),e.peekViewEditorMatchHighlight=(0,a.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,a.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:a.activeContrastBorder,hcLight:a.activeContrastBorder},t.localize(15,null))}),define(se[772],re([1,0,7,76,17,31,6,2,43,8,3,120,572,222,36,16,9,142,84,45,742,25,15,384]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class S{constructor(T,N,F,O,P){this._openerService=O,this._labelService=P,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new _.DisposableStore,this._editor=N;const D=document.createElement("div");D.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),D.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),D.appendChild(this._relatedBlock),this._disposables.add(w.addStandardDisposableListener(this._relatedBlock,"click",M=>{M.preventDefault();const R=this._relatedDiagnostics.get(M.target);R&&F(R)})),this._scrollable=new v.ScrollableElement(D,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),T.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(M=>{D.style.left=`-${M.scrollLeft}px`,D.style.top=`-${M.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,_.dispose)(this._disposables)}update(T){const{source:N,message:F,relatedInformation:O,code:P}=T;let D=((N==null?void 0:N.length)||0)+"()".length;P&&(typeof P=="string"?D+=P.length:D+=P.value.length);const M=(0,u.splitLines)(F);this._lines=M.length,this._longestLineLength=0;for(const A of M)this._longestLineLength=Math.max(A.length+D,this._longestLineLength);w.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(T)),this._editor.applyFontInfo(this._messageBlock);let R=this._messageBlock;for(const A of M)R=document.createElement("div"),R.innerText=A,A===""&&(R.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(R);if(N||P){const A=document.createElement("span");if(A.classList.add("details"),R.appendChild(A),N){const Y=document.createElement("span");Y.innerText=N,Y.classList.add("source"),A.appendChild(Y)}if(P)if(typeof P=="string"){const Y=document.createElement("span");Y.innerText=`(${P})`,Y.classList.add("code"),A.appendChild(Y)}else{this._codeLink=w.$("a.code-link"),this._codeLink.setAttribute("href",`${P.target.toString()}`),this._codeLink.onclick=ee=>{this._openerService.open(P.target,{allowCommands:!0}),ee.preventDefault(),ee.stopPropagation()};const Y=w.append(this._codeLink,w.$("span"));Y.innerText=P.value,A.appendChild(this._codeLink)}}if(w.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,k.isNonEmptyArray)(O)){const A=this._relatedBlock.appendChild(document.createElement("div"));A.style.paddingTop=`${Math.floor(this._editor.getOption(60)*.66)}px`,this._lines+=1;for(const Y of O){const ee=document.createElement("div"),U=document.createElement("a");U.classList.add("filename"),U.innerText=`${this._labelService.getUriBasenameLabel(Y.resource)}(${Y.startLineNumber}, ${Y.startColumn}): `,U.title=this._labelService.getUriLabel(Y.resource),this._relatedDiagnostics.set(U,Y);const j=document.createElement("span");j.innerText=Y.message,ee.appendChild(U),ee.appendChild(j),this._lines+=1,A.appendChild(ee)}}const B=this._editor.getOption(45),W=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),V=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:W,scrollHeight:V})}layout(T,N){this._scrollable.getDomNode().style.height=`${T}px`,this._scrollable.getDomNode().style.width=`${N}px`,this._scrollable.setScrollDimensions({width:N,height:T})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(T){let N="";switch(T.severity){case a.MarkerSeverity.Error:N=i.localize(0,null);break;case a.MarkerSeverity.Warning:N=i.localize(1,null);break;case a.MarkerSeverity.Info:N=i.localize(2,null);break;case a.MarkerSeverity.Hint:N=i.localize(3,null);break}let F=i.localize(4,null,N,T.startLineNumber+":"+T.startColumn);const O=this._editor.getModel();return O&&T.startLineNumber<=O.getLineCount()&&T.startLineNumber>=1&&(F=`${O.getLineContent(T.startLineNumber)}, ${F}`),F}}let f=class Gi extends n.PeekViewWidget{constructor(T,N,F,O,P,D,M){super(T,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},P);this._themeService=N,this._openerService=F,this._menuService=O,this._contextKeyService=D,this._labelService=M,this._callOnDispose=new _.DisposableStore,this._onDidSelectRelatedInformation=new L.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=a.MarkerSeverity.Warning,this._backgroundColor=I.Color.white,this._applyTheme(N.getColorTheme()),this._callOnDispose.add(N.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(T){this._backgroundColor=T.getColor(e.editorMarkerNavigationBackground);let N=e.editorMarkerNavigationError,F=e.editorMarkerNavigationErrorHeader;this._severity===a.MarkerSeverity.Warning?(N=e.editorMarkerNavigationWarning,F=e.editorMarkerNavigationWarningHeader):this._severity===a.MarkerSeverity.Info&&(N=e.editorMarkerNavigationInfo,F=e.editorMarkerNavigationInfoHeader);const O=T.getColor(N),P=T.getColor(F);this.style({arrowColor:O,frameColor:O,headerBackgroundColor:P,primaryHeadingColor:T.getColor(n.peekViewTitleForeground),secondaryHeadingColor:T.getColor(n.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(T){super._fillHead(T),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(O=>this.editor.focus()));const N=[],F=this._menuService.createMenu(Gi.TitleMenu,this._contextKeyService);(0,t.createAndFillInActionBarActions)(F,void 0,N),this._actionbarWidget.push(N,{label:!1,icon:!0,index:0}),F.dispose()}_fillTitleIcon(T){this._icon=w.append(T,w.$(""))}_fillBody(T){this._parentContainer=T,T.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),T.appendChild(this._container),this._message=new S(this._container,this.editor,N=>this._onDidSelectRelatedInformation.fire(N),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(T,N,F){this._container.classList.remove("stale"),this._message.update(T),this._severity=T.severity,this._applyTheme(this._themeService.getColorTheme());const O=g.Range.lift(T),P=this.editor.getPosition(),D=P&&O.containsPosition(P)?P:O.getStartPosition();super.show(D,this.computeRequiredHeight());const M=this.editor.getModel();if(M){const R=F>1?i.localize(5,null,N,F):i.localize(6,null,N,F);this.setTitle((0,b.basename)(M.uri),R)}this._icon.className=`codicon ${l.SeverityIcon.className(a.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(D,0),this.editor.focus()}updateMarker(T){this._container.classList.remove("stale"),this._message.update(T)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(T,N){super._doLayoutBody(T,N),this._heightInPixel=T,this._message.layout(T,N),this._container.style.height=`${T}px`}_onWidth(T){this._message.layout(this._heightInPixel,T)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};f.TitleMenu=new o.MenuId("gotoErrorTitleMenu"),f=ke([fe(1,p.IThemeService),fe(2,s.IOpenerService),fe(3,o.IMenuService),fe(4,c.IInstantiationService),fe(5,r.IContextKeyService),fe(6,d.ILabelService)],f),e.MarkerNavigationWidget=f;const m=(0,h.oneOf)(h.editorErrorForeground,h.editorErrorBorder),C=(0,h.oneOf)(h.editorWarningForeground,h.editorWarningBorder),y=(0,h.oneOf)(h.editorInfoForeground,h.editorInfoBorder);e.editorMarkerNavigationError=(0,h.registerColor)("editorMarkerNavigationError.background",{dark:m,light:m,hcDark:h.contrastBorder,hcLight:h.contrastBorder},i.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,h.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,h.transparent)(e.editorMarkerNavigationError,.1),light:(0,h.transparent)(e.editorMarkerNavigationError,.1),hcDark:null,hcLight:null},i.localize(8,null)),e.editorMarkerNavigationWarning=(0,h.registerColor)("editorMarkerNavigationWarning.background",{dark:C,light:C,hcDark:h.contrastBorder,hcLight:h.contrastBorder},i.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,h.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,h.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,h.transparent)(e.editorMarkerNavigationWarning,.1),hcDark:"#0C141F",hcLight:(0,h.transparent)(e.editorMarkerNavigationWarning,.2)},i.localize(10,null)),e.editorMarkerNavigationInfo=(0,h.registerColor)("editorMarkerNavigationInfo.background",{dark:y,light:y,hcDark:h.contrastBorder,hcLight:h.contrastBorder},i.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,h.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,h.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,h.transparent)(e.editorMarkerNavigationInfo,.1),hcDark:null,hcLight:null},i.localize(12,null)),e.editorMarkerNavigationBackground=(0,h.registerColor)("editorMarkerNavigation.background",{dark:h.editorBackground,light:h.editorBackground,hcDark:h.editorBackground,hcLight:h.editorBackground},i.localize(13,null))}),define(se[317],re([1,0,27,2,13,29,11,3,24,655,571,36,16,9,81,772]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let c=class Zt{constructor(m,C,y,E,T){this._markerNavigationService=C,this._contextKeyService=y,this._editorService=E,this._instantiationService=T,this._sessionDispoables=new v.DisposableStore,this._editor=m,this._widgetVisible=p.bindTo(this._contextKeyService)}static get(m){return m.getContribution(Zt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(m){if(this._model&&this._model.matches(m))return this._model;let C=!1;return this._model&&(C=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(m),C&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(r.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(y=>{var E,T,N;(!((E=this._model)===null||E===void 0?void 0:E.selected)||!_.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,y.position))&&((N=this._model)===null||N===void 0||N.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const y=this._model.find(this._editor.getModel().uri,this._widget.position);y?this._widget.updateMarker(y.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(y=>{this._editorService.openCodeEditor({resource:y.resource,options:{pinned:!0,revealIfOpened:!0,selection:_.Range.lift(y).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(m=!0){this._cleanUp(),m&&this._editor.focus()}showAtMarker(m){if(this._editor.hasModel()){const C=this._getOrCreateModel(this._editor.getModel().uri);C.resetIndex(),C.move(!0,this._editor.getModel(),new L.Position(m.startLineNumber,m.startColumn)),C.selected&&this._widget.showAtMarker(C.selected.marker,C.selected.index,C.selected.total)}}nagivate(m,C){var y,E;return Se(this,void 0,void 0,function*(){if(this._editor.hasModel()){const T=this._getOrCreateModel(C?void 0:this._editor.getModel().uri);if(T.move(m,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=yield this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);N&&((y=Zt.get(N))===null||y===void 0||y.close(),(E=Zt.get(N))===null||E===void 0||E.nagivate(m,C))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}})}};c.ID="editor.contrib.markerController",c=ke([fe(1,u.IMarkerNavigationService),fe(2,i.IContextKeyService),fe(3,I.ICodeEditorService),fe(4,t.IInstantiationService)],c),e.MarkerController=c;class d extends k.EditorAction{constructor(m,C,y){super(y);this._next=m,this._multiFile=C}run(m,C){var y;return Se(this,void 0,void 0,function*(){C.hasModel()&&((y=c.get(C))===null||y===void 0||y.nagivate(this._next,this._multiFile))})}}class a extends d{constructor(){super(!0,!1,{id:a.ID,label:a.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:a.LABEL,icon:(0,o.registerIcon)("marker-navigation-next",w.Codicon.arrowDown,g.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=a,a.ID="editor.action.marker.next",a.LABEL=g.localize(0,null);class s extends d{constructor(){super(!1,!1,{id:s.ID,label:s.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,o.registerIcon)("marker-navigation-previous",w.Codicon.arrowUp,g.localize(3,null)),group:"navigation",order:2}})}}s.ID="editor.action.marker.prev",s.LABEL=g.localize(2,null);class l extends d{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:n.MenuId.MenubarGoMenu,title:g.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends d{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:n.MenuId.MenubarGoMenu,title:g.localize(7,null),group:"6_problem_nav",order:2}})}}(0,k.registerEditorContribution)(c.ID,c),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(l),(0,k.registerEditorAction)(h);const p=new i.RawContextKey("markersNavigationVisible",!1),S=k.EditorCommand.bindToContribution(c.get);(0,k.registerEditorCommand)(new S({id:"closeMarkersNavigation",precondition:p,handler:f=>f.close(),kbOpts:{weight:100+50,kbExpr:b.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(se[773],re([1,0,7,267,31,6,2,52,43,176,3,37,32,72,39,58,696,120,577,9,44,142,173,15,174,139,386]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class C{constructor(F,O){this._editor=F,this._model=O,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new L.DisposableStore,this._callOnModelChange=new L.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const F=this._editor.getModel();if(!!F){for(const O of this._model.references)if(O.uri.toString()===F.uri.toString()){this._addDecorations(O.parent);return}}}_addDecorations(F){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const O=[],P=[];for(let D=0,M=F.children.length;D<M;D++){const R=F.children[D];this._decorationIgnoreSet.has(R.id)||R.uri.toString()===this._editor.getModel().uri.toString()&&(O.push({range:R.range,options:C.DecorationOptions}),P.push(D))}this._editor.changeDecorations(D=>{const M=D.deltaDecorations([],O);for(let R=0;R<M.length;R++)this._decorations.set(M[R],F.children[P[R]])})}_onDecorationChanged(){const F=[],O=this._editor.getModel();if(!!O){for(const[P,D]of this._decorations){const M=O.getDecorationRange(P);if(!M)continue;let R=!1;if(!g.Range.equalsRange(M,D.range)){if(g.Range.spansMultipleLines(M))R=!0;else{const B=D.range.endColumn-D.range.startColumn,W=M.endColumn-M.startColumn;B!==W&&(R=!0)}R?(this._decorationIgnoreSet.add(D.id),F.push(P)):D.range=M}}for(let P=0,D=F.length;P<D;P++)this._decorations.delete(F[P]);this._editor.removeDecorations(F)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}C.DecorationOptions=n.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class y{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(F){let O,P;try{const D=JSON.parse(F);O=D.ratio,P=D.heightInLines}catch{}return{ratio:O||.7,heightInLines:P||18}}}e.LayoutData=y;class E extends p.WorkbenchAsyncDataTree{}let T=class extends d.PeekViewWidget{constructor(F,O,P,D,M,R,B,W,V,A,Y,ee){super(F,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},R);this._defaultTreeKeyboardSupport=O,this.layoutData=P,this._textModelResolverService=M,this._instantiationService=R,this._peekViewService=B,this._uriLabel=W,this._undoRedoService=V,this._keybindingService=A,this._languageService=Y,this._languageConfigurationService=ee,this._disposeOnNewModel=new L.DisposableStore,this._callOnDispose=new L.DisposableStore,this._onDidSelectReference=new I.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new w.Dimension(0,0),this._applyTheme(D.getColorTheme()),this._callOnDispose.add(D.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(F,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,L.dispose)(this._preview),(0,L.dispose)(this._previewNotAvailableMessage),(0,L.dispose)(this._tree),(0,L.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(F){const O=F.getColor(d.peekViewBorder)||k.Color.transparent;this.style({arrowColor:O,frameColor:O,headerBackgroundColor:F.getColor(d.peekViewTitleBackground)||k.Color.transparent,primaryHeadingColor:F.getColor(d.peekViewTitleForeground),secondaryHeadingColor:F.getColor(d.peekViewTitleInfoForeground)})}show(F){super.show(F,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(F){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:F.ctrlKey||F.metaKey||F.altKey?"side":"open",source:"title"})}_fillBody(F){this.setCssClass("reference-zone-widget"),this._messageContainer=w.append(F,w.$("div.messages")),w.hide(this._messageContainer),this._splitView=new v.SplitView(F,{orientation:1}),this._previewContainer=w.append(F,w.$("div.preview.inline"));const O={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(u.EmbeddedCodeEditorWidget,this._previewContainer,O,this.editor),w.hide(this._previewContainer),this._previewNotAvailableMessage=new n.TextModel(a.localize(0,null),t.PLAINTEXT_LANGUAGE_ID,n.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=w.append(F,w.$("div.ref-tree.inline"));const P={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new c.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(c.StringRepresentationProvider),identityProvider:new c.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:d.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(w.addStandardDisposableListener(this._treeContainer,"keydown",M=>{M.equals(9)&&(this._keybindingService.dispatchEvent(M,M.target),M.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new c.Delegate,[this._instantiationService.createInstance(c.FileReferencesRenderer),this._instantiationService.createInstance(c.OneReferenceRenderer)],this._instantiationService.createInstance(c.DataSource),P),this._splitView.addView({onDidChange:I.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:M=>{this._preview.layout({height:this._dim.height,width:M})}},v.Sizing.Distribute),this._splitView.addView({onDidChange:I.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:M=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${M}px`,this._tree.layout(this._dim.height,M)}},v.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const D=(M,R)=>{M instanceof m.OneReference&&(R==="show"&&this._revealReference(M,!1),this._onDidSelectReference.fire({element:M,kind:R,source:"tree"}))};this._tree.onDidOpen(M=>{M.sideBySide?D(M.element,"side"):M.editorOptions.pinned?D(M.element,"goto"):D(M.element,"show")}),w.hide(this._treeContainer)}_onWidth(F){this._dim&&this._doLayoutBody(this._dim.height,F)}_doLayoutBody(F,O){super._doLayoutBody(F,O),this._dim=new w.Dimension(O,F),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(O),this._splitView.resizeView(0,O*this.layoutData.ratio)}setSelection(F){return this._revealReference(F,!0).then(()=>{!this._model||(this._tree.setSelection([F]),this._tree.setFocus([F]))})}setModel(F){return this._disposeOnNewModel.clear(),this._model=F,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=a.localize(1,null),w.show(this._messageContainer),Promise.resolve(void 0)):(w.hide(this._messageContainer),this._decorationsManager=new C(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(F=>this._tree.rerender(F))),this._disposeOnNewModel.add(this._preview.onMouseDown(F=>{const{event:O,target:P}=F;if(O.detail!==2)return;const D=this._getFocusedReference();!D||this._onDidSelectReference.fire({element:{uri:D.uri,range:P.range},kind:O.ctrlKey||O.metaKey||O.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),w.show(this._treeContainer),w.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[F]=this._tree.getFocus();if(F instanceof m.OneReference)return F;if(F instanceof m.FileReferences&&F.children.length>0)return F.children[0]}revealReference(F){return Se(this,void 0,void 0,function*(){yield this._revealReference(F,!1),this._onDidSelectReference.fire({element:F,kind:"goto",source:"tree"})})}_revealReference(F,O){return Se(this,void 0,void 0,function*(){if(this._revealedReference===F)return;this._revealedReference=F,F.uri.scheme!==_.Schemas.inMemory?this.setTitle((0,b.basenameOrAuthority)(F.uri),this._uriLabel.getUriLabel((0,b.dirname)(F.uri))):this.setTitle(a.localize(2,null));const P=this._textModelResolverService.createModelReference(F.uri);this._tree.getInput()===F.parent?this._tree.reveal(F):(O&&this._tree.reveal(F.parent),yield this._tree.expand(F.parent),this._tree.reveal(F));const D=yield P;if(!this._model){D.dispose();return}(0,L.dispose)(this._previewModelReference);const M=D.object;if(M){const R=this._preview.getModel()===M.textEditorModel?0:1,B=g.Range.lift(F.range).collapseToStart();this._previewModelReference=D,this._preview.setModel(M.textEditorModel),this._preview.setSelection(B),this._preview.revealRangeInCenter(B,R)}else this._preview.setModel(this._previewNotAvailableMessage),D.dispose()})}};T=ke([fe(3,S.IThemeService),fe(4,r.ITextModelService),fe(5,s.IInstantiationService),fe(6,d.IPeekViewService),fe(7,h.ILabelService),fe(8,f.IUndoRedoService),fe(9,l.IKeybindingService),fe(10,o.ILanguageService),fe(11,i.ILanguageConfigurationService)],T),e.ReferenceWidget=T}),define(se[318],re([1,0,10,14,59,2,29,11,3,120,575,26,30,16,9,95,173,40,80,139,773]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new t.RawContextKey("referenceSearchVisible",!1,g.localize(0,null));let h=class hi{constructor(f,m,C,y,E,T,N,F){this._defaultTreeKeyboardSupport=f,this._editor=m,this._editorService=y,this._notificationService=E,this._instantiationService=T,this._storageService=N,this._configurationService=F,this._disposables=new I.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(C)}static get(f){return f.getContribution(hi.ID)}dispose(){var f,m;this._referenceSearchVisible.reset(),this._disposables.dispose(),(f=this._widget)===null||f===void 0||f.dispose(),(m=this._model)===null||m===void 0||m.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(f,m,C){let y;if(this._widget&&(y=this._widget.position),this.closeWidget(),!!y&&f.containsPosition(y))return;this._peekMode=C,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",T=l.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(l.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,T),this._widget.setTitle(g.localize(1,null)),this._widget.show(f),this._disposables.add(this._widget.onDidClose(()=>{m.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(F=>{const{element:O,kind:P}=F;if(!!O)switch(P){case"open":(F.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(O,!1,!1);break;case"side":this.openReference(O,!0,!1);break;case"goto":C?this._gotoReference(O):this.openReference(O,!1,!0);break}}));const N=++this._requestIdPool;m.then(F=>{var O;if(N!==this._requestIdPool||!this._widget){F.dispose();return}return(O=this._model)===null||O===void 0||O.dispose(),this._model=F,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g.localize(2,null,this._model.title,this._model.references.length));const P=this._editor.getModel().uri,D=new _.Position(f.startLineNumber,f.startColumn),M=this._model.nearestReference(P,D);if(M)return this._widget.setSelection(M).then(()=>{this._widget&&this._editor.getOption(78)==="editor"&&this._widget.focusOnPreviewEditor()})}})},F=>{this._notificationService.error(F)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(f){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const m=this._widget.position;if(!m)return;const C=this._model.nearestReference(this._editor.getModel().uri,m);if(!C)return;const y=this._model.nextOrPreviousReference(C,f),E=this._editor.hasTextFocus(),T=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(y),yield this._gotoReference(y),E?this._editor.focus():this._widget&&T&&this._widget.focusOnPreviewEditor()})}revealReference(f){return Se(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(f))})}closeWidget(f=!0){var m,C;(m=this._widget)===null||m===void 0||m.dispose(),(C=this._model)===null||C===void 0||C.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,f&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(f){var m;(m=this._widget)===null||m===void 0||m.hide(),this._ignoreModelChangeEvent=!0;const C=b.Range.lift(f.range).collapseToStart();return this._editorService.openCodeEditor({resource:f.uri,options:{selection:C,selectionSource:"code.jump"}},this._editor).then(y=>{var E;if(this._ignoreModelChangeEvent=!1,!y||!this._widget){this.closeWidget();return}if(this._editor===y)this._widget.show(C),this._widget.focusOnReferenceTree();else{const T=hi.get(y),N=this._model.clone();this.closeWidget(),y.focus(),T==null||T.toggleWidget(C,(0,w.createCancelablePromise)(F=>Promise.resolve(N)),(E=this._peekMode)!==null&&E!==void 0?E:!1)}},y=>{this._ignoreModelChangeEvent=!1,(0,v.onUnexpectedError)(y)})}openReference(f,m,C){m||this.closeWidget();const{uri:y,range:E}=f;this._editorService.openCodeEditor({resource:y,options:{selection:E,selectionSource:"code.jump",pinned:C}},this._editor,m)}};h.ID="editor.contrib.referencesController",h=ke([fe(2,t.IContextKeyService),fe(3,L.ICodeEditorService),fe(4,d.INotificationService),fe(5,o.IInstantiationService),fe(6,a.IStorageService),fe(7,i.IConfigurationService)],h),e.ReferencesController=h;function p(S,f){const m=(0,u.getOuterEditor)(S);if(!m)return;const C=h.get(m);C&&f(C)}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,k.KeyChord)(2048|41,60),when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){p(S,f=>{f.changeFocusBetweenPreviewAndReferences()})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){p(S,f=>{f.goToNextOrPreviousReference(!0)})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(S){p(S,f=>{f.goToNextOrPreviousReference(!1)})}}),n.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),n.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),n.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),n.CommandsRegistry.registerCommand("closeReferenceSearch",S=>p(S,f=>f.closeWidget())),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(u.PeekContext.inPeekEditor,t.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(S){var f;const C=(f=S.get(c.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(C)&&C[0]instanceof s.OneReference&&p(S,y=>y.revealReference(C[0]))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(S){var f;const C=(f=S.get(c.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(C)&&C[0]instanceof s.OneReference&&p(S,y=>y.openReference(C[0],!0,!0))}}),n.CommandsRegistry.registerCommand("openReference",S=>{var f;const C=(f=S.get(c.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(C)&&C[0]instanceof s.OneReference&&p(S,y=>y.openReference(C[0],!1,!0))})}),define(se[223],re([1,0,41,49,10,59,18,20,22,96,156,13,29,176,11,3,24,28,318,139,716,145,120,573,36,26,16,9,40,71,220,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E,T,N,F){"use strict";var O,P,D,M,R,B,W,V;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,f.MenuRegistry.appendMenuItem(f.MenuId.EditorContext,{submenu:f.MenuId.EditorContextPeek,title:S.localize(0,null),group:"navigation",order:100});const A=new Set;function Y(ne){const te=new ne;return(0,n.registerInstantiatedEditorAction)(te),A.add(te.id),te}class ee{constructor(te,q){this.model=te,this.position=q}static is(te){return!te||typeof te!="object"?!1:!!(te instanceof ee||o.Position.isIPosition(te.position)&&te.model)}}e.SymbolNavigationAnchor=ee;class U extends n.EditorAction{constructor(te,q){super(q);this.configuration=te}run(te,q,oe,z){if(!q.hasModel())return Promise.resolve(void 0);const X=te.get(E.INotificationService),$=te.get(i.ICodeEditorService),H=te.get(T.IEditorProgressService),K=te.get(l.ISymbolNavigationService),ce=te.get(F.ILanguageFeaturesService),le=q.getModel(),he=q.getPosition(),me=ee.is(oe)?oe:new ee(le,he),Ce=new u.EditorStateCancellationTokenSource(q,1|4),Le=(0,k.raceCancellation)(this._getLocationModel(ce,me.model,me.position,Ce.token),Ce.token).then(ye=>Se(this,void 0,void 0,function*(){var De;if(!ye||Ce.token.isCancellationRequested)return;(0,v.alert)(ye.ariaMessage);let Ae;if(ye.referenceAt(le.uri,he)){const ue=this._getAlternativeCommand(q);!U._activeAlternativeCommands.has(ue)&&A.has(ue)&&(Ae=q.getAction(ue))}const pe=ye.references.length;if(pe===0){if(!this.configuration.muteMessage){const ue=le.getWordAtPosition(he);(De=h.MessageController.get(q))===null||De===void 0||De.showMessage(this._getNoResultFoundMessage(ue),he)}}else if(pe===1&&Ae)U._activeAlternativeCommands.add(this.id),Ae.run().finally(()=>{U._activeAlternativeCommands.delete(this.id)});else return this._onResult($,K,q,ye,z)}),ye=>{X.error(ye)}).finally(()=>{Ce.dispose()});return H.showWhile(Le,250),Le}_onResult(te,q,oe,z,X){return Se(this,void 0,void 0,function*(){const $=this._getGoToPreference(oe);if(!(oe instanceof t.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||$==="peek"&&z.references.length>1))this._openInPeek(oe,z,X);else{const H=z.firstReference(),K=z.references.length>1&&$==="gotoAndPeek",ce=yield this._openReference(oe,te,H,this.configuration.openToSide,!K);K&&ce?this._openInPeek(ce,z,X):z.dispose(),$==="goto"&&q.put(H)}})}_openReference(te,q,oe,z,X){return Se(this,void 0,void 0,function*(){let $;if((0,d.isLocationLink)(oe)&&($=oe.targetSelectionRange),$||($=oe.range),!$)return;const H=yield q.openCodeEditor({resource:oe.uri,options:{selection:r.Range.collapseToStart($),selectionRevealType:3,selectionSource:"code.jump"}},te,z);if(!!H){if(X){const K=H.getModel(),ce=H.createDecorationsCollection([{range:$,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{H.getModel()===K&&ce.clear()},350)}return H}})}_openInPeek(te,q,oe){const z=a.ReferencesController.get(te);z&&te.hasModel()?z.toggleWidget(oe??te.getSelection(),(0,k.createCancelablePromise)(X=>Promise.resolve(q)),this.configuration.openInPeek):q.dispose()}}e.SymbolNavigationAction=U,U._activeAlternativeCommands=new Set;class j extends U{_getLocationModel(te,q,oe,z){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,N.getDefinitionsAtPosition)(te.definitionProvider,q,oe,z),S.localize(1,null))})}_getNoResultFoundMessage(te){return te&&te.word?S.localize(2,null,te.word):S.localize(3,null)}_getAlternativeCommand(te){return te.getOption(52).alternativeDefinitionCommand}_getGoToPreference(te){return te.getOption(52).multipleDefinitions}}e.DefinitionAction=j;const Z=L.isWeb&&!(0,w.isStandalone)()?2048|70:70;Y((O=class gi extends j{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:gi.id,label:S.localize(4,null),alias:"Go to Definition",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:Z,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});m.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",gi.id)}},O.id="editor.action.revealDefinition",O)),Y((P=class fi extends j{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:fi.id,label:S.localize(5,null),alias:"Open Definition to the Side",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,Z),weight:100}});m.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",fi.id)}},P.id="editor.action.revealDefinitionAside",P)),Y((D=class mi extends j{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:mi.id,label:S.localize(6,null),alias:"Peek Definition",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:2}});m.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",mi.id)}},D.id="editor.action.peekDefinition",D));class ie extends U{_getLocationModel(te,q,oe,z){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,N.getDeclarationsAtPosition)(te.declarationProvider,q,oe,z),S.localize(7,null))})}_getNoResultFoundMessage(te){return te&&te.word?S.localize(8,null,te.word):S.localize(9,null)}_getAlternativeCommand(te){return te.getOption(52).alternativeDeclarationCommand}_getGoToPreference(te){return te.getOption(52).multipleDeclarations}}Y((M=class Zi extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zi.id,label:S.localize(10,null),alias:"Go to Declaration",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(te){return te&&te.word?S.localize(11,null,te.word):S.localize(12,null)}},M.id="editor.action.revealDeclaration",M)),Y(class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:S.localize(13,null),alias:"Peek Declaration",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:3}})}});class Q extends U{_getLocationModel(te,q,oe,z){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,N.getTypeDefinitionsAtPosition)(te.typeDefinitionProvider,q,oe,z),S.localize(14,null))})}_getNoResultFoundMessage(te){return te&&te.word?S.localize(15,null,te.word):S.localize(16,null)}_getAlternativeCommand(te){return te.getOption(52).alternativeTypeDefinitionCommand}_getGoToPreference(te){return te.getOption(52).multipleTypeDefinitions}}Y((R=class Yi extends Q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Yi.ID,label:S.localize(17,null),alias:"Go to Type Definition",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},R.ID="editor.action.goToTypeDefinition",R)),Y((B=class Qi extends Q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Qi.ID,label:S.localize(18,null),alias:"Peek Type Definition",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:4}})}},B.ID="editor.action.peekTypeDefinition",B));class J extends U{_getLocationModel(te,q,oe,z){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,N.getImplementationsAtPosition)(te.implementationProvider,q,oe,z),S.localize(19,null))})}_getNoResultFoundMessage(te){return te&&te.word?S.localize(20,null,te.word):S.localize(21,null)}_getAlternativeCommand(te){return te.getOption(52).alternativeImplementationCommand}_getGoToPreference(te){return te.getOption(52).multipleImplementations}}Y((W=class Xi extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Xi.ID,label:S.localize(22,null),alias:"Go to Implementations",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},W.ID="editor.action.goToImplementation",W)),Y((V=class Ji extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ji.ID,label:S.localize(23,null),alias:"Peek Implementations",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:5}})}},V.ID="editor.action.peekImplementation",V));class de extends U{_getNoResultFoundMessage(te){return te?S.localize(24,null,te.word):S.localize(25,null)}_getAlternativeCommand(te){return te.getOption(52).alternativeReferenceCommand}_getGoToPreference(te){return te.getOption(52).multipleReferences}}Y(class extends de{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:S.localize(26,null),alias:"Go to References",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(te,q,oe,z){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,N.getReferencesAtPosition)(te.referenceProvider,q,oe,!0,z),S.localize(27,null))})}}),Y(class extends de{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:S.localize(28,null),alias:"Peek References",precondition:C.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(te,q,oe,z){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,N.getReferencesAtPosition)(te.referenceProvider,q,oe,!1,z),S.localize(29,null))})}});class x extends U{constructor(te,q,oe){super(te,{id:"editor.action.goToLocation",label:S.localize(30,null),alias:"Go to Any Symbol",precondition:C.ContextKeyExpr.and(p.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=q,this._gotoMultipleBehaviour=oe}_getLocationModel(te,q,oe,z){return Se(this,void 0,void 0,function*(){return new s.ReferencesModel(this._references,S.localize(31,null))})}_getNoResultFoundMessage(te){return te&&S.localize(32,null,te.word)||""}_getGoToPreference(te){var q;return(q=this._gotoMultipleBehaviour)!==null&&q!==void 0?q:te.getOption(52).multipleReferences}_getAlternativeCommand(){return""}}m.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:b.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(ne,te,q,oe,z,X,$)=>Se(void 0,void 0,void 0,function*(){(0,_.assertType)(b.URI.isUri(te)),(0,_.assertType)(o.Position.isIPosition(q)),(0,_.assertType)(Array.isArray(oe)),(0,_.assertType)(typeof z=="undefined"||typeof z=="string"),(0,_.assertType)(typeof $=="undefined"||typeof $=="boolean");const H=ne.get(i.ICodeEditorService),K=yield H.openCodeEditor({resource:te},H.getFocusedCodeEditor());if((0,g.isCodeEditor)(K))return K.setPosition(q),K.revealPositionInCenterIfOutsideViewport(q,0),K.invokeWithinContext(ce=>{const le=new class extends x{_getNoResultFoundMessage(he){return X||super._getNoResultFoundMessage(he)}}({muteMessage:!Boolean(X),openInPeek:Boolean($),openToSide:!1},oe,z);ce.get(y.IInstantiationService).invokeFunction(le.run.bind(le),K)})})}),m.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:b.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(ne,te,q,oe,z)=>Se(void 0,void 0,void 0,function*(){ne.get(m.ICommandService).executeCommand("editor.action.goToLocations",te,q,oe,z,void 0,!0)})}),m.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(ne,te,q)=>{(0,_.assertType)(b.URI.isUri(te)),(0,_.assertType)(o.Position.isIPosition(q));const oe=ne.get(F.ILanguageFeaturesService),z=ne.get(i.ICodeEditorService);return z.openCodeEditor({resource:te},z.getFocusedCodeEditor()).then(X=>{if(!(0,g.isCodeEditor)(X)||!X.hasModel())return;const $=a.ReferencesController.get(X);if(!$)return;const H=(0,k.createCancelablePromise)(ce=>(0,N.getReferencesAtPosition)(oe.referenceProvider,X.getModel(),o.Position.lift(q),!1,ce).then(le=>new s.ReferencesModel(le,S.localize(33,null)))),K=new r.Range(q.lineNumber,q.column,q.lineNumber,q.column);return Promise.resolve($.toggleWidget(K,H,!1))})}}),m.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),f.MenuRegistry.appendMenuItems([{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:S.localize(34,null)},group:"4_symbol_nav",order:2}},{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:S.localize(35,null)},group:"4_symbol_nav",order:3}},{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:S.localize(36,null)},group:"4_symbol_nav",order:3}},{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:S.localize(37,null)},group:"4_symbol_nav",order:4}},{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:S.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(se[319],re([1,0,10,14,65,2,20,96,13,3,39,58,166,120,574,16,25,15,223,220,19,385]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let h=class Yt{constructor(S,f,m,C){this.textModelResolverService=f,this.languageService=m,this.languageFeaturesService=C,this.toUnhook=new I.DisposableStore,this.toUnhookForKeyboard=new I.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=S,this.linkDecorations=this.editor.createDecorationsCollection();const y=new i.ClickLinkGesture(S);this.toUnhook.add(y),this.toUnhook.add(y.onMouseMoveOrRelevantKeyDown(([E,T])=>{this.startFindDefinitionFromMouse(E,(0,L.withNullAsUndefined)(T))})),this.toUnhook.add(y.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},T=>{this.removeLinkDecorations(),(0,v.onUnexpectedError)(T)})})),this.toUnhook.add(y.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(S){return S.getContribution(Yt.ID)}startFindDefinitionFromCursor(S){return this.startFindDefinition(S).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(f=>{f&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(S,f){if(S.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(S,f)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const m=S.target.position;this.startFindDefinition(m)}startFindDefinition(S){var f;this.toUnhookForKeyboard.clear();const m=S?(f=this.editor.getModel())===null||f===void 0?void 0:f.getWordAtPosition(S):null;if(!m)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===m.startColumn&&this.currentWordAtPosition.endColumn===m.endColumn&&this.currentWordAtPosition.word===m.word)return Promise.resolve(0);this.currentWordAtPosition=m;const C=new _.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,w.createCancelablePromise)(y=>this.findDefinition(S,y)),this.previousPromise.then(y=>{if(!y||!y.length||!C.validate(this.editor)){this.removeLinkDecorations();return}if(y.length>1)this.addDecoration(new u.Range(S.lineNumber,m.startColumn,S.lineNumber,m.endColumn),new k.MarkdownString().appendText(o.localize(0,null,y.length)));else{const E=y[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(T=>{if(!T.object||!T.object.textEditorModel){T.dispose();return}const{object:{textEditorModel:N}}=T,{startLineNumber:F}=E.range;if(F<1||F>N.getLineCount()){T.dispose();return}const O=this.getPreviewValue(N,F,E);let P;E.originSelectionRange?P=u.Range.lift(E.originSelectionRange):P=new u.Range(S.lineNumber,m.startColumn,S.lineNumber,m.endColumn);const D=this.languageService.guessLanguageIdByFilepathOrFirstLine(N.uri);this.addDecoration(P,new k.MarkdownString().appendCodeblock(D||"",O)),T.dispose()})}}).then(void 0,v.onUnexpectedError)}getPreviewValue(S,f,m){let C=m.range;return C.endLineNumber-C.startLineNumber>=Yt.MAX_SOURCE_PREVIEW_LINES&&(C=this.getPreviewRangeBasedOnIndentation(S,f)),this.stripIndentationFromPreviewRange(S,f,C)}stripIndentationFromPreviewRange(S,f,m){let y=S.getLineFirstNonWhitespaceColumn(f);for(let T=f+1;T<m.endLineNumber;T++){const N=S.getLineFirstNonWhitespaceColumn(T);y=Math.min(y,N)}return S.getValueInRange(m).replace(new RegExp(`^\\s{${y-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(S,f){const m=S.getLineFirstNonWhitespaceColumn(f),C=Math.min(S.getLineCount(),f+Yt.MAX_SOURCE_PREVIEW_LINES);let y=f+1;for(;y<C;y++){const E=S.getLineFirstNonWhitespaceColumn(y);if(m===E)break}return new u.Range(f,1,y+1,1)}addDecoration(S,f){const m={range:S,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:f}};this.linkDecorations.set([m])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(S,f){return this.editor.hasModel()&&S.isNoneOrSingleMouseDown&&S.target.type===6&&(S.hasTriggerModifier||(f?f.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(S,f){const m=this.editor.getModel();return m?(0,s.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,m,S,f):Promise.resolve(null)}gotoDefinition(S,f){return this.editor.setPosition(S),this.editor.invokeWithinContext(m=>{const C=!f&&this.editor.getOption(79)&&!this.isInPeekEditor(m);return new a.DefinitionAction({openToSide:f,openInPeek:C,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(m,this.editor)})}isInPeekEditor(S){const f=S.get(r.IContextKeyService);return t.PeekContext.inPeekEditor.getValue(f)}dispose(){this.toUnhook.dispose()}};h.ID="editor.contrib.gotodefinitionatposition",h.MAX_SOURCE_PREVIEW_LINES=8,h=ke([fe(1,n.ITextModelService),fe(2,g.ILanguageService),fe(3,l.ILanguageFeaturesService)],h),e.GotoDefinitionAtPositionEditorContribution=h,(0,b.registerEditorContribution)(h.ID,h),(0,d.registerThemingParticipant)((p,S)=>{const f=p.getColor(c.editorActiveLinkForeground);f&&S.addRule(`.monaco-editor .goto-definition-link { color: ${f} !important; }`)})}),define(se[774],re([1,0,7,17,10,14,2,43,3,211,172,309,133,317,582,84,45,71,25,15,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const h=w.$;class p{constructor(C,y,E){this.owner=C,this.range=y,this.marker=E}isValidForHoverAnchor(C){return C.type===1&&this.range.startColumn<=C.range.startColumn&&this.range.endColumn>=C.range.endColumn}}e.MarkerHover=p;const S={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let f=class{constructor(C,y,E,T){this._editor=C,this._markerDecorationsService=y,this._openerService=E,this._languageFeaturesService=T,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(C,y){if(!this._editor.hasModel()||C.type!==1)return[];const E=this._editor.getModel(),T=C.range.startLineNumber,N=E.getLineMaxColumn(T),F=[];for(const O of y){const P=O.range.startLineNumber===T?O.range.startColumn:1,D=O.range.endLineNumber===T?O.range.endColumn:N,M=this._markerDecorationsService.getMarker(E.uri,O);if(!M)continue;const R=new b.Range(C.range.startLineNumber,P,C.range.startLineNumber,D);F.push(new p(this,R,M))}return F}renderHoverParts(C,y){if(!y.length)return L.Disposable.None;const E=new L.DisposableStore;y.forEach(N=>C.fragment.appendChild(this.renderMarkerHover(N,E)));const T=y.length===1?y[0]:y.sort((N,F)=>r.MarkerSeverity.compare(N.marker.severity,F.marker.severity))[0];return this.renderMarkerStatusbar(C,T,E),E}renderMarkerHover(C,y){const E=h("div.hover-row"),T=w.append(E,h("div.marker.hover-contents")),{source:N,message:F,code:O,relatedInformation:P}=C.marker;this._editor.applyFontInfo(T);const D=w.append(T,h("span"));if(D.style.whiteSpace="pre-wrap",D.innerText=F,N||O)if(O&&typeof O!="string"){const M=h("span");if(N){const V=w.append(M,h("span"));V.innerText=N}const R=w.append(M,h("a.code-link"));R.setAttribute("href",O.target.toString()),y.add(w.addDisposableListener(R,"click",V=>{this._openerService.open(O.target,{allowCommands:!0}),V.preventDefault(),V.stopPropagation()}));const B=w.append(R,h("span"));B.innerText=O.value;const W=w.append(T,M);W.style.opacity="0.6",W.style.paddingLeft="6px"}else{const M=w.append(T,h("span"));M.style.opacity="0.6",M.style.paddingLeft="6px",M.innerText=N&&O?`${N}(${O})`:N||`(${O})`}if((0,v.isNonEmptyArray)(P))for(const{message:M,resource:R,startLineNumber:B,startColumn:W}of P){const V=w.append(T,h("div"));V.style.marginTop="8px";const A=w.append(V,h("a"));A.innerText=`${(0,_.basename)(R)}(${B}, ${W}): `,A.style.cursor="pointer",y.add(w.addDisposableListener(A,"click",ee=>{ee.stopPropagation(),ee.preventDefault(),this._openerService&&this._openerService.open(R,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:B,startColumn:W}}}).catch(I.onUnexpectedError)}));const Y=w.append(V,h("span"));Y.innerText=M,this._editor.applyFontInfo(Y)}return E}renderMarkerStatusbar(C,y,E){if((y.marker.severity===r.MarkerSeverity.Error||y.marker.severity===r.MarkerSeverity.Warning||y.marker.severity===r.MarkerSeverity.Info)&&C.statusBar.addAction({label:o.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{var T;C.hide(),(T=t.MarkerController.get(this._editor))===null||T===void 0||T.showAtMarker(y.marker),this._editor.focus()}}),!this._editor.getOption(82)){const T=C.statusBar.append(h("div"));this.recentMarkerCodeActionsInfo&&(r.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===r.IMarkerData.makeKey(y.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(T.textContent=o.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const N=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?L.Disposable.None:E.add((0,k.disposableTimeout)(()=>T.textContent=o.localize(2,null),200));T.textContent||(T.textContent=String.fromCharCode(160));const F=this.getCodeActions(y.marker);E.add((0,L.toDisposable)(()=>F.cancel())),F.then(O=>{if(N.dispose(),this.recentMarkerCodeActionsInfo={marker:y.marker,hasCodeActions:O.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){O.dispose(),T.textContent=o.localize(3,null);return}T.style.display="none";let P=!1;E.add((0,L.toDisposable)(()=>{P||O.dispose()})),C.statusBar.addAction({label:o.localize(4,null),commandId:n.QuickFixAction.Id,run:D=>{P=!0;const M=n.QuickFixController.get(this._editor),R=w.getDomNodePagePosition(D);C.hide(),M==null||M.showCodeActions(S,O,{x:R.left+6,y:R.top+R.height+6,width:R.width,height:R.height})}})},I.onUnexpectedError)}}getCodeActions(C){return(0,k.createCancelablePromise)(y=>(0,g.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new b.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),S,d.Progress.None,y))}};f=ke([fe(1,u.IMarkerDecorationsService),fe(2,c.IOpenerService),fe(3,l.ILanguageFeaturesService)],f),e.MarkerHoverParticipant=f,(0,s.registerThemingParticipant)((m,C)=>{const y=m.getColor(a.textLinkForeground);y&&C.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${y}; }`);const E=m.getColor(a.textLinkActiveForeground);E&&C.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${E}; }`)})}),define(se[320],re([1,0,59,2,13,3,24,39,319,763,669,580,16,9,45,25,15,88,221,774]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let l=class en{constructor(f,m,C,y,E){this._editor=f,this._instantiationService=m,this._openerService=C,this._languageService=y,this._toUnhook=new v.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(T=>{T.hasChanged(54)&&(this._unhookEvents(),this._hookEvents())})}static get(f){return f.getContribution(en.ID)}_hookEvents(){const f=()=>this._hideWidgets(),m=this._editor.getOption(54);this._isHoverEnabled=m.enabled,this._isHoverSticky=m.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(C=>this._onEditorMouseDown(C))),this._toUnhook.add(this._editor.onMouseUp(C=>this._onEditorMouseUp(C))),this._toUnhook.add(this._editor.onMouseMove(C=>this._onEditorMouseMove(C))),this._toUnhook.add(this._editor.onKeyDown(C=>this._onKeyDown(C)))):(this._toUnhook.add(this._editor.onMouseMove(C=>this._onEditorMouseMove(C))),this._toUnhook.add(this._editor.onKeyDown(C=>this._onKeyDown(C)))),this._toUnhook.add(this._editor.onMouseLeave(C=>this._onEditorMouseLeave(C))),this._toUnhook.add(this._editor.onDidChangeModel(f)),this._toUnhook.add(this._editor.onDidScrollChange(C=>this._onEditorScrollChanged(C)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(f){(f.scrollTopChanged||f.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(f){this._isMouseDown=!0;const m=f.target;if(m.type===9&&m.detail===u.ContentHoverWidget.ID){this._hoverClicked=!0;return}m.type===12&&m.detail===g.MarginHoverWidget.ID||(m.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(f){this._isMouseDown=!1}_onEditorMouseLeave(f){var m;const C=f.event.browserEvent.relatedTarget;((m=this._contentWidget)===null||m===void 0?void 0:m.containsNode(C))||this._hideWidgets()}_onEditorMouseMove(f){var m,C,y,E,T;const N=f.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&N.type===9&&N.detail===u.ContentHoverWidget.ID||this._isHoverSticky&&!((C=(m=f.event.browserEvent.view)===null||m===void 0?void 0:m.getSelection())===null||C===void 0?void 0:C.isCollapsed)||!this._isHoverSticky&&N.type===9&&N.detail===u.ContentHoverWidget.ID&&((y=this._contentWidget)===null||y===void 0?void 0:y.isColorPickerVisible())||this._isHoverSticky&&N.type===12&&N.detail===g.MarginHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(f)){(E=this._glyphWidget)===null||E===void 0||E.hide();return}if(N.type===2&&N.position){(T=this._contentWidget)===null||T===void 0||T.hide(),this._glyphWidget||(this._glyphWidget=new g.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(N.position.lineNumber);return}this._hideWidgets()}_onKeyDown(f){f.keyCode!==5&&f.keyCode!==6&&f.keyCode!==57&&f.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var f,m,C;this._isMouseDown&&this._hoverClicked&&((f=this._contentWidget)===null||f===void 0?void 0:f.isColorPickerVisible())||(this._hoverClicked=!1,(m=this._glyphWidget)===null||m===void 0||m.hide(),(C=this._contentWidget)===null||C===void 0||C.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(u.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var f;return((f=this._contentWidget)===null||f===void 0?void 0:f.isColorPickerVisible())||!1}showContentHover(f,m,C){this._getOrCreateContentWidget().startShowingAtRange(f,m,C)}dispose(){var f,m;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(f=this._glyphWidget)===null||f===void 0||f.dispose(),(m=this._contentWidget)===null||m===void 0||m.dispose()}};l.ID="editor.contrib.hover",l=ke([fe(1,t.IInstantiationService),fe(2,o.IOpenerService),fe(3,_.ILanguageService),fe(4,i.IContextKeyService)],l),e.ModesHoverController=l;class h extends k.EditorAction{constructor(){super({id:"editor.action.showHover",label:n.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|39),weight:100}})}run(f,m){if(!m.hasModel())return;const C=l.get(m);if(!C)return;const y=m.getPosition(),E=new I.Range(y.lineNumber,y.column,y.lineNumber,y.column),T=m.getOption(2)===2;C.showContentHover(E,1,T)}}class p extends k.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:n.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(f,m){const C=l.get(m);if(!C)return;const y=m.getPosition();if(!y)return;const E=new I.Range(y.lineNumber,y.column,y.lineNumber,y.column),T=b.GotoDefinitionAtPositionEditorContribution.get(m);if(!T)return;T.startFindDefinitionFromCursor(y).then(()=>{C.showContentHover(E,1,!0)})}}(0,k.registerEditorContribution)(l.ID,l),(0,k.registerEditorAction)(h),(0,k.registerEditorAction)(p),d.HoverParticipantRegistry.register(a.MarkdownHoverParticipant),d.HoverParticipantRegistry.register(s.MarkerHoverParticipant),(0,c.registerThemingParticipant)((S,f)=>{const m=S.getColor(r.editorHoverHighlight);m&&f.addRule(`.monaco-editor .hoverHighlight { background-color: ${m}; }`);const C=S.getColor(r.editorHoverBackground);C&&f.addRule(`.monaco-editor .monaco-hover { background-color: ${C}; }`);const y=S.getColor(r.editorHoverBorder);y&&(f.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${y}; }`),f.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${y.transparent(.5)}; }`),f.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${y.transparent(.5)}; }`),f.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${y.transparent(.5)}; }`));const E=S.getColor(r.textLinkForeground);E&&f.addRule(`.monaco-editor .monaco-hover a { color: ${E}; }`);const T=S.getColor(r.textLinkActiveForeground);T&&f.addRule(`.monaco-editor .monaco-hover a:hover { color: ${T}; }`);const N=S.getColor(r.editorHoverForeground);N&&f.addRule(`.monaco-editor .monaco-hover { color: ${N}; }`);const F=S.getColor(r.editorHoverStatusBarBackground);F&&f.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${F}; }`);const O=S.getColor(r.textCodeBlockBackground);O&&f.addRule(`.monaco-editor .monaco-hover code { background-color: ${O}; }`)})}),define(se[775],re([1,0,2,13,3,315,755,320,88]),function(G,e,w,v,k,I,L,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class u extends w.Disposable{constructor(n){super();this._editor=n,this._register(n.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(n){const i=n.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==I.ColorDecorationInjectedTextMarker||!i.range)return;const t=this._editor.getContribution(_.ModesHoverController.ID);if(!!t&&!t.isColorPickerVisible()){const o=new k.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);t.showContentHover(o,1,!1)}}}e.ColorContribution=u,u.ID="editor.contrib.colorContribution",(0,v.registerEditorContribution)(u.ID,u),b.HoverParticipantRegistry.register(L.ColorHoverParticipant)}),define(se[321],re([1,0,7,42,21,13,3,58,223,120,36,26,16,79,9,40]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function c(a,s,l,h){var p;return Se(this,void 0,void 0,function*(){const S=a.get(_.ITextModelService),f=a.get(t.IContextMenuService),m=a.get(n.ICommandService),C=a.get(o.IInstantiationService),y=a.get(r.INotificationService);if(yield h.item.resolve(k.CancellationToken.None),!h.part.location)return;const E=h.part.location,T=[],N=new Set(g.MenuRegistry.getMenuItems(g.MenuId.EditorContext).map(O=>(0,g.isIMenuItem)(O)?O.command.id:""));for(const O of I.EditorExtensionsRegistry.getEditorActions())O instanceof b.SymbolNavigationAction&&N.has(O.id)&&T.push(new v.Action(O.id,O.label,void 0,!0,()=>Se(this,void 0,void 0,function*(){const P=yield S.createModelReference(E.uri);try{yield C.invokeFunction(O.run.bind(O),s,new b.SymbolNavigationAnchor(P.object.textEditorModel,L.Range.getStartPosition(E.range)))}finally{P.dispose()}})));if(h.part.command){const{command:O}=h.part;T.push(new v.Separator),T.push(new v.Action(O.id,O.title,void 0,!0,()=>Se(this,void 0,void 0,function*(){var P;try{yield m.executeCommand(O.id,...(P=O.arguments)!==null&&P!==void 0?P:[])}catch(D){y.notify({severity:r.Severity.Error,source:h.item.provider.displayName,message:D})}})))}const F=s.getOption(117);f.showContextMenu({domForShadowRoot:F&&(p=s.getDomNode())!==null&&p!==void 0?p:void 0,getAnchor:()=>{const O=w.getDomNodePagePosition(l);return{x:O.left,y:O.top+O.height+8}},getActions:()=>T,onHide:()=>{s.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=c;function d(a,s,l,h){return Se(this,void 0,void 0,function*(){const S=yield a.get(_.ITextModelService).createModelReference(h.uri);yield l.invokeWithinContext(f=>Se(this,void 0,void 0,function*(){const m=s.hasSideBySideModifier,C=f.get(i.IContextKeyService),y=u.PeekContext.inPeekEditor.getValue(C),E=!m&&l.getOption(79)&&!y;return new b.DefinitionAction({openToSide:m,openInPeek:E,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(f,l,{model:S.object.textEditorModel,position:L.Range.getStartPosition(h.range)},L.Range.lift(h.range))})),S.dispose()})}e.goToDefinitionWithLocation=d}),define(se[322],re([1,0,7,17,10,21,14,2,51,20,22,143,38,61,3,28,46,37,70,19,58,166,281,321,26,53,9,40,25,15]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class N{constructor(){this._entries=new b.LRUCache(50)}get(B){const W=N._key(B);return this._entries.get(W)}set(B,W){const V=N._key(B);this._entries.set(V,W)}static _key(B){return`${B.uri.toString()}/${B.getVersionId()}`}}const F=(0,C.createDecorator)("IInlayHintsCache");(0,m.registerSingleton)(F,N,!0);class O{constructor(B,W){this.item=B,this.index=W}get part(){const B=this.item.hint.label;return typeof B=="string"?{label:B}:B[this.index]}}e.RenderedInlayHintLabelPart=O;class P{constructor(B,W){this.part=B,this.hasTriggerModifier=W}}let D=class pi{constructor(B,W,V,A,Y,ee,U){this._editor=B,this._languageFeaturesService=W,this._inlayHintsCache=A,this._commandService=Y,this._notificationService=ee,this._instaService=U,this._disposables=new _.DisposableStore,this._sessionDisposables=new _.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new n.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=V.for(W.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(W.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(B.onDidChangeModel(()=>this._update())),this._disposables.add(B.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(B.onDidChangeConfiguration(j=>{j.hasChanged(129)&&this._update()})),this._update()}static get(B){var W;return(W=B.getContribution(pi.ID))!==null&&W!==void 0?W:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const B=this._editor.getOption(129);if(B.enabled==="off")return;const W=this._editor.getModel();if(!W||!this._languageFeaturesService.inlayHintsProvider.has(W))return;const V=this._inlayHintsCache.get(W);V&&this._updateHintsDecorators([W.getFullModelRange()],V),this._sessionDisposables.add((0,_.toDisposable)(()=>{W.isDisposed()||this._cacheHintsForFastRestore(W)}));let A;const Y=new Set,ee=new k.RunOnceScheduler(()=>Se(this,void 0,void 0,function*(){const U=Date.now();A==null||A.dispose(!0),A=new I.CancellationTokenSource;const j=W.onWillDispose(()=>A==null?void 0:A.cancel());try{const Z=A.token,ie=yield p.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,W,this._getHintsRanges(),Z);if(ee.delay=this._debounceInfo.update(W,Date.now()-U),Z.isCancellationRequested){ie.dispose();return}for(const Q of ie.provider)typeof Q.onDidChangeInlayHints=="function"&&!Y.has(Q)&&(Y.add(Q),this._sessionDisposables.add(Q.onDidChangeInlayHints(()=>{ee.isScheduled()||ee.schedule()})));this._sessionDisposables.add(ie),this._updateHintsDecorators(ie.ranges,ie.items),this._cacheHintsForFastRestore(W)}catch(Z){(0,L.onUnexpectedError)(Z)}finally{A.dispose(),j.dispose()}}),this._debounceInfo.get(W));if(this._sessionDisposables.add(ee),this._sessionDisposables.add((0,_.toDisposable)(()=>A==null?void 0:A.dispose(!0))),ee.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(U=>{(U.scrollTopChanged||!ee.isScheduled())&&ee.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(U=>{const j=Math.max(ee.delay,1250);ee.schedule(j)})),B.enabled==="on")this._activeRenderMode=0;else{let U,j;B.enabled==="onUnlessPressed"?(U=0,j=1):(U=1,j=0),this._activeRenderMode=U,this._sessionDisposables.add(w.ModifierKeyEmitter.getInstance().event(Z=>{if(!this._editor.hasModel())return;const ie=Z.altKey&&Z.ctrlKey?j:U;if(ie!==this._activeRenderMode){this._activeRenderMode=ie;const Q=this._editor.getModel(),J=this._copyInlayHintsWithCurrentAnchor(Q);this._updateHintsDecorators([Q.getFullModelRange()],J),ee.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ee.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const B=new _.DisposableStore,W=B.add(new h.ClickLinkGesture(this._editor)),V=new _.DisposableStore;return B.add(V),B.add(W.onMouseMoveOrRelevantKeyDown(A=>{const[Y]=A,ee=this._getInlayHintLabelPart(Y),U=this._editor.getModel();if(!ee||!U){V.clear();return}const j=new I.CancellationTokenSource;V.add((0,_.toDisposable)(()=>j.dispose(!0))),ee.item.resolve(j.token),this._activeInlayHintPart=ee.part.command||ee.part.location?new P(ee,Y.hasTriggerModifier):void 0;const Z=ee.item.hint.position.lineNumber,ie=new o.Range(Z,1,Z,U.getLineMaxColumn(Z)),Q=this._getInlineHintsForRange(ie);this._updateHintsDecorators([ie],Q),V.add((0,_.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([ie],Q)}))})),B.add(W.onCancel(()=>V.clear())),B.add(W.onExecute(A=>Se(this,void 0,void 0,function*(){const Y=this._getInlayHintLabelPart(A);if(Y){const ee=Y.part;ee.location?this._instaService.invokeFunction(S.goToDefinitionWithLocation,A,this._editor,ee.location):r.Command.is(ee.command)&&(yield this._invokeCommand(ee.command,Y.item))}}))),B}_getInlineHintsForRange(B){const W=new Set;for(const V of this._decorationsMetadata.values())B.containsRange(V.item.anchor.range)&&W.add(V.item);return Array.from(W)}_installDblClickGesture(B){return this._editor.onMouseUp(W=>Se(this,void 0,void 0,function*(){if(W.event.detail!==2)return;const V=this._getInlayHintLabelPart(W);if(!!V&&(W.event.preventDefault(),yield V.item.resolve(I.CancellationToken.None),(0,v.isNonEmptyArray)(V.item.hint.textEdits))){const A=V.item.hint.textEdits.map(Y=>t.EditOperation.replace(o.Range.lift(Y.range),Y.text));this._editor.executeEdits("inlayHint.default",A),B()}}))}_installContextMenu(){return this._editor.onContextMenu(B=>Se(this,void 0,void 0,function*(){if(!(B.event.target instanceof HTMLElement))return;const W=this._getInlayHintLabelPart(B);W&&(yield this._instaService.invokeFunction(S.showGoToContextMenu,this._editor,B.event.target,W))}))}_getInlayHintLabelPart(B){var W;if(B.target.type!==6)return;const V=(W=B.target.detail.injectedText)===null||W===void 0?void 0:W.options;if(V instanceof d.ModelDecorationInjectedTextOptions&&(V==null?void 0:V.attachedData)instanceof O)return V.attachedData}_invokeCommand(B,W){var V;return Se(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(B.id,...(V=B.arguments)!==null&&V!==void 0?V:[])}catch(A){this._notificationService.notify({severity:y.Severity.Error,source:W.provider.displayName,message:A})}})}_cacheHintsForFastRestore(B){const W=this._copyInlayHintsWithCurrentAnchor(B);this._inlayHintsCache.set(B,W)}_copyInlayHintsWithCurrentAnchor(B){const W=new Map;for(const[V,A]of this._decorationsMetadata){if(W.has(A.item))continue;const Y=B.getDecorationRange(V);if(Y){const ee=new p.InlayHintAnchor(Y,A.item.anchor.direction),U=A.item.with({anchor:ee});W.set(A.item,U)}}return Array.from(W.values())}_getHintsRanges(){const B=30,W=this._editor.getModel(),V=this._editor.getVisibleRangesPlusViewportAboveBelow(),A=[];for(const Y of V.sort(o.Range.compareRangesUsingStarts)){const ee=W.validateRange(new o.Range(Y.startLineNumber-B,Y.startColumn,Y.endLineNumber+B,Y.endColumn));A.length===0||!o.Range.areIntersectingOrTouching(A[A.length-1],ee)?A.push(ee):A[A.length-1]=o.Range.plusRange(A[A.length-1],ee)}return A}_updateHintsDecorators(B,W){var V,A;const Y=[],ee=(x,ne,te,q,oe)=>{const z={content:te,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ne.className,cursorStops:q,attachedData:oe};Y.push({item:x,classNameRef:ne,decoration:{range:x.anchor.range,options:{description:"InlayHint",showIfCollapsed:x.anchor.range.isEmpty(),collapseOnReplaceEdit:!x.anchor.range.isEmpty(),stickiness:0,[x.anchor.direction]:this._activeRenderMode===0?z:void 0}}})},U=(x,ne)=>{const te=this._ruleFactory.createClassNameRef({width:`${j/3|0}px`,display:"inline-block"});ee(x,te,"\u200A",ne?c.InjectedTextCursorStops.Right:c.InjectedTextCursorStops.None)},{fontSize:j,fontFamily:Z,padding:ie,isUniform:Q}=this._getLayoutInfo(),J="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(J,Z);for(const x of W){x.hint.paddingLeft&&U(x,!1);const ne=typeof x.hint.label=="string"?[{label:x.hint.label}]:x.hint.label;for(let te=0;te<ne.length;te++){const q=ne[te],oe=te===0,z=te===ne.length-1,X={fontSize:`${j}px`,fontFamily:`var(${J}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:Q?"baseline":"middle"};(0,v.isNonEmptyArray)(x.hint.textEdits)&&(X.cursor="default"),this._fillInColors(X,x.hint),(q.command||q.location)&&((V=this._activeInlayHintPart)===null||V===void 0?void 0:V.part.item)===x&&this._activeInlayHintPart.part.index===te&&(X.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(X.color=(0,T.themeColorFromId)(E.editorActiveLinkForeground),X.cursor="pointer")),ie&&(oe&&z?(X.padding=`1px ${Math.max(1,j/4)|0}px`,X.borderRadius=`${j/4|0}px`):oe?(X.padding=`1px 0 1px ${Math.max(1,j/4)|0}px`,X.borderRadius=`${j/4|0}px 0 0 ${j/4|0}px`):z?(X.padding=`1px ${Math.max(1,j/4)|0}px 1px 0`,X.borderRadius=`0 ${j/4|0}px ${j/4|0}px 0`):X.padding="1px 0 1px 0"),ee(x,this._ruleFactory.createClassNameRef(X),M(q.label),z&&!x.hint.paddingRight?c.InjectedTextCursorStops.Right:c.InjectedTextCursorStops.None,new O(x,te))}if(x.hint.paddingRight&&U(x,!0),Y.length>pi._MAX_DECORATORS)break}const de=[];for(const x of B)for(const{id:ne}of(A=this._editor.getDecorationsInRange(x))!==null&&A!==void 0?A:[]){const te=this._decorationsMetadata.get(ne);te&&(de.push(ne),te.classNameRef.dispose(),this._decorationsMetadata.delete(ne))}this._editor.changeDecorations(x=>{const ne=x.deltaDecorations(de,Y.map(te=>te.decoration));for(let te=0;te<ne.length;te++){const q=Y[te];this._decorationsMetadata.set(ne[te],q)}})}_fillInColors(B,W){W.kind===r.InlayHintKind.Parameter?(B.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintParameterBackground),B.color=(0,T.themeColorFromId)(E.editorInlayHintParameterForeground)):W.kind===r.InlayHintKind.Type?(B.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintTypeBackground),B.color=(0,T.themeColorFromId)(E.editorInlayHintTypeForeground)):(B.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintBackground),B.color=(0,T.themeColorFromId)(E.editorInlayHintForeground))}_getLayoutInfo(){const B=this._editor.getOption(129),W=B.padding,V=this._editor.getOption(47),A=this._editor.getOption(44);let Y=B.fontSize;(!Y||Y<5||Y>V)&&(Y=V);const ee=B.fontFamily||A;return{fontSize:Y,fontFamily:ee,padding:W,isUniform:!W&&ee===A&&Y===V}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const B of this._decorationsMetadata.values())B.classNameRef.dispose();this._decorationsMetadata.clear()}};D.ID="editor.contrib.InlayHints",D._MAX_DECORATORS=1500,D=ke([fe(1,s.ILanguageFeaturesService),fe(2,a.ILanguageFeatureDebounceService),fe(3,F),fe(4,f.ICommandService),fe(5,y.INotificationService),fe(6,C.IInstantiationService)],D),e.InlayHintsController=D;function M(R){const B="\xA0";return R.replace(/[ \t]/g,B)}f.CommandsRegistry.registerCommand("_executeInlayHintProvider",(R,...B)=>Se(void 0,void 0,void 0,function*(){const[W,V]=B;(0,u.assertType)(g.URI.isUri(W)),(0,u.assertType)(o.Range.isIRange(V));const{inlayHintsProvider:A}=R.get(s.ILanguageFeaturesService),Y=yield R.get(l.ITextModelService).createModelReference(W);try{const ee=yield p.InlayHintsFragments.create(A,Y.object.textEditorModel,[o.Range.lift(V)],I.CancellationToken.None),U=ee.items.map(j=>j.hint);return setTimeout(()=>ee.dispose(),0),U}finally{Y.dispose()}}))});var _t=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],w;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),w={},v("next"),v("throw"),v("return"),w[Symbol.asyncIterator]=function(){return this},w);function v(I){w[I]=G[I]&&function(L){return new Promise(function(_,b){L=G[I](L),k(_,b,L.done,L.value)})}}function k(I,L,_,b){Promise.resolve(b).then(function(u){I({value:u,done:_})},L)}};define(se[776],re([1,0,10,65,11,37,88,39,58,308,221,322,30,45,19,585,18,281,17]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class s extends L.HoverForeignElementAnchor{constructor(p,S){super(10,S,p.item.anchor.range);this.part=p}}let l=class extends g.MarkdownHoverParticipant{constructor(p,S,f,m,C,y){super(p,S,f,m,y);this._resolverService=C,this.hoverOrdinal=6}suggestHoverAnchor(p){var S;if(!n.InlayHintsController.get(this._editor)||p.target.type!==6)return null;const m=(S=p.target.detail.injectedText)===null||S===void 0?void 0:S.options;return m instanceof I.ModelDecorationInjectedTextOptions&&m.attachedData instanceof n.RenderedInlayHintLabelPart?new s(m.attachedData,this):null}computeSync(){return[]}computeAsync(p,S,f){return p instanceof s?new w.AsyncIterableObject(m=>Se(this,void 0,void 0,function*(){var C,y;const{part:E}=p;if(yield E.item.resolve(f),f.isCancellationRequested)return;let T;typeof E.item.hint.tooltip=="string"?T=new v.MarkdownString().appendText(E.item.hint.tooltip):E.item.hint.tooltip&&(T=E.item.hint.tooltip),T&&m.emitOne(new g.MarkdownHover(this,p.range,[T],0)),(0,a.isNonEmptyArray)(E.item.hint.textEdits)&&m.emitOne(new g.MarkdownHover(this,p.range,[new v.MarkdownString().appendText((0,r.localize)(0,null))],10001));let N;if(typeof E.part.tooltip=="string"?N=new v.MarkdownString().appendText(E.part.tooltip):E.part.tooltip&&(N=E.part.tooltip),N&&m.emitOne(new g.MarkdownHover(this,p.range,[N],1)),E.part.location||E.part.command){let D;const R=this._editor.getOption(71)==="altKey"?c.isMacintosh?(0,r.localize)(1,null):(0,r.localize)(2,null):c.isMacintosh?(0,r.localize)(3,null):(0,r.localize)(4,null);E.part.location&&E.part.command?D=new v.MarkdownString().appendText((0,r.localize)(5,null,R)):E.part.location?D=new v.MarkdownString().appendText((0,r.localize)(6,null,R)):E.part.command&&(D=new v.MarkdownString(`[${(0,r.localize)(7,null)}](${(0,d.asCommandLink)(E.part.command)} "${E.part.command.title}") (${R})`,{isTrusted:!0})),D&&m.emitOne(new g.MarkdownHover(this,p.range,[D],1e4))}const F=yield this._resolveInlayHintLabelPartHover(E,f);try{for(var O=_t(F),P;P=yield O.next(),!P.done;){const D=P.value;m.emitOne(D)}}catch(D){C={error:D}}finally{try{P&&!P.done&&(y=O.return)&&(yield y.call(O))}finally{if(C)throw C.error}}})):w.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(p,S){return Se(this,void 0,void 0,function*(){if(!p.part.location)return w.AsyncIterableObject.EMPTY;const{uri:f,range:m}=p.part.location,C=yield this._resolverService.createModelReference(f);try{const y=C.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(y)?(0,u.getHover)(this._languageFeaturesService.hoverProvider,y,new k.Position(m.startLineNumber,m.startColumn),S).filter(E=>!(0,v.isEmptyMarkdownString)(E.hover.contents)).map(E=>new g.MarkdownHover(this,p.item.anchor.range,E.hover.contents,2+E.ordinal)):w.AsyncIterableObject.EMPTY}finally{C.dispose()}})}};l=ke([fe(1,_.ILanguageService),fe(2,t.IOpenerService),fe(3,i.IConfigurationService),fe(4,b.ITextModelService),fe(5,o.ILanguageFeaturesService)],l),e.InlayHintsHover=l}),define(se[777],re([1,0,13,88,322,776]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.InlayHintsController.ID,k.InlayHintsController),v.HoverParticipantRegistry.register(I.InlayHintsHover)}),define(se[778],re([1,0,2,7,92,115,132,11,166,220,19,321,9,21,3,63,394]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class d{constructor(h,p){this.lineNumbers=h,this.lastLineRelativePosition=p}}e.StickyScrollWidgetState=d;const a=(c=window.trustedTypes)===null||c===void 0?void 0:c.createPolicy("stickyScrollViewLayer",{createHTML:l=>l});let s=class extends w.Disposable{constructor(h,p,S){super();this._editor=h,this._languageFeatureService=p,this._instaService=S,this._rootDomNode=document.createElement("div"),this._disposableStore=this._register(new w.DisposableStore),this._layoutInfo=this._editor.getLayoutInfo(),this._rootDomNode=document.createElement("div"),this._rootDomNode.className="sticky-widget",this._rootDomNode.style.width=`${this._layoutInfo.width-this._layoutInfo.minimap.minimapCanvasOuterWidth-this._layoutInfo.verticalScrollbarWidth}px`,this._lineNumbers=[],this._lastLineRelativePosition=0,this._hoverOnLine=-1,this._hoverOnColumn=-1,this._stickyRangeProjectedOnEditor=null,this._candidateDefinitionsLength=-1,this._lineHeight=this._editor.getOption(60),this._register(this._editor.onDidChangeConfiguration(f=>{f.hasChanged(60)&&(this._lineHeight=this._editor.getOption(60))})),this._register(this.updateLinkGesture())}updateLinkGesture(){const h=new w.DisposableStore,p=new w.DisposableStore;h.add(p);const S=new b.ClickLinkGesture(this._editor,!0);return h.add(S),h.add(S.onMouseMoveOrRelevantKeyDown(([f,m])=>{if(!this._editor.hasModel()||!f.hasTriggerModifier){p.clear();return}const C=f.target;if(C.detail===this.getId()&&C.element.innerText===C.element.innerHTML){const y=C.element.innerText;if(this._hoverOnColumn===-1)return;const E=this._hoverOnLine,T=this._hoverOnColumn,N=new o.Range(E,T,E,T+y.length);if(!N.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=N,p.clear();else if(C.element.style.textDecoration==="underline")return;const F=new t.CancellationTokenSource;p.add((0,w.toDisposable)(()=>F.dispose(!0)));let O;(0,u.getDefinitionsAtPosition)(this._languageFeatureService.definitionProvider,this._editor.getModel(),new _.Position(E,T+1),F.token).then(P=>{if(!F.token.isCancellationRequested)if(P.length!==0){this._candidateDefinitionsLength=P.length;const D=C.element;O!==D?(p.clear(),O=D,O.style.textDecoration="underline",p.add((0,w.toDisposable)(()=>{O.style.textDecoration="none"}))):O||(O=D,O.style.textDecoration="underline",p.add((0,w.toDisposable)(()=>{O.style.textDecoration="none"})))}else p.clear()})}else p.clear()})),h.add(S.onCancel(()=>{p.clear()})),h.add(S.onExecute(f=>Se(this,void 0,void 0,function*(){f.target.detail===this.getId()&&(f.hasTriggerModifier?(this._candidateDefinitionsLength>1&&this._editor.revealPosition({lineNumber:this._hoverOnLine,column:1}),this._instaService.invokeFunction(n.goToDefinitionWithLocation,f,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})):this._editor.revealPosition({lineNumber:this._hoverOnLine,column:1}))}))),h}getCurrentLines(){return this._lineNumbers}setState(h){this._disposableStore.clear(),this._lineNumbers.length=0,v.clearNode(this._rootDomNode),this._lastLineRelativePosition=h.lastLineRelativePosition,this._lineNumbers=h.lineNumbers,this.renderRootNode()}getChildNode(h,p){const S=document.createElement("div"),f=this._editor._getViewModel(),m=f.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(p,1)).lineNumber,C=f.getViewLineRenderingData(m),y=this._editor.getLayoutInfo(),E=y.width-y.minimap.minimapCanvasOuterWidth-y.verticalScrollbarWidth,T=this._editor.getOption(66).side,N=this._editor.getOption(60),F=this._editor.getOption(61);let O;try{O=L.LineDecoration.filter(C.inlineDecorations,m,C.minColumn,C.maxColumn)}catch{O=[]}const P=new I.RenderLineInput(!0,!0,C.content,C.continuesWithWrappedLine,C.isBasicASCII,C.containsRTL,0,C.tokens,O,C.tabSize,C.startVisibleColumn,1,1,1,500,"none",!0,!0,null),D=(0,k.createStringBuilder)(2e3);(0,I.renderViewLine)(P,D);let M;a?M=a.createHTML(D.build()):M=D.build();const R=document.createElement("span");R.className="sticky-line",R.classList.add(`stickyLine${p}`),R.style.lineHeight=`${N}px`,R.innerHTML=M;const B=document.createElement("span");B.className="sticky-line",B.style.lineHeight=`${N}px`,T==="left"?B.style.width=`${y.contentLeft-y.minimap.minimapCanvasOuterWidth}px`:T==="right"&&(B.style.width=`${y.contentLeft}px`);const W=document.createElement("span");return F.renderType===1||F.renderType===3&&p%10==0?W.innerText=p.toString():F.renderType===2&&(W.innerText=Math.abs(p-this._editor.getPosition().lineNumber).toString()),W.className="sticky-line-number",W.style.lineHeight=`${N}px`,W.style.width=`${y.lineNumbersWidth}px`,T==="left"?W.style.paddingLeft=`${y.lineNumbersLeft-y.minimap.minimapCanvasOuterWidth}px`:T==="right"&&(W.style.paddingLeft=`${y.lineNumbersLeft}px`),B.appendChild(W),this._editor.applyFontInfo(R),this._editor.applyFontInfo(W),S.appendChild(B),S.appendChild(R),S.className="sticky-line-root",S.style.lineHeight=`${N}px`,S.style.width=`${E}px`,S.style.height=`${N}px`,S.style.zIndex="0",h===this._lineNumbers.length-1&&(S.style.position="relative",S.style.zIndex="-1",S.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(v.addDisposableListener(S,"mouseover",V=>{if(this._editor.hasModel()){const Y=new r.StandardMouseEvent(V).target.innerText;this._hoverOnLine=p,this._hoverOnColumn=this._editor.getModel().getLineContent(p).indexOf(Y)+1||-1}})),S}renderRootNode(){if(!this._editor._getViewModel())return;for(const[S,f]of this._lineNumbers.entries())this._rootDomNode.appendChild(this.getChildNode(S,f));const h=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.height=h.toString()+"px";const p=this._editor.getOption(66).side;p==="left"?this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px":p==="right"&&(this._rootDomNode.style.marginLeft="0px"),this._rootDomNode.style.zIndex="11"}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}dispose(){super.dispose()}};s=ke([fe(1,g.ILanguageFeaturesService),fe(2,i.IInstantiationService)],s),e.StickyScrollWidget=s}),define(se[779],re([1,0,2,19,778,659,9]),function(G,e,w,v,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let _=class extends w.Disposable{constructor(u,g,n){super();this._sessionStore=new w.DisposableStore,this._editor=u,this._stickyScrollWidget=new k.StickyScrollWidget(this._editor,g,n),this._stickyLineCandidateProvider=new I.StickyLineCandidateProvider(this._editor,g),this._widgetState=new k.StickyScrollWidgetState([],0),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(105)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){if(this._editor.getOption(105).enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(()=>this.renderStickyScroll())),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this.onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(n=>this.onTokensChange(n))),this._sessionStore.add(this._stickyLineCandidateProvider.onStickyScrollChange(()=>this.renderStickyScroll())),this._editor.getOption(61).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>this.renderStickyScroll()))}needsUpdate(u){const g=this._stickyScrollWidget.getCurrentLines();for(const n of g)for(const i of u.ranges)if(n>=i.fromLineNumber&&n<=i.toLineNumber)return!0;return!1}onTokensChange(u){this.needsUpdate(u)&&this.renderStickyScroll()}onDidResize(){const u=this._editor.getLayoutInfo().width-this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth-this._editor.getLayoutInfo().verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width=`${u}px`}renderStickyScroll(){if(!this._editor.hasModel())return;const u=this._editor.getModel();this._stickyLineCandidateProvider.getVersionId()===u.getVersionId()&&(this._widgetState=this.getScrollWidgetState(),this._stickyScrollWidget.setState(this._widgetState))}getScrollWidgetState(){const u=this._editor.getOption(60),g=this._editor.getOption(105).maxLineCount,n=this._editor.getScrollTop();let i=0;const t=[],o=this._editor.getVisibleRanges();if(o.length!==0){const r=new I.StickyRange(o[0].startLineNumber,o[o.length-1].endLineNumber),c=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(r);for(const d of c){const a=d.startLineNumber,s=d.endLineNumber,l=d.nestingDepth;if(s-a>0){const h=(l-1)*u,p=l*u,S=this._editor.getBottomForLineNumber(a)-n,f=this._editor.getTopForLineNumber(s)-n,m=this._editor.getBottomForLineNumber(s)-n;if(h>f&&h<=m){t.push(a),i=m-p;break}else p>S&&p<=m&&t.push(a);if(t.length===g)break}}}return new k.StickyScrollWidgetState(t,i)}dispose(){super.dispose(),this._sessionStore.dispose()}};_.ID="store.contrib.stickyScrollController",_=ke([fe(1,v.ILanguageFeaturesService),fe(2,L.IInstantiationService)],_),e.StickyScrollController=_}),define(se[780],re([1,0,13,725,779,36]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.StickyScrollController.ID,k.StickyScrollController),(0,I.registerAction2)(v.ToggleStickyScroll)}),define(se[781],re([1,0,13,29,318,30,16,9,40,80]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let g=class extends k.ReferencesController{constructor(i,t,o,r,c,d,a){super(!0,i,t,o,r,c,d,a)}};g=ke([fe(1,L.IContextKeyService),fe(2,v.ICodeEditorService),fe(3,b.INotificationService),fe(4,_.IInstantiationService),fe(5,u.IStorageService),fe(6,I.IConfigurationService)],g),e.StandaloneReferencesController=g,(0,w.registerEditorContribution)(k.ReferencesController.ID,g)}),define(se[782],re([1,0,14,2,52,82,632,141,53,40,174]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const n=!1;function i(S){return S.scheme===k.Schemas.file?S.fsPath:S.path}let t=0;class o{constructor(f,m,C,y,E,T,N){this.id=++t,this.type=0,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabel=m,this.strResource=C,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=y,this.groupOrder=E,this.sourceId=T,this.sourceOrder=N,this.isValid=!0}setValid(f){this.isValid=f}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(f,m){this.resourceLabel=f,this.reason=m}}class c{constructor(){this.elements=new Map}createMessage(){const f=[],m=[];for(const[,y]of this.elements)(y.reason===0?f:m).push(y.resourceLabel);const C=[];return f.length>0&&C.push(L.localize(0,null,f.join(", "))),m.length>0&&C.push(L.localize(1,null,m.join(", "))),C.join(`
`)}get size(){return this.elements.size}has(f){return this.elements.has(f)}set(f,m){this.elements.set(f,m)}delete(f){return this.elements.delete(f)}}class d{constructor(f,m,C,y,E,T,N){this.id=++t,this.type=1,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabels=m,this.strResources=C,this.groupId=y,this.groupOrder=E,this.sourceId=T,this.sourceOrder=N,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(f,m,C){this.removedResources||(this.removedResources=new c),this.removedResources.has(m)||this.removedResources.set(m,new r(f,C))}setValid(f,m,C){C?this.invalidatedResources&&(this.invalidatedResources.delete(m),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new c),this.invalidatedResources.has(m)||this.invalidatedResources.set(m,new r(f,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class a{constructor(f,m){this.resourceLabel=f,this.strResource=m,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const f of this._past)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const f=[];f.push(`* ${this.strResource}:`);for(let m=0;m<this._past.length;m++)f.push(`   * [UNDO] ${this._past[m]}`);for(let m=this._future.length-1;m>=0;m--)f.push(`   * [REDO] ${this._future[m]}`);return f.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(f,m){f.type===1?f.setValid(this.resourceLabel,this.strResource,m):f.setValid(m)}setElementsValidFlag(f,m){for(const C of this._past)m(C.actual)&&this._setElementValidFlag(C,f);for(const C of this._future)m(C.actual)&&this._setElementValidFlag(C,f)}pushElement(f){for(const m of this._future)m.type===1&&m.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(f),this.versionId++}createSnapshot(f){const m=[];for(let C=0,y=this._past.length;C<y;C++)m.push(this._past[C].id);for(let C=this._future.length-1;C>=0;C--)m.push(this._future[C].id);return new g.ResourceEditStackSnapshot(f,m)}restoreSnapshot(f){const m=f.elements.length;let C=!0,y=0,E=-1;for(let N=0,F=this._past.length;N<F;N++,y++){const O=this._past[N];C&&(y>=m||O.id!==f.elements[y])&&(C=!1,E=0),!C&&O.type===1&&O.removeResource(this.resourceLabel,this.strResource,0)}let T=-1;for(let N=this._future.length-1;N>=0;N--,y++){const F=this._future[N];C&&(y>=m||F.id!==f.elements[y])&&(C=!1,T=N),!C&&F.type===1&&F.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),T!==-1&&(this._future=this._future.slice(T+1)),this.versionId++}getElements(){const f=[],m=[];for(const C of this._past)f.push(C.actual);for(const C of this._future)m.push(C.actual);return{past:f,future:m}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(f,m){for(let C=this._past.length-1;C>=0;C--)if(this._past[C]===f){m.has(this.strResource)?this._past[C]=m.get(this.strResource):this._past.splice(C,1);break}this.versionId++}splitFutureWorkspaceElement(f,m){for(let C=this._future.length-1;C>=0;C--)if(this._future[C]===f){m.has(this.strResource)?this._future[C]=m.get(this.strResource):this._future.splice(C,1);break}this.versionId++}moveBackward(f){this._past.pop(),this._future.push(f),this.versionId++}moveForward(f){this._future.pop(),this._past.push(f),this.versionId++}}class s{constructor(f){this.editStacks=f,this._versionIds=[];for(let m=0,C=this.editStacks.length;m<C;m++)this._versionIds[m]=this.editStacks[m].versionId}isValid(){for(let f=0,m=this.editStacks.length;f<m;f++)if(this._versionIds[f]!==this.editStacks[f].versionId)return!1;return!0}}const l=new a("","");l.locked=!0;let h=class{constructor(f,m){this._dialogService=f,this._notificationService=m,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(f){for(const m of this._uriComparisonKeyComputers)if(m[0]===f.scheme)return m[1].getComparisonKey(f);return f.toString()}_print(f){console.log("------------------------------------"),console.log(`AFTER ${f}: `);const m=[];for(const C of this._editStacks)m.push(C[1].toString());console.log(m.join(`
`))}pushElement(f,m=g.UndoRedoGroup.None,C=g.UndoRedoSource.None){if(f.type===0){const y=i(f.resource),E=this.getUriComparisonKey(f.resource);this._pushElement(new o(f,y,E,m.id,m.nextOrder(),C.id,C.nextOrder()))}else{const y=new Set,E=[],T=[];for(const N of f.resources){const F=i(N),O=this.getUriComparisonKey(N);y.has(O)||(y.add(O),E.push(F),T.push(O))}E.length===1?this._pushElement(new o(f,E[0],T[0],m.id,m.nextOrder(),C.id,C.nextOrder())):this._pushElement(new d(f,E,T,m.id,m.nextOrder(),C.id,C.nextOrder()))}n&&this._print("pushElement")}_pushElement(f){for(let m=0,C=f.strResources.length;m<C;m++){const y=f.resourceLabels[m],E=f.strResources[m];let T;this._editStacks.has(E)?T=this._editStacks.get(E):(T=new a(y,E),this._editStacks.set(E,T)),T.pushElement(f)}}getLastElement(f){const m=this.getUriComparisonKey(f);if(this._editStacks.has(m)){const C=this._editStacks.get(m);if(C.hasFutureElements())return null;const y=C.getClosestPastElement();return y?y.actual:null}return null}_splitPastWorkspaceElement(f,m){const C=f.actual.split(),y=new Map;for(const E of C){const T=i(E.resource),N=this.getUriComparisonKey(E.resource),F=new o(E,T,N,0,0,0,0);y.set(F.strResource,F)}for(const E of f.strResources){if(m&&m.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(f,y)}}_splitFutureWorkspaceElement(f,m){const C=f.actual.split(),y=new Map;for(const E of C){const T=i(E.resource),N=this.getUriComparisonKey(E.resource),F=new o(E,T,N,0,0,0,0);y.set(F.strResource,F)}for(const E of f.strResources){if(m&&m.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(f,y)}}removeElements(f){const m=typeof f=="string"?f:this.getUriComparisonKey(f);this._editStacks.has(m)&&(this._editStacks.get(m).dispose(),this._editStacks.delete(m)),n&&this._print("removeElements")}setElementsValidFlag(f,m,C){const y=this.getUriComparisonKey(f);this._editStacks.has(y)&&this._editStacks.get(y).setElementsValidFlag(m,C),n&&this._print("setElementsValidFlag")}createSnapshot(f){const m=this.getUriComparisonKey(f);return this._editStacks.has(m)?this._editStacks.get(m).createSnapshot(f):new g.ResourceEditStackSnapshot(f,[])}restoreSnapshot(f){const m=this.getUriComparisonKey(f.resource);if(this._editStacks.has(m)){const C=this._editStacks.get(m);C.restoreSnapshot(f),!C.hasPastElements()&&!C.hasFutureElements()&&(C.dispose(),this._editStacks.delete(m))}n&&this._print("restoreSnapshot")}getElements(f){const m=this.getUriComparisonKey(f);return this._editStacks.has(m)?this._editStacks.get(m).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(f){if(!f)return[null,null];let m=null,C=null;for(const[y,E]of this._editStacks){const T=E.getClosestPastElement();!T||T.sourceId===f&&(!m||T.sourceOrder>m.sourceOrder)&&(m=T,C=y)}return[m,C]}canUndo(f){if(f instanceof g.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(f.id);return!!C}const m=this.getUriComparisonKey(f);return this._editStacks.has(m)?this._editStacks.get(m).hasPastElements():!1}_onError(f,m){(0,w.onUnexpectedError)(f);for(const C of m.strResources)this.removeElements(C);this._notificationService.error(f)}_acquireLocks(f){for(const m of f.editStacks)if(m.locked)throw new Error("Cannot acquire edit stack lock");for(const m of f.editStacks)m.locked=!0;return()=>{for(const m of f.editStacks)m.locked=!1}}_safeInvokeWithLocks(f,m,C,y,E){const T=this._acquireLocks(C);let N;try{N=m()}catch(F){return T(),y.dispose(),this._onError(F,f)}return N?N.then(()=>(T(),y.dispose(),E()),F=>(T(),y.dispose(),this._onError(F,f))):(T(),y.dispose(),E())}_invokeWorkspacePrepare(f){return Se(this,void 0,void 0,function*(){if(typeof f.actual.prepareUndoRedo=="undefined")return v.Disposable.None;const m=f.actual.prepareUndoRedo();return typeof m=="undefined"?v.Disposable.None:m})}_invokeResourcePrepare(f,m){if(f.actual.type!==1||typeof f.actual.prepareUndoRedo=="undefined")return m(v.Disposable.None);const C=f.actual.prepareUndoRedo();return C?(0,v.isDisposable)(C)?m(C):C.then(y=>m(y)):m(v.Disposable.None)}_getAffectedEditStacks(f){const m=[];for(const C of f.strResources)m.push(this._editStacks.get(C)||l);return new s(m)}_tryToSplitAndUndo(f,m,C,y){if(m.canSplit())return this._splitPastWorkspaceElement(m,C),this._notificationService.warn(y),new p(this._undo(f,0,!0));for(const E of m.strResources)this.removeElements(E);return this._notificationService.warn(y),new p}_checkWorkspaceUndo(f,m,C,y){if(m.removedResources)return this._tryToSplitAndUndo(f,m,m.removedResources,L.localize(2,null,m.label,m.removedResources.createMessage()));if(y&&m.invalidatedResources)return this._tryToSplitAndUndo(f,m,m.invalidatedResources,L.localize(3,null,m.label,m.invalidatedResources.createMessage()));const E=[];for(const N of C.editStacks)N.getClosestPastElement()!==m&&E.push(N.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(f,m,null,L.localize(4,null,m.label,E.join(", ")));const T=[];for(const N of C.editStacks)N.locked&&T.push(N.resourceLabel);return T.length>0?this._tryToSplitAndUndo(f,m,null,L.localize(5,null,m.label,T.join(", "))):C.isValid()?null:this._tryToSplitAndUndo(f,m,null,L.localize(6,null,m.label))}_workspaceUndo(f,m,C){const y=this._getAffectedEditStacks(m),E=this._checkWorkspaceUndo(f,m,y,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(f,m,y,C)}_isPartOfUndoGroup(f){if(!f.groupId)return!1;for(const[,m]of this._editStacks){const C=m.getClosestPastElement();if(!!C){if(C===f){const y=m.getSecondClosestPastElement();if(y&&y.groupId===f.groupId)return!0}if(C.groupId===f.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(f,m,C,y){return Se(this,void 0,void 0,function*(){if(m.canSplit()&&!this._isPartOfUndoGroup(m)){const N=yield this._dialogService.show(I.default.Info,L.localize(7,null,m.label),[L.localize(8,null,C.editStacks.length),L.localize(9,null),L.localize(10,null)],{cancelId:2});if(N.choice===2)return;if(N.choice===1)return this._splitPastWorkspaceElement(m,null),this._undo(f,0,!0);const F=this._checkWorkspaceUndo(f,m,C,!1);if(F)return F.returnValue;y=!0}let E;try{E=yield this._invokeWorkspacePrepare(m)}catch(N){return this._onError(N,m)}const T=this._checkWorkspaceUndo(f,m,C,!0);if(T)return E.dispose(),T.returnValue;for(const N of C.editStacks)N.moveBackward(m);return this._safeInvokeWithLocks(m,()=>m.actual.undo(),C,E,()=>this._continueUndoInGroup(m.groupId,y))})}_resourceUndo(f,m,C){if(!m.isValid){f.flushAllElements();return}if(f.locked){const y=L.localize(11,null,m.label);this._notificationService.warn(y);return}return this._invokeResourcePrepare(m,y=>(f.moveBackward(m),this._safeInvokeWithLocks(m,()=>m.actual.undo(),new s([f]),y,()=>this._continueUndoInGroup(m.groupId,C))))}_findClosestUndoElementInGroup(f){if(!f)return[null,null];let m=null,C=null;for(const[y,E]of this._editStacks){const T=E.getClosestPastElement();!T||T.groupId===f&&(!m||T.groupOrder>m.groupOrder)&&(m=T,C=y)}return[m,C]}_continueUndoInGroup(f,m){if(!f)return;const[,C]=this._findClosestUndoElementInGroup(f);if(C)return this._undo(C,0,m)}undo(f){if(f instanceof g.UndoRedoSource){const[,m]=this._findClosestUndoElementWithSource(f.id);return m?this._undo(m,f.id,!1):void 0}return typeof f=="string"?this._undo(f,0,!1):this._undo(this.getUriComparisonKey(f),0,!1)}_undo(f,m=0,C){if(!this._editStacks.has(f))return;const y=this._editStacks.get(f),E=y.getClosestPastElement();if(!E)return;if(E.groupId){const[N,F]=this._findClosestUndoElementInGroup(E.groupId);if(E!==N&&F)return this._undo(F,m,C)}if((E.sourceId!==m||E.confirmBeforeUndo)&&!C)return this._confirmAndContinueUndo(f,m,E);try{return E.type===1?this._workspaceUndo(f,E,C):this._resourceUndo(y,E,C)}finally{n&&this._print("undo")}}_confirmAndContinueUndo(f,m,C){return Se(this,void 0,void 0,function*(){if((yield this._dialogService.show(I.default.Info,L.localize(12,null,C.label),[L.localize(13,null),L.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(f,m,!0)})}_findClosestRedoElementWithSource(f){if(!f)return[null,null];let m=null,C=null;for(const[y,E]of this._editStacks){const T=E.getClosestFutureElement();!T||T.sourceId===f&&(!m||T.sourceOrder<m.sourceOrder)&&(m=T,C=y)}return[m,C]}canRedo(f){if(f instanceof g.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(f.id);return!!C}const m=this.getUriComparisonKey(f);return this._editStacks.has(m)?this._editStacks.get(m).hasFutureElements():!1}_tryToSplitAndRedo(f,m,C,y){if(m.canSplit())return this._splitFutureWorkspaceElement(m,C),this._notificationService.warn(y),new p(this._redo(f));for(const E of m.strResources)this.removeElements(E);return this._notificationService.warn(y),new p}_checkWorkspaceRedo(f,m,C,y){if(m.removedResources)return this._tryToSplitAndRedo(f,m,m.removedResources,L.localize(15,null,m.label,m.removedResources.createMessage()));if(y&&m.invalidatedResources)return this._tryToSplitAndRedo(f,m,m.invalidatedResources,L.localize(16,null,m.label,m.invalidatedResources.createMessage()));const E=[];for(const N of C.editStacks)N.getClosestFutureElement()!==m&&E.push(N.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(f,m,null,L.localize(17,null,m.label,E.join(", ")));const T=[];for(const N of C.editStacks)N.locked&&T.push(N.resourceLabel);return T.length>0?this._tryToSplitAndRedo(f,m,null,L.localize(18,null,m.label,T.join(", "))):C.isValid()?null:this._tryToSplitAndRedo(f,m,null,L.localize(19,null,m.label))}_workspaceRedo(f,m){const C=this._getAffectedEditStacks(m),y=this._checkWorkspaceRedo(f,m,C,!1);return y?y.returnValue:this._executeWorkspaceRedo(f,m,C)}_executeWorkspaceRedo(f,m,C){return Se(this,void 0,void 0,function*(){let y;try{y=yield this._invokeWorkspacePrepare(m)}catch(T){return this._onError(T,m)}const E=this._checkWorkspaceRedo(f,m,C,!0);if(E)return y.dispose(),E.returnValue;for(const T of C.editStacks)T.moveForward(m);return this._safeInvokeWithLocks(m,()=>m.actual.redo(),C,y,()=>this._continueRedoInGroup(m.groupId))})}_resourceRedo(f,m){if(!m.isValid){f.flushAllElements();return}if(f.locked){const C=L.localize(20,null,m.label);this._notificationService.warn(C);return}return this._invokeResourcePrepare(m,C=>(f.moveForward(m),this._safeInvokeWithLocks(m,()=>m.actual.redo(),new s([f]),C,()=>this._continueRedoInGroup(m.groupId))))}_findClosestRedoElementInGroup(f){if(!f)return[null,null];let m=null,C=null;for(const[y,E]of this._editStacks){const T=E.getClosestFutureElement();!T||T.groupId===f&&(!m||T.groupOrder<m.groupOrder)&&(m=T,C=y)}return[m,C]}_continueRedoInGroup(f){if(!f)return;const[,m]=this._findClosestRedoElementInGroup(f);if(m)return this._redo(m)}redo(f){if(f instanceof g.UndoRedoSource){const[,m]=this._findClosestRedoElementWithSource(f.id);return m?this._redo(m):void 0}return typeof f=="string"?this._redo(f):this._redo(this.getUriComparisonKey(f))}_redo(f){if(!this._editStacks.has(f))return;const m=this._editStacks.get(f),C=m.getClosestFutureElement();if(!!C){if(C.groupId){const[y,E]=this._findClosestRedoElementInGroup(C.groupId);if(C!==y&&E)return this._redo(E)}try{return C.type===1?this._workspaceRedo(f,C):this._resourceRedo(m,C)}finally{n&&this._print("redo")}}}};h=ke([fe(0,_.IDialogService),fe(1,u.INotificationService)],h),e.UndoRedoService=h;class p{constructor(f){this.returnValue=f}}(0,b.registerSingleton)(g.IUndoRedoService,h)}),define(se[178],re([1,0,633,51,22,9]),function(G,e,w,v,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,I.createDecorator)("contextService");function L(g){const n=g;return typeof(n==null?void 0:n.id)=="string"&&k.URI.isUri(n.uri)}e.isSingleFolderWorkspaceIdentifier=L;function _(g){if(g.configuration)return{id:g.id,configPath:g.configuration};if(g.folders.length===1)return{id:g.id,uri:g.folders[0].uri}}e.toWorkspaceIdentifier=_;class b{constructor(n,i,t,o,r){this._id=n,this._transient=t,this._configuration=o,this._ignorePathCasing=r,this._foldersMap=v.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=i}get folders(){return this._folders}set folders(n){this._folders=n,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(n){this._configuration=n}getFolder(n){return n&&this._foldersMap.findSubstr(n)||null}updateFoldersMap(){this._foldersMap=v.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const n of this.folders)this._foldersMap.set(n.uri,n)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=b;class u{constructor(n,i){this.raw=i,this.uri=n.uri,this.index=n.index,this.name=n.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=u,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,w.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}]}),define(se[783],re([1,0,486,90,43,8,227,32,89,604,178]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class n{constructor(l){this._delegates=l}resolve(l){for(const h of this._delegates){const p=h.resolve(l);if(p!==void 0)return p}}}e.CompositeSnippetVariableResolver=n;class i{constructor(l,h,p,S){this._model=l,this._selection=h,this._selectionIdx=p,this._overtypingCapturer=S}resolve(l){const{name:h}=l;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let p=this._model.getValueInRange(this._selection)||void 0,S=this._selection.startLineNumber!==this._selection.endLineNumber;if(!p&&this._overtypingCapturer){const f=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);f&&(p=f.value,S=f.multiline)}if(p&&S&&l.snippet){const f=this._model.getLineContent(this._selection.startLineNumber),m=(0,I.getLeadingWhitespace)(f,0,this._selection.startColumn-1);let C=m;l.snippet.walk(E=>E===l?!1:(E instanceof b.Text&&(C=(0,I.getLeadingWhitespace)((0,I.splitLines)(E.value).pop())),!0));const y=(0,I.commonPrefixLength)(C,m);p=p.replace(/(\r\n|\r|\n)(.*)/g,(E,T,N)=>`${T}${C.substr(y)}${N}`)}return p}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const p=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return p&&p.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(h==="CURSOR_INDEX")return String(this._selectionIdx);if(h==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=i;class t{constructor(l,h){this._labelService=l,this._model=h}resolve(l){const{name:h}=l;if(h==="TM_FILENAME")return v.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const p=v.basename(this._model.uri.fsPath),S=p.lastIndexOf(".");return S<=0?p:p.slice(0,S)}else{if(h==="TM_DIRECTORY")return v.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,k.dirname)(this._model.uri));if(h==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=t;class o{constructor(l,h,p,S){this._readClipboardText=l,this._selectionIdx=h,this._selectionCount=p,this._spread=S}resolve(l){if(l.name!=="CLIPBOARD")return;const h=this._readClipboardText();if(!!h){if(this._spread){const p=h.split(/\r\n|\n|\r/).filter(S=>!(0,I.isFalsyOrWhitespace)(S));if(p.length===this._selectionCount)return p[this._selectionIdx]}return h}}}e.ClipboardBasedVariableResolver=o;let r=class{constructor(l,h,p){this._model=l,this._selection=h,this._languageConfigurationService=p}resolve(l){const{name:h}=l,p=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),S=this._languageConfigurationService.getLanguageConfiguration(p).comments;if(!!S){if(h==="LINE_COMMENT")return S.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return S.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return S.blockCommentEndToken||void 0}}};r=ke([fe(2,_.ILanguageConfigurationService)],r),e.CommentBasedVariableResolver=r;class c{constructor(){this._date=new Date}resolve(l){const{name:h}=l;if(h==="CURRENT_YEAR")return String(this._date.getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return c.dayNames[this._date.getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return c.dayNamesShort[this._date.getDay()];if(h==="CURRENT_MONTH_NAME")return c.monthNames[this._date.getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return c.monthNamesShort[this._date.getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=c,c.dayNames=[u.localize(0,null),u.localize(1,null),u.localize(2,null),u.localize(3,null),u.localize(4,null),u.localize(5,null),u.localize(6,null)],c.dayNamesShort=[u.localize(7,null),u.localize(8,null),u.localize(9,null),u.localize(10,null),u.localize(11,null),u.localize(12,null),u.localize(13,null)],c.monthNames=[u.localize(14,null),u.localize(15,null),u.localize(16,null),u.localize(17,null),u.localize(18,null),u.localize(19,null),u.localize(20,null),u.localize(21,null),u.localize(22,null),u.localize(23,null),u.localize(24,null),u.localize(25,null)],c.monthNamesShort=[u.localize(26,null),u.localize(27,null),u.localize(28,null),u.localize(29,null),u.localize(30,null),u.localize(31,null),u.localize(32,null),u.localize(33,null),u.localize(34,null),u.localize(35,null),u.localize(36,null),u.localize(37,null)];class d{constructor(l){this._workspaceService=l}resolve(l){if(!this._workspaceService)return;const h=(0,g.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!h){if(l.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(l.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}_resolveWorkspaceName(l){if((0,g.isSingleFolderWorkspaceIdentifier)(l))return v.basename(l.uri.path);let h=v.basename(l.configPath.path);return h.endsWith(g.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-g.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(l){if((0,g.isSingleFolderWorkspaceIdentifier)(l))return(0,w.normalizeDriveLetter)(l.uri.fsPath);const h=v.basename(l.configPath.path);let p=l.configPath.fsPath;return p.endsWith(h)&&(p=p.substr(0,p.length-h.length-1)),p?(0,w.normalizeDriveLetter)(p):"/"}}e.WorkspaceBasedVariableResolver=d;class a{resolve(l){const{name:h}=l;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return(0,L.generateUuid)()}}e.RandomBasedVariableResolver=a}),define(se[323],re([1,0,17,2,8,61,3,23,32,37,142,178,89,783,393]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class o{constructor(a,s,l){this._editor=a,this._snippet=s,this._snippetLineLeadingWhitespace=l,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,w.groupBy)(s.placeholders,i.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(a){this._offset=a.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const a=this._editor.getModel();this._editor.changeDecorations(s=>{for(const l of this._snippet.placeholders){const h=this._snippet.offset(l),p=this._snippet.fullLen(l),S=L.Range.fromPositions(a.getPositionAt(this._offset+h),a.getPositionAt(this._offset+h+p)),f=l.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive,m=s.addDecoration(S,f);this._placeholderDecorations.set(l,m)}})}move(a){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const h=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx])if(p.transform){const S=this._placeholderDecorations.get(p),f=this._editor.getModel().getDecorationRange(S),m=this._editor.getModel().getValueInRange(f),C=p.transform.resolve(m).split(/\r\n|\r|\n/);for(let y=1;y<C.length;y++)C[y]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+C[y]);h.push(I.EditOperation.replace(f,C.join(this._editor.getModel().getEOL())))}h.length>0&&this._editor.executeEdits("snippet.placeholderTransform",h)}let s=!1;a===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,s=!0):a===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,s=!0);const l=this._editor.getModel().changeDecorations(h=>{const p=new Set,S=[];for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const m=this._placeholderDecorations.get(f),C=this._editor.getModel().getDecorationRange(m);S.push(new _.Selection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn)),s=s&&this._hasPlaceholderBeenCollapsed(f),h.changeDecorationOptions(m,f.isFinalTabstop?o._decor.activeFinal:o._decor.active),p.add(f);for(const y of this._snippet.enclosingPlaceholders(f)){const E=this._placeholderDecorations.get(y);h.changeDecorationOptions(E,y.isFinalTabstop?o._decor.activeFinal:o._decor.active),p.add(y)}}for(const[f,m]of this._placeholderDecorations)p.has(f)||h.changeDecorationOptions(m,f.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive);return S});return s?this.move(a):l??[]}_hasPlaceholderBeenCollapsed(a){let s=a;for(;s;){if(s instanceof i.Placeholder){const l=this._placeholderDecorations.get(s);if(this._editor.getModel().getDecorationRange(l).isEmpty()&&s.toString().length>0)return!0}s=s.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const a=new Map;for(const s of this._placeholderGroups){let l;for(const h of s){if(h.isFinalTabstop)break;l||(l=[],a.set(h.index,l));const p=this._placeholderDecorations.get(h),S=this._editor.getModel().getDecorationRange(p);if(!S){a.delete(h.index);break}l.push(S)}}return a}get activeChoice(){if(!this._placeholderDecorations)return;const a=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(a==null?void 0:a.choice))return;const s=this._placeholderDecorations.get(a);if(!s)return;const l=this._editor.getModel().getDecorationRange(s);if(!!l)return{range:l,choice:a.choice}}get hasChoice(){let a=!1;return this._snippet.walk(s=>(a=s instanceof i.Choice,!a)),a}merge(a){const s=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(l=>{for(const h of this._placeholderGroups[this._placeholderGroupsIdx]){const p=a.shift();console.assert(p._offset!==-1),console.assert(!p._placeholderDecorations);const S=p._snippet.placeholderInfo.last.index;for(const m of p._snippet.placeholderInfo.all)m.isFinalTabstop?m.index=h.index+(S+1)/this._nestingLevel:m.index=h.index+m.index/this._nestingLevel;this._snippet.replace(h,p._snippet.children);const f=this._placeholderDecorations.get(h);l.removeDecoration(f),this._placeholderDecorations.delete(h);for(const m of p._snippet.placeholders){const C=p._snippet.offset(m),y=p._snippet.fullLen(m),E=L.Range.fromPositions(s.getPositionAt(p._offset+C),s.getPositionAt(p._offset+C+y)),T=l.addDecoration(E,o._decor.inactive);this._placeholderDecorations.set(m,T)}}this._placeholderGroups=(0,w.groupBy)(this._snippet.placeholders,i.Placeholder.compareByIndex)})}}e.OneSnippet=o,o._decor={active:u.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:u.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const r={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let c=class wt{constructor(a,s,l=r,h){this._editor=a,this._template=s,this._options=l,this._languageConfigurationService=h,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(a,s,l,h,p){const S=a.getLineContent(s.lineNumber),f=(0,k.getLeadingWhitespace)(S,0,s.column-1);let m;return l.walk(C=>{if(!(C instanceof i.Text)||C.parent instanceof i.Choice)return!0;const y=C.value.split(/\r\n|\r|\n/);if(h){const T=l.offset(C);if(T===0)y[0]=a.normalizeIndentation(y[0]);else{m=m??l.toString();const N=m.charCodeAt(T-1);(N===10||N===13)&&(y[0]=a.normalizeIndentation(f+y[0]))}for(let N=1;N<y.length;N++)y[N]=a.normalizeIndentation(f+y[N])}const E=y.join(a.getEOL());return E!==C.value&&(C.parent.replace(C,[new i.Text(E)]),m=void 0),!0}),f}static adjustSelection(a,s,l,h){if(l!==0||h!==0){const{positionLineNumber:p,positionColumn:S}=s,f=S-l,m=S+h,C=a.validateRange({startLineNumber:p,startColumn:f,endLineNumber:p,endColumn:m});s=_.Selection.createWithDirection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn,s.getDirection())}return s}static createEditsAndSnippetsFromSelections(a,s,l,h,p,S,f,m,C){const y=[],E=[];if(!a.hasModel())return{edits:y,snippets:E};const T=a.getModel(),N=a.invokeWithinContext(B=>B.get(n.IWorkspaceContextService)),F=a.invokeWithinContext(B=>new t.ModelBasedVariableResolver(B.get(g.ILabelService),T)),O=()=>f,P=T.getValueInRange(wt.adjustSelection(T,a.getSelection(),l,0)),D=T.getValueInRange(wt.adjustSelection(T,a.getSelection(),0,h)),M=T.getLineFirstNonWhitespaceColumn(a.getSelection().positionLineNumber),R=a.getSelections().map((B,W)=>({selection:B,idx:W})).sort((B,W)=>L.Range.compareRangesUsingStarts(B.selection,W.selection));for(const{selection:B,idx:W}of R){let V=wt.adjustSelection(T,B,l,0),A=wt.adjustSelection(T,B,0,h);P!==T.getValueInRange(V)&&(V=B),D!==T.getValueInRange(A)&&(A=B);const Y=B.setStartPosition(V.startLineNumber,V.startColumn).setEndPosition(A.endLineNumber,A.endColumn),ee=new i.SnippetParser().parse(s,!0,p),U=Y.getStartPosition(),j=wt.adjustWhitespace(T,U,ee,S||W>0&&M!==T.getLineFirstNonWhitespaceColumn(B.positionLineNumber),!0);ee.resolveVariables(new t.CompositeSnippetVariableResolver([F,new t.ClipboardBasedVariableResolver(O,W,R.length,a.getOption(72)==="spread"),new t.SelectionBasedVariableResolver(T,B,W,m),new t.CommentBasedVariableResolver(T,B,C),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(N),new t.RandomBasedVariableResolver])),y[W]=I.EditOperation.replace(Y,ee.toString()),y[W].identifier={major:W,minor:0},y[W]._isTracked=!0,E[W]=new o(a,ee,j)}return{edits:y,snippets:E}}static createEditsAndSnippetsFromEdits(a,s,l,h,p,S,f){if(!a.hasModel()||s.length===0)return{edits:[],snippets:[]};const m=[],C=a.getModel(),y=new i.SnippetParser,E=new i.TextmateSnippet,T=new t.CompositeSnippetVariableResolver([a.invokeWithinContext(F=>new t.ModelBasedVariableResolver(F.get(g.ILabelService),C)),new t.ClipboardBasedVariableResolver(()=>p,0,a.getSelections().length,a.getOption(72)==="spread"),new t.SelectionBasedVariableResolver(C,a.getSelection(),0,S),new t.CommentBasedVariableResolver(C,a.getSelection(),f),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(a.invokeWithinContext(F=>F.get(n.IWorkspaceContextService))),new t.RandomBasedVariableResolver]);s=s.sort((F,O)=>L.Range.compareRangesUsingStarts(F.range,O.range));let N=0;for(let F=0;F<s.length;F++){const{range:O,template:P}=s[F];if(F>0){const B=s[F-1].range,W=L.Range.fromPositions(B.getEndPosition(),O.getStartPosition()),V=new i.Text(C.getValueInRange(W));E.appendChild(V),N+=V.value.length}y.parseFragment(P,E),E.resolveVariables(T);const D=E.toString(),M=D.slice(N);N=D.length;const R=I.EditOperation.replace(O,M);R.identifier={major:F,minor:0},R._isTracked=!0,m.push(R)}return y.ensureFinalTabstop(E,l,!0),{edits:m,snippets:[new o(a,E,"")]}}dispose(){(0,v.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:a,snippets:s}=typeof this._template=="string"?wt.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):wt.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=s,this._editor.executeEdits("snippet",a,l=>{const h=l.filter(p=>!!p.identifier);for(let p=0;p<s.length;p++)s[p].initialize(h[p].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):h.map(p=>_.Selection.fromPositions(p.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(a,s=r){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,a]);const{edits:l,snippets:h}=wt.createEditsAndSnippetsFromSelections(this._editor,a,s.overwriteBefore,s.overwriteAfter,!0,s.adjustWhitespace,s.clipboardText,s.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",l,p=>{const S=p.filter(m=>!!m.identifier);for(let m=0;m<h.length;m++)h[m].initialize(S[m].textChange);const f=h[0].isTrivialSnippet;if(!f){for(const m of this._snippets)m.merge(h);console.assert(h.length===0)}return this._snippets[0].hasPlaceholder&&!f?this._move(void 0):S.map(m=>_.Selection.fromPositions(m.range.getEndPosition()))})}next(){const a=this._move(!0);this._editor.setSelections(a),this._editor.revealPositionInCenterIfOutsideViewport(a[0].getPosition())}prev(){const a=this._move(!1);this._editor.setSelections(a),this._editor.revealPositionInCenterIfOutsideViewport(a[0].getPosition())}_move(a){const s=[];for(const l of this._snippets){const h=l.move(a);s.push(...h)}return s}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const a=this._editor.getSelections();if(a.length<this._snippets.length)return!1;const s=new Map;for(const l of this._snippets){const h=l.computePossibleSelections();if(s.size===0)for(const[p,S]of h){S.sort(L.Range.compareRangesUsingStarts);for(const f of a)if(S[0].containsRange(f)){s.set(p,[]);break}}if(s.size===0)return!1;s.forEach((p,S)=>{p.push(...h.get(S))})}a.sort(L.Range.compareRangesUsingStarts);for(const[l,h]of s){if(h.length!==a.length){s.delete(l);continue}h.sort(L.Range.compareRangesUsingStarts);for(let p=0;p<h.length;p++)if(!h[p].containsRange(a[p])){s.delete(l);continue}}return s.size>0}};c=ke([fe(3,b.ILanguageConfigurationService)],c),e.SnippetSession=c}),define(se[121],re([1,0,2,20,13,11,23,24,32,19,103,603,16,69,323]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performSnippetEdit=e.SnippetController2=void 0;const r={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let c=class Bt{constructor(l,h,p,S,f){this._editor=l,this._logService=h,this._languageFeaturesService=p,this._languageConfigurationService=f,this._snippetListener=new w.DisposableStore,this._modelVersionId=-1,this._inSnippet=Bt.InSnippetMode.bindTo(S),this._hasNextTabstop=Bt.HasNextTabstop.bindTo(S),this._hasPrevTabstop=Bt.HasPrevTabstop.bindTo(S)}static get(l){return l.getContribution(Bt.ID)}dispose(){var l;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(l=this._session)===null||l===void 0||l.dispose(),this._snippetListener.dispose()}apply(l,h){try{this._doInsert(l,typeof h=="undefined"?r:Object.assign(Object.assign({},r),h))}catch(p){this.cancel(),this._logService.error(p),this._logService.error("snippet_error"),this._logService.error("insert_edits=",l),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(l,h){try{this._doInsert(l,typeof h=="undefined"?r:Object.assign(Object.assign({},r),h))}catch(p){this.cancel(),this._logService.error(p),this._logService.error("snippet_error"),this._logService.error("insert_template=",l),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(l,h){var p;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),h.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof l!="string"&&this.cancel(),this._session?((0,v.assertType)(typeof l=="string"),this._session.merge(l,h)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new o.SnippetSession(this._editor,l,h,this._languageConfigurationService),this._session.insert()),h.undoStopAfter&&this._editor.getModel().pushStackElement(),(p=this._session)===null||p===void 0?void 0:p.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(f,m)=>{if(!this._session||f!==this._editor.getModel()||!I.Position.equals(this._editor.getPosition(),m))return;const{activeChoice:C}=this._session;if(!C||C.choice.options.length===0)return;const y=f.getValueInRange(C.range),E=Boolean(C.choice.options.find(N=>N.value===y)),T=[];for(let N=0;N<C.choice.options.length;N++){const F=C.choice.options[N];T.push({kind:13,label:F.value,insertText:F.value,sortText:"a".repeat(N+1),range:C.range,filterText:E?`${y}_${F.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,n.localize)(3,null)}})}return{suggestions:T}}};const S=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(S)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(S=>S.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:l}=this._session;if(!l||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==l.choice&&(this._currentChoice=l.choice,queueMicrotask(()=>{(0,g.showSimpleSuggestions)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(l=!1){var h;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(h=this._session)===null||h===void 0||h.dispose(),this._session=void 0,this._modelVersionId=-1,l&&this._editor.setSelections([this._editor.getSelection()])}prev(){var l;(l=this._session)===null||l===void 0||l.prev(),this._updateState()}next(){var l;(l=this._session)===null||l===void 0||l.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};c.ID="snippetController2",c.InSnippetMode=new i.RawContextKey("inSnippetMode",!1,(0,n.localize)(0,null)),c.HasNextTabstop=new i.RawContextKey("hasNextTabstop",!1,(0,n.localize)(1,null)),c.HasPrevTabstop=new i.RawContextKey("hasPrevTabstop",!1,(0,n.localize)(2,null)),c=ke([fe(1,t.ILogService),fe(2,u.ILanguageFeaturesService),fe(3,i.IContextKeyService),fe(4,b.ILanguageConfigurationService)],c),e.SnippetController2=c,(0,k.registerEditorContribution)(c.ID,c);const d=k.EditorCommand.bindToContribution(c.get);(0,k.registerEditorCommand)(new d({id:"jumpToNextSnippetPlaceholder",precondition:i.ContextKeyExpr.and(c.InSnippetMode,c.HasNextTabstop),handler:s=>s.next(),kbOpts:{weight:100+30,kbExpr:_.EditorContextKeys.editorTextFocus,primary:2}})),(0,k.registerEditorCommand)(new d({id:"jumpToPrevSnippetPlaceholder",precondition:i.ContextKeyExpr.and(c.InSnippetMode,c.HasPrevTabstop),handler:s=>s.prev(),kbOpts:{weight:100+30,kbExpr:_.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,k.registerEditorCommand)(new d({id:"leaveSnippet",precondition:c.InSnippetMode,handler:s=>s.cancel(!0),kbOpts:{weight:100+30,kbExpr:_.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,k.registerEditorCommand)(new d({id:"acceptSnippet",precondition:c.InSnippetMode,handler:s=>s.finish()}));function a(s,l,h){const p=c.get(s);return p?(s.focus(),p.apply(h.map(S=>({range:L.Selection.liftSelection(S),template:l}))),p.isInSnippet()):!1}e.performSnippetEdit=a}),define(se[784],re([1,0,124,7,10,179,2,99,227,294,140,3,19,96,121,89,93,30]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=void 0;const a="application/vnd.code.copyMetadata";let s=class extends L.Disposable{constructor(h,p,S,f,m){super();this._bulkEditService=p,this._clipboardService=S,this._configurationService=f,this._languageFeaturesService=m,this._editor=h;const C=h.getContainerDomNode();this._register((0,v.addDisposableListener)(C,"copy",y=>this.handleCopy(y))),this._register((0,v.addDisposableListener)(C,"cut",y=>this.handleCopy(y))),this._register((0,v.addDisposableListener)(C,"paste",y=>this.handlePaste(y),!0))}arePasteActionsEnabled(h){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:h.uri})}handleCopy(h){var p;if(!h.clipboardData||!this._editor.hasTextFocus())return;const S=this._editor.getModel(),f=this._editor.getSelections();if(!S||!(f==null?void 0:f.length)||!this.arePasteActionsEnabled(S))return;const m=[...f],C=f[0],y=C.isEmpty();if(y){if(!this._editor.getOption(33))return;m[0]=new n.Range(C.startLineNumber,0,C.startLineNumber,S.getLineLength(C.startLineNumber))}const E=this._languageFeaturesService.documentPasteEditProvider.ordered(S).filter(O=>!!O.prepareDocumentPaste);if(!E.length){this.setCopyMetadata(h.clipboardData,{wasFromEmptySelection:y});return}const T=(0,u.toVSDataTransfer)(h.clipboardData),N=(0,b.generateUuid)();this.setCopyMetadata(h.clipboardData,{id:N,wasFromEmptySelection:y});const F=(0,k.createCancelablePromise)(O=>Se(this,void 0,void 0,function*(){const P=yield Promise.all(E.map(D=>D.prepareDocumentPaste(S,m,T,O)));for(const D of P)D==null||D.forEach((M,R)=>{T.replace(R,M)});return T}));(p=this._currentClipboardItem)===null||p===void 0||p.dataTransferPromise.cancel(),this._currentClipboardItem={handle:N,dataTransferPromise:F}}setCopyMetadata(h,p){h.setData(a,JSON.stringify(p))}handlePaste(h){var p,S,f;return Se(this,void 0,void 0,function*(){if(!h.clipboardData||!this._editor.hasTextFocus())return;const m=this._editor.getSelections();if(!(m==null?void 0:m.length)||!this._editor.hasModel())return;const C=this._editor.getModel();if(!this.arePasteActionsEnabled(C))return;let y;const E=(p=h.clipboardData)===null||p===void 0?void 0:p.getData(a);E&&typeof E=="string"&&(y=JSON.parse(E));const T=this._languageFeaturesService.documentPasteEditProvider.ordered(C);if(!T.length)return;h.preventDefault(),h.stopImmediatePropagation();const N=C.getVersionId(),F=new t.EditorStateCancellationTokenSource(this._editor,1|2);try{const O=(0,u.toVSDataTransfer)(h.clipboardData);if((y==null?void 0:y.id)&&((S=this._currentClipboardItem)===null||S===void 0?void 0:S.handle)===y.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((R,B)=>{O.replace(B,R)}),!O.has(_.Mimes.uriList)){const M=yield this._clipboardService.readResources();M.length&&O.append(_.Mimes.uriList,(0,I.createStringDataTransferItem)(u.UriList.create(M)))}O.delete(a);for(const M of T){if(!M.pasteMimeTypes.some(B=>B.toLowerCase()===w.DataTransfers.FILES.toLowerCase()?[...O.values()].some(W=>W.asFile()):O.has(B)))continue;const R=yield M.provideDocumentPasteEdits(C,m,O,F.token);if(N!==C.getVersionId())return;if(R){(0,o.performSnippetEdit)(this._editor,typeof R.insertText=="string"?r.SnippetParser.escape(R.insertText):R.insertText.snippet,m),R.additionalEdit&&(yield this._bulkEditService.apply(R.additionalEdit,{editor:this._editor}));return}}const P=(f=O.get(_.Mimes.text))!==null&&f!==void 0?f:O.get("text");if(!P)return;const D=yield P.asString();if(N!==C.getVersionId())return;this._editor.trigger("keyboard","paste",{text:D,pasteOnNewLine:y==null?void 0:y.wasFromEmptySelection,multicursorText:null})}finally{F.dispose()}})}};s.ID="editor.contrib.copyPasteActionController",s=ke([fe(1,g.IBulkEditService),fe(2,c.IClipboardService),fe(3,d.IConfigurationService),fe(4,i.ILanguageFeaturesService)],s),e.CopyPasteController=s}),define(se[785],re([1,0,13,214,784,560,94,34]),function(G,e,w,v,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.CopyPasteController.ID,k.CopyPasteController),_.Registry.as(L.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},v.editorConfigurationBaseNode),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:I.localize(0,null),default:!1}}}))}),define(se[786],re([1,0,10,179,2,99,43,22,294,13,140,3,23,19,96,121,89,562,71,178]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=void 0;let l=class extends k.Disposable{constructor(S,f,m,C,y){super();this._bulkEditService=f,this._languageFeaturesService=m,this._progressService=C,this._register(S.onDropIntoEditor(E=>this.onDropIntoEditor(S,E.position,E.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new h(y))}onDropIntoEditor(S,f,m){return Se(this,void 0,void 0,function*(){if(!m.dataTransfer||!S.hasModel())return;const C=S.getModel(),y=C.getVersionId(),E=yield this.extractDataTransferData(m);if(E.size===0||S.getModel().getVersionId()!==y)return;const T=new o.EditorStateCancellationTokenSource(S,1);try{const N=this._languageFeaturesService.documentOnDropEditProvider.ordered(C),F=yield this._progressService.withProgress({location:15,delay:750,title:(0,d.localize)(0,null),cancellable:!0},()=>(0,w.raceCancellation)((()=>Se(this,void 0,void 0,function*(){for(const O of N){const P=yield O.provideDocumentOnDropEdits(C,f,E,T.token);if(T.token.isCancellationRequested)return;if(P)return P}}))(),T.token),()=>{T.cancel()});if(T.token.isCancellationRequested||S.getModel().getVersionId()!==y)return;if(F){const O=new n.Range(f.lineNumber,f.column,f.lineNumber,f.column);(0,r.performSnippetEdit)(S,typeof F.insertText=="string"?c.SnippetParser.escape(F.insertText):F.insertText.snippet,[i.Selection.fromRange(O,0)]),F.additionalEdit&&(yield this._bulkEditService.apply(F.additionalEdit,{editor:S}));return}}finally{T.dispose()}})}extractDataTransferData(S){return Se(this,void 0,void 0,function*(){if(!S.dataTransfer)return new v.VSDataTransfer;const f=(0,b.toVSDataTransfer)(S.dataTransfer);return(0,b.addExternalEditorsDropData)(f,S),f})}};l.ID="editor.contrib.dropIntoEditorController",l=ke([fe(1,g.IBulkEditService),fe(2,t.ILanguageFeaturesService),fe(3,a.IProgressService),fe(4,s.IWorkspaceContextService)],l),e.DropIntoEditorController=l;let h=class{constructor(S){this._workspaceContextService=S}provideDocumentOnDropEdits(S,f,m,C){var y;return Se(this,void 0,void 0,function*(){const E=m.get(I.Mimes.uriList);if(E){const N=yield E.asString(),F=this.getUriListInsertText(N);if(F)return{insertText:F}}const T=(y=m.get("text"))!==null&&y!==void 0?y:m.get(I.Mimes.text);if(T)return{insertText:yield T.asString()}})}getUriListInsertText(S){const f=[];for(const m of b.UriList.parse(S))try{f.push(_.URI.parse(m))}catch{}if(!!f.length)return f.map(m=>{const C=this._workspaceContextService.getWorkspaceFolder(m);if(C){const y=(0,L.relativePath)(C.uri,m);if(y)return y}return m.fsPath}).join(" ")}};h=ke([fe(0,s.IWorkspaceContextService)],h),(0,u.registerEditorContribution)(l.ID,l)}),define(se[324],re([1,0,10,21,14,6,2,171,61,3,28,167,26,191,208,32,432,19,70,89,121,97,60,192,30]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let m=class extends L.Disposable{constructor(D,M,R,B,W,V,A){super();this.editor=D,this.cache=M,this.commandService=R,this.languageConfigurationService=B,this.languageFeaturesService=W,this.debounceService=V,this.onDidChangeEmitter=new I.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new L.MutableDisposable),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(R.onDidExecuteCommand(Y=>{new Set([_.CoreEditingCommands.Tab.id,_.CoreEditingCommands.DeleteLeft.id,_.CoreEditingCommands.DeleteRight.id,t.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(Y.commandId)&&D.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(Y=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(Y=>{(Y.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,L.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{A.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var D;return(D=this.session)===null||D===void 0?void 0:D.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(D){var M;(M=this.session)===null||M===void 0||M.setExpanded(D)}setActive(D){var M;this.active=D,D&&((M=this.session)===null||M===void 0||M.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(56).enabled||this.session&&this.session.isValid||this.trigger(g.InlineCompletionTriggerKind.Automatic)}trigger(D){if(this.completionSession.value){D===g.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new C(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,D,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var D;(D=this.session)===null||D===void 0||D.commitCurrentCompletion()}showNext(){var D;(D=this.session)===null||D===void 0||D.showNextInlineCompletion()}showPrevious(){var D;(D=this.session)===null||D===void 0||D.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var D;return Se(this,void 0,void 0,function*(){const M=yield(D=this.session)===null||D===void 0?void 0:D.hasMultipleInlineCompletions();return M!==void 0?M:!1})}};m=ke([fe(2,i.ICommandService),fe(3,r.ILanguageConfigurationService),fe(4,d.ILanguageFeaturesService),fe(5,a.ILanguageFeatureDebounceService),fe(6,f.IConfigurationService)],m),e.InlineCompletionsModel=m;class C extends n.BaseGhostTextWidgetModel{constructor(D,M,R,B,W,V,A,Y,ee){super(D);this.triggerPosition=M,this.shouldUpdate=R,this.commandService=B,this.cache=W,this.initialTriggerKind=V,this.languageConfigurationService=A,this.registry=Y,this.debounce=ee,this.minReservedLineCount=0,this.updateOperation=this._register(new L.MutableDisposable),this.updateSoon=this._register(new w.RunOnceScheduler(()=>{const j=this.initialTriggerKind;return this.initialTriggerKind=g.InlineCompletionTriggerKind.Automatic,this.update(j)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let U;this._register(this.onDidChange(()=>{var j;const Z=this.currentCompletion;if(Z&&Z.sourceInlineCompletion!==U){U=Z.sourceInlineCompletion;const ie=Z.sourceProvider;(j=ie.handleItemDidShow)===null||j===void 0||j.call(ie,Z.sourceInlineCompletions,U)}})),this._register((0,L.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(j=>{var Z;j.reason!==3&&((Z=this.cache.value)===null||Z===void 0||Z.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(j=>{var Z;(Z=this.cache.value)===null||Z===void 0||Z.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const D=this.editor.getModel(),M=D.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(R=>{const B=D.getValueInRange(R.synchronizedRange).toLowerCase(),W=R.inlineCompletion.filterText.toLowerCase(),V=D.getLineIndentColumn(R.synchronizedRange.startLineNumber),A=Math.max(0,M.column-R.synchronizedRange.startColumn);let Y=W.substring(0,A),ee=W.substring(A),U=B.substring(0,A),j=B.substring(A);return R.synchronizedRange.startColumn<=V&&(U=U.trimStart(),U.length===0&&(j=j.trimStart()),Y=Y.trimStart(),Y.length===0&&(ee=ee.trimStart())),Y.startsWith(U)&&(0,p.matchesSubString)(j,ee)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const D=this.filteredCompletions.findIndex(M=>M.semanticId===this.currentlySelectedCompletionId);return D===-1?(this.currentlySelectedCompletionId=void 0,0):D}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Se(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const D=this.filteredCompletions||[];if(D.length>0){const M=(this.fixAndGetIndexOfCurrentSelection()+1)%D.length;this.currentlySelectedCompletionId=D[M].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Se(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const D=this.filteredCompletions||[];if(D.length>0){const M=(this.fixAndGetIndexOfCurrentSelection()+D.length-1)%D.length;this.currentlySelectedCompletionId=D[M].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var D;return Se(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===g.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(g.InlineCompletionTriggerKind.Explicit):((D=this.cache.value)===null||D===void 0?void 0:D.triggerKind)!==g.InlineCompletionTriggerKind.Explicit&&(yield this.update(g.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var D;return Se(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((D=this.cache.value)===null||D===void 0?void 0:D.completions.length)||0)>1})}get ghostText(){const D=this.currentCompletion;if(!D)return;const M=this.editor.getPosition();if(D.range.getEndPosition().isBefore(M))return;const R=this.editor.getOptions().get(56).mode,B=(0,o.inlineCompletionToGhostText)(D,this.editor.getModel(),R,M);return B?B.isEmpty()?void 0:B:new n.GhostTextReplacement(D.range.startLineNumber,D.range.startColumn,D.range.endColumn-D.range.startColumn,D.insertText.split(`
`),0)}get currentCompletion(){const D=this.currentCachedCompletion;if(!!D)return D.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(D){return Se(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const M=this.editor.getPosition(),R=new Date,B=(0,w.createCancelablePromise)(V=>Se(this,void 0,void 0,function*(){let A;try{A=yield N(this.registry,M,this.editor.getModel(),{triggerKind:D,selectedSuggestionInfo:void 0},V,this.languageConfigurationService);const Y=new Date;this.debounce.update(this.editor.getModel(),Y.getTime()-R.getTime())}catch(Y){(0,k.onUnexpectedError)(Y);return}V.isCancellationRequested||(this.cache.setValue(this.editor,A,D),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),W=new y(B,D);this.updateOperation.value=W,yield B,this.updateOperation.value===W&&this.updateOperation.clear()})}takeOwnership(D){this._register(D)}commitCurrentCompletion(){if(!this.ghostText)return;const M=this.currentCompletion;M&&this.commit(M)}commit(D){var M;const R=this.cache.clearAndLeak();D.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[b.EditOperation.replaceMove(D.range,""),...D.additionalTextEdits]),this.editor.setPosition(D.snippetInfo.range.getStartPosition()),(M=l.SnippetController2.get(this.editor))===null||M===void 0||M.insert(D.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[b.EditOperation.replaceMove(D.range,D.insertText),...D.additionalTextEdits]),D.command?this.commandService.executeCommand(D.command.id,...D.command.arguments||[]).finally(()=>{R==null||R.dispose()}).then(void 0,k.onUnexpectedExternalError):R==null||R.dispose(),this.onDidChangeEmitter.fire()}get commands(){var D;return[...new Set(((D=this.cache.value)===null||D===void 0?void 0:D.completions.map(R=>R.inlineCompletion.sourceInlineCompletions))||[])].flatMap(R=>R.commands||[])}}e.InlineCompletionsSession=C;class y{constructor(D,M){this.promise=D,this.triggerKind=M}dispose(){this.promise.cancel()}}e.UpdateOperation=y;class E extends L.Disposable{constructor(D,M,R,B){super();this.editor=M,this.onChange=R,this.triggerKind=B,this.isDisposing=!1;const W=M.changeDecorations(V=>V.deltaDecorations([],D.items.map(A=>({range:A.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,L.toDisposable)(()=>{this.isDisposing=!0,M.removeDecorations(W)})),this.completions=D.items.map((V,A)=>new T(V,W[A])),this._register(M.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(D)}updateRanges(){if(this.isDisposing)return;let D=!1;const M=this.editor.getModel();for(const R of this.completions){const B=M.getDecorationRange(R.decorationId);if(!B){(0,k.onUnexpectedError)(new Error("Decoration has no range"));continue}R.synchronizedRange.equalsRange(B)||(D=!0,R.synchronizedRange=B)}D&&this.onChange()}}e.SynchronizedInlineCompletionsCache=E;class T{constructor(D,M){this.inlineCompletion=D,this.decorationId=M,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=D.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function N(P,D,M,R,B=v.CancellationToken.None,W){return Se(this,void 0,void 0,function*(){const V=F(D,M),A=P.all(M),Y=yield Promise.all(A.map(U=>Se(this,void 0,void 0,function*(){const j=yield Promise.resolve(U.provideInlineCompletions(M,D,R,B)).catch(k.onUnexpectedExternalError);return{completions:j,provider:U,dispose:()=>{j&&U.freeInlineCompletions(j)}}}))),ee=new Map;for(const U of Y){const j=U.completions;if(!!j)for(const Z of j.items){let ie=Z.range?u.Range.lift(Z.range):V;if(ie.startLineNumber!==ie.endLineNumber)continue;let Q,J;if(typeof Z.insertText=="string"){if(Q=Z.insertText,W&&Z.completeBracketPairs){Q=O(Q,ie.getStartPosition(),M,W);const x=Q.length-Z.insertText.length;x!==0&&(ie=new u.Range(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn+x))}J=void 0}else"snippet"in Z.insertText?(Q=new s.SnippetParser().parse(Z.insertText.snippet).toString(),J={snippet:Z.insertText.snippet,range:ie}):(0,h.assertNever)(Z.insertText);const de={insertText:Q,snippetInfo:J,range:ie,command:Z.command,sourceProvider:U.provider,sourceInlineCompletions:j,sourceInlineCompletion:Z,filterText:Z.filterText||Q,additionalTextEdits:Z.additionalTextEdits||(0,S.getReadonlyEmptyArray)()};ee.set(JSON.stringify({insertText:Q,range:Z.range}),de)}}return{items:[...ee.values()],dispose:()=>{for(const U of Y)U.dispose()}}})}e.provideInlineCompletions=N;function F(P,D){const M=D.getWordAtPosition(P),R=D.getLineMaxColumn(P.lineNumber);return M?new u.Range(P.lineNumber,M.startColumn,P.lineNumber,R):u.Range.fromPositions(P,P.with(void 0,R))}function O(P,D,M,R){const W=M.getLineContent(D.lineNumber).substring(0,D.column-1)+P,V=M.tokenization.tokenizeLineWithEdit(D,W.length-(D.column-1),P),A=V==null?void 0:V.sliceAndInflate(D.column-1,W.length,0);return A?(0,c.fixBracketsInLine)(A,R):P}}),define(se[787],re([1,0,10,21,14,6,2,8,23,102,121,256,93,30,16,69,86,255,103,19,60]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class h{constructor(y,E,T,N,F){this.leadingLineContent=y.getLineContent(E.lineNumber).substr(0,E.column-1),this.leadingWord=y.getWordUntilPosition(E),this.lineNumber=E.lineNumber,this.column=E.column,this.auto=T,this.shy=N,this.noSelect=F}static shouldAutoTrigger(y){if(!y.hasModel())return!1;const E=y.getModel(),T=y.getPosition();E.tokenization.tokenizeIfCheap(T.lineNumber);const N=E.getWordAtPosition(T);return!(!N||N.endColumn!==T.column||!isNaN(Number(N.word)))}}e.LineContext=h;function p(C){return C.getOption(108).preview}function S(C,y,E){if(!Boolean(y.getContextKeyValue("inlineSuggestionVisible")))return!0;const T=E.getValue("editor.inlineSuggest.allowQuickSuggestions");return T!==void 0?Boolean(T):!1}function f(C,y,E){if(!Boolean(y.getContextKeyValue("inlineSuggestionVisible")))return!0;const T=E.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return T!==void 0?Boolean(T):!1}let m=class tn{constructor(y,E,T,N,F,O,P,D){this._editor=y,this._editorWorkerService=E,this._clipboardService=T,this._telemetryService=N,this._logService=F,this._contextKeyService=O,this._configurationService=P,this._languageFeaturesService=D,this._toDispose=new L.DisposableStore,this._triggerCharacterListener=new L.DisposableStore,this._triggerQuickSuggest=new w.TimeoutTimer,this._state=0,this._completionDisposables=new L.DisposableStore,this._onDidCancel=new I.Emitter,this._onDidTrigger=new I.Emitter,this._onDidSuggest=new I.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new b.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let M=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{M=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{M=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(R=>{M||this._onCursorChange(R)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{M||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,L.dispose)(this._triggerCharacterListener),(0,L.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(82)||!this._editor.hasModel()||!this._editor.getOption(111))return;const y=new Map;for(const T of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const N of T.triggerCharacters||[]){let F=y.get(N);F||(F=new Set,F.add((0,a.getSnippetSuggestSupport)()),y.set(N,F)),F.add(T)}const E=T=>{if(!f(this._editor,this._contextKeyService,this._configurationService)||h.shouldAutoTrigger(this._editor))return;if(!T){const O=this._editor.getPosition();T=this._editor.getModel().getLineContent(O.lineNumber).substr(0,O.column-1)}let N="";(0,_.isLowSurrogate)(T.charCodeAt(T.length-1))?(0,_.isHighSurrogate)(T.charCodeAt(T.length-2))&&(N=T.substr(T.length-2)):N=T.charAt(T.length-1);const F=y.get(N);if(F){const O=this._completionModel?{items:this._completionModel.adopt(F),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:N},Boolean(this._completionModel),F,O)}};this._triggerCharacterListener.add(this._editor.onDidType(E)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>E()))}get state(){return this._state}cancel(y=!1){var E;this._state!==0&&(this._triggerQuickSuggest.cancel(),(E=this._requestToken)===null||E===void 0||E.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:y}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1,noSelect:!1},!0))}_onCursorChange(y){if(!this._editor.hasModel())return;const E=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!y.selection.isEmpty()||y.reason!==0&&y.reason!==3||y.source!=="keyboard"&&y.source!=="deleteLeft"){this.cancel();return}this._state===0&&y.reason===0?(E.containsRange(this._currentSelection)||E.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&y.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var y;a.QuickSuggestionsOptions.isAllOff(this._editor.getOption(80))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&((y=g.SnippetController2.get(this._editor))===null||y===void 0?void 0:y.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!h.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const E=this._editor.getModel(),T=this._editor.getPosition(),N=this._editor.getOption(80);if(!a.QuickSuggestionsOptions.isAllOff(N)){if(!a.QuickSuggestionsOptions.isAllOn(N)){E.tokenization.tokenizeIfCheap(T.lineNumber);const F=E.tokenization.getLineTokens(T.lineNumber),O=F.getStandardTokenType(F.findTokenIndexAtOffset(Math.max(T.column-1-1,0)));if(a.QuickSuggestionsOptions.valueFor(N,O)!=="on")return}!S(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(E)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(81)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const y=this._editor.getModel(),E=this._editor.getPosition(),T=new h(y,E,this._state===2,!1,!1);this._onNewContext(T)})}trigger(y,E=!1,T,N,F){var O;if(!this._editor.hasModel())return;const P=this._editor.getModel(),D=y.auto,M=new h(P,this._editor.getPosition(),D,y.shy,y.noSelect);this.cancel(E),this._state=D?2:1,this._onDidTrigger.fire({auto:D,shy:y.shy,position:this._editor.getPosition()}),this._context=M;let R={triggerKind:(O=y.triggerKind)!==null&&O!==void 0?O:0};y.triggerCharacter&&(R={triggerKind:1,triggerCharacter:y.triggerCharacter}),this._requestToken=new v.CancellationTokenSource;const B=this._editor.getOption(102);let W=1;switch(B){case"top":W=0;break;case"bottom":W=2;break}const{itemKind:V,showDeprecated:A}=tn._createSuggestFilter(this._editor),Y=new a.CompletionOptions(W,F?new Set:V,T,A),ee=n.WordDistance.create(this._editorWorkerService,this._editor),U=(0,a.provideSuggestionItems)(this._languageFeaturesService.completionProvider,P,this._editor.getPosition(),Y,R,this._requestToken.token);Promise.all([U,ee]).then(([j,Z])=>Se(this,void 0,void 0,function*(){var ie;if((ie=this._requestToken)===null||ie===void 0||ie.dispose(),!this._editor.hasModel())return;let Q=N==null?void 0:N.clipboardText;if(!Q&&j.needsClipboard&&(Q=yield this._clipboardService.readText()),this._state===0)return;const J=this._editor.getModel();let de=j.items;if(N){const te=(0,a.getSuggestionComparator)(W);de=de.concat(N.items).sort(te)}const x=new h(J,this._editor.getPosition(),D,y.shy,y.noSelect),ne=Object.assign(Object.assign({},l.FuzzyScoreOptions.default),{firstMatchCanBeWeak:!this._editor.getOption(108).matchOnWordStartOnly});this._completionModel=new d.CompletionModel(de,this._context.column,{leadingLineContent:x.leadingLineContent,characterCountDelta:x.column-this._context.column},Z,this._editor.getOption(108),this._editor.getOption(102),ne,Q),this._completionDisposables.add(j.disposable),this._onNewContext(x),this._reportDurationsTelemetry(j.durations)})).catch(k.onUnexpectedError)}_reportDurationsTelemetry(y){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(y)}),this._logService.debug("suggest.durations.json",y)})}static _createSuggestFilter(y){const E=new Set;y.getOption(102)==="none"&&E.add(27);const N=y.getOption(108);return N.showMethods||E.add(0),N.showFunctions||E.add(1),N.showConstructors||E.add(2),N.showFields||E.add(3),N.showVariables||E.add(4),N.showClasses||E.add(5),N.showStructs||E.add(6),N.showInterfaces||E.add(7),N.showModules||E.add(8),N.showProperties||E.add(9),N.showEvents||E.add(10),N.showOperators||E.add(11),N.showUnits||E.add(12),N.showValues||E.add(13),N.showConstants||E.add(14),N.showEnums||E.add(15),N.showEnumMembers||E.add(16),N.showKeywords||E.add(17),N.showWords||E.add(18),N.showColors||E.add(19),N.showFiles||E.add(20),N.showReferences||E.add(21),N.showColors||E.add(22),N.showFolders||E.add(23),N.showTypeParameters||E.add(24),N.showSnippets||E.add(27),N.showUsers||E.add(25),N.showIssues||E.add(26),{itemKind:E,showDeprecated:N.showDeprecated}}_onNewContext(y){if(!!this._context){if(y.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,_.getLeadingWhitespace)(y.leadingLineContent)!==(0,_.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(y.column<this._context.column){y.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();return}if(!!this._completionModel){if(y.leadingWord.word.length!==0&&y.leadingWord.startColumn>this._context.leadingWord.startColumn){const E=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const N of this._completionModel.allProvider)E.delete(N);const T=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,E,{items:T,clipboardText:this._completionModel.clipboardText});return}if(y.column>this._context.column&&this._completionModel.incomplete.size>0&&y.leadingWord.word.length!==0){const{incomplete:E}=this._completionModel,T=this._completionModel.adopt(E);this.trigger({auto:this._state===2,shy:!1,noSelect:!1,triggerKind:2},!0,E,{items:T,clipboardText:this._completionModel.clipboardText})}else{const E=this._completionModel.lineContext;let T=!1;if(this._completionModel.lineContext={leadingLineContent:y.leadingLineContent,characterCountDelta:y.column-this._context.column},this._completionModel.items.length===0){if(h.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<y.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=E,T=this._completionModel.items.length>0,T&&y.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:T})}}}}};m=ke([fe(1,u.IEditorWorkerService),fe(2,i.IClipboardService),fe(3,c.ITelemetryService),fe(4,r.ILogService),fe(5,o.IContextKeyService),fe(6,t.IConfigurationService),fe(7,s.ILanguageFeaturesService)],m),e.SuggestModel=m}),define(se[325],re([1,0,49,17,10,21,14,6,105,2,18,57,20,153,13,61,11,3,24,121,89,299,644,607,26,16,9,69,103,643,468,787,469,768,86,43,106]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E,T,N,F,O,P,D,M,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const B=!1;class W{constructor(Z,ie){if(this._model=Z,this._position=ie,Z.getLineMaxColumn(ie.lineNumber)!==ie.column){const J=Z.getOffsetAt(ie),de=Z.getPositionAt(J+1);this._marker=Z.deltaDecorations([],[{range:d.Range.fromPositions(ie,de),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Z){if(this._model.isDisposed()||this._position.lineNumber!==Z.lineNumber)return 0;if(this._marker){const ie=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ie.getStartPosition())-this._model.getOffsetAt(Z)}else return this._model.getLineMaxColumn(Z.lineNumber)-Z.column}}let V=class nn{constructor(Z,ie,Q,J,de,x,ne){this._memoryService=ie,this._commandService=Q,this._contextKeyService=J,this._instantiationService=de,this._logService=x,this._telemetryService=ne,this._lineSuffix=new u.MutableDisposable,this._toDispose=new u.DisposableStore,this._selectors=new A(z=>z.priority),this._telemetryGate=0,this.editor=Z,this.model=de.createInstance(F.SuggestModel,this.editor);const te=E.Context.InsertMode.bindTo(J);te.set(Z.getOption(108).insertMode),this.model.onDidTrigger(()=>te.set(Z.getOption(108).insertMode)),this.widget=this._toDispose.add(new k.IdleValue(()=>{const z=this._instantiationService.createInstance(P.SuggestWidget,this.editor);this._toDispose.add(z),this._toDispose.add(z.onDidSelect(ce=>this._insertSuggestion(ce,0),this));const X=new N.CommitCharacterController(this.editor,z,ce=>this._insertSuggestion(ce,2));this._toDispose.add(X),this._toDispose.add(this.model.onDidSuggest(ce=>{ce.completionModel.items.length===0&&X.reset()}));const $=E.Context.MakesTextEdit.bindTo(this._contextKeyService),H=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,u.toDisposable)(()=>{$.reset(),H.reset(),K.reset()})),this._toDispose.add(z.onDidFocus(({item:ce})=>{const le=this.editor.getPosition(),he=ce.editStart.column,me=le.column;let Ce=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ce.completion.additionalTextEdits&&!(ce.completion.insertTextRules&4)&&me-he===ce.completion.insertText.length&&(Ce=this.editor.getModel().getValueInRange({startLineNumber:le.lineNumber,startColumn:he,endLineNumber:le.lineNumber,endColumn:me})!==ce.completion.insertText),$.set(Ce),H.set(!c.Position.equals(ce.editInsertEnd,ce.editReplaceEnd)),K.set(Boolean(ce.provider.resolveCompletionItem)||Boolean(ce.completion.documentation)||ce.completion.detail!==ce.completion.label)})),this._toDispose.add(z.onDetailsKeyDown(ce=>{if(ce.toKeybinding().equals(new b.SimpleKeybinding(!0,!1,!1,!1,33))||g.isMacintosh&&ce.toKeybinding().equals(new b.SimpleKeybinding(!1,!1,!1,!0,33))){ce.stopPropagation();return}ce.toKeybinding().isModifierKey()||this.editor.focus()})),z})),this._overtypingCapturer=this._toDispose.add(new k.IdleValue(()=>this._toDispose.add(new O.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new k.IdleValue(()=>this._toDispose.add(new T.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(de.createInstance(p.WordContextKey,Z)),this._toDispose.add(this.model.onDidTrigger(z=>{this.widget.value.showTriggered(z.auto,z.shy?250:50),this._lineSuffix.value=new W(this.editor.getModel(),z.position)})),this._toDispose.add(this.model.onDidSuggest(z=>{if(z.shy)return;let X=-1;if(!z.noSelect){for(const $ of this._selectors.itemsOrderedByPriorityDesc)if(X=$.select(this.editor.getModel(),this.editor.getPosition(),z.completionModel.items),X!==-1)break;X===-1&&(X=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),z.completionModel.items))}this.widget.value.showSuggestions(z.completionModel,X,z.isFrozen,z.auto)})),this._toDispose.add(this.model.onDidCancel(z=>{z.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{B||(this.model.cancel(),this.model.clear())}));const q=E.Context.AcceptSuggestionsOnEnter.bindTo(J),oe=()=>{const z=this.editor.getOption(1);q.set(z==="on"||z==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>oe())),oe()}static get(Z){return Z.getContribution(nn.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(Z,ie){if(!Z||!Z.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Q=s.SnippetController2.get(this.editor);if(!Q)return;const J=this.editor.getModel(),de=J.getAlternativeVersionId(),{item:x}=Z,ne=[],te=new I.CancellationTokenSource;ie&1||this.editor.pushUndoStop();const q=this.getOverwriteInfo(x,Boolean(ie&8));if(this._memoryService.memorize(J,this.editor.getPosition(),x),Array.isArray(x.completion.additionalTextEdits)){const z=t.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",x.completion.additionalTextEdits.map(X=>r.EditOperation.replaceMove(d.Range.lift(X.range),X.text))),z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!x.isResolved){const z=new n.StopWatch(!0);let X;const $=J.onDidChangeContent(le=>{if(le.isFlush){te.cancel(),$.dispose();return}for(const he of le.changes){const me=d.Range.getEndPosition(he.range);(!X||c.Position.isBefore(me,X))&&(X=me)}}),H=ie;ie|=2;let K=!1;const ce=this.editor.onWillType(()=>{ce.dispose(),K=!0,H&2||this.editor.pushUndoStop()});ne.push(x.resolve(te.token).then(()=>{if(!x.completion.additionalTextEdits||te.token.isCancellationRequested||X&&x.completion.additionalTextEdits.some(he=>c.Position.isBefore(X,d.Range.getStartPosition(he.range))))return!1;K&&this.editor.pushUndoStop();const le=t.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",x.completion.additionalTextEdits.map(he=>r.EditOperation.replaceMove(d.Range.lift(he.range),he.text))),le.restoreRelativeVerticalPositionOfCursor(this.editor),(K||!(H&2))&&this.editor.pushUndoStop(),!0}).then(le=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",z.elapsed(),le),$.dispose(),ce.dispose()}))}let{insertText:oe}=x.completion;x.completion.insertTextRules&4||(oe=l.SnippetParser.escape(oe)),Q.insert(oe,{overwriteBefore:q.overwriteBefore,overwriteAfter:q.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(x.completion.insertTextRules&1),clipboardText:Z.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),ie&2||this.editor.pushUndoStop(),x.completion.command?x.completion.command.id===Y.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(ne.push(this._commandService.executeCommand(x.completion.command.id,...x.completion.command.arguments?[...x.completion.command.arguments]:[]).catch(L.onUnexpectedError)),this.model.cancel()):this.model.cancel(),ie&4&&this._alternatives.value.set(Z,z=>{for(te.cancel();J.canUndo();){de!==J.getAlternativeVersionId()&&J.undo(),this._insertSuggestion(z,1|2|(ie&8?8:0));break}}),this._alertCompletionItem(x),Promise.all(ne).finally(()=>{this._reportSuggestionAcceptedTelemetry(x,J,Z),this.model.clear(),te.dispose()})}_reportSuggestionAcceptedTelemetry(Z,ie,Q){var J;if(this._telemetryGate++%100!=0)return;const de=Z.extensionId?Z.extensionId.value:((J=Q.item.provider._debugDisplayName)!==null&&J!==void 0?J:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:de,kind:Z.completion.kind,basenameHash:(0,R.hash)((0,M.basename)(ie.uri)).toString(16),languageId:ie.getLanguageId(),fileExtension:(0,M.extname)(ie.uri)})}getOverwriteInfo(Z,ie){(0,i.assertType)(this.editor.hasModel());let Q=this.editor.getOption(108).insertMode==="replace";ie&&(Q=!Q);const J=Z.position.column-Z.editStart.column,de=(Q?Z.editReplaceEnd.column:Z.editInsertEnd.column)-Z.position.column,x=this.editor.getPosition().column-Z.position.column,ne=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:J+x,overwriteAfter:de+ne}}_alertCompletionItem(Z){if((0,v.isNonEmptyArray)(Z.completion.additionalTextEdits)){const ie=S.localize(0,null,Z.textLabel,Z.completion.additionalTextEdits.length);(0,w.alert)(ie)}}triggerSuggest(Z,ie,Q,J){this.editor.hasModel()&&(this.model.trigger({auto:ie??!1,shy:!1,noSelect:J??!1},!1,Z,void 0,Q),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Z){if(!this.editor.hasModel())return;const ie=this.editor.getPosition(),Q=()=>{ie.equals(this.editor.getPosition())&&this._commandService.executeCommand(Z.fallback)},J=de=>{if(de.completion.insertTextRules&4||de.completion.additionalTextEdits)return!0;const x=this.editor.getPosition(),ne=de.editStart.column,te=x.column;return te-ne!==de.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:x.lineNumber,startColumn:ne,endLineNumber:x.lineNumber,endColumn:te})!==de.completion.insertText};_.Event.once(this.model.onDidTrigger)(de=>{const x=[];_.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,u.dispose)(x),Q()},void 0,x),this.model.onDidSuggest(({completionModel:ne})=>{if((0,u.dispose)(x),ne.items.length===0){Q();return}const te=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ne.items),q=ne.items[te];if(!J(q)){Q();return}this.editor.pushUndoStop(),this._insertSuggestion({index:te,item:q,model:ne},4|1|2)},void 0,x)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(ie,0),this.editor.focus()}acceptSelectedSuggestion(Z,ie){const Q=this.widget.value.getFocusedItem();let J=0;Z&&(J|=4),ie&&(J|=8),this._insertSuggestion(Q,J)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(Z){return this._selectors.register(Z)}};V.ID="editor.contrib.suggestController",V=ke([fe(1,h.ISuggestMemoryService),fe(2,f.ICommandService),fe(3,m.IContextKeyService),fe(4,C.IInstantiationService),fe(5,y.ILogService),fe(6,D.ITelemetryService)],V),e.SuggestController=V;class A{constructor(Z){this.prioritySelector=Z,this._items=new Array}register(Z){if(this._items.indexOf(Z)!==-1)throw new Error("Value is already registered");return this._items.push(Z),this._items.sort((ie,Q)=>this.prioritySelector(Q)-this.prioritySelector(ie)),{dispose:()=>{const ie=this._items.indexOf(Z);ie>=0&&this._items.splice(ie,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Y extends o.EditorAction{constructor(){super({id:Y.id,label:S.localize(1,null),alias:"Trigger Suggest",precondition:m.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(Z,ie,Q){const J=V.get(ie);if(!J)return;let de,x;Q&&typeof Q=="object"&&(Q.auto===!0&&(de=!0),Q.noSelection===!0&&(x=!0)),J.triggerSuggest(void 0,de,void 0,x)}}e.TriggerSuggestAction=Y,Y.id="editor.action.triggerSuggest",(0,o.registerEditorContribution)(V.ID,V),(0,o.registerEditorAction)(Y);const ee=100+90,U=o.EditorCommand.bindToContribution(V.get);(0,o.registerEditorCommand)(new U({id:"acceptSelectedSuggestion",precondition:m.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler(j){j.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:m.ContextKeyExpr.and(E.Context.Visible,a.EditorContextKeys.textInputFocus),weight:ee},{primary:3,kbExpr:m.ContextKeyExpr.and(E.Context.Visible,a.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:ee}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(3,null),group:"left",order:1,when:m.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:S.localize(4,null),group:"left",order:1,when:m.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,o.registerEditorCommand)(new U({id:"acceptAlternativeSelectedSuggestion",precondition:m.ContextKeyExpr.and(E.Context.Visible,a.EditorContextKeys.textInputFocus,E.Context.HasFocusedSuggestion),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(j){j.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:m.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:S.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:m.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:S.localize(6,null)}]})),f.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,o.registerEditorCommand)(new U({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:j=>j.cancelSuggestWidget(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,o.registerEditorCommand)(new U({id:"selectNextSuggestion",precondition:m.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:j=>j.selectNextSuggestion(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,o.registerEditorCommand)(new U({id:"selectNextPageSuggestion",precondition:m.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:j=>j.selectNextPageSuggestion(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,o.registerEditorCommand)(new U({id:"selectLastSuggestion",precondition:m.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:j=>j.selectLastSuggestion()})),(0,o.registerEditorCommand)(new U({id:"selectPrevSuggestion",precondition:m.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:j=>j.selectPrevSuggestion(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,o.registerEditorCommand)(new U({id:"selectPrevPageSuggestion",precondition:m.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:j=>j.selectPrevPageSuggestion(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,o.registerEditorCommand)(new U({id:"selectFirstSuggestion",precondition:m.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:j=>j.selectFirstSuggestion()})),(0,o.registerEditorCommand)(new U({id:"toggleSuggestionDetails",precondition:E.Context.Visible,handler:j=>j.toggleSuggestionDetails(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:m.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:S.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:m.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:S.localize(8,null)}]})),(0,o.registerEditorCommand)(new U({id:"toggleExplainMode",precondition:E.Context.Visible,handler:j=>j.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,o.registerEditorCommand)(new U({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:j=>j.toggleSuggestionFocus(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,o.registerEditorCommand)(new U({id:"insertBestCompletion",precondition:m.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,m.ContextKeyExpr.equals("config.editor.tabCompletion","on"),p.WordContextKey.AtEnd,E.Context.Visible.toNegated(),T.SuggestAlternatives.OtherSuggestions.toNegated(),s.SnippetController2.InSnippetMode.toNegated()),handler:(j,Z)=>{j.triggerSuggestAndAcceptBest((0,i.isObject)(Z)?Object.assign({fallback:"tab"},Z):{fallback:"tab"})},kbOpts:{weight:ee,primary:2}})),(0,o.registerEditorCommand)(new U({id:"insertNextSuggestion",precondition:m.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,m.ContextKeyExpr.equals("config.editor.tabCompletion","on"),T.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),s.SnippetController2.InSnippetMode.toNegated()),handler:j=>j.acceptNextSuggestion(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:2}})),(0,o.registerEditorCommand)(new U({id:"insertPrevSuggestion",precondition:m.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,m.ContextKeyExpr.equals("config.editor.tabCompletion","on"),T.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),s.SnippetController2.InSnippetMode.toNegated()),handler:j=>j.acceptPrevSuggestion(),kbOpts:{weight:ee,kbExpr:a.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,o.registerEditorAction)(class extends o.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:S.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(j,Z){var ie;(ie=V.get(Z))===null||ie===void 0||ie.resetWidgetSize()}})}),define(se[788],re([1,0,17,10,6,2,11,3,89,323,325,208]),function(G,e,w,v,k,I,L,_,b,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class i extends I.Disposable{constructor(d,a){super();this.editor=d,this.suggestControllerPreselector=a,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new v.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(d.onKeyDown(l=>{l.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(d.onKeyUp(l=>{l.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const s=g.SuggestController.get(this.editor);if(s){this._register(s.registerSelector({priority:100,select:(p,S,f)=>{const m=this.editor.getModel(),C=(0,n.minimizeInlineCompletion)(m,this.suggestControllerPreselector());if(!C)return-1;const y=L.Position.lift(S),E=f.map((N,F)=>{const O=r(s,y,N,this.isShiftKeyPressed),P=(0,n.minimizeInlineCompletion)(m,O==null?void 0:O.normalizedInlineCompletion);if(!P)return;const D=t(C.range,P.range)&&C.insertText.startsWith(P.insertText);return{index:F,valid:D,prefixLength:P.insertText.length,suggestItem:N}}).filter(N=>N&&N.valid),T=(0,w.findMaxBy)(E,(0,w.compareBy)(N=>N.prefixLength,w.numberComparator));return T?T.index:-1}}));let l=!1;const h=()=>{l||(l=!0,this._register(s.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(s.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(s.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(k.Event.once(s.model.onDidTrigger)(p=>{h()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(d){const a=this.getSuggestItemInfo();let s=!1;o(this._currentSuggestItemInfo,a)||(this._currentSuggestItemInfo=a,s=!0),this._isActive!==d&&(this._isActive=d,s=!0),s&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const d=g.SuggestController.get(this.editor);if(!d||!this.isSuggestWidgetVisible)return;const a=d.widget.value.getFocusedItem();if(!!a)return r(d,this.editor.getPosition(),a.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const d=g.SuggestController.get(this.editor);d==null||d.stopForceRenderingAbove()}forceRenderingAbove(){const d=g.SuggestController.get(this.editor);d==null||d.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=i;function t(c,d){return d.startLineNumber===c.startLineNumber&&d.startColumn===c.startColumn&&(d.endLineNumber<c.endLineNumber||d.endLineNumber===c.endLineNumber&&d.endColumn<=c.endColumn)}e.rangeStartsWith=t;function o(c,d){return c===d?!0:!c||!d?!1:c.completionItemKind===d.completionItemKind&&c.isSnippetText===d.isSnippetText&&(0,n.normalizedInlineCompletionsEquals)(c.normalizedInlineCompletion,d.normalizedInlineCompletion)}function r(c,d,a,s){if(Array.isArray(a.completion.additionalTextEdits)&&a.completion.additionalTextEdits.length>0)return{completionItemKind:a.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:_.Range.fromPositions(d,d),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:l}=a.completion,h=!1;if(a.completion.insertTextRules&4){const S=new b.SnippetParser().parse(l),f=c.editor.getModel();if(S.children.length>100)return;u.SnippetSession.adjustWhitespace(f,d,S,!0,!0),l=S.toString(),h=!0}const p=c.getOverwriteInfo(a,s);return{isSnippetText:h,completionItemKind:a.completion.kind,normalizedInlineCompletion:{insertText:l,filterText:l,range:_.Range.fromPositions(d.delta(0,-p.overwriteBefore),d.delta(0,Math.max(p.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}}),define(se[789],re([1,0,10,14,2,28,19,167,324,208,788]),function(G,e,w,v,k,I,L,_,b,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;let n=class extends _.BaseGhostTextWidgetModel{constructor(o,r,c){super(o);this.cache=r,this.languageFeaturesService=c,this.suggestionInlineCompletionSource=this._register(new g.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var d,a;return(a=(d=this.cache.value)===null||d===void 0?void 0:d.completions[0])===null||a===void 0?void 0:a.toLiveInlineCompletion()})),this.updateOperation=this._register(new k.MutableDisposable),this.updateCacheSoon=this._register(new w.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const a=this.ghostText;a&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,i(a.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(d=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,k.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return Se(this,void 0,void 0,function*(){const o=this.suggestionInlineCompletionSource.state;if(!o||!o.selectedItem)return;const r={text:o.selectedItem.normalizedInlineCompletion.insertText,range:o.selectedItem.normalizedInlineCompletion.range,isSnippetText:o.selectedItem.isSnippetText,completionKind:o.selectedItem.completionItemKind},c=this.editor.getPosition();if(o.selectedItem.isSnippetText||o.selectedItem.completionItemKind===27||o.selectedItem.completionItemKind===20||o.selectedItem.completionItemKind===23){this.cache.clear();return}const d=(0,w.createCancelablePromise)(s=>Se(this,void 0,void 0,function*(){let l;try{l=yield(0,b.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,c,this.editor.getModel(),{triggerKind:I.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:r},s)}catch(h){(0,v.onUnexpectedError)(h);return}if(s.isCancellationRequested){l.dispose();return}this.cache.setValue(this.editor,l,I.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire()})),a=new b.UpdateOperation(d,I.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=a,yield d,this.updateOperation.value===a&&this.updateOperation.clear()})}get ghostText(){var o,r,c;const d=this.isSuggestionPreviewEnabled(),a=this.editor.getModel(),s=(0,u.minimizeInlineCompletion)(a,(r=(o=this.cache.value)===null||o===void 0?void 0:o.completions[0])===null||r===void 0?void 0:r.toLiveInlineCompletion()),l=this.suggestionInlineCompletionSource.state,h=(0,u.minimizeInlineCompletion)(a,(c=l==null?void 0:l.selectedItem)===null||c===void 0?void 0:c.normalizedInlineCompletion),p=s&&h&&s.insertText.startsWith(h.insertText)&&s.range.equalsRange(h.range);if(!d&&!p)return;const S=p?s:h||s,f=p?S.insertText.length-h.insertText.length:0;return this.toGhostText(S,f)}toGhostText(o,r){const c=this.editor.getOptions().get(108).previewMode;return o?(0,u.inlineCompletionToGhostText)(o,this.editor.getModel(),c,this.editor.getPosition(),r)||new _.GhostText(o.range.endLineNumber,[],this.minReservedLineCount):void 0}};n=ke([fe(2,L.ILanguageFeaturesService)],n),e.SuggestWidgetPreviewModel=n;function i(t){return t.reduce((o,r)=>o+r,0)}}),define(se[790],re([1,0,6,2,11,28,324,789,192,9]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class g extends v.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new v.MutableDisposable)}get targetModel(){var o;return(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object}setTargetModel(o){var r;((r=this.currentModelRef.value)===null||r===void 0?void 0:r.object)!==o&&(this.currentModelRef.clear(),this.currentModelRef.value=o?(0,b.createDisposableRef)(o,o.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var o,r;return this.hasCachedGhostText||(this.cachedGhostText=(r=(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object)===null||r===void 0?void 0:r.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(o){var r;(r=this.targetModel)===null||r===void 0||r.setExpanded(o)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=g;let n=class extends g{constructor(o,r){super();this.editor=o,this.instantiationService=r,this.sharedCache=this._register(new i),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(_.SuggestWidgetPreviewModel,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(L.InlineCompletionsModel,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(o){var r;const c=(r=this.activeInlineCompletionsModel)===null||r===void 0?void 0:r.ghostText;return c?c.parts.some(d=>o.containsPosition(new k.Position(c.lineNumber,d.column))):!1}triggerInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.trigger(I.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.commitCurrentSuggestion()}hideInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.hide()}showNextInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showNext()}showPreviousInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showPrevious()}hasMultipleInlineCompletions(){var o;return Se(this,void 0,void 0,function*(){const r=yield(o=this.activeInlineCompletionsModel)===null||o===void 0?void 0:o.hasMultipleInlineCompletions();return r!==void 0?r:!1})}};n=ke([fe(1,u.IInstantiationService)],n),e.GhostTextModel=n;class i extends v.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new v.MutableDisposable)}get value(){return this.cache.value}setValue(o,r,c){this.cache.value=new L.SynchronizedInlineCompletionsCache(r,o,()=>this.onDidChangeEmitter.fire(),c)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=i}),define(se[326],re([1,0,6,2,8,13,67,24,790,697,586,16,9]),function(G,e,w,v,k,I,L,_,b,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let t=class on extends v.Disposable{constructor(l,h){super();this.editor=l,this.instantiationService=h,this.triggeredExplicitly=!1,this.activeController=this._register(new v.MutableDisposable),this.activeModelDidChangeEmitter=this._register(new w.Emitter),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(p=>{p.hasChanged(108)&&this.updateModelController(),p.hasChanged(56)&&this.updateModelController()})),this.updateModelController()}static get(l){return l.getContribution(on.ID)}get activeModel(){var l;return(l=this.activeController.value)===null||l===void 0?void 0:l.model}updateModelController(){const l=this.editor.getOption(108),h=this.editor.getOption(56);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(l.preview||h.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(r,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(l){var h;return((h=this.activeModel)===null||h===void 0?void 0:h.shouldShowHoverAt(l))||!1}shouldShowHoverAtViewZone(l){var h,p;return((p=(h=this.activeController.value)===null||h===void 0?void 0:h.widget)===null||p===void 0?void 0:p.shouldShowHoverAtViewZone(l))||!1}trigger(){var l;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(l=this.activeModel)===null||l===void 0||l.triggerInlineCompletion()}commit(){var l;(l=this.activeModel)===null||l===void 0||l.commitInlineCompletion()}hide(){var l;(l=this.activeModel)===null||l===void 0||l.hideInlineCompletion()}showNextInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showNextInlineCompletion()}showPreviousInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var l;return Se(this,void 0,void 0,function*(){const h=yield(l=this.activeModel)===null||l===void 0?void 0:l.hasMultipleInlineCompletions();return h!==void 0?h:!1})}};t.inlineSuggestionVisible=new n.RawContextKey("inlineSuggestionVisible",!1,g.localize(0,null)),t.inlineSuggestionHasIndentation=new n.RawContextKey("inlineSuggestionHasIndentation",!1,g.localize(1,null)),t.inlineSuggestionHasIndentationLessThanTabSize=new n.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,g.localize(2,null)),t.ID="editor.contrib.ghostTextController",t=ke([fe(1,i.IInstantiationService)],t),e.GhostTextController=t;class o{constructor(l){this.contextKeyService=l,this.inlineCompletionVisible=t.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=t.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=t.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let r=class extends v.Disposable{constructor(l,h,p){super();this.editor=l,this.instantiationService=h,this.contextKeyService=p,this.contextKeys=new o(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(b.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(u.GhostTextWidget,this.editor,this.model)),this._register((0,v.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var l;this.contextKeys.inlineCompletionVisible.set(((l=this.model.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText)!==void 0);let h=!1,p=!0;const S=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&S&&S.parts.length>0){const{column:f,lines:m}=S.parts[0],C=m[0],y=this.editor.getModel().getLineIndentColumn(S.lineNumber);if(f<=y){let T=(0,k.firstNonWhitespaceIndex)(C);T===-1&&(T=C.length-1),h=T>0;const N=this.editor.getModel().getOptions().tabSize;p=L.CursorColumns.visibleColumnFromColumn(C,T+1,N)<N}}this.contextKeys.inlineCompletionSuggestsIndentation.set(h),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(p)}};r=ke([fe(1,i.IInstantiationService),fe(2,n.IContextKeyService)],r),e.ActiveGhostTextController=r;class c extends I.EditorAction{constructor(){super({id:c.ID,label:g.localize(3,null),alias:"Show Next Inline Suggestion",precondition:n.ContextKeyExpr.and(_.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(l,h){return Se(this,void 0,void 0,function*(){const p=t.get(h);p&&(p.showNextInlineCompletion(),h.focus())})}}e.ShowNextInlineSuggestionAction=c,c.ID="editor.action.inlineSuggest.showNext";class d extends I.EditorAction{constructor(){super({id:d.ID,label:g.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:n.ContextKeyExpr.and(_.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(l,h){return Se(this,void 0,void 0,function*(){const p=t.get(h);p&&(p.showPreviousInlineCompletion(),h.focus())})}}e.ShowPreviousInlineSuggestionAction=d,d.ID="editor.action.inlineSuggest.showPrevious";class a extends I.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g.localize(5,null),alias:"Trigger Inline Suggestion",precondition:_.EditorContextKeys.writable})}run(l,h){return Se(this,void 0,void 0,function*(){const p=t.get(h);p==null||p.trigger()})}}e.TriggerInlineSuggestionAction=a}),define(se[791],re([1,0,7,65,2,118,3,39,88,326,587,78,36,26,16,45,191]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class d{constructor(l,h,p){this.owner=l,this.range=h,this.controller=p}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var l,h,p;return((p=(h=(l=this.controller.activeModel)===null||l===void 0?void 0:l.activeInlineCompletionsModel)===null||h===void 0?void 0:h.completionSession.value)===null||p===void 0?void 0:p.commands)||[]}}e.InlineCompletionsHover=d;let a=class{constructor(l,h,p,S,f,m,C){this._editor=l,this._commandService=h,this._menuService=p,this._contextKeyService=S,this._languageService=f,this._openerService=m,this.accessibilityService=C,this.hoverOrdinal=3}suggestHoverAnchor(l){const h=u.GhostTextController.get(this._editor);if(!h)return null;const p=l.target;if(p.type===8){const S=p.detail;if(h.shouldShowHoverAtViewZone(S.viewZoneId))return new b.HoverForeignElementAnchor(1e3,this,L.Range.fromPositions(S.positionBefore||S.position,S.positionBefore||S.position))}return p.type===7&&h.shouldShowHoverAt(p.range)?new b.HoverForeignElementAnchor(1e3,this,p.range):p.type===6&&p.detail.mightBeForeignElement&&h.shouldShowHoverAt(p.range)?new b.HoverForeignElementAnchor(1e3,this,p.range):null}computeSync(l,h){const p=u.GhostTextController.get(this._editor);return p&&p.shouldShowHoverAt(l.range)?[new d(this,l.range,p)]:[]}renderHoverParts(l,h){const p=new k.DisposableStore,S=h[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(l,S,p);const f=p.add(this._menuService.createMenu(i.MenuId.InlineCompletionsActions,this._contextKeyService)),m=l.statusBar.addAction({label:g.localize(0,null),commandId:u.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowNextInlineSuggestionAction.ID)}),C=l.statusBar.addAction({label:g.localize(1,null),commandId:u.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowPreviousInlineSuggestionAction.ID)});l.statusBar.addAction({label:g.localize(2,null),commandId:c.inlineSuggestCommitId,run:()=>this._commandService.executeCommand(c.inlineSuggestCommitId)});const y=[m,C];for(const E of y)E.setEnabled(!1);S.hasMultipleSuggestions().then(E=>{for(const T of y)T.setEnabled(E)});for(const E of S.commands)l.statusBar.addAction({label:E.title,commandId:E.id,run:()=>this._commandService.executeCommand(E.id,...E.arguments||[])});for(const[E,T]of f.getActions())for(const N of T)N instanceof i.MenuItemAction&&l.statusBar.addAction({label:N.label,commandId:N.item.id,run:()=>this._commandService.executeCommand(N.item.id)});return p}renderScreenReaderText(l,h,p){var S,f;const m=w.$,C=m("div.hover-row.markdown-hover"),y=w.append(C,m("div.hover-contents")),E=p.add(new I.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),T=F=>{p.add(E.onDidRenderAsync(()=>{y.className="hover-contents code-hover-contents",l.onContentsChanged()}));const O=g.localize(3,null),P=p.add(E.render(new v.MarkdownString().appendText(O).appendCodeblock("text",F)));y.replaceChildren(P.element)},N=(f=(S=h.controller.activeModel)===null||S===void 0?void 0:S.inlineCompletionsModel)===null||f===void 0?void 0:f.ghostText;if(N){const F=this._editor.getModel().getLineContent(N.lineNumber);T(N.renderForScreenReader(F))}l.fragment.appendChild(C)}};a=ke([fe(1,t.ICommandService),fe(2,i.IMenuService),fe(3,o.IContextKeyService),fe(4,_.ILanguageService),fe(5,r.IOpenerService),fe(6,n.IAccessibilityService)],a),e.InlineCompletionsHoverParticipant=a}),define(se[792],re([1,0,13,24,88,191,326,791,16,95]),function(G,e,w,v,k,I,L,_,b,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commitInlineSuggestionAction=void 0,(0,w.registerEditorContribution)(L.GhostTextController.ID,L.GhostTextController),(0,w.registerEditorAction)(L.TriggerInlineSuggestionAction),(0,w.registerEditorAction)(L.ShowNextInlineSuggestionAction),(0,w.registerEditorAction)(L.ShowPreviousInlineSuggestionAction),k.HoverParticipantRegistry.register(_.InlineCompletionsHoverParticipant);const g=w.EditorCommand.bindToContribution(L.GhostTextController.get);e.commitInlineSuggestionAction=new g({id:I.inlineSuggestCommitId,precondition:L.GhostTextController.inlineSuggestionVisible,handler(n){n.commit(),n.editor.focus()}}),(0,w.registerEditorCommand)(e.commitInlineSuggestionAction),u.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:b.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,v.EditorContextKeys.tabMovesFocus.toNegated(),L.GhostTextController.inlineSuggestionHasIndentationLessThanTabSize)}),(0,w.registerEditorCommand)(new g({id:"editor.action.inlineSuggest.hide",precondition:L.GhostTextController.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(n){n.hide()}}))}),define(se[327],re([1,0,9]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,w.createDecorator)("workspaceTrustManagementService")}),define(se[793],re([1,0,10,27,65,2,18,8,13,38,37,247,102,39,283,88,221,747,615,30,9,45,85,81,327,397]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,S.registerIcon)("extensions-warning-message",v.Codicon.warning,a.localize(0,null));let m=class extends I.Disposable{constructor(Z,ie,Q,J){super();this._editor=Z,this._editorWorkerService=ie,this._workspaceTrustService=Q,this._highlighter=null,this._bannerClosed=!1,this._updateState=de=>{if(de&&de.hasMore){if(this._bannerClosed)return;const x=Math.max(de.ambiguousCharacterCount,de.nonBasicAsciiCharacterCount,de.invisibleCharacterCount);let ne;if(de.nonBasicAsciiCharacterCount>=x)ne={message:a.localize(1,null),command:new V};else if(de.ambiguousCharacterCount>=x)ne={message:a.localize(2,null),command:new B};else if(de.invisibleCharacterCount>=x)ne={message:a.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ne.message,icon:e.warningIcon,actions:[{label:ne.command.shortLabel,href:`command:${ne.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(J.createInstance(d.BannerController,Z)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=Z.getOption(115),this._register(Q.onDidChangeTrust(de=>{this._updateHighlighter()})),this._register(Z.onDidChangeConfiguration(de=>{de.hasChanged(115)&&(this._options=Z.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const Z=C(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([Z.nonBasicASCII,Z.ambiguousCharacters,Z.invisibleCharacters].every(Q=>Q===!1))return;const ie={nonBasicASCII:Z.nonBasicASCII,ambiguousCharacters:Z.ambiguousCharacters,invisibleCharacters:Z.invisibleCharacters,includeComments:Z.includeComments,includeStrings:Z.includeStrings,allowedCodePoints:Object.keys(Z.allowedCharacters).map(Q=>Q.codePointAt(0)),allowedLocales:Object.keys(Z.allowedLocales).map(Q=>Q==="_os"?new Intl.NumberFormat().resolvedOptions().locale:Q==="_vscode"?L.language:Q)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new y(this._editor,ie,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,ie,this._updateState)}getDecorationInfo(Z){return this._highlighter?this._highlighter.getDecorationInfo(Z):null}};m.ID="editor.contrib.unicodeHighlighter",m=ke([fe(1,i.IEditorWorkerService),fe(2,f.IWorkspaceTrustManagementService),fe(3,l.IInstantiationService)],m),e.UnicodeHighlighter=m;function C(j,Z){return{nonBasicASCII:Z.nonBasicASCII===u.inUntrustedWorkspace?!j:Z.nonBasicASCII,ambiguousCharacters:Z.ambiguousCharacters,invisibleCharacters:Z.invisibleCharacters,includeComments:Z.includeComments===u.inUntrustedWorkspace?!j:Z.includeComments,includeStrings:Z.includeStrings===u.inUntrustedWorkspace?!j:Z.includeStrings,allowedCharacters:Z.allowedCharacters,allowedLocales:Z.allowedLocales}}let y=class extends I.Disposable{constructor(Z,ie,Q,J){super();this._editor=Z,this._options=ie,this._updateState=Q,this._editorWorkerService=J,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new w.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const Z=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(ie=>{if(this._model.isDisposed()||this._model.getVersionId()!==Z)return;this._updateState(ie);const Q=[];if(!ie.hasMore)for(const J of ie.ranges)Q.push({range:J,options:D.instance.getDecorationFromOptions(this._options)});this._decorations.set(Q)})}getDecorationInfo(Z){if(!this._decorations.has(Z))return null;const ie=this._editor.getModel();if(!(0,o.isModelDecorationVisible)(ie,Z))return null;const Q=ie.getValueInRange(Z.range);return{reason:P(Q,this._options),inComment:(0,o.isModelDecorationInComment)(ie,Z),inString:(0,o.isModelDecorationInString)(ie,Z)}}};y=ke([fe(3,i.IEditorWorkerService)],y);class E extends I.Disposable{constructor(Z,ie,Q){super();this._editor=Z,this._options=ie,this._updateState=Q,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new w.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const Z=this._editor.getVisibleRanges(),ie=[],Q={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const J of Z){const de=n.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,J);for(const x of de.ranges)Q.ranges.push(x);Q.ambiguousCharacterCount+=Q.ambiguousCharacterCount,Q.invisibleCharacterCount+=Q.invisibleCharacterCount,Q.nonBasicAsciiCharacterCount+=Q.nonBasicAsciiCharacterCount,Q.hasMore=Q.hasMore||de.hasMore}if(!Q.hasMore)for(const J of Q.ranges)ie.push({range:J,options:D.instance.getDecorationFromOptions(this._options)});this._updateState(Q),this._decorations.set(ie)}getDecorationInfo(Z){if(!this._decorations.has(Z))return null;const ie=this._editor.getModel(),Q=ie.getValueInRange(Z.range);return(0,o.isModelDecorationVisible)(ie,Z)?{reason:P(Q,this._options),inComment:(0,o.isModelDecorationInComment)(ie,Z),inString:(0,o.isModelDecorationInString)(ie,Z)}:null}}let T=class{constructor(Z,ie,Q){this._editor=Z,this._languageService=ie,this._openerService=Q,this.hoverOrdinal=4}computeSync(Z,ie){if(!this._editor.hasModel()||Z.type!==1)return[];const Q=this._editor.getModel(),J=this._editor.getContribution(m.ID);if(!J)return[];const de=[];let x=300;for(const ne of ie){const te=J.getDecorationInfo(ne);if(!te)continue;const oe=Q.getValueInRange(ne.range).codePointAt(0),z=F(oe);let X;switch(te.reason.kind){case 0:X=a.localize(4,null,z,F(te.reason.confusableWith.codePointAt(0)));break;case 1:X=a.localize(5,null,z);break;case 2:X=a.localize(6,null,z);break}const $={codePoint:oe,reason:te.reason,inComment:te.inComment,inString:te.inString},H=a.localize(7,null),K=`command:${A.ID}?${encodeURIComponent(JSON.stringify($))}`,ce=new k.MarkdownString("",!0).appendMarkdown(X).appendText(" ").appendLink(K,H);de.push(new c.MarkdownHover(this,ne.range,[ce],x++))}return de}renderHoverParts(Z,ie){return(0,c.renderMarkdownHovers)(Z,ie,this._editor,this._languageService,this._openerService)}};T=ke([fe(1,t.ILanguageService),fe(2,h.IOpenerService)],T),e.UnicodeHighlighterHoverParticipant=T;function N(j){return`U+${j.toString(16).padStart(4,"0")}`}function F(j){let Z=`\`${N(j)}\``;return _.InvisibleCharacters.isInvisibleCharacter(j)||(Z+=` "${`${O(j)}`}"`),Z}function O(j){return j===96?"`` ` ``":"`"+String.fromCodePoint(j)+"`"}function P(j,Z){return n.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(j,Z)}class D{constructor(){this.map=new Map}getDecorationFromOptions(Z){return this.getDecoration(!Z.includeComments,!Z.includeStrings)}getDecoration(Z,ie){const Q=`${Z}${ie}`;let J=this.map.get(Q);return J||(J=g.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:Z,hideInStringTokens:ie}),this.map.set(Q,J)),J}}D.instance=new D;class M extends b.EditorAction{constructor(){super({id:B.ID,label:a.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=a.localize(8,null)}run(Z,ie,Q){return Se(this,void 0,void 0,function*(){const J=Z==null?void 0:Z.get(s.IConfigurationService);J&&this.runAction(J)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=M;class R extends b.EditorAction{constructor(){super({id:B.ID,label:a.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=a.localize(10,null)}run(Z,ie,Q){return Se(this,void 0,void 0,function*(){const J=Z==null?void 0:Z.get(s.IConfigurationService);J&&this.runAction(J)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=R;class B extends b.EditorAction{constructor(){super({id:B.ID,label:a.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=a.localize(12,null)}run(Z,ie,Q){return Se(this,void 0,void 0,function*(){const J=Z==null?void 0:Z.get(s.IConfigurationService);J&&this.runAction(J)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends b.EditorAction{constructor(){super({id:W.ID,label:a.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=a.localize(14,null)}run(Z,ie,Q){return Se(this,void 0,void 0,function*(){const J=Z==null?void 0:Z.get(s.IConfigurationService);J&&this.runAction(J)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class V extends b.EditorAction{constructor(){super({id:V.ID,label:a.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=a.localize(16,null)}run(Z,ie,Q){return Se(this,void 0,void 0,function*(){const J=Z==null?void 0:Z.get(s.IConfigurationService);J&&this.runAction(J)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=V,V.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class A extends b.EditorAction{constructor(){super({id:A.ID,label:a.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(Z,ie,Q){return Se(this,void 0,void 0,function*(){const{codePoint:J,reason:de,inString:x,inComment:ne}=Q,te=String.fromCodePoint(J),q=Z.get(p.IQuickInputService),oe=Z.get(s.IConfigurationService);function z(H){return _.InvisibleCharacters.isInvisibleCharacter(H)?a.localize(19,null,N(H)):a.localize(20,null,`${N(H)} "${te}"`)}const X=[];if(de.kind===0)for(const H of de.notAmbiguousInLocales)X.push({label:a.localize(21,null,H),run:()=>Se(this,void 0,void 0,function*(){ee(oe,[H])})});if(X.push({label:z(J),run:()=>Y(oe,[J])}),ne){const H=new M;X.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(oe)})})}else if(x){const H=new R;X.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(oe)})})}if(de.kind===0){const H=new B;X.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(oe)})})}else if(de.kind===1){const H=new W;X.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(oe)})})}else if(de.kind===2){const H=new V;X.push({label:H.label,run:()=>Se(this,void 0,void 0,function*(){return H.runAction(oe)})})}else U(de);const $=yield q.pick(X,{title:a.localize(22,null)});$&&(yield $.run())})}}e.ShowExcludeOptions=A,A.ID="editor.action.unicodeHighlight.showExcludeOptions";function Y(j,Z){return Se(this,void 0,void 0,function*(){const ie=j.getValue(u.unicodeHighlightConfigKeys.allowedCharacters);let Q;typeof ie=="object"&&ie?Q=ie:Q={};for(const J of Z)Q[String.fromCodePoint(J)]=!0;yield j.updateValue(u.unicodeHighlightConfigKeys.allowedCharacters,Q,2)})}function ee(j,Z){var ie;return Se(this,void 0,void 0,function*(){const Q=(ie=j.inspect(u.unicodeHighlightConfigKeys.allowedLocales).user)===null||ie===void 0?void 0:ie.value;let J;typeof Q=="object"&&Q?J=Object.assign({},Q):J={};for(const de of Z)J[de]=!0;yield j.updateValue(u.unicodeHighlightConfigKeys.allowedLocales,J,2)})}function U(j){throw new Error(`Unexpected value: ${j}`)}(0,b.registerEditorAction)(B),(0,b.registerEditorAction)(W),(0,b.registerEditorAction)(V),(0,b.registerEditorAction)(A),(0,b.registerEditorContribution)(m.ID,m),r.HoverParticipantRegistry.register(T)}),define(se[794],re([1,0,171,175,314,274,705,752,706,707,708,721,754,775,785,709,710,711,756,786,316,762,714,715,658,792,223,319,317,320,717,777,764,718,719,765,766,767,745,723,780,724,121,325,726,727,310,793,728,769,770,311,729,722,77,126]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(se[224],re([1,0,8,7,48,6,105,2,18,82,22,140,214,61,11,3,50,58,168,26,30,290,16,141,9,648,44,650,95,292,651,142,40,71,86,178,117,77,43,29,69,327,79,653,666,738,15,53,657,102,295,39,693,211,313,741,312,116,652,78,36,737,654,93,646,210,647,169,173,84,656,45,85,80,670,32,305,293,782,70,639]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E,T,N,F,O,P,D,M,R,B,W,V,A,Y,ee,U,j,Z,ie,Q,J,de,x,ne,te,q,oe,z,X,$,H,K,ce,le,he,me,Ce,Le,ye,De,Ae,pe,ue,ae,ge,_e,we){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class Ee{constructor(Re){this.disposed=!1,this.model=Re,this._onWillDispose=new I.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let be=class{constructor(Re){this.modelService=Re}createModelReference(Re){const Be=this.modelService.getModel(Re);return Be?Promise.resolve(new _.ImmortalReference(new Ee(Be))):Promise.reject(new Error("Model not found"))}};be=ke([fe(0,c.IModelService)],be);class ve{show(){return ve.NULL_PROGRESS_RUNNER}showWhile(Re,Be){return Se(this,void 0,void 0,function*(){yield Re})}}ve.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Ie{withProgress(Re,Be,Ke){return Be({report:()=>{}})}}class Me{confirm(Re){return this.doConfirm(Re).then(Be=>({confirmed:Be,checkboxChecked:!1}))}doConfirm(Re){let Be=Re.message;return Re.detail&&(Be=Be+`

`+Re.detail),Promise.resolve(window.confirm(Be))}show(Re,Be,Ke,je){return Promise.resolve({choice:0})}}class Te{info(Re){return this.notify({severity:u.default.Info,message:Re})}warn(Re){return this.notify({severity:u.default.Warning,message:Re})}error(Re){return this.notify({severity:u.default.Error,message:Re})}notify(Re){switch(Re.severity){case u.default.Error:console.error(Re.message);break;case u.default.Warning:console.warn(Re.message);break;default:console.log(Re.message);break}return Te.NO_OP}status(Re,Be){return _.Disposable.None}}e.StandaloneNotificationService=Te,Te.NO_OP=new O.NoOpNotification;let Fe=class{constructor(Re){this._onWillExecuteCommand=new I.Emitter,this._onDidExecuteCommand=new I.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Re}executeCommand(Re,...Be){const Ke=s.CommandsRegistry.getCommand(Re);if(!Ke)return Promise.reject(new Error(`command '${Re}' not found`));try{this._onWillExecuteCommand.fire({commandId:Re,args:Be});const je=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ke.handler,...Be]);return this._onDidExecuteCommand.fire({commandId:Re,args:Be}),Promise.resolve(je)}catch(je){return Promise.reject(je)}}};Fe=ke([fe(0,f.IInstantiationService)],Fe),e.StandaloneCommandService=Fe;let Pe=class extends m.AbstractKeybindingService{constructor(Re,Be,Ke,je,tt,Ge){super(Re,Be,Ke,je,tt);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ze=lt=>{const pt=new _.DisposableStore;pt.add(v.addDisposableListener(lt,v.EventType.KEY_DOWN,St=>{const ft=new k.StandardKeyboardEvent(St);this._dispatch(ft,ft.target)&&(ft.preventDefault(),ft.stopPropagation())})),pt.add(v.addDisposableListener(lt,v.EventType.KEY_UP,St=>{const ft=new k.StandardKeyboardEvent(St);this._singleModifierDispatch(ft,ft.target)&&ft.preventDefault()})),this._domNodeListeners.push(new We(lt,pt))},ot=lt=>{for(let pt=0;pt<this._domNodeListeners.length;pt++){const St=this._domNodeListeners[pt];St.domNode===lt&&(this._domNodeListeners.splice(pt,1),St.dispose())}},dt=lt=>{lt.getOption(55)||Ze(lt.getContainerDomNode())},ut=lt=>{lt.getOption(55)||ot(lt.getContainerDomNode())};this._register(Ge.onCodeEditorAdd(dt)),this._register(Ge.onCodeEditorRemove(ut)),Ge.listCodeEditors().forEach(dt);const gt=lt=>{Ze(lt.getContainerDomNode())},ct=lt=>{ot(lt.getContainerDomNode())};this._register(Ge.onDiffEditorAdd(gt)),this._register(Ge.onDiffEditorRemove(ct)),Ge.listDiffEditors().forEach(gt)}addDynamicKeybinding(Re,Be,Ke,je){const tt=(0,L.createKeybinding)(Be,b.OS),Ge=new _.DisposableStore;return tt&&(this._dynamicKeybindings.push({keybinding:tt.parts,command:Re,when:je,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),Ge.add((0,_.toDisposable)(()=>{for(let Ze=0;Ze<this._dynamicKeybindings.length;Ze++)if(this._dynamicKeybindings[Ze].command===Re){this._dynamicKeybindings.splice(Ze,1),this.updateResolver();return}}))),Ge.add(s.CommandsRegistry.registerCommand(Re,Ke)),this.updateResolver(),Ge}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Re=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),Be=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new y.KeybindingResolver(Re,Be,Ke=>this._log(Ke))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Re,Be){const Ke=[];let je=0;for(const tt of Re){const Ge=tt.when||void 0,Ze=tt.keybinding;if(!Ze)Ke[je++]=new T.ResolvedKeybindingItem(void 0,tt.command,tt.commandArgs,Ge,Be,null,!1);else{const ot=N.USLayoutResolvedKeybinding.resolveUserBinding(Ze,b.OS);for(const dt of ot)Ke[je++]=new T.ResolvedKeybindingItem(dt,tt.command,tt.commandArgs,Ge,Be,null,!1)}}return Ke}resolveKeyboardEvent(Re){const Be=new L.SimpleKeybinding(Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey,Re.keyCode).toChord();return new N.USLayoutResolvedKeybinding(Be,b.OS)}};Pe=ke([fe(0,p.IContextKeyService),fe(1,s.ICommandService),fe(2,D.ITelemetryService),fe(3,O.INotificationService),fe(4,A.ILogService),fe(5,V.ICodeEditorService)],Pe),e.StandaloneKeybindingService=Pe;class We extends _.Disposable{constructor(Re,Be){super();this.domNode=Re,this._register(Be)}}function He(Ue){return Ue&&typeof Ue=="object"&&(!Ue.overrideIdentifier||typeof Ue.overrideIdentifier=="string")&&(!Ue.resource||Ue.resource instanceof g.URI)}class Xe{constructor(){this._onDidChangeConfiguration=new I.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new h.Configuration(new we.DefaultConfigurationModel,new h.ConfigurationModel,new h.ConfigurationModel,new h.ConfigurationModel)}getValue(Re,Be){const Ke=typeof Re=="string"?Re:void 0,je=He(Re)?Re:He(Be)?Be:{};return this._configuration.getValue(Ke,je,void 0)}updateValues(Re){const Be={data:this._configuration.toData()},Ke=[];for(const je of Re){const[tt,Ge]=je;this.getValue(tt)!==Ge&&(this._configuration.updateValue(tt,Ge),Ke.push(tt))}if(Ke.length>0){const je=new h.ConfigurationChangeEvent({keys:Ke,overrides:[]},Be,this._configuration);je.source=8,je.sourceConfig=null,this._onDidChangeConfiguration.fire(je)}return Promise.resolve()}updateValue(Re,Be,Ke,je){return this.updateValues([[Re,Be]])}inspect(Re,Be={}){return this._configuration.inspect(Re,Be,void 0)}}e.StandaloneConfigurationService=Xe;let it=class{constructor(Re){this.configurationService=Re,this._onDidChangeConfiguration=new I.Emitter,this.configurationService.onDidChangeConfiguration(Be=>{this._onDidChangeConfiguration.fire({affectedKeys:Be.affectedKeys,affectsConfiguration:(Ke,je)=>Be.affectsConfiguration(je)})})}getValue(Re,Be,Ke){const tt=(o.Position.isIPosition(Be)?Be:null)?typeof Ke=="string"?Ke:void 0:typeof Be=="string"?Be:void 0;return typeof tt=="undefined"?this.configurationService.getValue():this.configurationService.getValue(tt)}};it=ke([fe(0,l.IConfigurationService)],it);let nt=class{constructor(Re){this.configurationService=Re}getEOL(Re,Be){const Ke=this.configurationService.getValue("files.eol",{overrideIdentifier:Be,resource:Re});return Ke&&typeof Ke=="string"&&Ke!=="auto"?Ke:b.isLinux||b.isMacintosh?`
`:`\r
`}};nt=ke([fe(0,l.IConfigurationService)],nt);class st{publicLog(Re,Be){return Promise.resolve(void 0)}publicLog2(Re,Be){return this.publicLog(Re,Be)}}class ze{constructor(){const Re=g.URI.from({scheme:ze.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new M.WorkspaceFolder({uri:Re,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Re){return Re&&Re.scheme===ze.SCHEME?this.workspace.folders[0]:null}}ze.SCHEME="inmemory";function Ne(Ue,Re,Be){if(!Re||!(Ue instanceof Xe))return;const Ke=[];Object.keys(Re).forEach(je=>{(0,i.isEditorConfigurationKey)(je)&&Ke.push([`editor.${je}`,Re[je]]),Be&&(0,i.isDiffEditorConfigurationKey)(je)&&Ke.push([`diffEditor.${je}`,Re[je]])}),Ke.length>0&&Ue.updateValues(Ke)}e.updateConfigurationService=Ne;let Oe=class{constructor(Re){this._modelService=Re}hasPreviewHandler(){return!1}apply(Re,Be){return Se(this,void 0,void 0,function*(){const Ke=Array.isArray(Re)?Re:n.ResourceEdit.convert(Re),je=new Map;for(const Ze of Ke){if(!(Ze instanceof n.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const ot=this._modelService.getModel(Ze.resource);if(!ot)throw new Error("bad edit - model not found");if(typeof Ze.versionId=="number"&&ot.getVersionId()!==Ze.versionId)throw new Error("bad state - model changed in the meantime");let dt=je.get(ot);dt||(dt=[],je.set(ot,dt)),dt.push(t.EditOperation.replaceMove(r.Range.lift(Ze.textEdit.range),Ze.textEdit.text))}let tt=0,Ge=0;for(const[Ze,ot]of je)Ze.pushStackElement(),Ze.pushEditOperations([],ot,()=>[]),Ze.pushStackElement(),Ge+=1,tt+=ot.length;return{ariaSummary:w.format(B.StandaloneServicesNLS.bulkEditServiceSummary,tt,Ge)}})}};Oe=ke([fe(0,c.IModelService)],Oe);class Ve{getUriLabel(Re,Be){return Re.scheme==="file"?Re.fsPath:Re.path}getUriBasenameLabel(Re){return(0,W.basename)(Re)}}let xe=class extends U.ContextViewService{constructor(Re,Be){super(Re);this._codeEditorService=Be}showContextView(Re,Be,Ke){if(!Be){const je=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();je&&(Be=je.getContainerDomNode())}return super.showContextView(Re,Be,Ke)}};xe=ke([fe(0,R.ILayoutService),fe(1,V.ICodeEditorService)],xe);class Je{constructor(){this._neverEmitter=new I.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Ye extends j.LanguageService{constructor(){super()}}class $e extends A.LogService{constructor(){super(new A.ConsoleLogger)}}let et=class extends Z.ContextMenuService{constructor(Re,Be,Ke,je,tt){super(Re,Be,Ke,je,tt);this.configure({blockMouse:!1})}};et=ke([fe(0,D.ITelemetryService),fe(1,O.INotificationService),fe(2,ee.IContextViewService),fe(3,C.IKeybindingService),fe(4,ie.IThemeService)],et),(0,Q.registerSingleton)(l.IConfigurationService,Xe),(0,Q.registerSingleton)(a.ITextResourceConfigurationService,it),(0,Q.registerSingleton)(a.ITextResourcePropertiesService,nt),(0,Q.registerSingleton)(M.IWorkspaceContextService,ze),(0,Q.registerSingleton)(F.ILabelService,Ve),(0,Q.registerSingleton)(D.ITelemetryService,st),(0,Q.registerSingleton)(S.IDialogService,Me),(0,Q.registerSingleton)(O.INotificationService,Te),(0,Q.registerSingleton)(pe.IMarkerService,ue.MarkerService),(0,Q.registerSingleton)(ne.ILanguageService,Ye),(0,Q.registerSingleton)($.IStandaloneThemeService,X.StandaloneThemeService),(0,Q.registerSingleton)(A.ILogService,$e),(0,Q.registerSingleton)(c.IModelService,oe.ModelService),(0,Q.registerSingleton)(q.IMarkerDecorationsService,te.MarkerDecorationsService),(0,Q.registerSingleton)(p.IContextKeyService,Ce.ContextKeyService),(0,Q.registerSingleton)(P.IProgressService,Ie),(0,Q.registerSingleton)(P.IEditorProgressService,ve),(0,Q.registerSingleton)(_e.IStorageService,_e.InMemoryStorageService),(0,Q.registerSingleton)(de.IEditorWorkerService,x.EditorWorkerService),(0,Q.registerSingleton)(n.IBulkEditService,Oe),(0,Q.registerSingleton)(Y.IWorkspaceTrustManagementService,Je),(0,Q.registerSingleton)(d.ITextModelService,be),(0,Q.registerSingleton)(K.IAccessibilityService,H.AccessibilityService),(0,Q.registerSingleton)(Ae.IListService,Ae.ListService),(0,Q.registerSingleton)(s.ICommandService,Fe),(0,Q.registerSingleton)(C.IKeybindingService,Pe),(0,Q.registerSingleton)(ge.IQuickInputService,z.StandaloneQuickInputService),(0,Q.registerSingleton)(ee.IContextViewService,xe),(0,Q.registerSingleton)(ae.IOpenerService,J.OpenerService),(0,Q.registerSingleton)(me.IClipboardService,he.BrowserClipboardService),(0,Q.registerSingleton)(ee.IContextMenuService,et),(0,Q.registerSingleton)(ce.IMenuService,le.MenuService);var qe;(function(Ue){const Re=new De.ServiceCollection;for(const[Ge,Ze]of(0,Q.getSingletonServiceDescriptors)())Re.set(Ge,Ze);const Be=new ye.InstantiationService(Re,!0);Re.set(f.IInstantiationService,Be);function Ke(Ge){const Ze=Re.get(Ge);if(!Ze)throw new Error("Missing service "+Ge);return Ze instanceof Le.SyncDescriptor?Be.invokeFunction(ot=>ot.get(Ge)):Ze}Ue.get=Ke;let je=!1;function tt(Ge){if(je)return Be;je=!0;for(const[Ze,ot]of(0,Q.getSingletonServiceDescriptors)())Re.get(Ze)||Re.set(Ze,ot);for(const Ze in Ge)if(Ge.hasOwnProperty(Ze)){const ot=(0,f.createDecorator)(Ze);Re.get(ot)instanceof Le.SyncDescriptor&&Re.set(ot,Ge[Ze])}return Be}Ue.initialize=tt})(qe=e.StandaloneServices||(e.StandaloneServices={}))}),define(se[795],re([1,0,49,2,29,175,314,239,224,116,36,26,30,16,79,9,44,40,15,78,77,93,71,50,39,305,72,32,19]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f,m,C,y,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let T=0,N=!1;function F(B){if(!B){if(N)return;N=!0}w.setARIAContainer(B||document.body)}let O=class extends I.CodeEditorWidget{constructor(W,V,A,Y,ee,U,j,Z,ie,Q,J,de){const x=Object.assign({},V);x.ariaLabel=x.ariaLabel||l.StandaloneCodeEditorNLS.editorViewAccessibleLabel,x.ariaLabel=x.ariaLabel+";"+l.StandaloneCodeEditorNLS.accessibilityHelpMessage;super(W,x,{},A,Y,ee,U,Z,ie,Q,J,de);j instanceof b.StandaloneKeybindingService?this._standaloneKeybindingService=j:this._standaloneKeybindingService=null,F(x.ariaContainerElement)}addCommand(W,V,A){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Y="DYNAMIC_"+ ++T,ee=t.ContextKeyExpr.deserialize(A);return this._standaloneKeybindingService.addDynamicKeybinding(Y,W,V,ee),Y}createContextKey(W,V){return this._contextKeyService.createKey(W,V)}addAction(W){if(typeof W.id!="string"||typeof W.label!="string"||typeof W.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),v.Disposable.None;const V=W.id,A=W.label,Y=t.ContextKeyExpr.and(t.ContextKeyExpr.equals("editorId",this.getId()),t.ContextKeyExpr.deserialize(W.precondition)),ee=W.keybindings,U=t.ContextKeyExpr.and(Y,t.ContextKeyExpr.deserialize(W.keybindingContext)),j=W.contextMenuGroupId||null,Z=W.contextMenuOrder||0,ie=(x,...ne)=>Promise.resolve(W.run(this,...ne)),Q=new v.DisposableStore,J=this.getId()+":"+V;if(Q.add(n.CommandsRegistry.registerCommand(J,ie)),j){const x={command:{id:J,title:A},when:Y,group:j,order:Z};Q.add(g.MenuRegistry.appendMenuItem(g.MenuId.EditorContext,x))}if(Array.isArray(ee))for(const x of ee)Q.add(this._standaloneKeybindingService.addDynamicKeybinding(J,x,ie,U));const de=new _.InternalEditorAction(J,A,A,Y,ie,this._contextKeyService);return this._actions[V]=de,Q.add((0,v.toDisposable)(()=>{delete this._actions[V]})),Q}_triggerCommand(W,V){if(this._codeEditorService instanceof m.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(W,V)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(W,V)}};O=ke([fe(2,r.IInstantiationService),fe(3,k.ICodeEditorService),fe(4,n.ICommandService),fe(5,t.IContextKeyService),fe(6,c.IKeybindingService),fe(7,a.IThemeService),fe(8,d.INotificationService),fe(9,s.IAccessibilityService),fe(10,y.ILanguageConfigurationService),fe(11,E.ILanguageFeaturesService)],O),e.StandaloneCodeEditor=O;let P=class extends O{constructor(W,V,A,Y,ee,U,j,Z,ie,Q,J,de,x,ne,te){const q=Object.assign({},V);(0,b.updateConfigurationService)(Q,q,!1);const oe=Z.registerEditorContainer(W);typeof q.theme=="string"&&Z.setTheme(q.theme),typeof q.autoDetectHighContrast!="undefined"&&Z.setAutoDetectHighContrast(Boolean(q.autoDetectHighContrast));const z=q.model;delete q.model;super(W,q,A,Y,ee,U,j,Z,ie,J,ne,te);this._configurationService=Q,this._standaloneThemeService=Z,this._register(oe);let X;if(typeof z=="undefined"){const $=x.getLanguageIdByMimeType(q.language)||q.language||C.PLAINTEXT_LANGUAGE_ID;X=M(de,x,q.value||"",$,void 0),this._ownsModel=!0}else X=z,this._ownsModel=!1;if(this._attachModel(X),X){const $={oldModelUrl:null,newModelUrl:X.uri};this._onDidChangeModel.fire($)}}dispose(){super.dispose()}updateOptions(W){(0,b.updateConfigurationService)(this._configurationService,W,!1),typeof W.theme=="string"&&this._standaloneThemeService.setTheme(W.theme),typeof W.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(W.autoDetectHighContrast)),super.updateOptions(W)}_postDetachModelCleanup(W){super._postDetachModelCleanup(W),W&&this._ownsModel&&(W.dispose(),this._ownsModel=!1)}};P=ke([fe(2,r.IInstantiationService),fe(3,k.ICodeEditorService),fe(4,n.ICommandService),fe(5,t.IContextKeyService),fe(6,c.IKeybindingService),fe(7,u.IStandaloneThemeService),fe(8,d.INotificationService),fe(9,i.IConfigurationService),fe(10,s.IAccessibilityService),fe(11,S.IModelService),fe(12,f.ILanguageService),fe(13,y.ILanguageConfigurationService),fe(14,E.ILanguageFeaturesService)],P),e.StandaloneEditor=P;let D=class extends L.DiffEditorWidget{constructor(W,V,A,Y,ee,U,j,Z,ie,Q,J){const de=Object.assign({},V);(0,b.updateConfigurationService)(Z,de,!0);const x=U.registerEditorContainer(W);typeof de.theme=="string"&&U.setTheme(de.theme),typeof de.autoDetectHighContrast!="undefined"&&U.setAutoDetectHighContrast(Boolean(de.autoDetectHighContrast));super(W,de,{},J,Y,A,ee,U,j,ie,Q);this._configurationService=Z,this._standaloneThemeService=U,this._register(x)}dispose(){super.dispose()}updateOptions(W){(0,b.updateConfigurationService)(this._configurationService,W,!0),typeof W.theme=="string"&&this._standaloneThemeService.setTheme(W.theme),typeof W.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(W.autoDetectHighContrast)),super.updateOptions(W)}_createInnerEditor(W,V,A){return W.createInstance(O,V,A)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(W,V,A){return this.getModifiedEditor().addCommand(W,V,A)}createContextKey(W,V){return this.getModifiedEditor().createContextKey(W,V)}addAction(W){return this.getModifiedEditor().addAction(W)}};D=ke([fe(2,r.IInstantiationService),fe(3,t.IContextKeyService),fe(4,k.ICodeEditorService),fe(5,u.IStandaloneThemeService),fe(6,d.INotificationService),fe(7,i.IConfigurationService),fe(8,o.IContextMenuService),fe(9,p.IEditorProgressService),fe(10,h.IClipboardService)],D),e.StandaloneDiffEditor=D;function M(B,W,V,A,Y){if(V=V||"",!A){const ee=V.indexOf(`
`);let U=V;return ee!==-1&&(U=V.substring(0,ee)),R(B,V,W.createByFilepathOrFirstLine(Y||null,U),Y)}return R(B,V,W.createById(A),Y)}e.createTextModel=M;function R(B,W,V,A){return B.createModel(W,V,A)}}),define(se[796],re([1,0,8,22,282,29,274,38,209,155,46,28,32,138,39,50,662,160,641,795,224,116,26,84,238,403]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r,c,d,a,s,l,h,p,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=e.computeDirtyDiff=void 0;function m(z,X,$){return Se(this,void 0,void 0,function*(){const H=V(v.URI.parse(z)),K=V(v.URI.parse(X));if(!H||!K)return null;const ce=H.getLinesContent(),le=K.getLinesContent();return new f.DiffComputer(ce,le,{shouldComputeCharChanges:!1,shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:$,shouldMakePrettyDiff:!0,maxComputationTime:1e3}).computeDiff().changes})}e.computeDirtyDiff=m;function C(z,X,$){return l.StandaloneServices.initialize($||{}).createInstance(s.StandaloneEditor,z,X)}e.create=C;function y(z){return l.StandaloneServices.get(I.ICodeEditorService).onCodeEditorAdd($=>{z($)})}e.onDidCreateEditor=y;function E(z){return l.StandaloneServices.get(I.ICodeEditorService).onDiffEditorAdd($=>{z($)})}e.onDidCreateDiffEditor=E;function T(){return l.StandaloneServices.get(I.ICodeEditorService).listCodeEditors()}e.getEditors=T;function N(){return l.StandaloneServices.get(I.ICodeEditorService).listDiffEditors()}e.getDiffEditors=N;function F(z,X,$){return l.StandaloneServices.initialize($||{}).createInstance(s.StandaloneDiffEditor,z,X)}e.createDiffEditor=F;function O(z,X){return new L.DiffNavigator(z,X)}e.createDiffNavigator=O;function P(z,X,$){const H=l.StandaloneServices.get(o.ILanguageService),K=H.getLanguageIdByMimeType(X)||X;return(0,s.createTextModel)(l.StandaloneServices.get(r.IModelService),H,z,K,$)}e.createModel=P;function D(z,X){const $=l.StandaloneServices.get(o.ILanguageService);l.StandaloneServices.get(r.IModelService).setMode(z,$.createById(X))}e.setModelLanguage=D;function M(z,X,$){z&&l.StandaloneServices.get(S.IMarkerService).changeOne(X,z.uri,$)}e.setModelMarkers=M;function R(z){l.StandaloneServices.get(S.IMarkerService).changeAll(z,[])}e.removeAllMarkers=R;function B(z){return l.StandaloneServices.get(S.IMarkerService).read(z)}e.getModelMarkers=B;function W(z){return l.StandaloneServices.get(S.IMarkerService).onMarkerChanged(z)}e.onDidChangeMarkers=W;function V(z){return l.StandaloneServices.get(r.IModelService).getModel(z)}e.getModel=V;function A(){return l.StandaloneServices.get(r.IModelService).getModels()}e.getModels=A;function Y(z){return l.StandaloneServices.get(r.IModelService).onModelAdded(z)}e.onDidCreateModel=Y;function ee(z){return l.StandaloneServices.get(r.IModelService).onModelRemoved(z)}e.onWillDisposeModel=ee;function U(z){return l.StandaloneServices.get(r.IModelService).onModelLanguageChanged($=>{z({model:$.model,oldLanguage:$.oldLanguageId})})}e.onDidChangeModelLanguage=U;function j(z){return(0,c.createWebWorker)(l.StandaloneServices.get(r.IModelService),l.StandaloneServices.get(i.ILanguageConfigurationService),z)}e.createWebWorker=j;function Z(z,X){const $=l.StandaloneServices.get(o.ILanguageService),H=l.StandaloneServices.get(h.IStandaloneThemeService);return H.registerEditorContainer(z),a.Colorizer.colorizeElement(H,$,z,X)}e.colorizeElement=Z;function ie(z,X,$){const H=l.StandaloneServices.get(o.ILanguageService);return l.StandaloneServices.get(h.IStandaloneThemeService).registerEditorContainer(document.body),a.Colorizer.colorize(H,z,X,$)}e.colorize=ie;function Q(z,X,$=4){return l.StandaloneServices.get(h.IStandaloneThemeService).registerEditorContainer(document.body),a.Colorizer.colorizeModelLine(z,X,$)}e.colorizeModelLine=Q;function J(z){const X=n.TokenizationRegistry.get(z);return X||{getInitialState:()=>t.NullState,tokenize:($,H,K)=>(0,t.nullTokenize)(z,K)}}function de(z,X){n.TokenizationRegistry.getOrCreate(X);const $=J(X),H=(0,w.splitLines)(z),K=[];let ce=$.getInitialState();for(let le=0,he=H.length;le<he;le++){const me=H[le],Ce=$.tokenize(me,!0,ce);K[le]=Ce.tokens,ce=Ce.endState}return K}e.tokenize=de;function x(z,X){l.StandaloneServices.get(h.IStandaloneThemeService).defineTheme(z,X)}e.defineTheme=x;function ne(z){l.StandaloneServices.get(h.IStandaloneThemeService).setTheme(z)}e.setTheme=ne;function te(){k.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=te;function q(z,X){return p.CommandsRegistry.registerCommand({id:z,handler:X})}e.registerCommand=q;function oe(){return{computeDirtyDiff:m,create:C,getEditors:T,getDiffEditors:N,onDidCreateEditor:y,onDidCreateDiffEditor:E,createDiffEditor:F,createDiffNavigator:O,createModel:P,setModelLanguage:D,setModelMarkers:M,getModelMarkers:B,removeAllMarkers:R,onDidChangeMarkers:W,getModels:A,getModel:V,onDidCreateModel:Y,onWillDisposeModel:ee,onDidChangeModelLanguage:U,createWebWorker:j,colorizeElement:Z,colorize:ie,colorizeModelLine:Q,tokenize:de,defineTheme:x,setTheme:ne,remeasureFonts:te,registerCommand:q,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,InjectedTextCursorStops:d.InjectedTextCursorStops,PositionAffinity:d.PositionAffinity,ConfigurationChangedEvent:_.ConfigurationChangedEvent,BareFontInfo:b.BareFontInfo,FontInfo:b.FontInfo,TextModelResolvedOptions:g.TextModelResolvedOptions,FindMatch:g.FindMatch,ApplyUpdateResult:_.ApplyUpdateResult,EditorType:u.EditorType,EditorOptions:_.EditorOptions}}e.createMonacoEditorAPI=oe}),define(se[797],re([1,0,31,3,28,32,72,39,160,224,470,289,116,84,19,30]),function(G,e,w,v,k,I,L,_,b,u,g,n,i,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function c($){L.ModesRegistry.registerLanguage($)}e.register=c;function d(){let $=[];return $=$.concat(L.ModesRegistry.getLanguages()),$}e.getLanguages=d;function a($){return u.StandaloneServices.get(_.ILanguageService).languageIdCodec.encodeLanguageId($)}e.getEncodedLanguageId=a;function s($,H){const ce=u.StandaloneServices.get(_.ILanguageService).onDidEncounterLanguage(le=>{le===$&&(ce.dispose(),H())});return ce}e.onLanguage=s;function l($,H){if(!u.StandaloneServices.get(_.ILanguageService).isRegisteredLanguageId($))throw new Error(`Cannot set configuration for unknown language ${$}`);return u.StandaloneServices.get(I.ILanguageConfigurationService).register($,H,100)}e.setLanguageConfiguration=l;class h{constructor(H,K){this._languageId=H,this._actual=K}getInitialState(){return this._actual.getInitialState()}tokenize(H,K,ce){if(typeof this._actual.tokenize=="function")return p.adaptTokenize(this._languageId,this._actual,H,ce);throw new Error("Not supported!")}tokenizeEncoded(H,K,ce){const le=this._actual.tokenizeEncoded(H,ce);return new k.EncodedTokenizationResult(le.tokens,le.endState)}}e.EncodedTokenizationSupportAdapter=h;class p{constructor(H,K,ce,le){this._languageId=H,this._actual=K,this._languageService=ce,this._standaloneThemeService=le}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(H,K){const ce=[];let le=0;for(let he=0,me=H.length;he<me;he++){const Ce=H[he];let Le=Ce.startIndex;he===0?Le=0:Le<le&&(Le=le),ce[he]=new k.Token(Le,Ce.scopes,K),le=Le}return ce}static adaptTokenize(H,K,ce,le){const he=K.tokenize(ce,le),me=p._toClassicTokens(he.tokens,H);let Ce;return he.endState.equals(le)?Ce=le:Ce=he.endState,new k.TokenizationResult(me,Ce)}tokenize(H,K,ce){return p.adaptTokenize(this._languageId,this._actual,H,ce)}_toBinaryTokens(H,K){const ce=H.encodeLanguageId(this._languageId),le=this._standaloneThemeService.getColorTheme().tokenTheme,he=[];let me=0,Ce=0;for(let ye=0,De=K.length;ye<De;ye++){const Ae=K[ye],pe=le.match(ce,Ae.scopes);if(me>0&&he[me-1]===pe)continue;let ue=Ae.startIndex;ye===0?ue=0:ue<Ce&&(ue=Ce),he[me++]=ue,he[me++]=pe,Ce=ue}const Le=new Uint32Array(me);for(let ye=0;ye<me;ye++)Le[ye]=he[ye];return Le}tokenizeEncoded(H,K,ce){const le=this._actual.tokenize(H,ce),he=this._toBinaryTokens(this._languageService.languageIdCodec,le.tokens);let me;return le.endState.equals(ce)?me=ce:me=le.endState,new k.EncodedTokenizationResult(he,me)}}e.TokenizationSupportAdapter=p;function S($){return typeof $.getInitialState=="function"}function f($){return"tokenizeEncoded"in $}function m($){return $&&typeof $.then=="function"}function C($){const H=u.StandaloneServices.get(i.IStandaloneThemeService);if($){const K=[null];for(let ce=1,le=$.length;ce<le;ce++)K[ce]=w.Color.fromHex($[ce]);H.setColorMapOverride(K)}else H.setColorMapOverride(null)}e.setColorMap=C;function y($,H){return f(H)?new h($,H):new p($,H,u.StandaloneServices.get(_.ILanguageService),u.StandaloneServices.get(i.IStandaloneThemeService))}function E($,H){const K={createTokenizationSupport:()=>Se(this,void 0,void 0,function*(){const ce=yield Promise.resolve(H.create());return ce?S(ce)?y($,ce):new n.MonarchTokenizer(u.StandaloneServices.get(_.ILanguageService),u.StandaloneServices.get(i.IStandaloneThemeService),$,(0,g.compile)($,ce),u.StandaloneServices.get(r.IConfigurationService)):null})};return k.TokenizationRegistry.registerFactory($,K)}e.registerTokensProviderFactory=E;function T($,H){if(!u.StandaloneServices.get(_.ILanguageService).isRegisteredLanguageId($))throw new Error(`Cannot set tokens provider for unknown language ${$}`);return m(H)?E($,{create:()=>H}):k.TokenizationRegistry.register($,y($,H))}e.setTokensProvider=T;function N($,H){const K=ce=>new n.MonarchTokenizer(u.StandaloneServices.get(_.ILanguageService),u.StandaloneServices.get(i.IStandaloneThemeService),$,(0,g.compile)($,ce),u.StandaloneServices.get(r.IConfigurationService));return m(H)?E($,{create:()=>H}):k.TokenizationRegistry.register($,K(H))}e.setMonarchTokensProvider=N;function F($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).referenceProvider.register($,H)}e.registerReferenceProvider=F;function O($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).renameProvider.register($,H)}e.registerRenameProvider=O;function P($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).signatureHelpProvider.register($,H)}e.registerSignatureHelpProvider=P;function D($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).hoverProvider.register($,{provideHover:(ce,le,he)=>{const me=ce.getWordAtPosition(le);return Promise.resolve(H.provideHover(ce,le,he)).then(Ce=>{if(!!Ce)return!Ce.range&&me&&(Ce.range=new v.Range(le.lineNumber,me.startColumn,le.lineNumber,me.endColumn)),Ce.range||(Ce.range=new v.Range(le.lineNumber,le.column,le.lineNumber,le.column)),Ce})}})}e.registerHoverProvider=D;function M($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentSymbolProvider.register($,H)}e.registerDocumentSymbolProvider=M;function R($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentHighlightProvider.register($,H)}e.registerDocumentHighlightProvider=R;function B($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).linkedEditingRangeProvider.register($,H)}e.registerLinkedEditingRangeProvider=B;function W($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).definitionProvider.register($,H)}e.registerDefinitionProvider=W;function V($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).implementationProvider.register($,H)}e.registerImplementationProvider=V;function A($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).typeDefinitionProvider.register($,H)}e.registerTypeDefinitionProvider=A;function Y($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).codeLensProvider.register($,H)}e.registerCodeLensProvider=Y;function ee($,H,K){return u.StandaloneServices.get(o.ILanguageFeaturesService).codeActionProvider.register($,{providedCodeActionKinds:K==null?void 0:K.providedCodeActionKinds,documentation:K==null?void 0:K.documentation,provideCodeActions:(le,he,me,Ce)=>{const ye=u.StandaloneServices.get(t.IMarkerService).read({resource:le.uri}).filter(De=>v.Range.areIntersectingOrTouching(De,he));return H.provideCodeActions(le,he,{markers:ye,only:me.only,trigger:me.trigger},Ce)},resolveCodeAction:H.resolveCodeAction})}e.registerCodeActionProvider=ee;function U($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentFormattingEditProvider.register($,H)}e.registerDocumentFormattingEditProvider=U;function j($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentRangeFormattingEditProvider.register($,H)}e.registerDocumentRangeFormattingEditProvider=j;function Z($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).onTypeFormattingEditProvider.register($,H)}e.registerOnTypeFormattingEditProvider=Z;function ie($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).linkProvider.register($,H)}e.registerLinkProvider=ie;function Q($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).completionProvider.register($,H)}e.registerCompletionItemProvider=Q;function J($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).colorProvider.register($,H)}e.registerColorProvider=J;function de($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).foldingRangeProvider.register($,H)}e.registerFoldingRangeProvider=de;function x($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).declarationProvider.register($,H)}e.registerDeclarationProvider=x;function ne($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).selectionRangeProvider.register($,H)}e.registerSelectionRangeProvider=ne;function te($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentSemanticTokensProvider.register($,H)}e.registerDocumentSemanticTokensProvider=te;function q($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register($,H)}e.registerDocumentRangeSemanticTokensProvider=q;function oe($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).inlineCompletionsProvider.register($,H)}e.registerInlineCompletionsProvider=oe;function z($,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).inlayHintsProvider.register($,H)}e.registerInlayHintsProvider=z;function X(){return{register:c,getLanguages:d,onLanguage:s,getEncodedLanguageId:a,setLanguageConfiguration:l,setColorMap:C,registerTokensProviderFactory:E,setTokensProvider:T,setMonarchTokensProvider:N,registerReferenceProvider:F,registerRenameProvider:O,registerCompletionItemProvider:Q,registerSignatureHelpProvider:P,registerHoverProvider:D,registerDocumentSymbolProvider:M,registerDocumentHighlightProvider:R,registerLinkedEditingRangeProvider:B,registerDefinitionProvider:W,registerImplementationProvider:V,registerTypeDefinitionProvider:A,registerCodeLensProvider:Y,registerCodeActionProvider:ee,registerDocumentFormattingEditProvider:U,registerDocumentRangeFormattingEditProvider:j,registerOnTypeFormattingEditProvider:Z,registerLinkProvider:ie,registerColorProvider:J,registerFoldingRangeProvider:de,registerDeclarationProvider:x,registerSelectionRangeProvider:ne,registerDocumentSemanticTokensProvider:te,registerDocumentRangeSemanticTokensProvider:q,registerInlineCompletionsProvider:oe,registerInlayHintsProvider:z,DocumentHighlightKind:b.DocumentHighlightKind,CompletionItemKind:b.CompletionItemKind,CompletionItemTag:b.CompletionItemTag,CompletionItemInsertTextRule:b.CompletionItemInsertTextRule,SymbolKind:b.SymbolKind,SymbolTag:b.SymbolTag,IndentAction:b.IndentAction,CompletionTriggerKind:b.CompletionTriggerKind,SignatureHelpTriggerKind:b.SignatureHelpTriggerKind,InlayHintKind:b.InlayHintKind,InlineCompletionTriggerKind:b.InlineCompletionTriggerKind,CodeActionTriggerType:b.CodeActionTriggerType,FoldingRangeKind:k.FoldingRangeKind}}e.createMonacoLanguagesAPI=X}),define(se[798],re([1,0,38,278,796,797,18,307]),function(G,e,w,v,k,I,L,_){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,w.EditorOptions.wrappingIndent.defaultValue=0,w.EditorOptions.glyphMargin.defaultValue=!1,w.EditorOptions.autoIndent.defaultValue=3,w.EditorOptions.overviewRulerLanes.defaultValue=2,_.FormattingConflicts.setFormatterSelector((g,n,i)=>Promise.resolve(g[0]));const u=(0,v.createMonacoBaseAPI)();u.editor=(0,k.createMonacoEditorAPI)(),u.languages=(0,I.createMonacoLanguagesAPI)(),e.CancellationTokenSource=u.CancellationTokenSource,e.Emitter=u.Emitter,e.KeyCode=u.KeyCode,e.KeyMod=u.KeyMod,e.Position=u.Position,e.Range=u.Range,e.Selection=u.Selection,e.SelectionDirection=u.SelectionDirection,e.MarkerSeverity=u.MarkerSeverity,e.MarkerTag=u.MarkerTag,e.Uri=u.Uri,e.Token=u.Token,e.editor=u.editor,e.languages=u.languages,(((b=L.globals.MonacoEnvironment)===null||b===void 0?void 0:b.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=u),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var ii=this&&this.__createBinding||(Object.create?function(G,e,w,v){v===void 0&&(v=w);var k=Object.getOwnPropertyDescriptor(e,w);(!k||("get"in k?!e.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return e[w]}}),Object.defineProperty(G,v,k)}:function(G,e,w,v){v===void 0&&(v=w),G[v]=e[w]}),ni=this&&this.__exportStar||function(G,e){for(var w in G)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&ii(e,G,w)};define(se[800],re([1,0,798,794,730,731,732,672,734,735,733,781,749]),function(G,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),ni(w,e)})}).call(this);

//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map